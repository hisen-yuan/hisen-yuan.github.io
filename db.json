{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1531337462395},{"_id":"source/CNAME","hash":"e9872fc33378474192f17898453c9f681bebb4c2","modified":1531338137417},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1486642816000},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1486642816000},{"_id":"themes/next/.hound.yml","hash":"289dcf5bfe92dbd680d54d6e0668f41c9c9c0c78","modified":1486642816000},{"_id":"themes/next/.javascript_ignore","hash":"74b54cf920cbbf4038a68e54b7138af8b8f45588","modified":1486642816000},{"_id":"themes/next/.jshintrc","hash":"b7d23f2ce8d99fa073f22f9960605f318acd7710","modified":1486642816000},{"_id":"themes/next/README.en.md","hash":"953873fe2ee79bfc567b16dcdf8f91c1410444f8","modified":1486642816000},{"_id":"themes/next/README.md","hash":"06aaf1241e9e1619956c86d8b1397a643840a9d1","modified":1486642816000},{"_id":"themes/next/_config.yml","hash":"372452dbc809354ec83627428904b9b42276d0c2","modified":1504083470000},{"_id":"themes/next/bower.json","hash":"bd70cf5988bbfc8cbcf13adae659151a55466524","modified":1486642816000},{"_id":"themes/next/gulpfile.coffee","hash":"e549561461642051d195550ec49d793e44ee22a0","modified":1486642816000},{"_id":"themes/next/package.json","hash":"48e2352f8e41f2b6bbf55254d10f3192ee206d5a","modified":1486642816000},{"_id":"source/about/index.md","hash":"1cd07f70c423feb6c81de3b69e87f445eab198fc","modified":1493193754000},{"_id":"source/categories/index.md","hash":"f9c0f71df49a375ce52986d6f77161de1660a9a8","modified":1486729502000},{"_id":"source/tags/index.md","hash":"c5734be41545c93590ddf8c7c1028dc55702e3cd","modified":1486729642000},{"_id":"source/_posts/1103 host ‘xxx’ is not allowed to connect to this mysql.md","hash":"5292fc12c06e3d61f0978067d523c811aa7163a9","modified":1489166808000},{"_id":"source/_posts/20170209面试记录.md.bak","hash":"b0acc300919a62a0708bf3ece453c0472802432d","modified":1487320078000},{"_id":"source/_posts/BeanCreationException-Error-creating-bean-with-name-xxxService.md","hash":"ddc47b7c1cf2a6451d98c985b0df1103f81e1afa","modified":1489470968000},{"_id":"source/_posts/DBeaver-连接全部数据库工具-DBeaver快捷键.md","hash":"1e0d4645ca21343d7839e9d8af6c1d6019ab38aa","modified":1491068980000},{"_id":"source/_posts/Data URI scheme 利用base64字符串通过image标签显示图片.md","hash":"e2ee46c6aa8ee35401deb979b51f49fbc364d584","modified":1494552334000},{"_id":"source/_posts/Debian丨Ubuntu丨shadowsocks-libev一键安装脚本.md","hash":"5ff4aa367b9b7ab6ff7ef4bc1a80a1e26af1a3a1","modified":1504515188000},{"_id":"source/_posts/Docker 入门实践.md","hash":"724fa5f15d1db83c708356ec4694e6d66232f799","modified":1508567896000},{"_id":"source/_posts/DockerFile - 创建java开发环境镜像.md","hash":"d5466e062141a9225163407a1470116875a2a335","modified":1515681880000},{"_id":"source/_posts/Docker一件安装脚本Ubuntu-Debian-CentOS-Fedora-racleLinux.md","hash":"ec074157701a3c564bf465e0b47d744eb54b9f0c","modified":1492421224000},{"_id":"source/_posts/Get参数串KV与Map互转 - 利用java8 Stream.md","hash":"79ac4dd0930692c2076ae9023ab28bb6b7145b58","modified":1531414266038},{"_id":"source/_posts/Git Bash tree（windows）.md","hash":"7e87e5687eb9383e98e37559a8887ebaf183b2a3","modified":1499880626000},{"_id":"source/_posts/Google java工具类 - Guava - 常见用法.md","hash":"5bacf57e84822a6bddcdc495082300a918070977","modified":1501556752000},{"_id":"source/_posts/HashMap和Hashtable的区别.md","hash":"aa32706b09a43341e55e4ff77660f11bd101f2b6","modified":1487320918000},{"_id":"source/_posts/Hexo next主题添加本地搜索 - 不使用第三方服务.md","hash":"aa3f312b8a603ca22da13a1f7638cc19291c7c8b","modified":1491535010000},{"_id":"source/_posts/Hexo-绑定个人域名简单方法.md","hash":"86f6cbacf013b684d6f13af9788d4df990205e97","modified":1486632944000},{"_id":"source/_posts/Hexo-Landscape主题JS优化，不使用谷歌CDN.md","hash":"1dd0f14a0e0fd096a4da4e09100d14da5a549519","modified":1486563854000},{"_id":"source/_posts/Hexo提速优化-压缩html、css、js-by-hexo-neat插件.md","hash":"bec5894942aae15cbbbf24a35e8991b4f9167f20","modified":1486824978000},{"_id":"source/_posts/IDEA-Denpendencies红色波浪线报错-所有的包无法导入-一种解决办法.md","hash":"7cc8575965a8159922e3bd2e62699517eee6f098","modified":1490321648000},{"_id":"source/_posts/Hxeot百度站长工具抓取失败的原因.md","hash":"dd7f88bfa5954cedbfbb342c7790a7f95959831b","modified":1487210424000},{"_id":"source/_posts/IDEA-maven项目通过mongo-java-driver折腾一下MongoDB.md","hash":"175a0031d049f473e4ed34b547288a008d1d00ee","modified":1487576136000},{"_id":"source/_posts/IDEA-貌似注解失效-报错：cannot-resolve-method-xxx.md","hash":"e1b17d3364a81f1f1ae7d9e7957048a86537f0b0","modified":1488360240000},{"_id":"source/_posts/IDEA修改全局设置，如maven等.md","hash":"82a6f1642524e43274d34733be8840a14cc57e22","modified":1487127452000},{"_id":"source/_posts/IDEA智能补全快捷键更改为Ctrl + 逗号.md","hash":"ddf1de8bc3d36cfd85e937257278f8ea2ea3f27d","modified":1490690164000},{"_id":"source/_posts/IDEA自定义注释模板-javadoc-Jindent插件-安装-设置.md","hash":"b776f41965be2e535c1e1487acf7f12f512fee9f","modified":1487319858000},{"_id":"source/_posts/IDEA设置intellij-java-google-style.md","hash":"2ad9caacb99163074b47174100f77868111636ff","modified":1491018388000},{"_id":"source/_posts/IDEA部署tomcat项目前台传输的json到后台乱码.md","hash":"cbcee161917d38a152b426c03948ba07c3351848","modified":1490882880000},{"_id":"source/_posts/IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决.md","hash":"39a0c0789d36140939465b2c95e6d8db139b2343","modified":1503630604000},{"_id":"source/_posts/IntelliJ IDEA：toggle block selection mode.md","hash":"117870351bf727f8ac5a35b324cad846bf020325","modified":1508833502000},{"_id":"source/_posts/Intellij IDEA中使用MyBatis-generator 自动生成MyBatis代码.md","hash":"5591156df51e3de3c79cbab7611634764842f2d9","modified":1490150358000},{"_id":"source/_posts/Intellij-Idea-快捷键汇总-介绍.md","hash":"4a52963e8f192431c3ddfce7d1ebe4ff36f035da","modified":1486997434000},{"_id":"source/_posts/JAVA中几种常用的RPC框架.md","hash":"b269b54289bf3d3e719b9a78902f37da7c85bf96","modified":1489720084000},{"_id":"source/_posts/JWT 丨 JSON Web Tokens 丨 java-jwt.md","hash":"3b7e31b1fdd2431866e72496fecb4f6a5ab26966","modified":1502965698000},{"_id":"source/_posts/Java - 利用apache POI读取Excel（xls,xlsx,2003,2007).md","hash":"4c9f3e745edc6d9c17b248a274bdfc276c0209c9","modified":1515775426000},{"_id":"source/_posts/Java-Lang-OutOfMemoryError-PermGen-Space.md","hash":"20da558abc7269852df42609589053c7edcd74c7","modified":1487735006000},{"_id":"source/_posts/Java三种创建对象的方式.md","hash":"e85973b250b3db1cf93e67ca13f351d6c005253d","modified":1487319820000},{"_id":"source/_posts/Java判断全角半角字符以及相互转换.md","hash":"214229c0383380a30bbcd7bc3a019b77310685f3","modified":1491016002000},{"_id":"source/_posts/Java原生类库java.util.zip - 文件夹压缩与解压.md","hash":"33b3638f43d5c0a1c065771a295dd690c5421ee8","modified":1493189656000},{"_id":"source/_posts/Java基本数据类型.md","hash":"7df265f46ecb2b7f561ec307dbd795b85f8f1852","modified":1487319806000},{"_id":"source/_posts/Java开发的一点思考.md","hash":"3368c597331ec9ceca07807df2c4adab06eca426","modified":1488121404000},{"_id":"source/_posts/Java获取股票信息 - java获取股票信息接口.md","hash":"c8744af4cf2a6cfe188efe7e945d905406810d3d","modified":1493341862000},{"_id":"source/_posts/Java调用有道翻译接口-免费翻译API.md","hash":"9efaf156fc809ff4a9bda929b61f3ff97f8cf94e","modified":1531409826054},{"_id":"source/_posts/Java静态代码块.md","hash":"27da9124f943c6c56c5444ff5d62766c2ca02bbc","modified":1487319828000},{"_id":"source/_posts/Jedis - Software caused connection abort recv failed.md","hash":"fe50de19e0047e9aec116c933bfe0f4bfb35a8d7","modified":1491888714000},{"_id":"source/_posts/Linux-mac查找目录下文件中包含某字符串的命令.md","hash":"f53f5e6e41a81439cfab0be8a928994467a670de","modified":1531337799822},{"_id":"source/_posts/List-Object-去重-List对象去重-by-java8-stream-lambda.md","hash":"a10c2e011beabb2be863af06dfdb80291cb14d5a","modified":1531338683636},{"_id":"source/_posts/MarkdownPad2注册码-20170213.md","hash":"fb2a5fe6ef07edfb7ae5db0a508c25c812c4bbe6","modified":1486994916000},{"_id":"source/_posts/Maven目录下-lastupdated命令行批量删除.md","hash":"078407702fc976844c33d5b128d2cbd4011776f4","modified":1487644262000},{"_id":"source/_posts/Maven镜像库设置 - maven mirrors - maven 镜像 阿里.md","hash":"712bbcf2197d4bc1abf846b66d6868d0e02e89ac","modified":1491990258000},{"_id":"source/_posts/MongoDB - 简单操作 - CRUD - JAVA.md","hash":"e98e399eb100bb1520262b9e315bf470786ea17c","modified":1499789428000},{"_id":"source/_posts/MySQL decode - MySQL中类似oracle的decode实现方法.md","hash":"134bb33472698e07ca52530be39a6f07d440aff9","modified":1493255428000},{"_id":"source/_posts/MySQL update语句.md","hash":"70d279cccf3ed9015be26349e2fb5b37d9adc839","modified":1501555358000},{"_id":"source/_posts/MySQL 常用操作 - 命令行.md","hash":"2b144b344e6547f304d1ac0267d37f0553b1d0af","modified":1502766574000},{"_id":"source/_posts/MySQL一个group by查询出最大值和非group by所在字段的值.md","hash":"1bdf4b8a3c0f1342131b1ae74de3d9c91108911c","modified":1492501770000},{"_id":"source/_posts/MySQL一些简单的语句.md","hash":"3263a65018dfa92aa93b6ba6ab066686c8d617de","modified":1484847086000},{"_id":"source/_posts/MySQL下A库的a表导入到B库的b表.md","hash":"c9d12725586064fe8de5e9fda7d17305e6fc69b5","modified":1494914022000},{"_id":"source/_posts/MySQL使用like查找汉字乱码.md","hash":"531802e93a46dc5bd3382b51c1c463210d259cda","modified":1486559092000},{"_id":"source/_posts/MySQL索引相关知识和应用.md","hash":"28e50f255abe612f26aede207ab19f634de74366","modified":1495078684000},{"_id":"source/_posts/MySql的执行计划.md","hash":"0fd116d0d52948538ce51f549632dfbeb9905966","modified":1511443460000},{"_id":"source/_posts/Mybatis-Generator自动生成dao、model、mapper.md","hash":"e9642f91689454609c8c0607a7acf5b0c55727f6","modified":1501659778000},{"_id":"source/_posts/Mysql Employees  Database练习题&答案.md","hash":"7f31e9307746dfc60df3db87a14a3f91e7cdaaf8","modified":1492400676000},{"_id":"source/_posts/No MyBatis mapper was found in '[com.xxx.dao]' package .md","hash":"104e6896ac5e5580454c4be7d65ca9cc34f35e10","modified":1501573646000},{"_id":"source/_posts/Oracle-SQL语句优化-写出高效SQL.md","hash":"d3894eec8d398badab0abd770c0a95b62012c781","modified":1486648590000},{"_id":"source/_posts/Oracle-VM-VirtualBox命令行打开虚拟机并且后台运行.md","hash":"030632670abebf0046c2e01c5f60d478c6bb819a","modified":1487434518000},{"_id":"source/_posts/Oracle中exists在update中无法限制住条件，在select中可以.md","hash":"190f27f3b4c465c6fea7875d07f68c3cb5e7fc5c","modified":1490260620000},{"_id":"source/_posts/PLSQL注册码-9999-12-31.md","hash":"6e5b0f6dc0592b8d2689a09bc616323dd6c83f7b","modified":1487036550000},{"_id":"source/_posts/Oracle性能优化常用的SQL.md","hash":"936367150d2d9664dd9cad3f2b0498ad8ddc5487","modified":1490752974000},{"_id":"source/_posts/SQL优化之小细节 - 点滴记录.md","hash":"55ddd048d24a66100f4c3cbf01e952754fb16784","modified":1489126744000},{"_id":"source/_posts/SQL语句的执行顺序.md","hash":"1b6709ae0e7549fa9d8a51a54ad66cc08f3e5aae","modified":1510672140000},{"_id":"source/_posts/Spark第一个java程序 - 字词统计 - Spark java idea.md","hash":"fecc0d853197e0bb19d68ed535f76327cb3900b0","modified":1501812012000},{"_id":"source/_posts/Spring - IOC和AOP的原理.md","hash":"65d52014e9a1f8f9b7c147a0fe5a9ef1146f4c2f","modified":1511193706000},{"_id":"source/_posts/Spring Boot CLI 安装（windows）.md","hash":"673ac6638dc45b80984548e770e1f529e29dd754","modified":1499878050000},{"_id":"source/_posts/SpringMVC把jsp改为Thymeleaf模版引擎.md","hash":"b5a5b0e2b2b4f4caaeffcbe37e84696d946a4ef4","modified":1501569072000},{"_id":"source/_posts/String-和-StringBuilder、StringBuffer的区别.md","hash":"b6f01cec3491fb916dd8f97b45f4c56edf6db30b","modified":1486710426000},{"_id":"source/_posts/Test-Java-Code.md","hash":"8e244f5ae02073c571abb281a5c688b655b15c22","modified":1484841990000},{"_id":"source/_posts/Ubuntu 16 安装IDEA 并且设置快捷启动.md","hash":"42aecbf3e343f752982226653da6d1bfddedb539","modified":1488558846000},{"_id":"source/_posts/Ubuntu-16-LTS-关闭图形界面.md","hash":"2c638e8867b78409eed3feb16c8f3cba1a4d1298","modified":1487582374000},{"_id":"source/_posts/Ubuntu-16-LTS-安装redis-ape-get-install-redis-server.md","hash":"8f43f43d534e1ee753d69299622e864b40c4f9c9","modified":1487902548000},{"_id":"source/_posts/Ubuntu-16-换阿里云源.md","hash":"f447a317f56e2712a3f8e5b0716c12b04581dc67","modified":1487404588000},{"_id":"source/_posts/Ubuntu-16-LTS-安装zookeeper并开机启动.md","hash":"984d39fee96ca8b1326032ebb23f372e24ae4c87","modified":1487902410000},{"_id":"source/_posts/Ubuntu16-04使用阿里云镜像安装Mongodb-配置.md","hash":"fa9ba6fa7f2f692c30bfe75f0a4bbb88bd5d8976","modified":1487561168000},{"_id":"source/_posts/Ubuntu安装JDK8-Tomcat-简单教程.md","hash":"2e2a98fb5e64af178a8579eea21304ef715cf9d4","modified":1498929358000},{"_id":"source/_posts/Ubuntu安装MySQL并且开启root远程访问.md","hash":"54986d52d9e6523aeda4b51fec8506ad83c15eae","modified":1489166314000},{"_id":"source/_posts/Ubuntu安装nginx.md","hash":"78a19f5bb4ad274b6d13dc685e6112755bcc3a75","modified":1490096428000},{"_id":"source/_posts/Ubuntu安装RocketMQ - Quick Start.md","hash":"16179547db3da18485c75dec61febb79bf952cb1","modified":1498930612000},{"_id":"source/_posts/Unable to ping server at localhost 1099 - 出现的原因.md","hash":"16e49caf3159e0350b6666daea902aa7a90409df","modified":1490875904000},{"_id":"source/_posts/Windows10开机启动VirtualBox虚拟机并且后台运行.md","hash":"061effc1d99a916f58bb28979b8e61ef304c3630","modified":1487582238000},{"_id":"source/_posts/apt-get 常用命令.md","hash":"03ecaeb3a64804e9c2eca82618bfcb489e301f30","modified":1502766454000},{"_id":"source/_posts/centos更换yum源为阿里云-三部搞定.md","hash":"00d2138da386939dd556b8ec86ebbe2ce56b860c","modified":1487324212000},{"_id":"source/_posts/count函数效率问题 - 了解count函数.md","hash":"ac8e3a57787cdcc895ce94bb4e772eb8b063cc58","modified":1488523096000},{"_id":"source/_posts/dubbo与zookeeper的关系.md","hash":"484ec4a87f571fb88014141bf49b6b39e1b996b5","modified":1510750480000},{"_id":"source/_posts/eclipse无法链接github.md","hash":"4f81c5b0be336afd083a9ae8520d5da093c7e5bd","modified":1531412611636},{"_id":"source/_posts/github api - github api中文说明.md","hash":"66cc25315a97ffc983950ef1b13f677f655e7fbb","modified":1493366688000},{"_id":"source/_posts/hexo安装过程.md","hash":"b8e74112f98cfdc6d472275bdbac474b7c89dddc","modified":1484847660000},{"_id":"source/_posts/hexo新建文章时候默认带上categories，tags.md","hash":"bb6cb9252bfb49eb5980830fbe4408f41ee6d6b3","modified":1487319776000},{"_id":"source/_posts/hexo百度抓取失败解决办法.md","hash":"4992ee0fd0015a9e56461740f24808a477eacc3a","modified":1487212952000},{"_id":"source/_posts/html - 原生javascript动态显示当前时间和日期.md","hash":"98bf1242d2092d21573cfce5d77f5646fd0f021e","modified":1491992808000},{"_id":"source/_posts/idea failed to create jvm error code -1.md","hash":"86cef8e1389cd3aa0b6165352a7eb69231761757","modified":1488852596000},{"_id":"source/_posts/idea jrebel 7.0 破解 - 获取JRebel激活码.md","hash":"56fb677695b73613ad53aa1bf1aab02a4dd0f7eb","modified":1488536628000},{"_id":"source/_posts/idea启动tomcat服务失败-SEVERE-RMI-TCP-Connection-3-127-0-0-1.md","hash":"179f0ab6eab8fd51655349a5a9bbe2a4053e2cb4","modified":1487320108000},{"_id":"source/_posts/java-lang-IllegalArgumentException-addChild-Child-name-hisen-is-not-unique.md","hash":"e8527104b7207110622b625cc70aeb2290dec90d","modified":1488179030000},{"_id":"source/_posts/java.sql.SQLException Connections could not be acquired from the underlying database.md","hash":"948a1f0b18d4d6495571678c38af2b1dd8dba5b5","modified":1496393200000},{"_id":"source/_posts/java编译错误：程序包javax-servlet不存在javax-servlet.md","hash":"f4fe9a1d8ac543830d60f7220c5db52129892c3a","modified":1487319888000},{"_id":"source/_posts/linux cal date命令详解.md","hash":"4225e503ef8a231d386c588b5fc078f5e5d1d1b2","modified":1489463526000},{"_id":"source/_posts/linux安装tree命令 - apt-get install tree.md","hash":"103d81ba1d1c12b2e45864171a13d6d0120d3746","modified":1493775424000},{"_id":"source/_posts/linux常用的几个命令.md","hash":"ca2fe3a348fbde4eb71fb06d23915e23eec9176b","modified":1485101038000},{"_id":"source/_posts/linux查看日志文件常用命令.md","hash":"ea671329c3e62abb97051dba7dbd437b4dfdbc98","modified":1491553962000},{"_id":"source/_posts/log4j-WARN-No-appenders-could-be-found-for-logger.md","hash":"7fd95294b4a88c28b6b10803805ede0ad47aa7f2","modified":1486558688000},{"_id":"source/_posts/log4j日志信息插入mysql数据库.md","hash":"0bec978a9dcfef8f3257f87d54c97cedc3b94bbb","modified":1490093292000},{"_id":"source/_posts/maven环境搭建.md","hash":"600c45d2be723664f6a13ee84b2b7197db85b1f8","modified":1487052088000},{"_id":"source/_posts/mongodb - failed with errno 13 Permission denied.md","hash":"ca95ac45d3ace3ccd647926a9550131bfb21debd","modified":1499790266000},{"_id":"source/_posts/mybatis - Invalid bound statement (not found).md","hash":"83267382d1e8a466d16b6fa74c717017437508f5","modified":1501659392000},{"_id":"source/_posts/mybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer].md","hash":"fe19554f2f8ef64ac35e32cf5ef4429536c612ce","modified":1489716262000},{"_id":"source/_posts/mybatis常用jdbctype.md","hash":"b4081d81e9f35e78c9ef693464197d3d125b2f5e","modified":1489141118000},{"_id":"source/_posts/mysql数据库安装官方自带employees测试表.md","hash":"30738dbdc2ad285b2958beabce3822b58568cf6e","modified":1491823290000},{"_id":"source/_posts/new-ImageIcon-无法加载同目录图片.md","hash":"210dec459de3938317f7195073c4bb333fbd9b6a","modified":1486559052000},{"_id":"source/_posts/oracle - mysql - 数据库事务隔离级别介绍.md","hash":"8f6773ab1d6817ac73445ce4ac80eee85061955f","modified":1510671426000},{"_id":"source/_posts/oracle全局查找某字段所在的表.md","hash":"684a497a2b197460745573aec805cbdc528d2d8b","modified":1497248286000},{"_id":"source/_posts/oracle分页的三种方式.md","hash":"a720ec63851ec764d13896a1afff4f71f0c5db95","modified":1491907858000},{"_id":"source/_posts/oracle取微秒 - 记录点滴.md","hash":"a14de0499773acfa9ef468d5b9a1582cfb627ab2","modified":1506134482000},{"_id":"source/_posts/powerdesigner Oracle mysql comment 缺少右括号.md","hash":"fb13ed6a1dabd36395cd7936c205eec3d00101db","modified":1498061708000},{"_id":"source/_posts/rabbitMQ的安装和Demo.md","hash":"48bbdf1101092589e2912dea8e570d4b6386ae61","modified":1515682504000},{"_id":"source/_posts/redis counter demo -  redis并发计数器.md","hash":"751920f81d49f7e655264388ccc0d21844e89a55","modified":1515682334000},{"_id":"source/_posts/sql行转列，列转行.md","hash":"48ce6dc9448498047c67c6de2826071ec99b56a5","modified":1497358640000},{"_id":"source/_posts/su  Authentication failure.md","hash":"55539310b728f30682686e3ecd4600e5b4534616","modified":1491036422000},{"_id":"source/_posts/try redis - redis官方教程练习.md","hash":"ad393c970a7aa6aba00fea362ccb13962944eef0","modified":1495177348000},{"_id":"source/_posts/ubuntu root 密码.md","hash":"bf9810116555f24deefc51aec01234647642812c","modified":1499173882000},{"_id":"source/_posts/ubuntu安装docker-ce并配置国内源和加速器.md","hash":"d9214bd3372f6cd05f1a3f2ef777a1044abc5373","modified":1492421878000},{"_id":"source/_posts/ubuntu重装系统 - 在ubuntu系统下重新安装.md","hash":"f7d9a4623d7cff7d334a06fac69d280b59999b3c","modified":1488702726000},{"_id":"source/_posts/windows10-专业版激活密钥.md","hash":"e71e5a91958df18eee3037066ff31ede3840a2e7","modified":1486713928000},{"_id":"source/_posts/windows任务栏由底部改到左边，并自动隐藏.md","hash":"a5854bf24e2ccb2dee2ac265c47c3e3a01be4aca","modified":1487125558000},{"_id":"source/_posts/win下ssh连接VirtualBox-Ubuntu-16虚拟机.md","hash":"f25cc100017b0a45a96a8225fb4f4c3ff1023eb4","modified":1487404594000},{"_id":"source/_posts/zookeeper & dubbo搭建 - 在IDEA上运行阿里巴巴Dubbo-demo.md","hash":"1bfde1950be26dfd3af8e9194c811c436987e440","modified":1492568748000},{"_id":"source/_posts/为什么要使用队列 - Java.md","hash":"a61accb93808a56c839bacaab767de819b40893d","modified":1501576168000},{"_id":"source/_posts/企业邮箱签名模版.md","hash":"e79969f783a173aaa45f4c7a5627d163ebc2b408","modified":1489731604000},{"_id":"source/_posts/修改路由表：网线接内网、无线走外网 - 以及带来的问题.md","hash":"23f1dc94942e5efe13278103a8eb54ef4cc0c66a","modified":1509437250000},{"_id":"source/_posts/利用IDEA写Hexo博客的一些技巧.md","hash":"b36dddbce86c9bceabc4c10af74477d035f835c1","modified":1488510504000},{"_id":"source/_posts/利用Java构造二叉树 - 前序、中序、后续、层次遍历.md","hash":"adf8f6d4ed0c9e2fec2995f823e01ab018602016","modified":1510552122000},{"_id":"source/_posts/基本排序算法的时间-空间复杂度表.md","hash":"f9e850aca4eaa450106494a9ab3db6d87fd54925","modified":1487320068000},{"_id":"source/_posts/多线程基础 & 进阶 - CSDN博主：说好不能打脸.md","hash":"82fa5ba9a5daa1fdb6d747d4c1506b8362e74ae8","modified":1503026982000},{"_id":"source/_posts/如何学习NIO-NIO简单的例子.md","hash":"e7cbcfd418c017e1591001ce3c6fd3619d3e2983","modified":1488207006000},{"_id":"source/_posts/如何检测Linux-VPS系统架构是Xen、KVM还是OpenVZ.md","hash":"1cca9568db3a5a2993a472357aaaeb2acf34ff04","modified":1486559648000},{"_id":"source/_posts/如何线程安全的使用HashMap.md","hash":"133d3774fbd8dddb5882ac1228222f519db10775","modified":1510675066000},{"_id":"source/_posts/安全的重叠构造器 - 最佳实践：Build Pattern.md","hash":"90c1ce7221b6dc7c1b98db5c95f729355a58ee26","modified":1517070510000},{"_id":"source/_posts/实现Singleton最佳方法 - Enum.md","hash":"792bdcd5cb3a485475a9455e133e10ec0a4a352c","modified":1517068226000},{"_id":"source/_posts/尝试使用NIO读取文件.md","hash":"cc29531d610c45bdffeccb5c2f85aa9b9628a2ff","modified":1496299814000},{"_id":"source/_posts/布隆过滤器 丨 简介 - Java demo.md","hash":"ae21872ae5515297eedbe9592d20518059364058","modified":1504753784000},{"_id":"source/_posts/手机平板电脑原样显示html效果-html知识.md","hash":"8d7606eea8d2b32e0f2953b53c70becd51f757b3","modified":1486559784000},{"_id":"source/_posts/常见算法：Java求最小公倍数和最大公约数三种算法.md","hash":"40c26834c73300da257d7591f1935247cb517862","modified":1508661942000},{"_id":"source/_posts/有道云笔记支持的markdown语法 - hexo试一试.md","hash":"e20218eeeffefa6221ea48ed446a4345b43f64ce","modified":1502155378000},{"_id":"source/_posts/最近在看的Java系列文章 - 计算机程序的思维逻辑.md","hash":"5882b448c3d469ff5bcf338fc054e2906b20477c","modified":1502676654000},{"_id":"source/_posts/查看linux进程-多重方式.md","hash":"ccc0d7c9ef29974a0d68263df3246c82cbc95306","modified":1488158560000},{"_id":"source/_posts/浏览器出现：Reimage Repair - zh.reimageplus.com.md","hash":"13fe949ec8ae279e13f6be16fbee5e73441c079f","modified":1499262548000},{"_id":"source/_posts/笔记 - 读后感：《第一本Docker书》.md","hash":"e4df1d1848db6a310513e62c38e550ca1fe492ac","modified":1517058360000},{"_id":"source/_posts/网关、快捷支付，代收代付，账户托管，二维码扫码支付.md","hash":"95aae47c18c01f41c2be02166812fe76a369322b","modified":1486994690000},{"_id":"source/_posts/笔记本在BIOS Setup里面设置双显卡模式.md","hash":"60ac9aecd3e847c63264fb37fef65eb1afea4fab","modified":1494293188000},{"_id":"source/_posts/解决：eclipse下-properties显示Unicode乱码.md","hash":"634d9302464852da7ae3fb013993d041bda55edd","modified":1486558454000},{"_id":"source/_posts/解决：html-rendering-error-MarkdownPad-2.md","hash":"0c01e79e9e4c6fa16cab47b079ea4279dc76f776","modified":1484839996000},{"_id":"source/_posts/记录一次面试过程中交流的一些题.md","hash":"4ea0d40fd6f64c900948950945cefc4619dea644","modified":1486648714000},{"_id":"source/_posts/该Java语句创建了多少个对象？.md","hash":"f1738a6acc5898ec7db83dcd963b198c5e87321d","modified":1484893610000},{"_id":"source/_posts/阿里巴巴Java开发手册，摘要-下载链接.md","hash":"ee2ed79ff7c8b789c16d718f277258b4322e9fd9","modified":1487319838000},{"_id":"source/_posts/面试题收集 - Java - 2017.md","hash":"0986b8267550c3e1c9bd0027de6be80d1d126818","modified":1502357554000},{"_id":"themes/next/languages/de.yml","hash":"db6a9d669f4b6282cda6c0a2d4e03d3e308a4846","modified":1486642816000},{"_id":"themes/next/languages/default.yml","hash":"0a3672575cc99a77e413a45cd635ca2e096a176e","modified":1486642816000},{"_id":"themes/next/languages/en.yml","hash":"0a3672575cc99a77e413a45cd635ca2e096a176e","modified":1486642816000},{"_id":"themes/next/languages/fr-FR.yml","hash":"91cf55b9d75879e72c8008d2659fe2ea993a4cca","modified":1486642816000},{"_id":"themes/next/languages/id.yml","hash":"d8b9dc017da0be7f71fda1cacd8064cbc38963b9","modified":1486642816000},{"_id":"themes/next/languages/ja.yml","hash":"bc89436a2a015ef72f43f265e56e37d94e73c0cd","modified":1486642816000},{"_id":"themes/next/languages/ko.yml","hash":"c59676f2af80c3c594c34c4a0fcbf65fd8864ff3","modified":1486642816000},{"_id":"themes/next/languages/pt.yml","hash":"f364905121a816c9797acce07c0a4f248965b29a","modified":1486642816000},{"_id":"themes/next/languages/pt-BR.yml","hash":"4b91f96b07e05705b28964df7460466c9b522e2c","modified":1486642816000},{"_id":"themes/next/languages/ru.yml","hash":"40f4260866eab5c28ba715c3be495d7e81c73df7","modified":1486642816000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"439c16c744b1596f24d9e0b4e230c4d3c93b7d85","modified":1486642816000},{"_id":"themes/next/languages/zh-hk.yml","hash":"a59f3f3114f5eb4d170a76da4359307e8f5159a7","modified":1486642816000},{"_id":"themes/next/languages/zh-tw.yml","hash":"18da1324d2212faca9a6e5e6ce98b419c86d4b0c","modified":1486642816000},{"_id":"themes/next/layout/_layout.swig","hash":"24de463d28bacbf2a28c34fecf082980f7f33a12","modified":1486642816000},{"_id":"themes/next/layout/archive.swig","hash":"b867a08f6b43de8b5d700c84b943df55917407ae","modified":1486642816000},{"_id":"themes/next/layout/category.swig","hash":"58cf08388901f7549b1fca95548b2c79173aa840","modified":1486642816000},{"_id":"themes/next/layout/index.swig","hash":"d683a64089c1147e9972ef3dbef43a92a5ac9e26","modified":1491539378000},{"_id":"themes/next/layout/page.swig","hash":"2a13804aa186f6062738d136e430870c53789bf4","modified":1486642816000},{"_id":"themes/next/layout/post.swig","hash":"e2e512142961ddfe77eba29eaa88f4a2ee43ae18","modified":1494301832000},{"_id":"themes/next/layout/schedule.swig","hash":"595013860078799d455af4965b3a7c5c4fd3923c","modified":1486642816000},{"_id":"themes/next/layout/tag.swig","hash":"6f764ea3ab11eeb7c530df45528d449b14f5dc62","modified":1486642816000},{"_id":"themes/next/scripts/merge-configs.js","hash":"f8cde6953939802f92da5b7a2458c6c539e9be69","modified":1486642816000},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1486642816000},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1486642816000},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1486642816000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1486642816000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1486642816000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"6d40652784585d263c37b8a3723e43e04b926ca7","modified":1486642816000},{"_id":"themes/next/layout/_macro/post.swig","hash":"4cb9c43f883ad331527bb2446994eb24b2fddeeb","modified":1486642816000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"b6cb171f0ed227b82b8f7601814af2df93f3a09a","modified":1486642816000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"a42851e17d8961e5cae8b588d95a4a5456964972","modified":1486642816000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"c5cc0070ca7c9a8dbd4b09e0398db536c3cdbe8a","modified":1486642816000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"cd74d7d0aa2097de0e73e8e53cca5d022cec8c43","modified":1486642816000},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","hash":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1486642816000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"50ce495aee7d6b7f0393f069b27729a545a3563a","modified":1486716668000},{"_id":"themes/next/layout/_partials/head.swig","hash":"376adb0c482242ef8bcad31b93b99cc5c35e92fa","modified":1486642816000},{"_id":"themes/next/layout/_partials/header.swig","hash":"8985089c950d6df0efab9cd549a6b9ee50708ee2","modified":1486642816000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"dfbb6e9692333166aa78231ad12b2a40c153cbcb","modified":1486642816000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1486642816000},{"_id":"themes/next/layout/_partials/search.swig","hash":"952b7b8d9ce2c81d4002a9dc2331f1e710f99616","modified":1486642816000},{"_id":"themes/next/layout/_scripts/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1486642816000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1486642816000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"931808ad9b8d8390c0dcf9bdeb0954eeb9185d68","modified":1486642816000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"e9beddda9758d8739c41fc8c67b2e72fc29c1244","modified":1486642816000},{"_id":"themes/next/scripts/tags/button.js","hash":"aaf71be6b483fca7a65cd6296c2cf1c2271c26a6","modified":1486642816000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"99b66949f18398689b904907af23c013be1b978f","modified":1486642816000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1486642816000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"c9f833158c66bd72f627a0559cf96550e867aa72","modified":1486642816000},{"_id":"themes/next/scripts/tags/note.js","hash":"7dc14db08f2c74f8f1952534b424f220f5c000c6","modified":1486642816000},{"_id":"themes/next/source/css/main.styl","hash":"a91dbb7ef799f0a171b5e726c801139efe545176","modified":1486642816000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"16505f61f19ba65f629dfd033f14ee9abcf18756","modified":1486642816000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1486642816000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1486642816000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1486642816000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1486642816000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1486642816000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1486642816000},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1486642816000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1486642816000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1486642816000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1486642816000},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1486642816000},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1486642816000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1486642816000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1486642816000},{"_id":"themes/next/layout/_components/algolia-search/assets.swig","hash":"218cc936ba3518a3591b2c9eda46bc701edf7710","modified":1486642816000},{"_id":"themes/next/layout/_components/algolia-search/dom.swig","hash":"bb2c3a926bb7f8fea54d424882b25d93dfde7ae6","modified":1486642816000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1486642816000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1486642816000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"efa7efcbb575381b508f9aa0e0c53140eef72a7b","modified":1486642816000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1486642816000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1486642816000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1486642816000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"d9e2d9282f9be6e04eae105964abb81e512bffed","modified":1486642816000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1486642816000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"12684840de632eb16e53ffa863166306a756fd4f","modified":1486642816000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"9b84ab576982b2c3bb0291da49143bc77fba3cc6","modified":1486642816000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics.swig","hash":"8b34af99cb673853fd948c02d07eb11eb3fb41b4","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments.swig","hash":"03d259066399c1eb4a436ea4e5e7a4802426d72c","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/lean-analytics.swig","hash":"e495aed8fb36bf8015ddbd64366270a7debad2b0","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/localsearch.swig","hash":"f592adff22628b271ec9657b080cf6b9cc200615","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/mathjax.swig","hash":"a0bd3388587fd943baae0d84ca779a707fbcad89","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1486642816000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"3403fdd8efde1a0afd11ae8a5a97673f5903087f","modified":1486642816000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"a0f23e75a137d8c996c70e2059e0074f1e97a127","modified":1486642816000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"531934ea21ef4dc9f0978512050f54834f0a6cff","modified":1486642816000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"e55265c8a8a6ae0c3c08e3509de92ee62c3cb5f6","modified":1486642816000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c666e352c3b8e4ad0a16cc757b08f44ef9172182","modified":1486642816000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"8b08a5ce4222aa731b180a12127bd0e52d12ede8","modified":1486642816000},{"_id":"themes/next/source/js/src/affix.js","hash":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1486642816000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"84bdc8a4fe127849a5c99bdefe1d0b65ee1a4a0a","modified":1486642816000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"4a0da1bed19e65bd7db42421b447061bc1618710","modified":1486642816000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1486642816000},{"_id":"themes/next/source/js/src/motion.js","hash":"ff9ea37d05c269e3a140c4ab448af03efc4bcc76","modified":1486642816000},{"_id":"themes/next/source/js/src/post-details.js","hash":"458af3b1bd7783c1950808e66cedfa9fb68bf21f","modified":1486642816000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1486642816000},{"_id":"themes/next/source/js/src/utils.js","hash":"e34f83848883732ddd7a34a3e3ed2a293f0f76a7","modified":1486642816000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1486642816000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"9be892a4e14e0da18ff9cb962c9ef71f163b1b22","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"672d3b5767e0eacd83bb41b188c913f2cf754793","modified":1486642816000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"bf3eef9d647cd7c9b62feda3bc708c6cdd7c0877","modified":1486642816000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1486642816000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1486642816000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"8868275e8b6340c87a81c69a54ed138d11fb3c3e","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1486642816000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"865d6c1328ab209a4376b9d2b7a7824369565f28","modified":1486642816000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"90fa628f156d8045357ff11eaf32e61abacf10e8","modified":1486642816000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1486642816000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1486642816000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1486642816000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1486642816000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1486642816000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"63da5e80ebb61bb66a2794d5936315ca44231f0c","modified":1486642816000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1486642816000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1486642816000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1486642816000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1486642816000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/baidu-analytics.swig","hash":"753d262911c27baf663fcaf199267133528656af","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/busuanzi-counter.swig","hash":"24105e62d7f26946907fa14cd02589f899bf8122","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/facebook-sdk.swig","hash":"a79e7e0d809fcf407593dd7ed9e023db21c3cbd6","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/google-analytics.swig","hash":"1b6af02fd0ba3f729675cd95429a0cea4aebf358","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-mta.swig","hash":"e9a0590dafde1046356620dd2b81e83b6b3b0936","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/analytics/vkontakte-api.swig","hash":"0506bcaf3dff28088bac6fdb8c8dbb4dc8915dfa","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments/disqus.swig","hash":"e4a13e8cd19762ef3aea0e59dfae8b3c1f251f11","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments/duoshuo.swig","hash":"1600f340e0225361580c44890568dc07dbcf2c89","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments/gentie.swig","hash":"0f38f053841ef77cdce56a84cfbb4dd4c3329486","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments/hypercomments.swig","hash":"af7f3e43cbdc4f88c13f101f0f341af96ace3383","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments/youyan.swig","hash":"de95ec8920d1660680078451008f8bd69f14d082","modified":1486642816000},{"_id":"themes/next/layout/_scripts/third-party/comments/livere.swig","hash":"5830a52c2a555d3a1f19b67d7bf3d072376cdea9","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ad69cbf94eedacc27e756cdb9c7073416db697d0","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"22828f5141c0cecb9ef25a110e194cdfa3a36423","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"b7d5cc29586ac796a50d90974ad99d24a5982137","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"88559b13ce94311405b170a0506ded91273beceb","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1486642816000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"12662536c7a07fff548abe94171f34b768dd610f","modified":1486642816000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"5a35aa0381b0e1d465b952a997194441020446ea","modified":1486642816000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"b6ee5fefa6046086a76ddbcfafc82482816fa3e0","modified":1486642816000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1486642816000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"c9218b48c56e52c06af9ce3cc8fbdae737cf16fe","modified":1486642816000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"ea9069645696f86c5df64208490876fe150c8cae","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"25d5e45a355ee2093f3b8b8eeac125ebf3905026","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"26666c1f472bf5f3fb9bc62081cca22b4de15ccb","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"ce272226a1570f5f7c70243b751a5b0fe1671a88","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9b913b73d31d21f057f97115ffab93cfa578b884","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"f23ac53ab901c48859dd29eee6e386b60ff956ba","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"5dbc0d0c897e46760e5dbee416530d485c747bba","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"34acb45007229b299951ce35d8eef642ea16fbe9","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"221d3dbc04ff6c211ba9382397c4977e9f493153","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"173f3aa31c41782591b7abeadd4f88f68d59b042","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"1be4ef3f97f329e2531bfd2dfdc40c0e46df35c8","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"86197902dfd3bededba10ba62b8f9f22e0420bde","modified":1486642816000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"c2390263a298a2b78c5f941e6827c13f02e1ee85","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1486642816000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1486642816000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"a02674d823c7b577d38c3cdb91953993b6e4b3a0","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"3c1d63dd1176c77f9f4cdb1616fbb08c31b9822f","modified":1486642816000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1486642816000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1486642816000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"4c4ef6e997d0c6e21de39c2daa0c768e12c8c6fa","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"852fd77500bda2c1a6651a14aa48d7d6222adc9d","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"7fe4d4d656e86276c17cb4e48a560cb6a4def703","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"cd2def16d31feb234be27dcdce2a919f70cc6919","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"104b5c79cd891506e0beaf938b083685f1da8637","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"f9760ecf186954cee3ba4a149be334e9ba296b89","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"4783f85872bc7e218c1522a5c1c68cd27a5922db","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"a45f5fce643eec4e1b927165229d560364bcace1","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"4866fb9453d7d4c83a1c4e55d74e4afed336eb8b","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"61ec8a8481e8b76f2943235256c6d4f89c751c1c","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"27deb3d3a243d30022055dac7dad851024099a8b","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"8355b0e9375b3245508efda0e18acd069c2aa767","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"350469437b20ecfd6f3ca45e400478f8e3f71cfb","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"011d5828b4972b2df0b429794b4466ba5bc1b49e","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"7f2bdd6109614d35408ee5ac3335aad4464c69c7","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"761eba9811b050b25d548cc0854de4824b41eb08","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"821991c0890966a512b43e8b1cf9537e738a09a0","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"394888efec32749b353292a59ec7f1b609d6325e","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"06b9a99d63b4d57fdbf70b88ab7036fbc47e3f52","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"702be9e57dd6ff5fa99642a1f6e3df26215b8805","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"3159b55f35c40bd08e55b00148c523760a708c51","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"8420b4be386469337243336aee694297875bd439","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"c8a05ce90784db9744c22fab22019eb637df1f2f","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"3b1aabbab57b0b1fafa311feb1212f59e78e7928","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"5dbeed535d63a50265d96b396a5440f9bb31e4ba","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"7f7e9df15148608a9c29326dd880d8e8e8efc0ec","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/gentie.styl","hash":"cd526e814f9323a79fe835085d64867d34b3715d","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"eb4ede7d7446d8a2f2ddeef3b17f497a6ad30756","modified":1486642816000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"dc944a01dd59f5ed2d44bb22fdb21fc3f455948f","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"cf900c5026ab36f31118317d0ae32a213e3ec2a9","modified":1486642816000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"cf900c5026ab36f31118317d0ae32a213e3ec2a9","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1486642816000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1486642816000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"90a1b22129efc172e2dfcceeeb76bff58bc3192f","modified":1486642816000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"964e8dac2cee79c4b49b5bc300675773f6518812","modified":1486642816000}],"Category":[{"name":"java","_id":"cjjiskdpp0005oleji08nv30k"},{"name":"sql","_id":"cjjiskdpv000aolejvtlp3jn0"},{"name":"工具","_id":"cjjiskdpy000golejxbb1mc7e"},{"name":"linux","_id":"cjjiskdq1000nolejbs863had"},{"name":"hexo","_id":"cjjiskdq90018olejq1lsuh7x"},{"name":"软件","_id":"cjjiskdqc001golejdrftr1c8"},{"name":"idea","_id":"cjjiskdqh001uolej6sea6coi"},{"name":"maven","_id":"cjjiskdrc003xolejr7pf4ai9"},{"name":"mysql","_id":"cjjiskdrg0046olej5wp2334t"},{"name":"oracle","_id":"cjjiskdrx005holejeqmznk59"},{"name":"其他","_id":"cjjiskdtr00bjolejt0tmthgv"},{"name":"算法","_id":"cjjiskdu500cvolejfvt2vkfr"},{"name":"docker","_id":"cjjiskdu900daolej4jr5pbkd"},{"name":"三方支付","_id":"cjjiskduc00djolejlsg87jvb"},{"name":"spark","_id":"cjjiskdwn00hzolejl2svvhar"}],"Data":[],"Page":[{"title":"关于","date":"2017-02-10T07:18:33.000Z","type":"about","_content":"\n关于我\n---\n目前从事JAVA研发工作，励志成为JAVA资深专家/架构师\n\n联系方式\n---\n个人邮箱：hisenyuan#gmail.com\n\n&nbsp;&nbsp;github&nbsp;&nbsp;：<a href=\"https://github.com/hisen-yuan\" target=\"_blank\">https://github.com/hisen-yuan</a>\n\n关于本站\n---\n若无特殊说明，主站所有文章均为原创文章，并遵循 CC BY-SA 4.0 协议发布。\n\n你可以自由地对博客中内容进行分享、创作演绎直至商业性的使用，\n但必须在文章末尾或参考文献处注明文章的出处（文章链接）。\n完整的协议可以参看 <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" target=\"_blank\">这里</a>。\n\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2017-02-10 15:18:33\ntype: \"about\"\n---\n\n关于我\n---\n目前从事JAVA研发工作，励志成为JAVA资深专家/架构师\n\n联系方式\n---\n个人邮箱：hisenyuan#gmail.com\n\n&nbsp;&nbsp;github&nbsp;&nbsp;：<a href=\"https://github.com/hisen-yuan\" target=\"_blank\">https://github.com/hisen-yuan</a>\n\n关于本站\n---\n若无特殊说明，主站所有文章均为原创文章，并遵循 CC BY-SA 4.0 协议发布。\n\n你可以自由地对博客中内容进行分享、创作演绎直至商业性的使用，\n但必须在文章末尾或参考文献处注明文章的出处（文章链接）。\n完整的协议可以参看 <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" target=\"_blank\">这里</a>。\n\n","updated":"2017-04-26T08:02:34.000Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjjiskdm50000olejpfqk2x0n","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"关于我\"><a href=\"#关于我\" class=\"headerlink\" title=\"关于我\"></a>关于我</h2><p>目前从事JAVA研发工作，励志成为JAVA资深专家/架构师</p><h2 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h2><p>个人邮箱：hisenyuan#gmail.com</p><p>&nbsp;&nbsp;github&nbsp;&nbsp;：<a href=\"https://github.com/hisen-yuan\" target=\"_blank\">https://github.com/hisen-yuan</a></p><h2 id=\"关于本站\"><a href=\"#关于本站\" class=\"headerlink\" title=\"关于本站\"></a>关于本站</h2><p>若无特殊说明，主站所有文章均为原创文章，并遵循 CC BY-SA 4.0 协议发布。</p><p>你可以自由地对博客中内容进行分享、创作演绎直至商业性的使用，<br>但必须在文章末尾或参考文献处注明文章的出处（文章链接）。<br>完整的协议可以参看 <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" target=\"_blank\">这里</a>。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"关于我\"><a href=\"#关于我\" class=\"headerlink\" title=\"关于我\"></a>关于我</h2><p>目前从事JAVA研发工作，励志成为JAVA资深专家/架构师</p><h2 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h2><p>个人邮箱：hisenyuan#gmail.com</p><p>&nbsp;&nbsp;github&nbsp;&nbsp;：<a href=\"https://github.com/hisen-yuan\" target=\"_blank\">https://github.com/hisen-yuan</a></p><h2 id=\"关于本站\"><a href=\"#关于本站\" class=\"headerlink\" title=\"关于本站\"></a>关于本站</h2><p>若无特殊说明，主站所有文章均为原创文章，并遵循 CC BY-SA 4.0 协议发布。</p><p>你可以自由地对博客中内容进行分享、创作演绎直至商业性的使用，<br>但必须在文章末尾或参考文献处注明文章的出处（文章链接）。<br>完整的协议可以参看 <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" target=\"_blank\">这里</a>。</p><!-- rebuild by neat -->"},{"title":"分类","date":"2017-02-09T13:31:36.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2017-02-09 21:31:36\ntype: \"categories\"\ncomments: false\n---\n","updated":"2017-02-10T12:25:02.000Z","path":"categories/index.html","layout":"page","_id":"cjjiskdm70001olejr9kl1ld0","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"},{"title":"标签","date":"2017-02-09T12:34:54.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2017-02-09 20:34:54\ntype: \"tags\"\n---\n","updated":"2017-02-10T12:27:22.000Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cjjiskdpj0002olejs0d7kz7z","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><!-- rebuild by neat -->"}],"Post":[{"title":"1103 host 'xxx' is not allowed to connect to this mysql","keywords":["1103 host '' is not allowed to connect to this mysql"],"date":"2017-03-10T17:21:00.000Z","_content":"出现原因： \n这是由于mysql服务端root用户所对应的客户端权限设置问题。\n\n默认所对应的客户端地址只有localhost（也就是服务端的机器），\n\n我们目的是任何地址都可以用root访问mysql服务端。 \n\n解决办法：\n```\n$ mysql -u root -p\n#进入mysql交互界面\nmysql> use mysql;\n#使用mysql这个库\nmysql> grant all privileges on *.* to 'root'@'%' identified by 'hisen'; \n#让root可以在任何ip登陆，密码为：hisen\nmysql> flush privileges; \n#刷新\nmysql> exit;\n#退出\n$ service mysql restart\n#重启mysql\n```","source":"_posts/1103 host ‘xxx’ is not allowed to connect to this mysql.md","raw":"---\ntitle: 1103 host 'xxx' is not allowed to connect to this mysql\nkeywords: [1103 host '' is not allowed to connect to this mysql]\ndate: 2017/3/11 1:21\ntags: [mysql]\ncategories: java\n---\n出现原因： \n这是由于mysql服务端root用户所对应的客户端权限设置问题。\n\n默认所对应的客户端地址只有localhost（也就是服务端的机器），\n\n我们目的是任何地址都可以用root访问mysql服务端。 \n\n解决办法：\n```\n$ mysql -u root -p\n#进入mysql交互界面\nmysql> use mysql;\n#使用mysql这个库\nmysql> grant all privileges on *.* to 'root'@'%' identified by 'hisen'; \n#让root可以在任何ip登陆，密码为：hisen\nmysql> flush privileges; \n#刷新\nmysql> exit;\n#退出\n$ service mysql restart\n#重启mysql\n```","slug":"1103 host ‘xxx’ is not allowed to connect to this mysql","published":1,"updated":"2017-03-10T17:26:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpk0003olejiq0b3evi","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>出现原因：<br>这是由于mysql服务端root用户所对应的客户端权限设置问题。</p><p>默认所对应的客户端地址只有localhost（也就是服务端的机器），</p><p>我们目的是任何地址都可以用root访问mysql服务端。</p><p>解决办法：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mysql -u root -p</span><br><span class=\"line\">#进入mysql交互界面</span><br><span class=\"line\">mysql&gt; use mysql;</span><br><span class=\"line\">#使用mysql这个库</span><br><span class=\"line\">mysql&gt; grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; identified by &apos;hisen&apos;; </span><br><span class=\"line\">#让root可以在任何ip登陆，密码为：hisen</span><br><span class=\"line\">mysql&gt; flush privileges; </span><br><span class=\"line\">#刷新</span><br><span class=\"line\">mysql&gt; exit;</span><br><span class=\"line\">#退出</span><br><span class=\"line\">$ service mysql restart</span><br><span class=\"line\">#重启mysql</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>出现原因：<br>这是由于mysql服务端root用户所对应的客户端权限设置问题。</p><p>默认所对应的客户端地址只有localhost（也就是服务端的机器），</p><p>我们目的是任何地址都可以用root访问mysql服务端。</p><p>解决办法：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mysql -u root -p</span><br><span class=\"line\">#进入mysql交互界面</span><br><span class=\"line\">mysql&gt; use mysql;</span><br><span class=\"line\">#使用mysql这个库</span><br><span class=\"line\">mysql&gt; grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; identified by &apos;hisen&apos;; </span><br><span class=\"line\">#让root可以在任何ip登陆，密码为：hisen</span><br><span class=\"line\">mysql&gt; flush privileges; </span><br><span class=\"line\">#刷新</span><br><span class=\"line\">mysql&gt; exit;</span><br><span class=\"line\">#退出</span><br><span class=\"line\">$ service mysql restart</span><br><span class=\"line\">#重启mysql</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"BeanCreationException: Error creating bean with name 'xxxService'","keywords":[],"date":"2017-02-23T03:02:56.000Z","_content":"出现的问题：\n```\n[platform] ERROR 2017-02-22 17:46:05,756 [RMI TCP Connection(4)-127.0.0.1] org.springframework.web.context.ContextLoader.() | Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pmTranLimitLiteServiceImpl': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.msds.zkutil.ZkLockFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.annotation.Resource(mappedName=, shareable=true, description=, name=, type=class java.lang.Object, authenticationType=CONTAINER, lookup=)}\n\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:306) ~[spring-context-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n```\n最重要的是这句\n```\norg.springframework.beans.factory.BeanCreationException:\nError creating bean with name'pmTranLimitLiteServiceImpl'\n```\n出现的原因：\n缺少相关的jar包或者依赖\n\n建议不要自己配置idea的module和artificts\n\n直接在pom.xml文件添加\n```\n<artifactId>hisen-project</artifactId><!--加在这句话后面-->\n  <packaging>war</packaging><!--加上这句话就会自动给你打war包-->\n```\n---\n\n其他原因\n\n开始不知道什么问题，后来搜索这个服务。\n\n发现这跟dubbo有关，于是百度搜索进了官网\n\n没想到常见问题里面就有说这个事情\n```\n13. 出现org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxxService': Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: Method must not be null怎么办？\n\n通常是classpath下存在spring多个版本的jar包，排除掉不需要的spring包即可。\n```\n更多dubbo问题：<a href=\"http://dubbo.io/FAQ-zh.htm\" target=\"_blank\">点击查看</a>","source":"_posts/BeanCreationException-Error-creating-bean-with-name-xxxService.md","raw":"---\ntitle: 'BeanCreationException: Error creating bean with name ''xxxService'''\nkeywords: []\ntags: []\ndate: 2017-02-23 11:02:56\ncategories:\n---\n出现的问题：\n```\n[platform] ERROR 2017-02-22 17:46:05,756 [RMI TCP Connection(4)-127.0.0.1] org.springframework.web.context.ContextLoader.() | Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pmTranLimitLiteServiceImpl': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.msds.zkutil.ZkLockFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.annotation.Resource(mappedName=, shareable=true, description=, name=, type=class java.lang.Object, authenticationType=CONTAINER, lookup=)}\n\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:306) ~[spring-context-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n```\n最重要的是这句\n```\norg.springframework.beans.factory.BeanCreationException:\nError creating bean with name'pmTranLimitLiteServiceImpl'\n```\n出现的原因：\n缺少相关的jar包或者依赖\n\n建议不要自己配置idea的module和artificts\n\n直接在pom.xml文件添加\n```\n<artifactId>hisen-project</artifactId><!--加在这句话后面-->\n  <packaging>war</packaging><!--加上这句话就会自动给你打war包-->\n```\n---\n\n其他原因\n\n开始不知道什么问题，后来搜索这个服务。\n\n发现这跟dubbo有关，于是百度搜索进了官网\n\n没想到常见问题里面就有说这个事情\n```\n13. 出现org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxxService': Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: Method must not be null怎么办？\n\n通常是classpath下存在spring多个版本的jar包，排除掉不需要的spring包即可。\n```\n更多dubbo问题：<a href=\"http://dubbo.io/FAQ-zh.htm\" target=\"_blank\">点击查看</a>","slug":"BeanCreationException-Error-creating-bean-with-name-xxxService","published":1,"updated":"2017-03-14T05:56:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpn0004olejeudh7iju","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>出现的问题：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[platform] ERROR 2017-02-22 17:46:05,756 [RMI TCP Connection(4)-127.0.0.1] org.springframework.web.context.ContextLoader.() | Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;pmTranLimitLiteServiceImpl&apos;: Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.msds.zkutil.ZkLockFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: &#123;@javax.annotation.Resource(mappedName=, shareable=true, description=, name=, type=class java.lang.Object, authenticationType=CONTAINER, lookup=)&#125;</span><br><span class=\"line\">\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:306) ~[spring-context-3.2.4.RELEASE.jar:3.2.4.RELEASE]</span><br><span class=\"line\">\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-3.2.4.RELEASE.jar:3.2.4.RELEASE]</span><br></pre></td></tr></table></figure><p></p><p>最重要的是这句<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.springframework.beans.factory.BeanCreationException:</span><br><span class=\"line\">Error creating bean with name&apos;pmTranLimitLiteServiceImpl&apos;</span><br></pre></td></tr></table></figure><p></p><p>出现的原因：<br>缺少相关的jar包或者依赖</p><p>建议不要自己配置idea的module和artificts</p><p>直接在pom.xml文件添加<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;artifactId&gt;hisen-project&lt;/artifactId&gt;&lt;!--加在这句话后面--&gt;</span><br><span class=\"line\">  &lt;packaging&gt;war&lt;/packaging&gt;&lt;!--加上这句话就会自动给你打war包--&gt;</span><br></pre></td></tr></table></figure><p></p><hr><p>其他原因</p><p>开始不知道什么问题，后来搜索这个服务。</p><p>发现这跟dubbo有关，于是百度搜索进了官网</p><p>没想到常见问题里面就有说这个事情<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13. 出现org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;xxxService&apos;: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: Method must not be null怎么办？</span><br><span class=\"line\"></span><br><span class=\"line\">通常是classpath下存在spring多个版本的jar包，排除掉不需要的spring包即可。</span><br></pre></td></tr></table></figure><p></p><p>更多dubbo问题：<a href=\"http://dubbo.io/FAQ-zh.htm\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>出现的问题：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[platform] ERROR 2017-02-22 17:46:05,756 [RMI TCP Connection(4)-127.0.0.1] org.springframework.web.context.ContextLoader.() | Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;pmTranLimitLiteServiceImpl&apos;: Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.msds.zkutil.ZkLockFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: &#123;@javax.annotation.Resource(mappedName=, shareable=true, description=, name=, type=class java.lang.Object, authenticationType=CONTAINER, lookup=)&#125;</span><br><span class=\"line\">\tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:306) ~[spring-context-3.2.4.RELEASE.jar:3.2.4.RELEASE]</span><br><span class=\"line\">\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1116) ~[spring-beans-3.2.4.RELEASE.jar:3.2.4.RELEASE]</span><br></pre></td></tr></table></figure><p></p><p>最重要的是这句<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.springframework.beans.factory.BeanCreationException:</span><br><span class=\"line\">Error creating bean with name&apos;pmTranLimitLiteServiceImpl&apos;</span><br></pre></td></tr></table></figure><p></p><p>出现的原因：<br>缺少相关的jar包或者依赖</p><p>建议不要自己配置idea的module和artificts</p><p>直接在pom.xml文件添加<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;artifactId&gt;hisen-project&lt;/artifactId&gt;&lt;!--加在这句话后面--&gt;</span><br><span class=\"line\">  &lt;packaging&gt;war&lt;/packaging&gt;&lt;!--加上这句话就会自动给你打war包--&gt;</span><br></pre></td></tr></table></figure><p></p><hr><p>其他原因</p><p>开始不知道什么问题，后来搜索这个服务。</p><p>发现这跟dubbo有关，于是百度搜索进了官网</p><p>没想到常见问题里面就有说这个事情<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13. 出现org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;xxxService&apos;: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: Method must not be null怎么办？</span><br><span class=\"line\"></span><br><span class=\"line\">通常是classpath下存在spring多个版本的jar包，排除掉不需要的spring包即可。</span><br></pre></td></tr></table></figure><p></p><p>更多dubbo问题：<a href=\"http://dubbo.io/FAQ-zh.htm\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->"},{"title":"DBeaver-连接全部数据库工具-DBeaver快捷键","keywords":["DBeaver快捷键","DBeaver","DBeaver安装"],"date":"2017-04-01T17:43:00.000Z","_content":"Windows、Linux、Mac OS X多个平台都可以用\n\n据我观察这个数据库可视化工具很不错，基于java\n\n以各种驱动来连接数据库，也就是说java支持的数据库都可以用他连接\n\n挺好用的，免费！！！\n\n安装之后新建连接，选择你要链接的数据库，配置一下就好了。\n\n下载地址\n---\n<a href=\"http://dbeaver.jkiss.org/download/\" target=\"_blank\">官网下载地址</a>\n\n快捷键\n---\n```\n#Shift + Home选中当前光标到行首\n#Shift + End选中当前光标到行尾\n#Shift + ↑/↓/←/→ 移动光标并且选中\n#Alt + X 执行选中的sql\n#Ctrl + Enter 执行当前光标所在行的sql\n#Ctrl + Alt + F 格式化SQL（file -> properties -> +SQL Editor -> SQL formatting）\n```","source":"_posts/DBeaver-连接全部数据库工具-DBeaver快捷键.md","raw":"---\ntitle: DBeaver-连接全部数据库工具-DBeaver快捷键\nkeywords: [DBeaver快捷键,DBeaver,DBeaver安装]\ndate: 2017/4/2 1:43\ntags: [sql]\ncategories: sql\n---\nWindows、Linux、Mac OS X多个平台都可以用\n\n据我观察这个数据库可视化工具很不错，基于java\n\n以各种驱动来连接数据库，也就是说java支持的数据库都可以用他连接\n\n挺好用的，免费！！！\n\n安装之后新建连接，选择你要链接的数据库，配置一下就好了。\n\n下载地址\n---\n<a href=\"http://dbeaver.jkiss.org/download/\" target=\"_blank\">官网下载地址</a>\n\n快捷键\n---\n```\n#Shift + Home选中当前光标到行首\n#Shift + End选中当前光标到行尾\n#Shift + ↑/↓/←/→ 移动光标并且选中\n#Alt + X 执行选中的sql\n#Ctrl + Enter 执行当前光标所在行的sql\n#Ctrl + Alt + F 格式化SQL（file -> properties -> +SQL Editor -> SQL formatting）\n```","slug":"DBeaver-连接全部数据库工具-DBeaver快捷键","published":1,"updated":"2017-04-01T17:49:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpr0007olejb9nm83sy","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Windows、Linux、Mac OS X多个平台都可以用</p><p>据我观察这个数据库可视化工具很不错，基于java</p><p>以各种驱动来连接数据库，也就是说java支持的数据库都可以用他连接</p><p>挺好用的，免费！！！</p><p>安装之后新建连接，选择你要链接的数据库，配置一下就好了。</p><h2 id=\"下载地址\"><a href=\"#下载地址\" class=\"headerlink\" title=\"下载地址\"></a>下载地址</h2><p><a href=\"http://dbeaver.jkiss.org/download/\" target=\"_blank\">官网下载地址</a></p><h2 id=\"快捷键\"><a href=\"#快捷键\" class=\"headerlink\" title=\"快捷键\"></a>快捷键</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Shift + Home选中当前光标到行首</span><br><span class=\"line\">#Shift + End选中当前光标到行尾</span><br><span class=\"line\">#Shift + ↑/↓/←/→ 移动光标并且选中</span><br><span class=\"line\">#Alt + X 执行选中的sql</span><br><span class=\"line\">#Ctrl + Enter 执行当前光标所在行的sql</span><br><span class=\"line\">#Ctrl + Alt + F 格式化SQL（file -&gt; properties -&gt; +SQL Editor -&gt; SQL formatting）</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Windows、Linux、Mac OS X多个平台都可以用</p><p>据我观察这个数据库可视化工具很不错，基于java</p><p>以各种驱动来连接数据库，也就是说java支持的数据库都可以用他连接</p><p>挺好用的，免费！！！</p><p>安装之后新建连接，选择你要链接的数据库，配置一下就好了。</p><h2 id=\"下载地址\"><a href=\"#下载地址\" class=\"headerlink\" title=\"下载地址\"></a>下载地址</h2><p><a href=\"http://dbeaver.jkiss.org/download/\" target=\"_blank\">官网下载地址</a></p><h2 id=\"快捷键\"><a href=\"#快捷键\" class=\"headerlink\" title=\"快捷键\"></a>快捷键</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Shift + Home选中当前光标到行首</span><br><span class=\"line\">#Shift + End选中当前光标到行尾</span><br><span class=\"line\">#Shift + ↑/↓/←/→ 移动光标并且选中</span><br><span class=\"line\">#Alt + X 执行选中的sql</span><br><span class=\"line\">#Ctrl + Enter 执行当前光标所在行的sql</span><br><span class=\"line\">#Ctrl + Alt + F 格式化SQL（file -&gt; properties -&gt; +SQL Editor -&gt; SQL formatting）</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Data URI scheme 利用base64字符串通过image标签显示图片","keywords":["ata:image/png;base64","image"],"date":"2017-05-12T01:15:00.000Z","_content":"目前，Data URI scheme支持的类型有：\n\n1. data:,文本数据\n2. data:text/plain,文本数据\n3. data:text/html,HTML代码\n4. data:text/html;base64,base64编码的HTML代码\n5. data:text/css,CSS代码\n6. data:text/css;base64,base64编码的CSS代码\n7. data:text/javascript,Javascript代码\n8. data:text/javascript;base64,base64编码的Javascript代码\n9. data:image/gif;base64,base64编码的gif图片数据\n10. data:image/png;base64,base64编码的png图片数据\n11. data:image/jpeg;base64,base64编码的jpeg图片数据\n12. data:image/x-icon;base64,base64编码的icon图片数据\n\nData URL是在本地直接绘制图片，不是从服务器加载，所以节省了HTTP连接，起到加速网页的作用。\n\n也无法获取到图片在服务器上的真实地址\n\n注意：本方法适合于小图片，大图片就不要考虑了，另外IE8以下浏览器不支持这种方法。\n\n用这种方法会加重客户端的CPU和内存负担，总之有利有弊。\n\n前台代码：\n```\n<%@ page import=\"com.hisen.image.ShowImageByBase64\" %><%--\n  Created by IntelliJ IDEA.\n  User: Administrator\n  Date: 2017/5/11\n  Time: 18:55\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<% String imageStr = ShowImageByBase64.showimage();%>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n<img src=\"data:image/png;base64,<%=imageStr%>\" alt=\"base64图片\"/>\n</body>\n</html>\n```\n\n后台代码：\n```\npackage com.hisen.image;\n\nimport com.hisen.utils.Base64Util;\nimport com.hisen.utils.File2ByteArraysUtil;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport sun.misc.BASE64Encoder;\n\n/**\n * <img src=\"data:image/png;base64,<%=imageStr%>\" alt=\"base64image\"/>\n * Created by hisenyuan on 2017/5/11 at 18:44.\n */\npublic class ShowImageByBase64 {\n\n  public static String showimage() {\n    //写相对路径会报错，暂时不知道如何解决\n    String imagePath = \"C:\\\\1\\\\830.jpg\";\n    byte[] bytes = File2ByteArraysUtil.file2Bytes(imagePath);\n    String s = Base64Util.encodeBase64(bytes);\n    return s;\n  }\n\n  /**\n   * sun.misc.BASE64Encoder\n   */\n  public static String encodeBase64(byte[] str) {\n    if (str == null) {\n      return null;\n    } else {\n      BASE64Encoder encoder = new BASE64Encoder();\n      try {\n        return encoder.encode(str);\n      } catch (Exception var3) {\n        return null;\n      }\n    }\n  }\n\n  /***\n   * file2byte[]\n   * @param path\n   * @return\n   */\n  public static byte[] file2Bytes(String path) {\n    byte[] buffer = null;\n    File file = new File(path);\n    try {\n      FileInputStream fis = new FileInputStream(file);\n      ByteArrayOutputStream bos = new ByteArrayOutputStream(1000);\n      byte[] b = new byte[1000];\n      int n;\n      while ((n = fis.read(b)) != -1) {\n        bos.write(b, 0, n);\n      }\n      fis.close();\n      bos.close();\n      buffer = bos.toByteArray();\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return buffer;\n  }\n}\n```","source":"_posts/Data URI scheme 利用base64字符串通过image标签显示图片.md","raw":"---\ntitle: Data URI scheme 利用base64字符串通过image标签显示图片\nkeywords: [ata:image/png;base64,image]\ndate: 2017/5/12 9:15\ntags: [java,jsp]\ncategories: java\n---\n目前，Data URI scheme支持的类型有：\n\n1. data:,文本数据\n2. data:text/plain,文本数据\n3. data:text/html,HTML代码\n4. data:text/html;base64,base64编码的HTML代码\n5. data:text/css,CSS代码\n6. data:text/css;base64,base64编码的CSS代码\n7. data:text/javascript,Javascript代码\n8. data:text/javascript;base64,base64编码的Javascript代码\n9. data:image/gif;base64,base64编码的gif图片数据\n10. data:image/png;base64,base64编码的png图片数据\n11. data:image/jpeg;base64,base64编码的jpeg图片数据\n12. data:image/x-icon;base64,base64编码的icon图片数据\n\nData URL是在本地直接绘制图片，不是从服务器加载，所以节省了HTTP连接，起到加速网页的作用。\n\n也无法获取到图片在服务器上的真实地址\n\n注意：本方法适合于小图片，大图片就不要考虑了，另外IE8以下浏览器不支持这种方法。\n\n用这种方法会加重客户端的CPU和内存负担，总之有利有弊。\n\n前台代码：\n```\n<%@ page import=\"com.hisen.image.ShowImageByBase64\" %><%--\n  Created by IntelliJ IDEA.\n  User: Administrator\n  Date: 2017/5/11\n  Time: 18:55\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<% String imageStr = ShowImageByBase64.showimage();%>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n<img src=\"data:image/png;base64,<%=imageStr%>\" alt=\"base64图片\"/>\n</body>\n</html>\n```\n\n后台代码：\n```\npackage com.hisen.image;\n\nimport com.hisen.utils.Base64Util;\nimport com.hisen.utils.File2ByteArraysUtil;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport sun.misc.BASE64Encoder;\n\n/**\n * <img src=\"data:image/png;base64,<%=imageStr%>\" alt=\"base64image\"/>\n * Created by hisenyuan on 2017/5/11 at 18:44.\n */\npublic class ShowImageByBase64 {\n\n  public static String showimage() {\n    //写相对路径会报错，暂时不知道如何解决\n    String imagePath = \"C:\\\\1\\\\830.jpg\";\n    byte[] bytes = File2ByteArraysUtil.file2Bytes(imagePath);\n    String s = Base64Util.encodeBase64(bytes);\n    return s;\n  }\n\n  /**\n   * sun.misc.BASE64Encoder\n   */\n  public static String encodeBase64(byte[] str) {\n    if (str == null) {\n      return null;\n    } else {\n      BASE64Encoder encoder = new BASE64Encoder();\n      try {\n        return encoder.encode(str);\n      } catch (Exception var3) {\n        return null;\n      }\n    }\n  }\n\n  /***\n   * file2byte[]\n   * @param path\n   * @return\n   */\n  public static byte[] file2Bytes(String path) {\n    byte[] buffer = null;\n    File file = new File(path);\n    try {\n      FileInputStream fis = new FileInputStream(file);\n      ByteArrayOutputStream bos = new ByteArrayOutputStream(1000);\n      byte[] b = new byte[1000];\n      int n;\n      while ((n = fis.read(b)) != -1) {\n        bos.write(b, 0, n);\n      }\n      fis.close();\n      bos.close();\n      buffer = bos.toByteArray();\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return buffer;\n  }\n}\n```","slug":"Data URI scheme 利用base64字符串通过image标签显示图片","published":1,"updated":"2017-05-12T01:25:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdps0008olejpa46jpmo","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>目前，Data URI scheme支持的类型有：</p><ol><li>data:,文本数据</li><li>data:text/plain,文本数据</li><li>data:text/html,HTML代码</li><li>data:text/html;base64,base64编码的HTML代码</li><li>data:text/css,CSS代码</li><li>data:text/css;base64,base64编码的CSS代码</li><li>data:text/javascript,Javascript代码</li><li>data:text/javascript;base64,base64编码的Javascript代码</li><li>data:image/gif;base64,base64编码的gif图片数据</li><li>data:image/png;base64,base64编码的png图片数据</li><li>data:image/jpeg;base64,base64编码的jpeg图片数据</li><li>data:image/x-icon;base64,base64编码的icon图片数据</li></ol><p>Data URL是在本地直接绘制图片，不是从服务器加载，所以节省了HTTP连接，起到加速网页的作用。</p><p>也无法获取到图片在服务器上的真实地址</p><p>注意：本方法适合于小图片，大图片就不要考虑了，另外IE8以下浏览器不支持这种方法。</p><p>用这种方法会加重客户端的CPU和内存负担，总之有利有弊。</p><p>前台代码：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page import=&quot;com.hisen.image.ShowImageByBase64&quot; %&gt;&lt;%--</span><br><span class=\"line\">  Created by IntelliJ IDEA.</span><br><span class=\"line\">  User: Administrator</span><br><span class=\"line\">  Date: 2017/5/11</span><br><span class=\"line\">  Time: 18:55</span><br><span class=\"line\">  To change this template use File | Settings | File Templates.</span><br><span class=\"line\">--%&gt;</span><br><span class=\"line\">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class=\"line\">&lt;% String imageStr = ShowImageByBase64.showimage();%&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;img src=&quot;data:image/png;base64,&lt;%=imageStr%&gt;&quot; alt=&quot;base64图片&quot;/&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p></p><p>后台代码：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.image;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.hisen.utils.Base64Util;</span><br><span class=\"line\">import com.hisen.utils.File2ByteArraysUtil;</span><br><span class=\"line\">import java.io.ByteArrayOutputStream;</span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.FileInputStream;</span><br><span class=\"line\">import java.io.FileNotFoundException;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import sun.misc.BASE64Encoder;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * &lt;img src=&quot;data:image/png;base64,&lt;%=imageStr%&gt;&quot; alt=&quot;base64image&quot;/&gt;</span><br><span class=\"line\"> * Created by hisenyuan on 2017/5/11 at 18:44.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ShowImageByBase64 &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static String showimage() &#123;</span><br><span class=\"line\">    //写相对路径会报错，暂时不知道如何解决</span><br><span class=\"line\">    String imagePath = &quot;C:\\\\1\\\\830.jpg&quot;;</span><br><span class=\"line\">    byte[] bytes = File2ByteArraysUtil.file2Bytes(imagePath);</span><br><span class=\"line\">    String s = Base64Util.encodeBase64(bytes);</span><br><span class=\"line\">    return s;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * sun.misc.BASE64Encoder</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public static String encodeBase64(byte[] str) &#123;</span><br><span class=\"line\">    if (str == null) &#123;</span><br><span class=\"line\">      return null;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      BASE64Encoder encoder = new BASE64Encoder();</span><br><span class=\"line\">      try &#123;</span><br><span class=\"line\">        return encoder.encode(str);</span><br><span class=\"line\">      &#125; catch (Exception var3) &#123;</span><br><span class=\"line\">        return null;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /***</span><br><span class=\"line\">   * file2byte[]</span><br><span class=\"line\">   * @param path</span><br><span class=\"line\">   * @return</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public static byte[] file2Bytes(String path) &#123;</span><br><span class=\"line\">    byte[] buffer = null;</span><br><span class=\"line\">    File file = new File(path);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      FileInputStream fis = new FileInputStream(file);</span><br><span class=\"line\">      ByteArrayOutputStream bos = new ByteArrayOutputStream(1000);</span><br><span class=\"line\">      byte[] b = new byte[1000];</span><br><span class=\"line\">      int n;</span><br><span class=\"line\">      while ((n = fis.read(b)) != -1) &#123;</span><br><span class=\"line\">        bos.write(b, 0, n);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      fis.close();</span><br><span class=\"line\">      bos.close();</span><br><span class=\"line\">      buffer = bos.toByteArray();</span><br><span class=\"line\">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return buffer;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>目前，Data URI scheme支持的类型有：</p><ol><li>data:,文本数据</li><li>data:text/plain,文本数据</li><li>data:text/html,HTML代码</li><li>data:text/html;base64,base64编码的HTML代码</li><li>data:text/css,CSS代码</li><li>data:text/css;base64,base64编码的CSS代码</li><li>data:text/javascript,Javascript代码</li><li>data:text/javascript;base64,base64编码的Javascript代码</li><li>data:image/gif;base64,base64编码的gif图片数据</li><li>data:image/png;base64,base64编码的png图片数据</li><li>data:image/jpeg;base64,base64编码的jpeg图片数据</li><li>data:image/x-icon;base64,base64编码的icon图片数据</li></ol><p>Data URL是在本地直接绘制图片，不是从服务器加载，所以节省了HTTP连接，起到加速网页的作用。</p><p>也无法获取到图片在服务器上的真实地址</p><p>注意：本方法适合于小图片，大图片就不要考虑了，另外IE8以下浏览器不支持这种方法。</p><p>用这种方法会加重客户端的CPU和内存负担，总之有利有弊。</p><p>前台代码：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page import=&quot;com.hisen.image.ShowImageByBase64&quot; %&gt;&lt;%--</span><br><span class=\"line\">  Created by IntelliJ IDEA.</span><br><span class=\"line\">  User: Administrator</span><br><span class=\"line\">  Date: 2017/5/11</span><br><span class=\"line\">  Time: 18:55</span><br><span class=\"line\">  To change this template use File | Settings | File Templates.</span><br><span class=\"line\">--%&gt;</span><br><span class=\"line\">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class=\"line\">&lt;% String imageStr = ShowImageByBase64.showimage();%&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;img src=&quot;data:image/png;base64,&lt;%=imageStr%&gt;&quot; alt=&quot;base64图片&quot;/&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p></p><p>后台代码：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.image;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.hisen.utils.Base64Util;</span><br><span class=\"line\">import com.hisen.utils.File2ByteArraysUtil;</span><br><span class=\"line\">import java.io.ByteArrayOutputStream;</span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.FileInputStream;</span><br><span class=\"line\">import java.io.FileNotFoundException;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import sun.misc.BASE64Encoder;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * &lt;img src=&quot;data:image/png;base64,&lt;%=imageStr%&gt;&quot; alt=&quot;base64image&quot;/&gt;</span><br><span class=\"line\"> * Created by hisenyuan on 2017/5/11 at 18:44.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ShowImageByBase64 &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static String showimage() &#123;</span><br><span class=\"line\">    //写相对路径会报错，暂时不知道如何解决</span><br><span class=\"line\">    String imagePath = &quot;C:\\\\1\\\\830.jpg&quot;;</span><br><span class=\"line\">    byte[] bytes = File2ByteArraysUtil.file2Bytes(imagePath);</span><br><span class=\"line\">    String s = Base64Util.encodeBase64(bytes);</span><br><span class=\"line\">    return s;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * sun.misc.BASE64Encoder</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public static String encodeBase64(byte[] str) &#123;</span><br><span class=\"line\">    if (str == null) &#123;</span><br><span class=\"line\">      return null;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      BASE64Encoder encoder = new BASE64Encoder();</span><br><span class=\"line\">      try &#123;</span><br><span class=\"line\">        return encoder.encode(str);</span><br><span class=\"line\">      &#125; catch (Exception var3) &#123;</span><br><span class=\"line\">        return null;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /***</span><br><span class=\"line\">   * file2byte[]</span><br><span class=\"line\">   * @param path</span><br><span class=\"line\">   * @return</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public static byte[] file2Bytes(String path) &#123;</span><br><span class=\"line\">    byte[] buffer = null;</span><br><span class=\"line\">    File file = new File(path);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      FileInputStream fis = new FileInputStream(file);</span><br><span class=\"line\">      ByteArrayOutputStream bos = new ByteArrayOutputStream(1000);</span><br><span class=\"line\">      byte[] b = new byte[1000];</span><br><span class=\"line\">      int n;</span><br><span class=\"line\">      while ((n = fis.read(b)) != -1) &#123;</span><br><span class=\"line\">        bos.write(b, 0, n);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      fis.close();</span><br><span class=\"line\">      bos.close();</span><br><span class=\"line\">      buffer = bos.toByteArray();</span><br><span class=\"line\">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return buffer;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Debian丨Ubuntu丨shadowsocks-libev一键安装脚本","keywords":["shadowsocks","一键安装shadowsocks"],"date":"2017-09-04T08:13:00.000Z","_content":"执行命令：(装完就开机启动)\n```\nwget --no-check-certificate -O shadowsocks-libev-debian.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh\nchmod +x shadowsocks-libev-debian.sh\n./shadowsocks-libev-debian.sh 2>&1 | tee shadowsocks-libev-debian.log\n```\n默认设置：\n```\n服务器端口：自己设定（如不设定，默认为 8989）\n密码：自己设定（如不设定，默认为 teddysun.com）\n加密方式：自己设定（如不设定，默认为 aes-256-gcm）\n```\n管理命令：\n```\n启动：/etc/init.d/shadowsocks start\n停止：/etc/init.d/shadowsocks stop\n重启：/etc/init.d/shadowsocks restart\n查看状态：/etc/init.d/shadowsocks status\n```\n修改配置文件(端口、密码)\n```\nvi /etc/shadowsocks-libe/config.json\n{\n    \"server\":\"0.0.0.0\",\n    \"server_port\":9090,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"password\":\"password\",\n    \"timeout\":600,\n    \"method\":\"aes-256-gcm\"\n}\n\n```\n卸载命令\n```\n./shadowsocks-libev-debian.sh uninstall\n```","source":"_posts/Debian丨Ubuntu丨shadowsocks-libev一键安装脚本.md","raw":"---\ntitle: Debian丨Ubuntu丨shadowsocks-libev一键安装脚本\nkeywords: [shadowsocks,一键安装shadowsocks]\ndate: 2017/9/4 16:13\ntags: [network]\ncategories: 工具\n---\n执行命令：(装完就开机启动)\n```\nwget --no-check-certificate -O shadowsocks-libev-debian.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh\nchmod +x shadowsocks-libev-debian.sh\n./shadowsocks-libev-debian.sh 2>&1 | tee shadowsocks-libev-debian.log\n```\n默认设置：\n```\n服务器端口：自己设定（如不设定，默认为 8989）\n密码：自己设定（如不设定，默认为 teddysun.com）\n加密方式：自己设定（如不设定，默认为 aes-256-gcm）\n```\n管理命令：\n```\n启动：/etc/init.d/shadowsocks start\n停止：/etc/init.d/shadowsocks stop\n重启：/etc/init.d/shadowsocks restart\n查看状态：/etc/init.d/shadowsocks status\n```\n修改配置文件(端口、密码)\n```\nvi /etc/shadowsocks-libe/config.json\n{\n    \"server\":\"0.0.0.0\",\n    \"server_port\":9090,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"password\":\"password\",\n    \"timeout\":600,\n    \"method\":\"aes-256-gcm\"\n}\n\n```\n卸载命令\n```\n./shadowsocks-libev-debian.sh uninstall\n```","slug":"Debian丨Ubuntu丨shadowsocks-libev一键安装脚本","published":1,"updated":"2017-09-04T08:53:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpt0009olejdbcutmlc","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>执行命令：(装完就开机启动)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-check-certificate -O shadowsocks-libev-debian.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh</span><br><span class=\"line\">chmod +x shadowsocks-libev-debian.sh</span><br><span class=\"line\">./shadowsocks-libev-debian.sh 2&gt;&amp;1 | tee shadowsocks-libev-debian.log</span><br></pre></td></tr></table></figure><p></p><p>默认设置：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">服务器端口：自己设定（如不设定，默认为 8989）</span><br><span class=\"line\">密码：自己设定（如不设定，默认为 teddysun.com）</span><br><span class=\"line\">加密方式：自己设定（如不设定，默认为 aes-256-gcm）</span><br></pre></td></tr></table></figure><p></p><p>管理命令：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">启动：/etc/init.d/shadowsocks start</span><br><span class=\"line\">停止：/etc/init.d/shadowsocks stop</span><br><span class=\"line\">重启：/etc/init.d/shadowsocks restart</span><br><span class=\"line\">查看状态：/etc/init.d/shadowsocks status</span><br></pre></td></tr></table></figure><p></p><p>修改配置文件(端口、密码)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/shadowsocks-libe/config.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class=\"line\">    &quot;server_port&quot;:9090,</span><br><span class=\"line\">    &quot;local_address&quot;:&quot;127.0.0.1&quot;,</span><br><span class=\"line\">    &quot;local_port&quot;:1080,</span><br><span class=\"line\">    &quot;password&quot;:&quot;password&quot;,</span><br><span class=\"line\">    &quot;timeout&quot;:600,</span><br><span class=\"line\">    &quot;method&quot;:&quot;aes-256-gcm&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>卸载命令<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./shadowsocks-libev-debian.sh uninstall</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>执行命令：(装完就开机启动)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-check-certificate -O shadowsocks-libev-debian.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh</span><br><span class=\"line\">chmod +x shadowsocks-libev-debian.sh</span><br><span class=\"line\">./shadowsocks-libev-debian.sh 2&gt;&amp;1 | tee shadowsocks-libev-debian.log</span><br></pre></td></tr></table></figure><p></p><p>默认设置：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">服务器端口：自己设定（如不设定，默认为 8989）</span><br><span class=\"line\">密码：自己设定（如不设定，默认为 teddysun.com）</span><br><span class=\"line\">加密方式：自己设定（如不设定，默认为 aes-256-gcm）</span><br></pre></td></tr></table></figure><p></p><p>管理命令：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">启动：/etc/init.d/shadowsocks start</span><br><span class=\"line\">停止：/etc/init.d/shadowsocks stop</span><br><span class=\"line\">重启：/etc/init.d/shadowsocks restart</span><br><span class=\"line\">查看状态：/etc/init.d/shadowsocks status</span><br></pre></td></tr></table></figure><p></p><p>修改配置文件(端口、密码)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/shadowsocks-libe/config.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class=\"line\">    &quot;server_port&quot;:9090,</span><br><span class=\"line\">    &quot;local_address&quot;:&quot;127.0.0.1&quot;,</span><br><span class=\"line\">    &quot;local_port&quot;:1080,</span><br><span class=\"line\">    &quot;password&quot;:&quot;password&quot;,</span><br><span class=\"line\">    &quot;timeout&quot;:600,</span><br><span class=\"line\">    &quot;method&quot;:&quot;aes-256-gcm&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>卸载命令<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./shadowsocks-libev-debian.sh uninstall</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"DockerFile - 创建java开发环境镜像","keywords":["DockerFile","docker"],"date":"2018-01-11T14:38:00.000Z","_content":"\n使用ubuntu官方发布的docker镜像进行二次修改\n\n这是一个菜鸟的脚本，执行命令应该是使用 & 连接，一个RUN命令搞定\n```\nFROM    ubuntu\nMAINTAINER      Fisher \"hisenyuan@gmail.com\"\nRUN     /bin/echo 'root:hisen' |chpasswd\nRUN     useradd hisen\nRUN     /bin/echo 'hisen:hisen' |chpasswd\nRUN     /bin/echo -e \"LANG=\\\"en_US.UTF-8\\\"\" >/etc/default/local\n# 显示系统位数\nRUN\t\tuname -p\n# 清空源 \nRUN     echo \"\" > /etc/apt/sources.list\n# 更换为阿里云源\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\" >> /etc/apt/sources.list\n# 更新源\nRUN\t\tapt-get update\n# 安装软件\nRUN     apt-get -y install vim\nRUN     apt-get -y install curl\nRUN     apt-get -y install wget\nRUN     apt-get -y install net-tools\nRUN     apt-get -y install iputils-ping\nRUN     apt-get -y install git\n# 创建软件文件夹\nRUN     mkdir -p /usr/hisen/soft/java\nRUN     mkdir -p /usr/hisen/soft/tomcat\nRUN     mkdir -p /usr/hisen/soft/maven\nRUN     mkdir -p /usr/hisen/soft/download\n# 添加本地软件包到指定文件夹（会自动解压，软件压缩包必须放在docker同级目录）\nADD jdk-8u151-linux-x64.tar.gz /usr/hisen/soft/java/\nADD apache-tomcat-8.5.24.tar.gz /usr/hisen/soft/tomcat/\nADD apache-maven-3.5.2-bin.tar.gz /usr/hisen/soft/maven/\n\n# 配置环境变量\n# java\nENV JAVA_HOME=/usr/hisen/soft/java/jdk1.8.0_151\nENV JRE_HOME=$JAVA_HOME/jre\nENV CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib\nENV PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\n# tomcat\nENV CATALINA_HOME=/usr/hisen/soft/tomcat/apache-tomcat-8.5.24\nENV CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib\nENV PATH=$PATH:$CATALINA_HOME/bin\n# maven\nENV MAVEN_HOME=/usr/hisen/soft/maven/apache-maven-3.5.2\nENV MAVEN_OPTS=\"-Xms256m -Xmx512m\"\nENV PATH=${MAVEN_HOME}/bin:$PATH\n\n# 监听端口\nEXPOSE  22\nEXPOSE  80\nEXPOSE  8080\nCMD     /usr/sbin/sshd -D\n```","source":"_posts/DockerFile - 创建java开发环境镜像.md","raw":"---\ntitle: DockerFile - 创建java开发环境镜像\nkeywords: [DockerFile,docker]\ndate: 2018/1/11 22:38\ntags: [docker]\ncategories: linux\n---\n\n使用ubuntu官方发布的docker镜像进行二次修改\n\n这是一个菜鸟的脚本，执行命令应该是使用 & 连接，一个RUN命令搞定\n```\nFROM    ubuntu\nMAINTAINER      Fisher \"hisenyuan@gmail.com\"\nRUN     /bin/echo 'root:hisen' |chpasswd\nRUN     useradd hisen\nRUN     /bin/echo 'hisen:hisen' |chpasswd\nRUN     /bin/echo -e \"LANG=\\\"en_US.UTF-8\\\"\" >/etc/default/local\n# 显示系统位数\nRUN\t\tuname -p\n# 清空源 \nRUN     echo \"\" > /etc/apt/sources.list\n# 更换为阿里云源\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\" >> /etc/apt/sources.list\nRUN\t\techo \"deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\" >> /etc/apt/sources.list\n# 更新源\nRUN\t\tapt-get update\n# 安装软件\nRUN     apt-get -y install vim\nRUN     apt-get -y install curl\nRUN     apt-get -y install wget\nRUN     apt-get -y install net-tools\nRUN     apt-get -y install iputils-ping\nRUN     apt-get -y install git\n# 创建软件文件夹\nRUN     mkdir -p /usr/hisen/soft/java\nRUN     mkdir -p /usr/hisen/soft/tomcat\nRUN     mkdir -p /usr/hisen/soft/maven\nRUN     mkdir -p /usr/hisen/soft/download\n# 添加本地软件包到指定文件夹（会自动解压，软件压缩包必须放在docker同级目录）\nADD jdk-8u151-linux-x64.tar.gz /usr/hisen/soft/java/\nADD apache-tomcat-8.5.24.tar.gz /usr/hisen/soft/tomcat/\nADD apache-maven-3.5.2-bin.tar.gz /usr/hisen/soft/maven/\n\n# 配置环境变量\n# java\nENV JAVA_HOME=/usr/hisen/soft/java/jdk1.8.0_151\nENV JRE_HOME=$JAVA_HOME/jre\nENV CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib\nENV PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\n# tomcat\nENV CATALINA_HOME=/usr/hisen/soft/tomcat/apache-tomcat-8.5.24\nENV CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib\nENV PATH=$PATH:$CATALINA_HOME/bin\n# maven\nENV MAVEN_HOME=/usr/hisen/soft/maven/apache-maven-3.5.2\nENV MAVEN_OPTS=\"-Xms256m -Xmx512m\"\nENV PATH=${MAVEN_HOME}/bin:$PATH\n\n# 监听端口\nEXPOSE  22\nEXPOSE  80\nEXPOSE  8080\nCMD     /usr/sbin/sshd -D\n```","slug":"DockerFile - 创建java开发环境镜像","published":1,"updated":"2018-01-11T14:44:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpw000dolej7ht9x86s","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>使用ubuntu官方发布的docker镜像进行二次修改</p><p>这是一个菜鸟的脚本，执行命令应该是使用 &amp; 连接，一个RUN命令搞定<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM    ubuntu</span><br><span class=\"line\">MAINTAINER      Fisher &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">RUN     /bin/echo &apos;root:hisen&apos; |chpasswd</span><br><span class=\"line\">RUN     useradd hisen</span><br><span class=\"line\">RUN     /bin/echo &apos;hisen:hisen&apos; |chpasswd</span><br><span class=\"line\">RUN     /bin/echo -e &quot;LANG=\\&quot;en_US.UTF-8\\&quot;&quot; &gt;/etc/default/local</span><br><span class=\"line\"># 显示系统位数</span><br><span class=\"line\">RUN\t\tuname -p</span><br><span class=\"line\"># 清空源 </span><br><span class=\"line\">RUN     echo &quot;&quot; &gt; /etc/apt/sources.list</span><br><span class=\"line\"># 更换为阿里云源</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\"># 更新源</span><br><span class=\"line\">RUN\t\tapt-get update</span><br><span class=\"line\"># 安装软件</span><br><span class=\"line\">RUN     apt-get -y install vim</span><br><span class=\"line\">RUN     apt-get -y install curl</span><br><span class=\"line\">RUN     apt-get -y install wget</span><br><span class=\"line\">RUN     apt-get -y install net-tools</span><br><span class=\"line\">RUN     apt-get -y install iputils-ping</span><br><span class=\"line\">RUN     apt-get -y install git</span><br><span class=\"line\"># 创建软件文件夹</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/java</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/tomcat</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/maven</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/download</span><br><span class=\"line\"># 添加本地软件包到指定文件夹（会自动解压，软件压缩包必须放在docker同级目录）</span><br><span class=\"line\">ADD jdk-8u151-linux-x64.tar.gz /usr/hisen/soft/java/</span><br><span class=\"line\">ADD apache-tomcat-8.5.24.tar.gz /usr/hisen/soft/tomcat/</span><br><span class=\"line\">ADD apache-maven-3.5.2-bin.tar.gz /usr/hisen/soft/maven/</span><br><span class=\"line\"></span><br><span class=\"line\"># 配置环境变量</span><br><span class=\"line\"># java</span><br><span class=\"line\">ENV JAVA_HOME=/usr/hisen/soft/java/jdk1.8.0_151</span><br><span class=\"line\">ENV JRE_HOME=$JAVA_HOME/jre</span><br><span class=\"line\">ENV CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br><span class=\"line\">ENV PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class=\"line\"># tomcat</span><br><span class=\"line\">ENV CATALINA_HOME=/usr/hisen/soft/tomcat/apache-tomcat-8.5.24</span><br><span class=\"line\">ENV CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib</span><br><span class=\"line\">ENV PATH=$PATH:$CATALINA_HOME/bin</span><br><span class=\"line\"># maven</span><br><span class=\"line\">ENV MAVEN_HOME=/usr/hisen/soft/maven/apache-maven-3.5.2</span><br><span class=\"line\">ENV MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;</span><br><span class=\"line\">ENV PATH=$&#123;MAVEN_HOME&#125;/bin:$PATH</span><br><span class=\"line\"></span><br><span class=\"line\"># 监听端口</span><br><span class=\"line\">EXPOSE  22</span><br><span class=\"line\">EXPOSE  80</span><br><span class=\"line\">EXPOSE  8080</span><br><span class=\"line\">CMD     /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>使用ubuntu官方发布的docker镜像进行二次修改</p><p>这是一个菜鸟的脚本，执行命令应该是使用 &amp; 连接，一个RUN命令搞定<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM    ubuntu</span><br><span class=\"line\">MAINTAINER      Fisher &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">RUN     /bin/echo &apos;root:hisen&apos; |chpasswd</span><br><span class=\"line\">RUN     useradd hisen</span><br><span class=\"line\">RUN     /bin/echo &apos;hisen:hisen&apos; |chpasswd</span><br><span class=\"line\">RUN     /bin/echo -e &quot;LANG=\\&quot;en_US.UTF-8\\&quot;&quot; &gt;/etc/default/local</span><br><span class=\"line\"># 显示系统位数</span><br><span class=\"line\">RUN\t\tuname -p</span><br><span class=\"line\"># 清空源 </span><br><span class=\"line\">RUN     echo &quot;&quot; &gt; /etc/apt/sources.list</span><br><span class=\"line\"># 更换为阿里云源</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\">RUN\t\techo &quot;deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\"># 更新源</span><br><span class=\"line\">RUN\t\tapt-get update</span><br><span class=\"line\"># 安装软件</span><br><span class=\"line\">RUN     apt-get -y install vim</span><br><span class=\"line\">RUN     apt-get -y install curl</span><br><span class=\"line\">RUN     apt-get -y install wget</span><br><span class=\"line\">RUN     apt-get -y install net-tools</span><br><span class=\"line\">RUN     apt-get -y install iputils-ping</span><br><span class=\"line\">RUN     apt-get -y install git</span><br><span class=\"line\"># 创建软件文件夹</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/java</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/tomcat</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/maven</span><br><span class=\"line\">RUN     mkdir -p /usr/hisen/soft/download</span><br><span class=\"line\"># 添加本地软件包到指定文件夹（会自动解压，软件压缩包必须放在docker同级目录）</span><br><span class=\"line\">ADD jdk-8u151-linux-x64.tar.gz /usr/hisen/soft/java/</span><br><span class=\"line\">ADD apache-tomcat-8.5.24.tar.gz /usr/hisen/soft/tomcat/</span><br><span class=\"line\">ADD apache-maven-3.5.2-bin.tar.gz /usr/hisen/soft/maven/</span><br><span class=\"line\"></span><br><span class=\"line\"># 配置环境变量</span><br><span class=\"line\"># java</span><br><span class=\"line\">ENV JAVA_HOME=/usr/hisen/soft/java/jdk1.8.0_151</span><br><span class=\"line\">ENV JRE_HOME=$JAVA_HOME/jre</span><br><span class=\"line\">ENV CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br><span class=\"line\">ENV PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class=\"line\"># tomcat</span><br><span class=\"line\">ENV CATALINA_HOME=/usr/hisen/soft/tomcat/apache-tomcat-8.5.24</span><br><span class=\"line\">ENV CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib</span><br><span class=\"line\">ENV PATH=$PATH:$CATALINA_HOME/bin</span><br><span class=\"line\"># maven</span><br><span class=\"line\">ENV MAVEN_HOME=/usr/hisen/soft/maven/apache-maven-3.5.2</span><br><span class=\"line\">ENV MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;</span><br><span class=\"line\">ENV PATH=$&#123;MAVEN_HOME&#125;/bin:$PATH</span><br><span class=\"line\"></span><br><span class=\"line\"># 监听端口</span><br><span class=\"line\">EXPOSE  22</span><br><span class=\"line\">EXPOSE  80</span><br><span class=\"line\">EXPOSE  8080</span><br><span class=\"line\">CMD     /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Docker一键安装脚本Ubuntu-Debian-CentOS-Fedora-racleLinux","keywords":["Docker一件安装脚本","Docker一件安装"],"date":"2017-04-17T08:36:00.000Z","_content":"系统要求\nUbuntu 14.04、16.04\n\nDebian 7.7、8.0\n\nCentOS 7.X\n\nFedora 20、21、22\n\nOracleLinux 6、7\n\n安装方法：\n```\ncurl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -\n```\n详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a>","source":"_posts/Docker一件安装脚本Ubuntu-Debian-CentOS-Fedora-racleLinux.md","raw":"---\ntitle: Docker一键安装脚本Ubuntu-Debian-CentOS-Fedora-racleLinux\nkeywords: [Docker一件安装脚本,Docker一件安装]\ndate: 2017/4/17 16:36\ntags: [docker]\ncategories: linux\n---\n系统要求\nUbuntu 14.04、16.04\n\nDebian 7.7、8.0\n\nCentOS 7.X\n\nFedora 20、21、22\n\nOracleLinux 6、7\n\n安装方法：\n```\ncurl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -\n```\n详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a>","slug":"Docker一件安装脚本Ubuntu-Debian-CentOS-Fedora-racleLinux","published":1,"updated":"2017-04-17T09:27:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpx000eolejnp2l136y","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>系统要求<br>Ubuntu 14.04、16.04</p><p>Debian 7.7、8.0</p><p>CentOS 7.X</p><p>Fedora 20、21、22</p><p>OracleLinux 6、7</p><p>安装方法：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</span><br></pre></td></tr></table></figure><p></p><p>详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>系统要求<br>Ubuntu 14.04、16.04</p><p>Debian 7.7、8.0</p><p>CentOS 7.X</p><p>Fedora 20、21、22</p><p>OracleLinux 6、7</p><p>安装方法：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</span><br></pre></td></tr></table></figure><p></p><p>详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a></p><!-- rebuild by neat -->"},{"title":"Get参数串KV与Map互转 - 利用java8 Stream","keywords":"map,get,stream","date":"2018-07-12T16:25:02.000Z","_content":"\n\n\n## 一、背景\n在各种系统需要加签的时\n一般都会把参与签名的数据以get请求参数拼接起来\n并且要求有序，这个方法会比较方便\n\n## 二、实现\n### 2.1  拼接为有序的get请求类字符串\n```\n    public String getSortedStr(Map<String, String> unSortedStr) {\n        String sortedStr= unSortedStr\n                .entrySet()\n                .stream()\n                .filter(entry -> !StringUtil.isEmpty(entry.getValue()))\n                .sorted(Map.Entry.comparingByKey())\n                .map(entry -> entry.getKey() + \"=\" + entry.getValue())\n                .collect(Collectors.joining(\"&\"));\n        return sortedStr;\n    }\n```\n### 2.2 把get类参数字符串转为map\n```\n    private Map<String,String> getMapData(String getStr){\n        String[] strs = getStr.split(\"&\");\n        HashMap<String, String> dataMap = new HashMap<>(16);\n        for (int i = 0; i < strs.length; i++) {\n            String[] str = strs[i].split(\"=\");\n            dataMap.put(str[0], str[1]);\n        }\n        return dataMap;\n    }\n```\n\n对于get类字符串没有发现比较好的方法转换为map","source":"_posts/Get参数串KV与Map互转 - 利用java8 Stream.md","raw":"---\ntitle: Get参数串KV与Map互转 - 利用java8 Stream\nkeywords: map,get,stream\ncategories: java\ndate: 2018-07-13 00:25:02\ntags: java\n---\n\n\n\n## 一、背景\n在各种系统需要加签的时\n一般都会把参与签名的数据以get请求参数拼接起来\n并且要求有序，这个方法会比较方便\n\n## 二、实现\n### 2.1  拼接为有序的get请求类字符串\n```\n    public String getSortedStr(Map<String, String> unSortedStr) {\n        String sortedStr= unSortedStr\n                .entrySet()\n                .stream()\n                .filter(entry -> !StringUtil.isEmpty(entry.getValue()))\n                .sorted(Map.Entry.comparingByKey())\n                .map(entry -> entry.getKey() + \"=\" + entry.getValue())\n                .collect(Collectors.joining(\"&\"));\n        return sortedStr;\n    }\n```\n### 2.2 把get类参数字符串转为map\n```\n    private Map<String,String> getMapData(String getStr){\n        String[] strs = getStr.split(\"&\");\n        HashMap<String, String> dataMap = new HashMap<>(16);\n        for (int i = 0; i < strs.length; i++) {\n            String[] str = strs[i].split(\"=\");\n            dataMap.put(str[0], str[1]);\n        }\n        return dataMap;\n    }\n```\n\n对于get类字符串没有发现比较好的方法转换为map","slug":"Get参数串KV与Map互转 - 利用java8 Stream","published":1,"updated":"2018-07-12T16:51:06.038Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdpz000iolej1k6kz9pv","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、背景\"><a href=\"#一、背景\" class=\"headerlink\" title=\"一、背景\"></a>一、背景</h2><p>在各种系统需要加签的时<br>一般都会把参与签名的数据以get请求参数拼接起来<br>并且要求有序，这个方法会比较方便</p><h2 id=\"二、实现\"><a href=\"#二、实现\" class=\"headerlink\" title=\"二、实现\"></a>二、实现</h2><h3 id=\"2-1-拼接为有序的get请求类字符串\"><a href=\"#2-1-拼接为有序的get请求类字符串\" class=\"headerlink\" title=\"2.1  拼接为有序的get请求类字符串\"></a>2.1 拼接为有序的get请求类字符串</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public String getSortedStr(Map&lt;String, String&gt; unSortedStr) &#123;</span><br><span class=\"line\">    String sortedStr= unSortedStr</span><br><span class=\"line\">            .entrySet()</span><br><span class=\"line\">            .stream()</span><br><span class=\"line\">            .filter(entry -&gt; !StringUtil.isEmpty(entry.getValue()))</span><br><span class=\"line\">            .sorted(Map.Entry.comparingByKey())</span><br><span class=\"line\">            .map(entry -&gt; entry.getKey() + &quot;=&quot; + entry.getValue())</span><br><span class=\"line\">            .collect(Collectors.joining(&quot;&amp;&quot;));</span><br><span class=\"line\">    return sortedStr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h3 id=\"2-2-把get类参数字符串转为map\"><a href=\"#2-2-把get类参数字符串转为map\" class=\"headerlink\" title=\"2.2 把get类参数字符串转为map\"></a>2.2 把get类参数字符串转为map</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private Map&lt;String,String&gt; getMapData(String getStr)&#123;</span><br><span class=\"line\">    String[] strs = getStr.split(&quot;&amp;&quot;);</span><br><span class=\"line\">    HashMap&lt;String, String&gt; dataMap = new HashMap&lt;&gt;(16);</span><br><span class=\"line\">    for (int i = 0; i &lt; strs.length; i++) &#123;</span><br><span class=\"line\">        String[] str = strs[i].split(&quot;=&quot;);</span><br><span class=\"line\">        dataMap.put(str[0], str[1]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return dataMap;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>对于get类字符串没有发现比较好的方法转换为map</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、背景\"><a href=\"#一、背景\" class=\"headerlink\" title=\"一、背景\"></a>一、背景</h2><p>在各种系统需要加签的时<br>一般都会把参与签名的数据以get请求参数拼接起来<br>并且要求有序，这个方法会比较方便</p><h2 id=\"二、实现\"><a href=\"#二、实现\" class=\"headerlink\" title=\"二、实现\"></a>二、实现</h2><h3 id=\"2-1-拼接为有序的get请求类字符串\"><a href=\"#2-1-拼接为有序的get请求类字符串\" class=\"headerlink\" title=\"2.1  拼接为有序的get请求类字符串\"></a>2.1 拼接为有序的get请求类字符串</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public String getSortedStr(Map&lt;String, String&gt; unSortedStr) &#123;</span><br><span class=\"line\">    String sortedStr= unSortedStr</span><br><span class=\"line\">            .entrySet()</span><br><span class=\"line\">            .stream()</span><br><span class=\"line\">            .filter(entry -&gt; !StringUtil.isEmpty(entry.getValue()))</span><br><span class=\"line\">            .sorted(Map.Entry.comparingByKey())</span><br><span class=\"line\">            .map(entry -&gt; entry.getKey() + &quot;=&quot; + entry.getValue())</span><br><span class=\"line\">            .collect(Collectors.joining(&quot;&amp;&quot;));</span><br><span class=\"line\">    return sortedStr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h3 id=\"2-2-把get类参数字符串转为map\"><a href=\"#2-2-把get类参数字符串转为map\" class=\"headerlink\" title=\"2.2 把get类参数字符串转为map\"></a>2.2 把get类参数字符串转为map</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private Map&lt;String,String&gt; getMapData(String getStr)&#123;</span><br><span class=\"line\">    String[] strs = getStr.split(&quot;&amp;&quot;);</span><br><span class=\"line\">    HashMap&lt;String, String&gt; dataMap = new HashMap&lt;&gt;(16);</span><br><span class=\"line\">    for (int i = 0; i &lt; strs.length; i++) &#123;</span><br><span class=\"line\">        String[] str = strs[i].split(&quot;=&quot;);</span><br><span class=\"line\">        dataMap.put(str[0], str[1]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return dataMap;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>对于get类字符串没有发现比较好的方法转换为map</p><!-- rebuild by neat -->"},{"title":"Git Bash tree（windows）让windows支持tree","keywords":["Git Bash tree"],"date":"2017-07-12T17:24:00.000Z","_content":"在安装了git客户端之后，发现Git Bash挺好用\n\n之前在linux shell用过tree命令感觉不错\n\n发现Git Bash也可以实现，于是就记录一下\n\n下载地址：<a href=\"http://gnuwin32.sourceforge.net/packages/tree.htm\" target=\"_blank\">点击前往</a>\n\n下载文件： Binaries\t \tZip\n\n解压文件：bin目录下找到tree.exe\n\n把这个放到git安装目录下后的路径：C:\\Program Files\\Git\\usr\\bin\\tree.exe\n\n测试：虽然有点丑。。。\n<!--more-->\n```\nhisen@HiSEN MINGW64 /c/code/SpringBootCLI/myapp\n$ tree\n.\n|-- mvnw\n|-- mvnw.cmd\n|-- pom.xml\n`-- src\n    |-- main\n    |   |-- java\n    |   |   `-- com\n    |   |       `-- example\n    |   |           `-- myapp\n    |   |               |-- DemoApplication.java\n    |   |               `-- ServletInitializer.java\n    |   `-- resources\n    |       |-- application.properties\n    |       |-- static\n    |       `-- templates\n    `-- test\n        `-- java\n            `-- com\n                `-- example\n                    `-- myapp\n                        `-- DemoApplicationTests.java\n\n14 directories, 7 files\n```","source":"_posts/Git Bash tree（windows）.md","raw":"---\ntitle: Git Bash tree（windows）让windows支持tree\nkeywords: [Git Bash tree]\ndate: 2017/7/13 1:24\ntags: [linux]\ncategories: linux\n---\n在安装了git客户端之后，发现Git Bash挺好用\n\n之前在linux shell用过tree命令感觉不错\n\n发现Git Bash也可以实现，于是就记录一下\n\n下载地址：<a href=\"http://gnuwin32.sourceforge.net/packages/tree.htm\" target=\"_blank\">点击前往</a>\n\n下载文件： Binaries\t \tZip\n\n解压文件：bin目录下找到tree.exe\n\n把这个放到git安装目录下后的路径：C:\\Program Files\\Git\\usr\\bin\\tree.exe\n\n测试：虽然有点丑。。。\n<!--more-->\n```\nhisen@HiSEN MINGW64 /c/code/SpringBootCLI/myapp\n$ tree\n.\n|-- mvnw\n|-- mvnw.cmd\n|-- pom.xml\n`-- src\n    |-- main\n    |   |-- java\n    |   |   `-- com\n    |   |       `-- example\n    |   |           `-- myapp\n    |   |               |-- DemoApplication.java\n    |   |               `-- ServletInitializer.java\n    |   `-- resources\n    |       |-- application.properties\n    |       |-- static\n    |       `-- templates\n    `-- test\n        `-- java\n            `-- com\n                `-- example\n                    `-- myapp\n                        `-- DemoApplicationTests.java\n\n14 directories, 7 files\n```","slug":"Git Bash tree（windows）","published":1,"updated":"2017-07-12T17:30:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq0000lolejujjv3cx0","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在安装了git客户端之后，发现Git Bash挺好用</p><p>之前在linux shell用过tree命令感觉不错</p><p>发现Git Bash也可以实现，于是就记录一下</p><p>下载地址：<a href=\"http://gnuwin32.sourceforge.net/packages/tree.htm\" target=\"_blank\">点击前往</a></p><p>下载文件： Binaries Zip</p><p>解压文件：bin目录下找到tree.exe</p><p>把这个放到git安装目录下后的路径：C:\\Program Files\\Git\\usr\\bin\\tree.exe</p><p>测试：虽然有点丑。。。<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@HiSEN MINGW64 /c/code/SpringBootCLI/myapp</span><br><span class=\"line\">$ tree</span><br><span class=\"line\">.</span><br><span class=\"line\">|-- mvnw</span><br><span class=\"line\">|-- mvnw.cmd</span><br><span class=\"line\">|-- pom.xml</span><br><span class=\"line\">`-- src</span><br><span class=\"line\">    |-- main</span><br><span class=\"line\">    |   |-- java</span><br><span class=\"line\">    |   |   `-- com</span><br><span class=\"line\">    |   |       `-- example</span><br><span class=\"line\">    |   |           `-- myapp</span><br><span class=\"line\">    |   |               |-- DemoApplication.java</span><br><span class=\"line\">    |   |               `-- ServletInitializer.java</span><br><span class=\"line\">    |   `-- resources</span><br><span class=\"line\">    |       |-- application.properties</span><br><span class=\"line\">    |       |-- static</span><br><span class=\"line\">    |       `-- templates</span><br><span class=\"line\">    `-- test</span><br><span class=\"line\">        `-- java</span><br><span class=\"line\">            `-- com</span><br><span class=\"line\">                `-- example</span><br><span class=\"line\">                    `-- myapp</span><br><span class=\"line\">                        `-- DemoApplicationTests.java</span><br><span class=\"line\"></span><br><span class=\"line\">14 directories, 7 files</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在安装了git客户端之后，发现Git Bash挺好用</p><p>之前在linux shell用过tree命令感觉不错</p><p>发现Git Bash也可以实现，于是就记录一下</p><p>下载地址：<a href=\"http://gnuwin32.sourceforge.net/packages/tree.htm\" target=\"_blank\">点击前往</a></p><p>下载文件： Binaries Zip</p><p>解压文件：bin目录下找到tree.exe</p><p>把这个放到git安装目录下后的路径：C:\\Program Files\\Git\\usr\\bin\\tree.exe</p><p>测试：虽然有点丑。。。<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@HiSEN MINGW64 /c/code/SpringBootCLI/myapp</span><br><span class=\"line\">$ tree</span><br><span class=\"line\">.</span><br><span class=\"line\">|-- mvnw</span><br><span class=\"line\">|-- mvnw.cmd</span><br><span class=\"line\">|-- pom.xml</span><br><span class=\"line\">`-- src</span><br><span class=\"line\">    |-- main</span><br><span class=\"line\">    |   |-- java</span><br><span class=\"line\">    |   |   `-- com</span><br><span class=\"line\">    |   |       `-- example</span><br><span class=\"line\">    |   |           `-- myapp</span><br><span class=\"line\">    |   |               |-- DemoApplication.java</span><br><span class=\"line\">    |   |               `-- ServletInitializer.java</span><br><span class=\"line\">    |   `-- resources</span><br><span class=\"line\">    |       |-- application.properties</span><br><span class=\"line\">    |       |-- static</span><br><span class=\"line\">    |       `-- templates</span><br><span class=\"line\">    `-- test</span><br><span class=\"line\">        `-- java</span><br><span class=\"line\">            `-- com</span><br><span class=\"line\">                `-- example</span><br><span class=\"line\">                    `-- myapp</span><br><span class=\"line\">                        `-- DemoApplicationTests.java</span><br><span class=\"line\"></span><br><span class=\"line\">14 directories, 7 files</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Google java工具类 - Guava - 常见用法","keywords":["Google","Guava"],"date":"2017-08-01T02:58:00.000Z","_content":"\n概述\n\n工具类 就是封装平常用的方法，不需要你重复造轮子，节省开发人员时间，提高工作效率。谷歌作为大公司，当然会从日常的工作中提取中很多高效率的方法出来。所以就诞生了Guava。\n\n高效设计良好的API，被Google的开发者设计，实现和使用\n\n遵循高效的java语法实践\n\n使代码更刻度，简洁，简单\n\n节约时间，资源，提高生产力 Guava工程\n\n包含了若干被Google的 Java项目广泛依赖 的核心库，例如：\n1. 集合 [collections]\n2. 缓存 [caching]\n3. 原生类型支持 [primitives support]\n4. 并发库 [concurrency libraries]\n5. 通用注解 [common annotations]\n6. 字符串处理 [string processing]\n7. I/O 等等。\n\n部分用法如下：\n<!--more-->\n```\npublic class CommonUsage {\n\n  /**\n   * 2.集合转换为特定格式的字符串\n   */\n  @Test\n  public void collection2Srt() {\n    //List转\n    List<String> list = new ArrayList<String>();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    list.add(\"d\");\n    list.add(\"e\");\n    list.add(\"f\");\n    String result = Joiner.on(\"-\").join(list);\n    System.out.println(result);//a-b-c-d-e-f\n\n    //Map 转\n    HashMap<String, Integer> map = Maps.newHashMap();\n    map.put(\"a\", 1);\n    map.put(\"b\", 2);\n    map.put(\"c\", 3);\n    //on 分隔符，withKeyValueSeparator key value之间的分隔符\n    String s = Joiner.on(\",\").withKeyValueSeparator(\"=\").join(map);\n    System.out.println(s);//a=1,b=2,c=3\n  }\n\n  /**\n   * 3.将String 转为特定的集合\n   */\n  @Test\n  public void str2Collection() {\n    String s = \"1,2,3,4,5,6,7,8,9\";\n    List<String> list = Splitter.on(\",\").splitToList(s);\n    System.out.println(list);\n\n    s = \"1-2-3-4- 5-  6  \";\n    //去除空串与空格\n    List<String> list1 = Splitter.on(\"-\").omitEmptyStrings().trimResults().splitToList(s);\n    System.out.println(list1);\n\n    //将String转换为map\n    String str = \"a=1,b=2\";\n    Map<String, String> map = Splitter.on(\",\").withKeyValueSeparator(\"=\").split(str);\n  }\n\n  /**\n   * 4.多个字符切割，或者特定的正则分隔\n   */\n  @Test\n  public void strSplit() {\n    String input = \"aa.dd,,ff,,.\";\n    List<String> list = Splitter.onPattern(\"[.|,]\").omitEmptyStrings().trimResults()\n        .splitToList(input);\n    System.out.println(list);\n    // 判断匹配结果\n    boolean result = CharMatcher.inRange('a', 'z').or(CharMatcher.inRange('A', 'Z'))\n        .matches('K');//true\n    // 保留数字文本\n    String s1 = CharMatcher.digit().retainFrom(\"abc 123 efg\");//123\n    // 删除数字文本\n    String s2 = CharMatcher.digit().removeFrom(\"abc 123 efg\");//abc  efg\n  }\n  /**\n   * 9.计算程序开始结束用了多少时间\n   */\n  @Test\n  public void countTime() {\n    Stopwatch stopwatch = Stopwatch.createStarted();\n    for (int i = 0; i < 100000; i++) {\n    }\n    //TimeUnit可以指定时间精度\n    long nanos = stopwatch.elapsed(TimeUnit.MILLISECONDS);\n    System.out.println(nanos);\n  }\n  /**\n   * 10.Files 文件操作\n   * 方便，\n   */\n  @Test\n  public void filesOperation() {\n    String fileName = \"./src/main/java/com/hisen/jars/guava/test.txt\";\n    for (int i = 0; i < 1000; i++) {\n      //写\n      filesWrite(fileName, String.valueOf(i) + \"\\n\");\n    }\n    //读\n    List<String> list = filesRead(fileName);\n    System.out.println(\"读取到的内容：\" + list.toString());\n//    Files.copy(sourceFile, targetFile); //复制文件\n//    Files.equal(File,File);//比较文件内容是否完全一致\n//    touch方法创建或者更新文件的时间戳。\n//    createTempDir()方法创建临时目录\n//    Files.createParentDirs(File) 创建父级目录\n//    getChecksum(File)获得文件的checksum\n//    hash(File)获得文件的hashmap系列方法获得文件的内存映射\n//    getFileExtension(String)获得文件的扩展名\n//    getNameWithoutExtension(String file)获得不带扩展名的文件名\n  }\n\n  /**\n   * Files写文件\n   *\n   * @param fileName 文件名（包括路径）\n   * @param contents 写入的单行内容\n   */\n  public void filesWrite(final String fileName, final String contents) {\n    checkNotNull(fileName, \"文件名称不能为空\");\n    checkNotNull(contents, \"写入内容不能为空\");\n    final File file = new File(fileName);\n    try {\n      //Files.write(contents.getBytes(), file);//覆盖\n      Files.append(contents, file, Charsets.UTF_8);//追加\n    } catch (IOException e) {\n      System.out.println(\"ERROR trying to write to file '\" + fileName + \"' - \"\n          + e.toString());\n    }\n  }\n\n  /**\n   * Files 文件单行读取\n   *\n   * @param filePath 文件名(包括路径)\n   */\n  public List<String> filesRead(String filePath) {\n    checkNotNull(filePath, \"文件名称不能为空\");\n    File file = new File(filePath);\n    List<String> list = null;\n    try {\n      list = Files.readLines(file, Charsets.UTF_8);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return list;\n  }\n}\n```\n\n部分摘自：<a href=\"http://blog.csdn.net/yyychyzzzz/article/details/54983574\" target=\"_blank\">点击查看</a>","source":"_posts/Google java工具类 - Guava - 常见用法.md","raw":"---\ntitle: Google java工具类 - Guava - 常见用法\nkeywords: [Google,Guava]\ndate: 2017/8/1 10:58\ntags: [java,google,jar]\ncategories: java\n---\n\n概述\n\n工具类 就是封装平常用的方法，不需要你重复造轮子，节省开发人员时间，提高工作效率。谷歌作为大公司，当然会从日常的工作中提取中很多高效率的方法出来。所以就诞生了Guava。\n\n高效设计良好的API，被Google的开发者设计，实现和使用\n\n遵循高效的java语法实践\n\n使代码更刻度，简洁，简单\n\n节约时间，资源，提高生产力 Guava工程\n\n包含了若干被Google的 Java项目广泛依赖 的核心库，例如：\n1. 集合 [collections]\n2. 缓存 [caching]\n3. 原生类型支持 [primitives support]\n4. 并发库 [concurrency libraries]\n5. 通用注解 [common annotations]\n6. 字符串处理 [string processing]\n7. I/O 等等。\n\n部分用法如下：\n<!--more-->\n```\npublic class CommonUsage {\n\n  /**\n   * 2.集合转换为特定格式的字符串\n   */\n  @Test\n  public void collection2Srt() {\n    //List转\n    List<String> list = new ArrayList<String>();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    list.add(\"d\");\n    list.add(\"e\");\n    list.add(\"f\");\n    String result = Joiner.on(\"-\").join(list);\n    System.out.println(result);//a-b-c-d-e-f\n\n    //Map 转\n    HashMap<String, Integer> map = Maps.newHashMap();\n    map.put(\"a\", 1);\n    map.put(\"b\", 2);\n    map.put(\"c\", 3);\n    //on 分隔符，withKeyValueSeparator key value之间的分隔符\n    String s = Joiner.on(\",\").withKeyValueSeparator(\"=\").join(map);\n    System.out.println(s);//a=1,b=2,c=3\n  }\n\n  /**\n   * 3.将String 转为特定的集合\n   */\n  @Test\n  public void str2Collection() {\n    String s = \"1,2,3,4,5,6,7,8,9\";\n    List<String> list = Splitter.on(\",\").splitToList(s);\n    System.out.println(list);\n\n    s = \"1-2-3-4- 5-  6  \";\n    //去除空串与空格\n    List<String> list1 = Splitter.on(\"-\").omitEmptyStrings().trimResults().splitToList(s);\n    System.out.println(list1);\n\n    //将String转换为map\n    String str = \"a=1,b=2\";\n    Map<String, String> map = Splitter.on(\",\").withKeyValueSeparator(\"=\").split(str);\n  }\n\n  /**\n   * 4.多个字符切割，或者特定的正则分隔\n   */\n  @Test\n  public void strSplit() {\n    String input = \"aa.dd,,ff,,.\";\n    List<String> list = Splitter.onPattern(\"[.|,]\").omitEmptyStrings().trimResults()\n        .splitToList(input);\n    System.out.println(list);\n    // 判断匹配结果\n    boolean result = CharMatcher.inRange('a', 'z').or(CharMatcher.inRange('A', 'Z'))\n        .matches('K');//true\n    // 保留数字文本\n    String s1 = CharMatcher.digit().retainFrom(\"abc 123 efg\");//123\n    // 删除数字文本\n    String s2 = CharMatcher.digit().removeFrom(\"abc 123 efg\");//abc  efg\n  }\n  /**\n   * 9.计算程序开始结束用了多少时间\n   */\n  @Test\n  public void countTime() {\n    Stopwatch stopwatch = Stopwatch.createStarted();\n    for (int i = 0; i < 100000; i++) {\n    }\n    //TimeUnit可以指定时间精度\n    long nanos = stopwatch.elapsed(TimeUnit.MILLISECONDS);\n    System.out.println(nanos);\n  }\n  /**\n   * 10.Files 文件操作\n   * 方便，\n   */\n  @Test\n  public void filesOperation() {\n    String fileName = \"./src/main/java/com/hisen/jars/guava/test.txt\";\n    for (int i = 0; i < 1000; i++) {\n      //写\n      filesWrite(fileName, String.valueOf(i) + \"\\n\");\n    }\n    //读\n    List<String> list = filesRead(fileName);\n    System.out.println(\"读取到的内容：\" + list.toString());\n//    Files.copy(sourceFile, targetFile); //复制文件\n//    Files.equal(File,File);//比较文件内容是否完全一致\n//    touch方法创建或者更新文件的时间戳。\n//    createTempDir()方法创建临时目录\n//    Files.createParentDirs(File) 创建父级目录\n//    getChecksum(File)获得文件的checksum\n//    hash(File)获得文件的hashmap系列方法获得文件的内存映射\n//    getFileExtension(String)获得文件的扩展名\n//    getNameWithoutExtension(String file)获得不带扩展名的文件名\n  }\n\n  /**\n   * Files写文件\n   *\n   * @param fileName 文件名（包括路径）\n   * @param contents 写入的单行内容\n   */\n  public void filesWrite(final String fileName, final String contents) {\n    checkNotNull(fileName, \"文件名称不能为空\");\n    checkNotNull(contents, \"写入内容不能为空\");\n    final File file = new File(fileName);\n    try {\n      //Files.write(contents.getBytes(), file);//覆盖\n      Files.append(contents, file, Charsets.UTF_8);//追加\n    } catch (IOException e) {\n      System.out.println(\"ERROR trying to write to file '\" + fileName + \"' - \"\n          + e.toString());\n    }\n  }\n\n  /**\n   * Files 文件单行读取\n   *\n   * @param filePath 文件名(包括路径)\n   */\n  public List<String> filesRead(String filePath) {\n    checkNotNull(filePath, \"文件名称不能为空\");\n    File file = new File(filePath);\n    List<String> list = null;\n    try {\n      list = Files.readLines(file, Charsets.UTF_8);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return list;\n  }\n}\n```\n\n部分摘自：<a href=\"http://blog.csdn.net/yyychyzzzz/article/details/54983574\" target=\"_blank\">点击查看</a>","slug":"Google java工具类 - Guava - 常见用法","published":1,"updated":"2017-08-01T03:05:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq1000qoleja4n56wnf","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>概述</p><p>工具类 就是封装平常用的方法，不需要你重复造轮子，节省开发人员时间，提高工作效率。谷歌作为大公司，当然会从日常的工作中提取中很多高效率的方法出来。所以就诞生了Guava。</p><p>高效设计良好的API，被Google的开发者设计，实现和使用</p><p>遵循高效的java语法实践</p><p>使代码更刻度，简洁，简单</p><p>节约时间，资源，提高生产力 Guava工程</p><p>包含了若干被Google的 Java项目广泛依赖 的核心库，例如：</p><ol><li>集合 [collections]</li><li>缓存 [caching]</li><li>原生类型支持 [primitives support]</li><li>并发库 [concurrency libraries]</li><li>通用注解 [common annotations]</li><li>字符串处理 [string processing]</li><li>I/O 等等。</li></ol><p>部分用法如下：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class CommonUsage &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 2.集合转换为特定格式的字符串</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void collection2Srt() &#123;</span><br><span class=\"line\">    //List转</span><br><span class=\"line\">    List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class=\"line\">    list.add(&quot;a&quot;);</span><br><span class=\"line\">    list.add(&quot;b&quot;);</span><br><span class=\"line\">    list.add(&quot;c&quot;);</span><br><span class=\"line\">    list.add(&quot;d&quot;);</span><br><span class=\"line\">    list.add(&quot;e&quot;);</span><br><span class=\"line\">    list.add(&quot;f&quot;);</span><br><span class=\"line\">    String result = Joiner.on(&quot;-&quot;).join(list);</span><br><span class=\"line\">    System.out.println(result);//a-b-c-d-e-f</span><br><span class=\"line\"></span><br><span class=\"line\">    //Map 转</span><br><span class=\"line\">    HashMap&lt;String, Integer&gt; map = Maps.newHashMap();</span><br><span class=\"line\">    map.put(&quot;a&quot;, 1);</span><br><span class=\"line\">    map.put(&quot;b&quot;, 2);</span><br><span class=\"line\">    map.put(&quot;c&quot;, 3);</span><br><span class=\"line\">    //on 分隔符，withKeyValueSeparator key value之间的分隔符</span><br><span class=\"line\">    String s = Joiner.on(&quot;,&quot;).withKeyValueSeparator(&quot;=&quot;).join(map);</span><br><span class=\"line\">    System.out.println(s);//a=1,b=2,c=3</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 3.将String 转为特定的集合</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void str2Collection() &#123;</span><br><span class=\"line\">    String s = &quot;1,2,3,4,5,6,7,8,9&quot;;</span><br><span class=\"line\">    List&lt;String&gt; list = Splitter.on(&quot;,&quot;).splitToList(s);</span><br><span class=\"line\">    System.out.println(list);</span><br><span class=\"line\"></span><br><span class=\"line\">    s = &quot;1-2-3-4- 5-  6  &quot;;</span><br><span class=\"line\">    //去除空串与空格</span><br><span class=\"line\">    List&lt;String&gt; list1 = Splitter.on(&quot;-&quot;).omitEmptyStrings().trimResults().splitToList(s);</span><br><span class=\"line\">    System.out.println(list1);</span><br><span class=\"line\"></span><br><span class=\"line\">    //将String转换为map</span><br><span class=\"line\">    String str = &quot;a=1,b=2&quot;;</span><br><span class=\"line\">    Map&lt;String, String&gt; map = Splitter.on(&quot;,&quot;).withKeyValueSeparator(&quot;=&quot;).split(str);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 4.多个字符切割，或者特定的正则分隔</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void strSplit() &#123;</span><br><span class=\"line\">    String input = &quot;aa.dd,,ff,,.&quot;;</span><br><span class=\"line\">    List&lt;String&gt; list = Splitter.onPattern(&quot;[.|,]&quot;).omitEmptyStrings().trimResults()</span><br><span class=\"line\">        .splitToList(input);</span><br><span class=\"line\">    System.out.println(list);</span><br><span class=\"line\">    // 判断匹配结果</span><br><span class=\"line\">    boolean result = CharMatcher.inRange(&apos;a&apos;, &apos;z&apos;).or(CharMatcher.inRange(&apos;A&apos;, &apos;Z&apos;))</span><br><span class=\"line\">        .matches(&apos;K&apos;);//true</span><br><span class=\"line\">    // 保留数字文本</span><br><span class=\"line\">    String s1 = CharMatcher.digit().retainFrom(&quot;abc 123 efg&quot;);//123</span><br><span class=\"line\">    // 删除数字文本</span><br><span class=\"line\">    String s2 = CharMatcher.digit().removeFrom(&quot;abc 123 efg&quot;);//abc  efg</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 9.计算程序开始结束用了多少时间</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void countTime() &#123;</span><br><span class=\"line\">    Stopwatch stopwatch = Stopwatch.createStarted();</span><br><span class=\"line\">    for (int i = 0; i &lt; 100000; i++) &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    //TimeUnit可以指定时间精度</span><br><span class=\"line\">    long nanos = stopwatch.elapsed(TimeUnit.MILLISECONDS);</span><br><span class=\"line\">    System.out.println(nanos);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 10.Files 文件操作</span><br><span class=\"line\">   * 方便，</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void filesOperation() &#123;</span><br><span class=\"line\">    String fileName = &quot;./src/main/java/com/hisen/jars/guava/test.txt&quot;;</span><br><span class=\"line\">    for (int i = 0; i &lt; 1000; i++) &#123;</span><br><span class=\"line\">      //写</span><br><span class=\"line\">      filesWrite(fileName, String.valueOf(i) + &quot;\\n&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    //读</span><br><span class=\"line\">    List&lt;String&gt; list = filesRead(fileName);</span><br><span class=\"line\">    System.out.println(&quot;读取到的内容：&quot; + list.toString());</span><br><span class=\"line\">//    Files.copy(sourceFile, targetFile); //复制文件</span><br><span class=\"line\">//    Files.equal(File,File);//比较文件内容是否完全一致</span><br><span class=\"line\">//    touch方法创建或者更新文件的时间戳。</span><br><span class=\"line\">//    createTempDir()方法创建临时目录</span><br><span class=\"line\">//    Files.createParentDirs(File) 创建父级目录</span><br><span class=\"line\">//    getChecksum(File)获得文件的checksum</span><br><span class=\"line\">//    hash(File)获得文件的hashmap系列方法获得文件的内存映射</span><br><span class=\"line\">//    getFileExtension(String)获得文件的扩展名</span><br><span class=\"line\">//    getNameWithoutExtension(String file)获得不带扩展名的文件名</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * Files写文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param fileName 文件名（包括路径）</span><br><span class=\"line\">   * @param contents 写入的单行内容</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void filesWrite(final String fileName, final String contents) &#123;</span><br><span class=\"line\">    checkNotNull(fileName, &quot;文件名称不能为空&quot;);</span><br><span class=\"line\">    checkNotNull(contents, &quot;写入内容不能为空&quot;);</span><br><span class=\"line\">    final File file = new File(fileName);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      //Files.write(contents.getBytes(), file);//覆盖</span><br><span class=\"line\">      Files.append(contents, file, Charsets.UTF_8);//追加</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      System.out.println(&quot;ERROR trying to write to file &apos;&quot; + fileName + &quot;&apos; - &quot;</span><br><span class=\"line\">          + e.toString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * Files 文件单行读取</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param filePath 文件名(包括路径)</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public List&lt;String&gt; filesRead(String filePath) &#123;</span><br><span class=\"line\">    checkNotNull(filePath, &quot;文件名称不能为空&quot;);</span><br><span class=\"line\">    File file = new File(filePath);</span><br><span class=\"line\">    List&lt;String&gt; list = null;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      list = Files.readLines(file, Charsets.UTF_8);</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return list;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>部分摘自：<a href=\"http://blog.csdn.net/yyychyzzzz/article/details/54983574\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>概述</p><p>工具类 就是封装平常用的方法，不需要你重复造轮子，节省开发人员时间，提高工作效率。谷歌作为大公司，当然会从日常的工作中提取中很多高效率的方法出来。所以就诞生了Guava。</p><p>高效设计良好的API，被Google的开发者设计，实现和使用</p><p>遵循高效的java语法实践</p><p>使代码更刻度，简洁，简单</p><p>节约时间，资源，提高生产力 Guava工程</p><p>包含了若干被Google的 Java项目广泛依赖 的核心库，例如：</p><ol><li>集合 [collections]</li><li>缓存 [caching]</li><li>原生类型支持 [primitives support]</li><li>并发库 [concurrency libraries]</li><li>通用注解 [common annotations]</li><li>字符串处理 [string processing]</li><li>I/O 等等。</li></ol><p>部分用法如下：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class CommonUsage &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 2.集合转换为特定格式的字符串</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void collection2Srt() &#123;</span><br><span class=\"line\">    //List转</span><br><span class=\"line\">    List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class=\"line\">    list.add(&quot;a&quot;);</span><br><span class=\"line\">    list.add(&quot;b&quot;);</span><br><span class=\"line\">    list.add(&quot;c&quot;);</span><br><span class=\"line\">    list.add(&quot;d&quot;);</span><br><span class=\"line\">    list.add(&quot;e&quot;);</span><br><span class=\"line\">    list.add(&quot;f&quot;);</span><br><span class=\"line\">    String result = Joiner.on(&quot;-&quot;).join(list);</span><br><span class=\"line\">    System.out.println(result);//a-b-c-d-e-f</span><br><span class=\"line\"></span><br><span class=\"line\">    //Map 转</span><br><span class=\"line\">    HashMap&lt;String, Integer&gt; map = Maps.newHashMap();</span><br><span class=\"line\">    map.put(&quot;a&quot;, 1);</span><br><span class=\"line\">    map.put(&quot;b&quot;, 2);</span><br><span class=\"line\">    map.put(&quot;c&quot;, 3);</span><br><span class=\"line\">    //on 分隔符，withKeyValueSeparator key value之间的分隔符</span><br><span class=\"line\">    String s = Joiner.on(&quot;,&quot;).withKeyValueSeparator(&quot;=&quot;).join(map);</span><br><span class=\"line\">    System.out.println(s);//a=1,b=2,c=3</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 3.将String 转为特定的集合</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void str2Collection() &#123;</span><br><span class=\"line\">    String s = &quot;1,2,3,4,5,6,7,8,9&quot;;</span><br><span class=\"line\">    List&lt;String&gt; list = Splitter.on(&quot;,&quot;).splitToList(s);</span><br><span class=\"line\">    System.out.println(list);</span><br><span class=\"line\"></span><br><span class=\"line\">    s = &quot;1-2-3-4- 5-  6  &quot;;</span><br><span class=\"line\">    //去除空串与空格</span><br><span class=\"line\">    List&lt;String&gt; list1 = Splitter.on(&quot;-&quot;).omitEmptyStrings().trimResults().splitToList(s);</span><br><span class=\"line\">    System.out.println(list1);</span><br><span class=\"line\"></span><br><span class=\"line\">    //将String转换为map</span><br><span class=\"line\">    String str = &quot;a=1,b=2&quot;;</span><br><span class=\"line\">    Map&lt;String, String&gt; map = Splitter.on(&quot;,&quot;).withKeyValueSeparator(&quot;=&quot;).split(str);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 4.多个字符切割，或者特定的正则分隔</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void strSplit() &#123;</span><br><span class=\"line\">    String input = &quot;aa.dd,,ff,,.&quot;;</span><br><span class=\"line\">    List&lt;String&gt; list = Splitter.onPattern(&quot;[.|,]&quot;).omitEmptyStrings().trimResults()</span><br><span class=\"line\">        .splitToList(input);</span><br><span class=\"line\">    System.out.println(list);</span><br><span class=\"line\">    // 判断匹配结果</span><br><span class=\"line\">    boolean result = CharMatcher.inRange(&apos;a&apos;, &apos;z&apos;).or(CharMatcher.inRange(&apos;A&apos;, &apos;Z&apos;))</span><br><span class=\"line\">        .matches(&apos;K&apos;);//true</span><br><span class=\"line\">    // 保留数字文本</span><br><span class=\"line\">    String s1 = CharMatcher.digit().retainFrom(&quot;abc 123 efg&quot;);//123</span><br><span class=\"line\">    // 删除数字文本</span><br><span class=\"line\">    String s2 = CharMatcher.digit().removeFrom(&quot;abc 123 efg&quot;);//abc  efg</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 9.计算程序开始结束用了多少时间</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void countTime() &#123;</span><br><span class=\"line\">    Stopwatch stopwatch = Stopwatch.createStarted();</span><br><span class=\"line\">    for (int i = 0; i &lt; 100000; i++) &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    //TimeUnit可以指定时间精度</span><br><span class=\"line\">    long nanos = stopwatch.elapsed(TimeUnit.MILLISECONDS);</span><br><span class=\"line\">    System.out.println(nanos);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 10.Files 文件操作</span><br><span class=\"line\">   * 方便，</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void filesOperation() &#123;</span><br><span class=\"line\">    String fileName = &quot;./src/main/java/com/hisen/jars/guava/test.txt&quot;;</span><br><span class=\"line\">    for (int i = 0; i &lt; 1000; i++) &#123;</span><br><span class=\"line\">      //写</span><br><span class=\"line\">      filesWrite(fileName, String.valueOf(i) + &quot;\\n&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    //读</span><br><span class=\"line\">    List&lt;String&gt; list = filesRead(fileName);</span><br><span class=\"line\">    System.out.println(&quot;读取到的内容：&quot; + list.toString());</span><br><span class=\"line\">//    Files.copy(sourceFile, targetFile); //复制文件</span><br><span class=\"line\">//    Files.equal(File,File);//比较文件内容是否完全一致</span><br><span class=\"line\">//    touch方法创建或者更新文件的时间戳。</span><br><span class=\"line\">//    createTempDir()方法创建临时目录</span><br><span class=\"line\">//    Files.createParentDirs(File) 创建父级目录</span><br><span class=\"line\">//    getChecksum(File)获得文件的checksum</span><br><span class=\"line\">//    hash(File)获得文件的hashmap系列方法获得文件的内存映射</span><br><span class=\"line\">//    getFileExtension(String)获得文件的扩展名</span><br><span class=\"line\">//    getNameWithoutExtension(String file)获得不带扩展名的文件名</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * Files写文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param fileName 文件名（包括路径）</span><br><span class=\"line\">   * @param contents 写入的单行内容</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void filesWrite(final String fileName, final String contents) &#123;</span><br><span class=\"line\">    checkNotNull(fileName, &quot;文件名称不能为空&quot;);</span><br><span class=\"line\">    checkNotNull(contents, &quot;写入内容不能为空&quot;);</span><br><span class=\"line\">    final File file = new File(fileName);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      //Files.write(contents.getBytes(), file);//覆盖</span><br><span class=\"line\">      Files.append(contents, file, Charsets.UTF_8);//追加</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      System.out.println(&quot;ERROR trying to write to file &apos;&quot; + fileName + &quot;&apos; - &quot;</span><br><span class=\"line\">          + e.toString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * Files 文件单行读取</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param filePath 文件名(包括路径)</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public List&lt;String&gt; filesRead(String filePath) &#123;</span><br><span class=\"line\">    checkNotNull(filePath, &quot;文件名称不能为空&quot;);</span><br><span class=\"line\">    File file = new File(filePath);</span><br><span class=\"line\">    List&lt;String&gt; list = null;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      list = Files.readLines(file, Charsets.UTF_8);</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return list;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>部分摘自：<a href=\"http://blog.csdn.net/yyychyzzzz/article/details/54983574\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->"},{"title":"HashMap和Hashtable的区别","keywords":["HashMap和Hashtable的区别"],"date":"2017-02-17T08:34:17.000Z","_content":"在Java 2以前，一般使用Hashtable来映射键值和元素。为了使用Java集合框架，Java对Hashtable进行了重新设计，但是，为了向后兼容保留了所有的方法。Hashtable实现了Map接口，除了Hashtable具有同步功能之外，它与HashMap的用法是一样的。·在使用时一般是用ArrayList代替Vector，LinkedList代替Stack，HashMap代替HashTable，即使在多线程中需要同步，也是用同步包装类。\n\n另外在使用上还有一些小的差异，比如：\n1. HashTable的key和value都不允许为null值，而HashMap的key和value则都是允许null值的。这个其实没有好坏之分，只是Sun为了统一Collection的操作特性而改进的。\n2. HashTable有一个contains(Object value)方法，功能上与containsValue(Object value)一样，但是在实现上花销更大，现在已不推荐使用。而HashMap只有containsValue(Object value)方法。\n3. HashTable使用Enumeration，HashMap使用Iterator。Iterator其实与Enmeration功能上很相似，只是多了删除的功能。用Iterator不过是在名字上变得更为贴切一些。模式的另外一个很重要的功用，就是能够形成一种交流的语言（或者说文化）。有时候，你说Enumeration大家都不明白，说Iterator就都明白了。\n\n\n在实现上两者已有一些差异，这里简单说明一下：\n```\npublic Hashtable(int initialCapacity, float loadFactor) {\n        if (initialCapacity < 0)\n            throw new IllegalArgumentException(\"Illegal Capacity: \"+\n                                               initialCapacity);\n        if (loadFactor <= 0 || Float.isNaN(loadFactor))\n            throw new IllegalArgumentException(\"Illegal Load: \"+loadFactor);\n        if (initialCapacity==0)\n            initialCapacity = 1;\n        this.loadFactor = loadFactor;\n        table = new Entry[initialCapacity];\n        threshold = (int)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + 1);\n        initHashSeedAsNeeded(initialCapacity);\n    }\npublic Hashtable(int initialCapacity) {\n        this(initialCapacity, 0.75f);\n    }\npublic Hashtable() {\n        this(11, 0.75f);\n    }\n\n\npublic HashMap(int initialCapacity, float loadFactor) {\n        if (initialCapacity < 0)\n            throw new IllegalArgumentException(\"Illegal initial capacity: \" +\n                                               initialCapacity);\n        if (initialCapacity > MAXIMUM_CAPACITY)\n            initialCapacity = MAXIMUM_CAPACITY;\n        if (loadFactor <= 0 || Float.isNaN(loadFactor))\n            throw new IllegalArgumentException(\"Illegal load factor: \" +\n                                               loadFactor);\n        this.loadFactor = loadFactor;\n        threshold = initialCapacity;\n        init();\n    }\npublic HashMap(int initialCapacity) {\n        this(initialCapacity, DEFAULT_LOAD_FACTOR);\n    }\npublic HashMap() {\n        this(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);\n    }\n```\nHashTable中构造hash数组时initialCapacity默认大小是11，增加的方式是 old*2+1。HashMap中构造hash数组时initialCapacity默认大小是16，而且一定是2的指数。对于哈希值的使用也有所不同，HashTable直接使用对象的hashCode，代码是这样的：\n```\nint hash = key.hashCode();\nint index = (hash & 0x7FFFFFFF) % tab.length;\n```\n而HashMap重新计算hash值，而且用与代替求模：\n```\nint hash = hash(k);\nint i = indexFor(hash, table.length);\n \nstatic int hash(Object x) {\n　　int h = x.hashCode();\n \n　　h += ~(h << 9);\n　　h ^= (h >>> 14);\n　　h += (h << 4);\n　　h ^= (h >>> 10);\n　　return h;\n}\nstatic int indexFor(int h, int length) {\n　　return h & (length-1);\n}\n```\n\n仅供参考，内容来源于互联网","source":"_posts/HashMap和Hashtable的区别.md","raw":"---\ntitle: HashMap和Hashtable的区别\nkeywords: [HashMap和Hashtable的区别]\ntags: [HashMap,Hashtable]\ndate: 2017-02-17 16:34:17\ncategories: java\n---\n在Java 2以前，一般使用Hashtable来映射键值和元素。为了使用Java集合框架，Java对Hashtable进行了重新设计，但是，为了向后兼容保留了所有的方法。Hashtable实现了Map接口，除了Hashtable具有同步功能之外，它与HashMap的用法是一样的。·在使用时一般是用ArrayList代替Vector，LinkedList代替Stack，HashMap代替HashTable，即使在多线程中需要同步，也是用同步包装类。\n\n另外在使用上还有一些小的差异，比如：\n1. HashTable的key和value都不允许为null值，而HashMap的key和value则都是允许null值的。这个其实没有好坏之分，只是Sun为了统一Collection的操作特性而改进的。\n2. HashTable有一个contains(Object value)方法，功能上与containsValue(Object value)一样，但是在实现上花销更大，现在已不推荐使用。而HashMap只有containsValue(Object value)方法。\n3. HashTable使用Enumeration，HashMap使用Iterator。Iterator其实与Enmeration功能上很相似，只是多了删除的功能。用Iterator不过是在名字上变得更为贴切一些。模式的另外一个很重要的功用，就是能够形成一种交流的语言（或者说文化）。有时候，你说Enumeration大家都不明白，说Iterator就都明白了。\n\n\n在实现上两者已有一些差异，这里简单说明一下：\n```\npublic Hashtable(int initialCapacity, float loadFactor) {\n        if (initialCapacity < 0)\n            throw new IllegalArgumentException(\"Illegal Capacity: \"+\n                                               initialCapacity);\n        if (loadFactor <= 0 || Float.isNaN(loadFactor))\n            throw new IllegalArgumentException(\"Illegal Load: \"+loadFactor);\n        if (initialCapacity==0)\n            initialCapacity = 1;\n        this.loadFactor = loadFactor;\n        table = new Entry[initialCapacity];\n        threshold = (int)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + 1);\n        initHashSeedAsNeeded(initialCapacity);\n    }\npublic Hashtable(int initialCapacity) {\n        this(initialCapacity, 0.75f);\n    }\npublic Hashtable() {\n        this(11, 0.75f);\n    }\n\n\npublic HashMap(int initialCapacity, float loadFactor) {\n        if (initialCapacity < 0)\n            throw new IllegalArgumentException(\"Illegal initial capacity: \" +\n                                               initialCapacity);\n        if (initialCapacity > MAXIMUM_CAPACITY)\n            initialCapacity = MAXIMUM_CAPACITY;\n        if (loadFactor <= 0 || Float.isNaN(loadFactor))\n            throw new IllegalArgumentException(\"Illegal load factor: \" +\n                                               loadFactor);\n        this.loadFactor = loadFactor;\n        threshold = initialCapacity;\n        init();\n    }\npublic HashMap(int initialCapacity) {\n        this(initialCapacity, DEFAULT_LOAD_FACTOR);\n    }\npublic HashMap() {\n        this(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);\n    }\n```\nHashTable中构造hash数组时initialCapacity默认大小是11，增加的方式是 old*2+1。HashMap中构造hash数组时initialCapacity默认大小是16，而且一定是2的指数。对于哈希值的使用也有所不同，HashTable直接使用对象的hashCode，代码是这样的：\n```\nint hash = key.hashCode();\nint index = (hash & 0x7FFFFFFF) % tab.length;\n```\n而HashMap重新计算hash值，而且用与代替求模：\n```\nint hash = hash(k);\nint i = indexFor(hash, table.length);\n \nstatic int hash(Object x) {\n　　int h = x.hashCode();\n \n　　h += ~(h << 9);\n　　h ^= (h >>> 14);\n　　h += (h << 4);\n　　h ^= (h >>> 10);\n　　return h;\n}\nstatic int indexFor(int h, int length) {\n　　return h & (length-1);\n}\n```\n\n仅供参考，内容来源于互联网","slug":"HashMap和Hashtable的区别","published":1,"updated":"2017-02-17T08:41:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq2000rolejkcagh365","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在Java 2以前，一般使用Hashtable来映射键值和元素。为了使用Java集合框架，Java对Hashtable进行了重新设计，但是，为了向后兼容保留了所有的方法。Hashtable实现了Map接口，除了Hashtable具有同步功能之外，它与HashMap的用法是一样的。·在使用时一般是用ArrayList代替Vector，LinkedList代替Stack，HashMap代替HashTable，即使在多线程中需要同步，也是用同步包装类。</p><p>另外在使用上还有一些小的差异，比如：</p><ol><li>HashTable的key和value都不允许为null值，而HashMap的key和value则都是允许null值的。这个其实没有好坏之分，只是Sun为了统一Collection的操作特性而改进的。</li><li>HashTable有一个contains(Object value)方法，功能上与containsValue(Object value)一样，但是在实现上花销更大，现在已不推荐使用。而HashMap只有containsValue(Object value)方法。</li><li>HashTable使用Enumeration，HashMap使用Iterator。Iterator其实与Enmeration功能上很相似，只是多了删除的功能。用Iterator不过是在名字上变得更为贴切一些。模式的另外一个很重要的功用，就是能够形成一种交流的语言（或者说文化）。有时候，你说Enumeration大家都不明白，说Iterator就都明白了。</li></ol><p>在实现上两者已有一些差异，这里简单说明一下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public Hashtable(int initialCapacity, float loadFactor) &#123;</span><br><span class=\"line\">        if (initialCapacity &lt; 0)</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span><br><span class=\"line\">                                               initialCapacity);</span><br><span class=\"line\">        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal Load: &quot;+loadFactor);</span><br><span class=\"line\">        if (initialCapacity==0)</span><br><span class=\"line\">            initialCapacity = 1;</span><br><span class=\"line\">        this.loadFactor = loadFactor;</span><br><span class=\"line\">        table = new Entry[initialCapacity];</span><br><span class=\"line\">        threshold = (int)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + 1);</span><br><span class=\"line\">        initHashSeedAsNeeded(initialCapacity);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public Hashtable(int initialCapacity) &#123;</span><br><span class=\"line\">        this(initialCapacity, 0.75f);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public Hashtable() &#123;</span><br><span class=\"line\">        this(11, 0.75f);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">public HashMap(int initialCapacity, float loadFactor) &#123;</span><br><span class=\"line\">        if (initialCapacity &lt; 0)</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; +</span><br><span class=\"line\">                                               initialCapacity);</span><br><span class=\"line\">        if (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class=\"line\">            initialCapacity = MAXIMUM_CAPACITY;</span><br><span class=\"line\">        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +</span><br><span class=\"line\">                                               loadFactor);</span><br><span class=\"line\">        this.loadFactor = loadFactor;</span><br><span class=\"line\">        threshold = initialCapacity;</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public HashMap(int initialCapacity) &#123;</span><br><span class=\"line\">        this(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public HashMap() &#123;</span><br><span class=\"line\">        this(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure><p></p><p>HashTable中构造hash数组时initialCapacity默认大小是11，增加的方式是 old*2+1。HashMap中构造hash数组时initialCapacity默认大小是16，而且一定是2的指数。对于哈希值的使用也有所不同，HashTable直接使用对象的hashCode，代码是这样的：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int hash = key.hashCode();</span><br><span class=\"line\">int index = (hash &amp; 0x7FFFFFFF) % tab.length;</span><br></pre></td></tr></table></figure><p></p><p>而HashMap重新计算hash值，而且用与代替求模：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int hash = hash(k);</span><br><span class=\"line\">int i = indexFor(hash, table.length);</span><br><span class=\"line\"> </span><br><span class=\"line\">static int hash(Object x) &#123;</span><br><span class=\"line\">　　int h = x.hashCode();</span><br><span class=\"line\"> </span><br><span class=\"line\">　　h += ~(h &lt;&lt; 9);</span><br><span class=\"line\">　　h ^= (h &gt;&gt;&gt; 14);</span><br><span class=\"line\">　　h += (h &lt;&lt; 4);</span><br><span class=\"line\">　　h ^= (h &gt;&gt;&gt; 10);</span><br><span class=\"line\">　　return h;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">static int indexFor(int h, int length) &#123;</span><br><span class=\"line\">　　return h &amp; (length-1);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>仅供参考，内容来源于互联网</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在Java 2以前，一般使用Hashtable来映射键值和元素。为了使用Java集合框架，Java对Hashtable进行了重新设计，但是，为了向后兼容保留了所有的方法。Hashtable实现了Map接口，除了Hashtable具有同步功能之外，它与HashMap的用法是一样的。·在使用时一般是用ArrayList代替Vector，LinkedList代替Stack，HashMap代替HashTable，即使在多线程中需要同步，也是用同步包装类。</p><p>另外在使用上还有一些小的差异，比如：</p><ol><li>HashTable的key和value都不允许为null值，而HashMap的key和value则都是允许null值的。这个其实没有好坏之分，只是Sun为了统一Collection的操作特性而改进的。</li><li>HashTable有一个contains(Object value)方法，功能上与containsValue(Object value)一样，但是在实现上花销更大，现在已不推荐使用。而HashMap只有containsValue(Object value)方法。</li><li>HashTable使用Enumeration，HashMap使用Iterator。Iterator其实与Enmeration功能上很相似，只是多了删除的功能。用Iterator不过是在名字上变得更为贴切一些。模式的另外一个很重要的功用，就是能够形成一种交流的语言（或者说文化）。有时候，你说Enumeration大家都不明白，说Iterator就都明白了。</li></ol><p>在实现上两者已有一些差异，这里简单说明一下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public Hashtable(int initialCapacity, float loadFactor) &#123;</span><br><span class=\"line\">        if (initialCapacity &lt; 0)</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span><br><span class=\"line\">                                               initialCapacity);</span><br><span class=\"line\">        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal Load: &quot;+loadFactor);</span><br><span class=\"line\">        if (initialCapacity==0)</span><br><span class=\"line\">            initialCapacity = 1;</span><br><span class=\"line\">        this.loadFactor = loadFactor;</span><br><span class=\"line\">        table = new Entry[initialCapacity];</span><br><span class=\"line\">        threshold = (int)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + 1);</span><br><span class=\"line\">        initHashSeedAsNeeded(initialCapacity);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public Hashtable(int initialCapacity) &#123;</span><br><span class=\"line\">        this(initialCapacity, 0.75f);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public Hashtable() &#123;</span><br><span class=\"line\">        this(11, 0.75f);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">public HashMap(int initialCapacity, float loadFactor) &#123;</span><br><span class=\"line\">        if (initialCapacity &lt; 0)</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; +</span><br><span class=\"line\">                                               initialCapacity);</span><br><span class=\"line\">        if (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class=\"line\">            initialCapacity = MAXIMUM_CAPACITY;</span><br><span class=\"line\">        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))</span><br><span class=\"line\">            throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +</span><br><span class=\"line\">                                               loadFactor);</span><br><span class=\"line\">        this.loadFactor = loadFactor;</span><br><span class=\"line\">        threshold = initialCapacity;</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public HashMap(int initialCapacity) &#123;</span><br><span class=\"line\">        this(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">public HashMap() &#123;</span><br><span class=\"line\">        this(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure><p></p><p>HashTable中构造hash数组时initialCapacity默认大小是11，增加的方式是 old*2+1。HashMap中构造hash数组时initialCapacity默认大小是16，而且一定是2的指数。对于哈希值的使用也有所不同，HashTable直接使用对象的hashCode，代码是这样的：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int hash = key.hashCode();</span><br><span class=\"line\">int index = (hash &amp; 0x7FFFFFFF) % tab.length;</span><br></pre></td></tr></table></figure><p></p><p>而HashMap重新计算hash值，而且用与代替求模：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int hash = hash(k);</span><br><span class=\"line\">int i = indexFor(hash, table.length);</span><br><span class=\"line\"> </span><br><span class=\"line\">static int hash(Object x) &#123;</span><br><span class=\"line\">　　int h = x.hashCode();</span><br><span class=\"line\"> </span><br><span class=\"line\">　　h += ~(h &lt;&lt; 9);</span><br><span class=\"line\">　　h ^= (h &gt;&gt;&gt; 14);</span><br><span class=\"line\">　　h += (h &lt;&lt; 4);</span><br><span class=\"line\">　　h ^= (h &gt;&gt;&gt; 10);</span><br><span class=\"line\">　　return h;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">static int indexFor(int h, int length) &#123;</span><br><span class=\"line\">　　return h &amp; (length-1);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>仅供参考，内容来源于互联网</p><!-- rebuild by neat -->"},{"title":"Hexo next主题添加本地搜索 - 不使用第三方服务","keywords":["hexo本地搜索","hexo next主题本地搜索"],"date":"2017-04-07T03:02:00.000Z","_content":"\n之前安装过第三方的搜索服务，贼蛋疼。都不免费了。\n\n也有自己安装插件，然后写js的，麻烦\n\n后来找到两个插件，安装之后就搞定了\n\n感谢开发的作者！！！\n\n安装插件\n---\n\n记得要在站点根目录执行下面的安装操作\n\n1.安装 hexo-generator-search\n```\nnpm install hexo-generator-searchdb --save\n```\n2.安装 hexo-generator-searchdb\n```\nnpm install hexo-generator-searchdb --save\n```\n<!--more-->\n启用搜索\n---\n编辑站点文件**_config.yml**，添加以下内容开启搜索\n```\nsearch:\n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n```\n编辑主题文件**_config.yml**，启用本地搜索功能：\n```\n# Local search\nlocal_search:\n  enable: true\n```  \n效果预览\n---\n<img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fedxu45zqcj20p10i4409.jpg\" />\n\n小缺点\n---\n第一次点击搜索的时候反应会比较慢\n\n因为是要加载一个xml文件","source":"_posts/Hexo next主题添加本地搜索 - 不使用第三方服务.md","raw":"---\ntitle: Hexo next主题添加本地搜索 - 不使用第三方服务\nkeywords: [hexo本地搜索,hexo next主题本地搜索]\ndate: 2017/4/7 11:02\ntags: [hexo]\ncategories: hexo\n---\n\n之前安装过第三方的搜索服务，贼蛋疼。都不免费了。\n\n也有自己安装插件，然后写js的，麻烦\n\n后来找到两个插件，安装之后就搞定了\n\n感谢开发的作者！！！\n\n安装插件\n---\n\n记得要在站点根目录执行下面的安装操作\n\n1.安装 hexo-generator-search\n```\nnpm install hexo-generator-searchdb --save\n```\n2.安装 hexo-generator-searchdb\n```\nnpm install hexo-generator-searchdb --save\n```\n<!--more-->\n启用搜索\n---\n编辑站点文件**_config.yml**，添加以下内容开启搜索\n```\nsearch:\n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n```\n编辑主题文件**_config.yml**，启用本地搜索功能：\n```\n# Local search\nlocal_search:\n  enable: true\n```  \n效果预览\n---\n<img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fedxu45zqcj20p10i4409.jpg\" />\n\n小缺点\n---\n第一次点击搜索的时候反应会比较慢\n\n因为是要加载一个xml文件","slug":"Hexo next主题添加本地搜索 - 不使用第三方服务","published":1,"updated":"2017-04-07T03:16:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq3000volejihv28uww","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前安装过第三方的搜索服务，贼蛋疼。都不免费了。</p><p>也有自己安装插件，然后写js的，麻烦</p><p>后来找到两个插件，安装之后就搞定了</p><p>感谢开发的作者！！！</p><h2 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h2><p>记得要在站点根目录执行下面的安装操作</p><p>1.安装 hexo-generator-search<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p></p><p>2.安装 hexo-generator-searchdb<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p></p><a id=\"more\"></a><h2 id=\"启用搜索\"><a href=\"#启用搜索\" class=\"headerlink\" title=\"启用搜索\"></a>启用搜索</h2><p>编辑站点文件<strong>_config.yml</strong>，添加以下内容开启搜索<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">search:</span><br><span class=\"line\">  path: search.xml</span><br><span class=\"line\">  field: post</span><br><span class=\"line\">  format: html</span><br><span class=\"line\">  limit: 10000</span><br></pre></td></tr></table></figure><p></p><p>编辑主题文件<strong>_config.yml</strong>，启用本地搜索功能：</p><pre><code># Local search\nlocal_search:\n  enable: true\n</code></pre><h2 id=\"效果预览\"><a href=\"#效果预览\" class=\"headerlink\" title=\"效果预览\"></a>效果预览</h2><p><img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fedxu45zqcj20p10i4409.jpg\"></p><h2 id=\"小缺点\"><a href=\"#小缺点\" class=\"headerlink\" title=\"小缺点\"></a>小缺点</h2><p>第一次点击搜索的时候反应会比较慢</p><p>因为是要加载一个xml文件</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前安装过第三方的搜索服务，贼蛋疼。都不免费了。</p><p>也有自己安装插件，然后写js的，麻烦</p><p>后来找到两个插件，安装之后就搞定了</p><p>感谢开发的作者！！！</p><h2 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h2><p>记得要在站点根目录执行下面的安装操作</p><p>1.安装 hexo-generator-search<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p></p><p>2.安装 hexo-generator-searchdb<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p></p>","more":"<h2 id=\"启用搜索\"><a href=\"#启用搜索\" class=\"headerlink\" title=\"启用搜索\"></a>启用搜索</h2><p>编辑站点文件<strong>_config.yml</strong>，添加以下内容开启搜索<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">search:</span><br><span class=\"line\">  path: search.xml</span><br><span class=\"line\">  field: post</span><br><span class=\"line\">  format: html</span><br><span class=\"line\">  limit: 10000</span><br></pre></td></tr></table></figure><p></p><p>编辑主题文件<strong>_config.yml</strong>，启用本地搜索功能：</p><pre><code># Local search\nlocal_search:\n  enable: true\n</code></pre><h2 id=\"效果预览\"><a href=\"#效果预览\" class=\"headerlink\" title=\"效果预览\"></a>效果预览</h2><p><img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fedxu45zqcj20p10i4409.jpg\"></p><h2 id=\"小缺点\"><a href=\"#小缺点\" class=\"headerlink\" title=\"小缺点\"></a>小缺点</h2><p>第一次点击搜索的时候反应会比较慢</p><p>因为是要加载一个xml文件</p><!-- rebuild by neat -->"},{"title":"Hexo 绑定个人域名简单方法","date":"2017-02-09T09:26:49.000Z","_content":"\n**1.**直接注册个域名(随便在哪里)\n**2.**添加域名解析\n\n| 记录类型 | 主机记录 | 记录值 |\n|:-----|:-----|:-----|\n| CNAME | @ | hisen-yuan.github.io |\n\n主机记录：@ 代表顶级域名，例如hisen.me 如果想要www.hisen.me把@改成www\n\n记录值：你的博客原始地址\n\n**3.**在\\blog\\source下添加**CNAME**文件，没有后缀名，内容为你的域名，注意不要带http://\n\n我的域名解析为 **hisen.me** 文件内容为 **hisen.me**\n\n等待解析生效即可！","source":"_posts/Hexo-绑定个人域名简单方法.md","raw":"---\ntitle: Hexo 绑定个人域名简单方法\ndate: 2017-02-09 17:26:49\ntags: [hexo优化]\n---\n\n**1.**直接注册个域名(随便在哪里)\n**2.**添加域名解析\n\n| 记录类型 | 主机记录 | 记录值 |\n|:-----|:-----|:-----|\n| CNAME | @ | hisen-yuan.github.io |\n\n主机记录：@ 代表顶级域名，例如hisen.me 如果想要www.hisen.me把@改成www\n\n记录值：你的博客原始地址\n\n**3.**在\\blog\\source下添加**CNAME**文件，没有后缀名，内容为你的域名，注意不要带http://\n\n我的域名解析为 **hisen.me** 文件内容为 **hisen.me**\n\n等待解析生效即可！","slug":"Hexo-绑定个人域名简单方法","published":1,"updated":"2017-02-09T09:35:44.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq5000yolejhec4jhv9","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p><strong>1.</strong>直接注册个域名(随便在哪里)<br><strong>2.</strong>添加域名解析</p><table><thead><tr><th style=\"text-align:left\">记录类型</th><th style=\"text-align:left\">主机记录</th><th style=\"text-align:left\">记录值</th></tr></thead><tbody><tr><td style=\"text-align:left\">CNAME</td><td style=\"text-align:left\">@</td><td style=\"text-align:left\">hisen-yuan.github.io</td></tr></tbody></table><p>主机记录：@ 代表顶级域名，例如hisen.me 如果想要<a href=\"http://www.hisen.me把@改成www\" target=\"_blank\" rel=\"noopener\">www.hisen.me把@改成www</a></p><p>记录值：你的博客原始地址</p><p><strong>3.</strong>在\\blog\\source下添加<strong>CNAME</strong>文件，没有后缀名，内容为你的域名，注意不要带http://</p><p>我的域名解析为 <strong>hisen.me</strong> 文件内容为 <strong>hisen.me</strong></p><p>等待解析生效即可！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p><strong>1.</strong>直接注册个域名(随便在哪里)<br><strong>2.</strong>添加域名解析</p><table><thead><tr><th style=\"text-align:left\">记录类型</th><th style=\"text-align:left\">主机记录</th><th style=\"text-align:left\">记录值</th></tr></thead><tbody><tr><td style=\"text-align:left\">CNAME</td><td style=\"text-align:left\">@</td><td style=\"text-align:left\">hisen-yuan.github.io</td></tr></tbody></table><p>主机记录：@ 代表顶级域名，例如hisen.me 如果想要<a href=\"http://www.hisen.me把@改成www\" target=\"_blank\" rel=\"noopener\">www.hisen.me把@改成www</a></p><p>记录值：你的博客原始地址</p><p><strong>3.</strong>在\\blog\\source下添加<strong>CNAME</strong>文件，没有后缀名，内容为你的域名，注意不要带http://</p><p>我的域名解析为 <strong>hisen.me</strong> 文件内容为 <strong>hisen.me</strong></p><p>等待解析生效即可！</p><!-- rebuild by neat -->"},{"title":"Hexo Landscape主题JS优化，不使用谷歌CDN","date":"2017-02-08T14:21:52.000Z","_content":"jQuery库的优化\n---\n修改这个文件：\n```\nthemes/landscape/layout/_partial/after-footer.ejs\n```\n将17行左右的\n```\n<script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\"></script>\n```\n改为\n```\n<script src=\"http://apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js\"></script>\n```\n重新生成博客之后就把谷歌的cdn替换成百度的cdn了","source":"_posts/Hexo-Landscape主题JS优化，不使用谷歌CDN.md","raw":"---\ntitle: Hexo Landscape主题JS优化，不使用谷歌CDN\ndate: 2017-02-08 22:21:52\ntags: [hexo优化]\n---\njQuery库的优化\n---\n修改这个文件：\n```\nthemes/landscape/layout/_partial/after-footer.ejs\n```\n将17行左右的\n```\n<script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\"></script>\n```\n改为\n```\n<script src=\"http://apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js\"></script>\n```\n重新生成博客之后就把谷歌的cdn替换成百度的cdn了","slug":"Hexo-Landscape主题JS优化，不使用谷歌CDN","published":1,"updated":"2017-02-08T14:24:14.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq60012olejwyimbklf","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"jQuery库的优化\"><a href=\"#jQuery库的优化\" class=\"headerlink\" title=\"jQuery库的优化\"></a>jQuery库的优化</h2><p>修改这个文件：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">themes/landscape/layout/_partial/after-footer.ejs</span><br></pre></td></tr></table></figure><p></p><p>将17行左右的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>改为<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;http://apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>重新生成博客之后就把谷歌的cdn替换成百度的cdn了</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"jQuery库的优化\"><a href=\"#jQuery库的优化\" class=\"headerlink\" title=\"jQuery库的优化\"></a>jQuery库的优化</h2><p>修改这个文件：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">themes/landscape/layout/_partial/after-footer.ejs</span><br></pre></td></tr></table></figure><p></p><p>将17行左右的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>改为<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;http://apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>重新生成博客之后就把谷歌的cdn替换成百度的cdn了</p><!-- rebuild by neat -->"},{"title":"Hexo提速优化 - 压缩html、css、js by hexo-neat插件","date":"2017-02-11T14:41:10.000Z","keywords":["hexo优化","hexo提速","hexo压缩"],"_content":"\nhexo博客生成的HTML代码留有大量的空白\n\n通过搜索发现有不错的方法可以解决这个问题\n\n那就是安装一个插件！名字叫：hexo-neat\n\n安装\n---\n命令行进入博客根目录，执行以下命令\n```\nnpm install hexo-neat --save\n```\n如果使用的是淘宝的cnmp执行以下命令\n```\ncnpm install hexo-neat --save\n```\n配置\n---\n\n打开站点配置文件**_config.yml**，添加以下内容：\n<!--more-->\n\n```\n#hexo-neat 优化提速插件\nneat_enable: true\n\nneat_html:\n  enable: true\n  exclude:\n  \nneat_css:\n  enable: true\n  exclude:\n    - '*.min.css'\n\nneat_js:\n  enable: true\n  mangle: true\n  output:\n  compress:\n  exclude:\n    - '*.min.js'\n```\n\n安装好之后，就直接正常使用(跟以前没有装的时候一样使用)，\n\n重新生成博客就可以发现html源码已经压缩了\n\n只是在生成博客的过程中可能要浪费一丁点时间\n\n访问速度有所提升！\n\n参考：<a href=\"https://segmentfault.com/a/1190000005799759\" target=\"_blank\">点击查看<a>","source":"_posts/Hexo提速优化-压缩html、css、js-by-hexo-neat插件.md","raw":"---\ntitle: Hexo提速优化 - 压缩html、css、js by hexo-neat插件\ntags: [hexo优化]\ndate: 2017-02-11 22:41:10\nkeywords: [hexo优化,hexo提速,hexo压缩]\ncategories: 软件\n---\n\nhexo博客生成的HTML代码留有大量的空白\n\n通过搜索发现有不错的方法可以解决这个问题\n\n那就是安装一个插件！名字叫：hexo-neat\n\n安装\n---\n命令行进入博客根目录，执行以下命令\n```\nnpm install hexo-neat --save\n```\n如果使用的是淘宝的cnmp执行以下命令\n```\ncnpm install hexo-neat --save\n```\n配置\n---\n\n打开站点配置文件**_config.yml**，添加以下内容：\n<!--more-->\n\n```\n#hexo-neat 优化提速插件\nneat_enable: true\n\nneat_html:\n  enable: true\n  exclude:\n  \nneat_css:\n  enable: true\n  exclude:\n    - '*.min.css'\n\nneat_js:\n  enable: true\n  mangle: true\n  output:\n  compress:\n  exclude:\n    - '*.min.js'\n```\n\n安装好之后，就直接正常使用(跟以前没有装的时候一样使用)，\n\n重新生成博客就可以发现html源码已经压缩了\n\n只是在生成博客的过程中可能要浪费一丁点时间\n\n访问速度有所提升！\n\n参考：<a href=\"https://segmentfault.com/a/1190000005799759\" target=\"_blank\">点击查看<a>","slug":"Hexo提速优化-压缩html、css、js-by-hexo-neat插件","published":1,"updated":"2017-02-11T14:56:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq80016olejuj9h3tqk","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>hexo博客生成的HTML代码留有大量的空白</p><p>通过搜索发现有不错的方法可以解决这个问题</p><p>那就是安装一个插件！名字叫：hexo-neat</p><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>命令行进入博客根目录，执行以下命令<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p></p><p>如果使用的是淘宝的cnmp执行以下命令<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install hexo-neat --save</span><br></pre></td></tr></table></figure><p></p><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p>打开站点配置文件<strong>_config.yml</strong>，添加以下内容：<br><a id=\"more\"></a></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#hexo-neat 优化提速插件</span><br><span class=\"line\">neat_enable: true</span><br><span class=\"line\"></span><br><span class=\"line\">neat_html:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  exclude:</span><br><span class=\"line\">  </span><br><span class=\"line\">neat_css:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  exclude:</span><br><span class=\"line\">    - &apos;*.min.css&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">neat_js:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  mangle: true</span><br><span class=\"line\">  output:</span><br><span class=\"line\">  compress:</span><br><span class=\"line\">  exclude:</span><br><span class=\"line\">    - &apos;*.min.js&apos;</span><br></pre></td></tr></table></figure><p>安装好之后，就直接正常使用(跟以前没有装的时候一样使用)，</p><p>重新生成博客就可以发现html源码已经压缩了</p><p>只是在生成博客的过程中可能要浪费一丁点时间</p><p>访问速度有所提升！</p><p>参考：<a href=\"https://segmentfault.com/a/1190000005799759\" target=\"_blank\">点击查看<a></a></a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>hexo博客生成的HTML代码留有大量的空白</p><p>通过搜索发现有不错的方法可以解决这个问题</p><p>那就是安装一个插件！名字叫：hexo-neat</p><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>命令行进入博客根目录，执行以下命令<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p></p><p>如果使用的是淘宝的cnmp执行以下命令<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install hexo-neat --save</span><br></pre></td></tr></table></figure><p></p><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p>打开站点配置文件<strong>_config.yml</strong>，添加以下内容：<br>","more":"</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#hexo-neat 优化提速插件</span><br><span class=\"line\">neat_enable: true</span><br><span class=\"line\"></span><br><span class=\"line\">neat_html:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  exclude:</span><br><span class=\"line\">  </span><br><span class=\"line\">neat_css:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  exclude:</span><br><span class=\"line\">    - &apos;*.min.css&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">neat_js:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  mangle: true</span><br><span class=\"line\">  output:</span><br><span class=\"line\">  compress:</span><br><span class=\"line\">  exclude:</span><br><span class=\"line\">    - &apos;*.min.js&apos;</span><br></pre></td></tr></table></figure><p>安装好之后，就直接正常使用(跟以前没有装的时候一样使用)，</p><p>重新生成博客就可以发现html源码已经压缩了</p><p>只是在生成博客的过程中可能要浪费一丁点时间</p><p>访问速度有所提升！</p><p>参考：<a href=\"https://segmentfault.com/a/1190000005799759\" target=\"_blank\">点击查看<a></a></a></p><!-- rebuild by neat -->"},{"title":"IDEA Denpendencies红色波浪线报错,所有的包无法导入 - 一种解决办法","keywords":["java","idea","IDEA Denpendencies报错","IDEA Denpendencies红色波浪线"],"date":"2017-02-28T12:19:22.000Z","_content":"```\nfailed to read artifact descriptor for xxx：jar\n```\n一下午那代码里面是各种报错\n\n凡是引入的大部分都报错\n\n原因就是maven管理的jar没有添加上依赖\n\n最后在stackoverflow找到了良药\n\n上面有图片，错误会详细一点，如果你的也相同，可以试一试\n```\nmaven project -> Execute Maven Goal -> mvn -U clean install\n```\n执行以上命令之后等待完成，应该就好了\n\n参考自stackoverflow：<a href=\"http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea\" target=\"_blank\">点击查看</a>\n","source":"_posts/IDEA-Denpendencies红色波浪线报错-所有的包无法导入-一种解决办法.md","raw":"---\ntitle: 'IDEA Denpendencies红色波浪线报错,所有的包无法导入 - 一种解决办法'\nkeywords: [java,idea,IDEA Denpendencies报错,IDEA Denpendencies红色波浪线]\ntags: [java,idea,Maven]\ndate: 2017-02-28 20:19:22\ncategories: java\n---\n```\nfailed to read artifact descriptor for xxx：jar\n```\n一下午那代码里面是各种报错\n\n凡是引入的大部分都报错\n\n原因就是maven管理的jar没有添加上依赖\n\n最后在stackoverflow找到了良药\n\n上面有图片，错误会详细一点，如果你的也相同，可以试一试\n```\nmaven project -> Execute Maven Goal -> mvn -U clean install\n```\n执行以上命令之后等待完成，应该就好了\n\n参考自stackoverflow：<a href=\"http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea\" target=\"_blank\">点击查看</a>\n","slug":"IDEA-Denpendencies红色波浪线报错-所有的包无法导入-一种解决办法","published":1,"updated":"2017-03-24T02:14:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdq90019olejx4pogqic","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">failed to read artifact descriptor for xxx：jar</span><br></pre></td></tr></table></figure><p>一下午那代码里面是各种报错</p><p>凡是引入的大部分都报错</p><p>原因就是maven管理的jar没有添加上依赖</p><p>最后在stackoverflow找到了良药</p><p>上面有图片，错误会详细一点，如果你的也相同，可以试一试<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maven project -&gt; Execute Maven Goal -&gt; mvn -U clean install</span><br></pre></td></tr></table></figure><p></p><p>执行以上命令之后等待完成，应该就好了</p><p>参考自stackoverflow：<a href=\"http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">failed to read artifact descriptor for xxx：jar</span><br></pre></td></tr></table></figure><p>一下午那代码里面是各种报错</p><p>凡是引入的大部分都报错</p><p>原因就是maven管理的jar没有添加上依赖</p><p>最后在stackoverflow找到了良药</p><p>上面有图片，错误会详细一点，如果你的也相同，可以试一试<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maven project -&gt; Execute Maven Goal -&gt; mvn -U clean install</span><br></pre></td></tr></table></figure><p></p><p>执行以上命令之后等待完成，应该就好了</p><p>参考自stackoverflow：<a href=\"http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->"},{"title":"Hxeo百度站长工具抓取失败的原因","keywords":["Hxeo","Hxeo百度抓取失败"],"date":"2017-02-16T01:54:21.000Z","_content":"\n近期在折腾下hexo博客\n\n发现百度搜索网址都搜索不到自己的站点\n\n我只把hexo传到github上，然而去百度站长工具提交网址几条后也没有反应\n\n我就测试了一下百度站长工具 - 抓取诊断\n\n结果是抓取失败:**Github把百度的爬虫给干掉了**！所以。。。\n\n---\n\n具体内容如下：\n```\n提交网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/\n抓取网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/\n抓取UA：\tMozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)\n抓取时间：\t2017-02-16 09:48:55\n网站IP：\t151.***.***.133 已反馈，预计几分钟内完成更新\n下载时长：\t0.331秒\n抓取异常信息：\t拒绝访问  查看帮助 \n```\n返回HTTP头：\n```\nHTTP/1.1 403 Forbidden\nCache-Control: no-cache\nContent-Type: text/html\nTransfer-Encoding: chunked\nAccept-Ranges: bytes\nDate: Thu, 16 Feb 2017 01:48:55 GMT\nVia: 1.1 varnish\nConnection: close\nX-Served-By: cache-itm7421-ITM\nX-Cache: MISS\nX-Cache-Hits: 0\nX-Timer: S1487209735.687949,VS0,VE187\nVary: Accept-Encoding\nX-Fastly-Request-ID: 3e528056d3333113dfb5da5c92a2421fa71f3705\n```","source":"_posts/Hxeot百度站长工具抓取失败的原因.md","raw":"---\ntitle: Hxeo百度站长工具抓取失败的原因\nkeywords: [Hxeo,Hxeo百度抓取失败]\ntags: [hexo]\ndate: 2017-02-16 09:54:21\ncategories: 软件\n---\n\n近期在折腾下hexo博客\n\n发现百度搜索网址都搜索不到自己的站点\n\n我只把hexo传到github上，然而去百度站长工具提交网址几条后也没有反应\n\n我就测试了一下百度站长工具 - 抓取诊断\n\n结果是抓取失败:**Github把百度的爬虫给干掉了**！所以。。。\n\n---\n\n具体内容如下：\n```\n提交网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/\n抓取网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/\n抓取UA：\tMozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)\n抓取时间：\t2017-02-16 09:48:55\n网站IP：\t151.***.***.133 已反馈，预计几分钟内完成更新\n下载时长：\t0.331秒\n抓取异常信息：\t拒绝访问  查看帮助 \n```\n返回HTTP头：\n```\nHTTP/1.1 403 Forbidden\nCache-Control: no-cache\nContent-Type: text/html\nTransfer-Encoding: chunked\nAccept-Ranges: bytes\nDate: Thu, 16 Feb 2017 01:48:55 GMT\nVia: 1.1 varnish\nConnection: close\nX-Served-By: cache-itm7421-ITM\nX-Cache: MISS\nX-Cache-Hits: 0\nX-Timer: S1487209735.687949,VS0,VE187\nVary: Accept-Encoding\nX-Fastly-Request-ID: 3e528056d3333113dfb5da5c92a2421fa71f3705\n```","slug":"Hxeot百度站长工具抓取失败的原因","published":1,"updated":"2017-02-16T02:00:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqa001colejhznaak5z","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>近期在折腾下hexo博客</p><p>发现百度搜索网址都搜索不到自己的站点</p><p>我只把hexo传到github上，然而去百度站长工具提交网址几条后也没有反应</p><p>我就测试了一下百度站长工具 - 抓取诊断</p><p>结果是抓取失败:<strong>Github把百度的爬虫给干掉了</strong>！所以。。。</p><hr><p>具体内容如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">提交网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</span><br><span class=\"line\">抓取网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</span><br><span class=\"line\">抓取UA：\tMozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)</span><br><span class=\"line\">抓取时间：\t2017-02-16 09:48:55</span><br><span class=\"line\">网站IP：\t151.***.***.133 已反馈，预计几分钟内完成更新</span><br><span class=\"line\">下载时长：\t0.331秒</span><br><span class=\"line\">抓取异常信息：\t拒绝访问  查看帮助</span><br></pre></td></tr></table></figure><p></p><p>返回HTTP头：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 403 Forbidden</span><br><span class=\"line\">Cache-Control: no-cache</span><br><span class=\"line\">Content-Type: text/html</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\">Accept-Ranges: bytes</span><br><span class=\"line\">Date: Thu, 16 Feb 2017 01:48:55 GMT</span><br><span class=\"line\">Via: 1.1 varnish</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">X-Served-By: cache-itm7421-ITM</span><br><span class=\"line\">X-Cache: MISS</span><br><span class=\"line\">X-Cache-Hits: 0</span><br><span class=\"line\">X-Timer: S1487209735.687949,VS0,VE187</span><br><span class=\"line\">Vary: Accept-Encoding</span><br><span class=\"line\">X-Fastly-Request-ID: 3e528056d3333113dfb5da5c92a2421fa71f3705</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>近期在折腾下hexo博客</p><p>发现百度搜索网址都搜索不到自己的站点</p><p>我只把hexo传到github上，然而去百度站长工具提交网址几条后也没有反应</p><p>我就测试了一下百度站长工具 - 抓取诊断</p><p>结果是抓取失败:<strong>Github把百度的爬虫给干掉了</strong>！所以。。。</p><hr><p>具体内容如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">提交网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</span><br><span class=\"line\">抓取网址：\thttp://hisen.me/20170214-maven%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</span><br><span class=\"line\">抓取UA：\tMozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)</span><br><span class=\"line\">抓取时间：\t2017-02-16 09:48:55</span><br><span class=\"line\">网站IP：\t151.***.***.133 已反馈，预计几分钟内完成更新</span><br><span class=\"line\">下载时长：\t0.331秒</span><br><span class=\"line\">抓取异常信息：\t拒绝访问  查看帮助</span><br></pre></td></tr></table></figure><p></p><p>返回HTTP头：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 403 Forbidden</span><br><span class=\"line\">Cache-Control: no-cache</span><br><span class=\"line\">Content-Type: text/html</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\">Accept-Ranges: bytes</span><br><span class=\"line\">Date: Thu, 16 Feb 2017 01:48:55 GMT</span><br><span class=\"line\">Via: 1.1 varnish</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">X-Served-By: cache-itm7421-ITM</span><br><span class=\"line\">X-Cache: MISS</span><br><span class=\"line\">X-Cache-Hits: 0</span><br><span class=\"line\">X-Timer: S1487209735.687949,VS0,VE187</span><br><span class=\"line\">Vary: Accept-Encoding</span><br><span class=\"line\">X-Fastly-Request-ID: 3e528056d3333113dfb5da5c92a2421fa71f3705</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"IDEA 貌似注解失效 - 报错：cannot resolve method xxx","keywords":["cannot resolve method","idea cannot resolve method"],"date":"2017-03-01T09:15:52.000Z","_content":"在java平台上lombok提供了简单的注解的形式\n\n来帮助我们消除一些必须有但看起来很臃肿的代码\n\n比如属性的get/set，及对象的toString等方法，特别是相对于 POJO;\n\n---\n\n## 出现问题 ##\n1. 各种log方法，set方法中红色波浪线\n2. 提示：cannot resolve method xxx\n3. 虽然出现错误但是编译是可以通过的\n\n## 问题原因 ##\n原来的代码用了lombok简单注解\n比如maven的pom.xml文件有如下配置\n```\n\t\t<dependency>\n\t\t\t<groupId>org.projectlombok</groupId>\n\t\t\t<artifactId>lombok</artifactId>\n\t\t\t<version>1.16.8</version>\n\t\t</dependency>\n```\n\n## 解决办法 ##\n安装**lombok plugin**\n\n---\n\n装完插件之后就舒服了，也不报错","source":"_posts/IDEA-貌似注解失效-报错：cannot-resolve-method-xxx.md","raw":"---\ntitle: IDEA 貌似注解失效 - 报错：cannot resolve method xxx\nkeywords: [cannot resolve method,idea cannot resolve method]\ntags: [java,idea]\ndate: 2017-03-01 17:15:52\ncategories: java\n---\n在java平台上lombok提供了简单的注解的形式\n\n来帮助我们消除一些必须有但看起来很臃肿的代码\n\n比如属性的get/set，及对象的toString等方法，特别是相对于 POJO;\n\n---\n\n## 出现问题 ##\n1. 各种log方法，set方法中红色波浪线\n2. 提示：cannot resolve method xxx\n3. 虽然出现错误但是编译是可以通过的\n\n## 问题原因 ##\n原来的代码用了lombok简单注解\n比如maven的pom.xml文件有如下配置\n```\n\t\t<dependency>\n\t\t\t<groupId>org.projectlombok</groupId>\n\t\t\t<artifactId>lombok</artifactId>\n\t\t\t<version>1.16.8</version>\n\t\t</dependency>\n```\n\n## 解决办法 ##\n安装**lombok plugin**\n\n---\n\n装完插件之后就舒服了，也不报错","slug":"IDEA-貌似注解失效-报错：cannot-resolve-method-xxx","published":1,"updated":"2017-03-01T09:24:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqb001folejknshdy73","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在java平台上lombok提供了简单的注解的形式</p><p>来帮助我们消除一些必须有但看起来很臃肿的代码</p><p>比如属性的get/set，及对象的toString等方法，特别是相对于 POJO;</p><hr><h2 id=\"出现问题\"><a href=\"#出现问题\" class=\"headerlink\" title=\"出现问题\"></a>出现问题</h2><ol><li>各种log方法，set方法中红色波浪线</li><li>提示：cannot resolve method xxx</li><li>虽然出现错误但是编译是可以通过的</li></ol><h2 id=\"问题原因\"><a href=\"#问题原因\" class=\"headerlink\" title=\"问题原因\"></a>问题原因</h2><p>原来的代码用了lombok简单注解<br>比如maven的pom.xml文件有如下配置<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class=\"line\">\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class=\"line\">\t&lt;version&gt;1.16.8&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>安装<strong>lombok plugin</strong></p><hr><p>装完插件之后就舒服了，也不报错</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在java平台上lombok提供了简单的注解的形式</p><p>来帮助我们消除一些必须有但看起来很臃肿的代码</p><p>比如属性的get/set，及对象的toString等方法，特别是相对于 POJO;</p><hr><h2 id=\"出现问题\"><a href=\"#出现问题\" class=\"headerlink\" title=\"出现问题\"></a>出现问题</h2><ol><li>各种log方法，set方法中红色波浪线</li><li>提示：cannot resolve method xxx</li><li>虽然出现错误但是编译是可以通过的</li></ol><h2 id=\"问题原因\"><a href=\"#问题原因\" class=\"headerlink\" title=\"问题原因\"></a>问题原因</h2><p>原来的代码用了lombok简单注解<br>比如maven的pom.xml文件有如下配置<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class=\"line\">\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class=\"line\">\t&lt;version&gt;1.16.8&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>安装<strong>lombok plugin</strong></p><hr><p>装完插件之后就舒服了，也不报错</p><!-- rebuild by neat -->"},{"title":"IDEA修改全局设置，如maven等","keywords":["IDEA修改全局设置"],"date":"2017-02-15T02:53:38.000Z","_content":"\n这几天在折腾maven项目\n\n我发现居然每次新open一个项目就得配置下maven\n\n因为默认的maven配置文件不行，我自定义的文件用的是阿里云的镜像\n\n那样快一点，于是很郁闷，决定要搞定他！！！\n\n结果这样设置就可以了，全局设置。\n```\nFile--->Other Setting--->Default Setting\n```\n接下来的设置就是一样的了，各种设置都可以，只要你想全局生效","source":"_posts/IDEA修改全局设置，如maven等.md","raw":"---\ntitle: IDEA修改全局设置，如maven等\nkeywords: [IDEA修改全局设置]\ntags: [idea]\ndate: 2017-02-15 10:53:38\ncategories: 软件\n---\n\n这几天在折腾maven项目\n\n我发现居然每次新open一个项目就得配置下maven\n\n因为默认的maven配置文件不行，我自定义的文件用的是阿里云的镜像\n\n那样快一点，于是很郁闷，决定要搞定他！！！\n\n结果这样设置就可以了，全局设置。\n```\nFile--->Other Setting--->Default Setting\n```\n接下来的设置就是一样的了，各种设置都可以，只要你想全局生效","slug":"IDEA修改全局设置，如maven等","published":1,"updated":"2017-02-15T02:57:32.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqd001iolej8cj7agqi","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这几天在折腾maven项目</p><p>我发现居然每次新open一个项目就得配置下maven</p><p>因为默认的maven配置文件不行，我自定义的文件用的是阿里云的镜像</p><p>那样快一点，于是很郁闷，决定要搞定他！！！</p><p>结果这样设置就可以了，全局设置。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File---&gt;Other Setting---&gt;Default Setting</span><br></pre></td></tr></table></figure><p></p><p>接下来的设置就是一样的了，各种设置都可以，只要你想全局生效</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这几天在折腾maven项目</p><p>我发现居然每次新open一个项目就得配置下maven</p><p>因为默认的maven配置文件不行，我自定义的文件用的是阿里云的镜像</p><p>那样快一点，于是很郁闷，决定要搞定他！！！</p><p>结果这样设置就可以了，全局设置。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File---&gt;Other Setting---&gt;Default Setting</span><br></pre></td></tr></table></figure><p></p><p>接下来的设置就是一样的了，各种设置都可以，只要你想全局生效</p><!-- rebuild by neat -->"},{"title":"IDEA智能补全快捷键更改为Ctrl + 逗号","keywords":["idea","快捷键"],"date":"2017-03-28T08:27:00.000Z","_content":"一直就听说idea的智能补全很厉害，但是Ctrl + 空格 被万恶的输入法给占用了\n网上搜也不是很清晰，这里就写个博客记录一下\n\n快捷键设置：file－>setting->Keymap->Main menu->Code->Completion->Basic\n找到之后右键Add keyboard Shortcut，然后按下：Ctrl + 逗号\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fe2n3f9lgcj20pq0k1ab3.jpg\" />","source":"_posts/IDEA智能补全快捷键更改为Ctrl + 逗号.md","raw":"---\ntitle: IDEA智能补全快捷键更改为Ctrl + 逗号\nkeywords: [idea,快捷键]\ndate: 2017/3/28 16:27\ntags: [idea]\ncategories: idea\n---\n一直就听说idea的智能补全很厉害，但是Ctrl + 空格 被万恶的输入法给占用了\n网上搜也不是很清晰，这里就写个博客记录一下\n\n快捷键设置：file－>setting->Keymap->Main menu->Code->Completion->Basic\n找到之后右键Add keyboard Shortcut，然后按下：Ctrl + 逗号\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fe2n3f9lgcj20pq0k1ab3.jpg\" />","slug":"IDEA智能补全快捷键更改为Ctrl + 逗号","published":1,"updated":"2017-03-28T08:36:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqd001lolejrspkbew6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>一直就听说idea的智能补全很厉害，但是Ctrl + 空格 被万恶的输入法给占用了<br>网上搜也不是很清晰，这里就写个博客记录一下</p><p>快捷键设置：file－&gt;setting-&gt;Keymap-&gt;Main menu-&gt;Code-&gt;Completion-&gt;Basic<br>找到之后右键Add keyboard Shortcut，然后按下：Ctrl + 逗号<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fe2n3f9lgcj20pq0k1ab3.jpg\"></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>一直就听说idea的智能补全很厉害，但是Ctrl + 空格 被万恶的输入法给占用了<br>网上搜也不是很清晰，这里就写个博客记录一下</p><p>快捷键设置：file－&gt;setting-&gt;Keymap-&gt;Main menu-&gt;Code-&gt;Completion-&gt;Basic<br>找到之后右键Add keyboard Shortcut，然后按下：Ctrl + 逗号<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fe2n3f9lgcj20pq0k1ab3.jpg\"></p><!-- rebuild by neat -->"},{"title":"IDEA自定义注释模板(javadoc) - Jindent插件 - 安装&设置","keywords":["javadoc"],"date":"2017-02-14T03:01:52.000Z","_content":"在线安装\n1. File--->Settings--->Plugin--->Browse repositories...\n2. 搜索框输入：jindent\n3. Jindent - Source Code Formatter 选中\n4. 右边 install\n5. 等待安装完成\n6. apply之后会让你重启idea\n\n\n","source":"_posts/IDEA自定义注释模板-javadoc-Jindent插件-安装-设置.md","raw":"---\ntitle: IDEA自定义注释模板(javadoc) - Jindent插件 - 安装&设置\nkeywords: [javadoc]\ntags: [javadoc]\ndate: 2017-02-14 11:01:52\ncategories: 软件\n---\n在线安装\n1. File--->Settings--->Plugin--->Browse repositories...\n2. 搜索框输入：jindent\n3. Jindent - Source Code Formatter 选中\n4. 右边 install\n5. 等待安装完成\n6. apply之后会让你重启idea\n\n\n","slug":"IDEA自定义注释模板-javadoc-Jindent插件-安装-设置","published":1,"updated":"2017-02-17T08:24:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqf001polejus4s06la","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在线安装</p><ol><li>File—&gt;Settings—&gt;Plugin—&gt;Browse repositories…</li><li>搜索框输入：jindent</li><li>Jindent - Source Code Formatter 选中</li><li>右边 install</li><li>等待安装完成</li><li>apply之后会让你重启idea</li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在线安装</p><ol><li>File—&gt;Settings—&gt;Plugin—&gt;Browse repositories…</li><li>搜索框输入：jindent</li><li>Jindent - Source Code Formatter 选中</li><li>右边 install</li><li>等待安装完成</li><li>apply之后会让你重启idea</li></ol><!-- rebuild by neat -->"},{"title":"IDEA设置intellij-java-google-style","keywords":["idea设置google code style"],"date":"2017-04-01T03:33:00.000Z","_content":"\n一直想弄个格式化代码，后来发现很多人用谷歌的，于是也来整一份\n\n保存一份google code的xml，链接有最新的\n<a href=\"https://github.com/google/styleguide/blob/gh-pages/intellij-java-google-style.xml\" target=\"_blank\">intellij-java-google-style.xml</a>\n设置方法如下：Setting -> Editor -> Code Stytle -> Java\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe713rpzl2j20tq0h30v7.jpg\" />\n最后一步就选择你存放之前保存的xml\n\n然后就大功告成，来个对比\n前\n```\npackage com.hisen.json;\n\nimport com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.JSONObject;\n\n/**\n * Created by hisenyuan on 2017/3/23 at 18:02.\n */\npublic class test {\n    public static void main(String[] args) {String s = \"{'A':'a'}\";\n        JSONObject obj= JSON.parseObject(s);\n        System.out.println(obj.get(\"A\"));\n    }\n}\n```\n后\n```\npackage com.hisen.json;\n\nimport com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.JSONObject;\n\n/**\n * Created by hisenyuan on 2017/3/23 at 18:02.\n */\npublic class test {\n\n  public static void main(String[] args) {\n    String s = \"{'A':'a'}\";\n    JSONObject obj = JSON.parseObject(s);\n    System.out.println(obj.get(\"A\"));\n  }\n}\n```\n","source":"_posts/IDEA设置intellij-java-google-style.md","raw":"---\ntitle: IDEA设置intellij-java-google-style\nkeywords: [idea设置google code style]\ndate: 2017/4/1 11:33\ntags: [intellij-java-google-style]\ncategories: idea\n---\n\n一直想弄个格式化代码，后来发现很多人用谷歌的，于是也来整一份\n\n保存一份google code的xml，链接有最新的\n<a href=\"https://github.com/google/styleguide/blob/gh-pages/intellij-java-google-style.xml\" target=\"_blank\">intellij-java-google-style.xml</a>\n设置方法如下：Setting -> Editor -> Code Stytle -> Java\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe713rpzl2j20tq0h30v7.jpg\" />\n最后一步就选择你存放之前保存的xml\n\n然后就大功告成，来个对比\n前\n```\npackage com.hisen.json;\n\nimport com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.JSONObject;\n\n/**\n * Created by hisenyuan on 2017/3/23 at 18:02.\n */\npublic class test {\n    public static void main(String[] args) {String s = \"{'A':'a'}\";\n        JSONObject obj= JSON.parseObject(s);\n        System.out.println(obj.get(\"A\"));\n    }\n}\n```\n后\n```\npackage com.hisen.json;\n\nimport com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.JSONObject;\n\n/**\n * Created by hisenyuan on 2017/3/23 at 18:02.\n */\npublic class test {\n\n  public static void main(String[] args) {\n    String s = \"{'A':'a'}\";\n    JSONObject obj = JSON.parseObject(s);\n    System.out.println(obj.get(\"A\"));\n  }\n}\n```\n","slug":"IDEA设置intellij-java-google-style","published":1,"updated":"2017-04-01T03:46:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqg001solejm96u6ykp","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>一直想弄个格式化代码，后来发现很多人用谷歌的，于是也来整一份</p><p>保存一份google code的xml，链接有最新的<br><a href=\"https://github.com/google/styleguide/blob/gh-pages/intellij-java-google-style.xml\" target=\"_blank\">intellij-java-google-style.xml</a><br>设置方法如下：Setting -&gt; Editor -&gt; Code Stytle -&gt; Java<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe713rpzl2j20tq0h30v7.jpg\"><br>最后一步就选择你存放之前保存的xml</p><p>然后就大功告成，来个对比<br>前<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.json;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.alibaba.fastjson.JSON;</span><br><span class=\"line\">import com.alibaba.fastjson.JSONObject;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Created by hisenyuan on 2017/3/23 at 18:02.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class test &#123;</span><br><span class=\"line\">    public static void main(String[] args) &#123;String s = &quot;&#123;&apos;A&apos;:&apos;a&apos;&#125;&quot;;</span><br><span class=\"line\">        JSONObject obj= JSON.parseObject(s);</span><br><span class=\"line\">        System.out.println(obj.get(&quot;A&quot;));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>后<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.json;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.alibaba.fastjson.JSON;</span><br><span class=\"line\">import com.alibaba.fastjson.JSONObject;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Created by hisenyuan on 2017/3/23 at 18:02.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class test &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    String s = &quot;&#123;&apos;A&apos;:&apos;a&apos;&#125;&quot;;</span><br><span class=\"line\">    JSONObject obj = JSON.parseObject(s);</span><br><span class=\"line\">    System.out.println(obj.get(&quot;A&quot;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>一直想弄个格式化代码，后来发现很多人用谷歌的，于是也来整一份</p><p>保存一份google code的xml，链接有最新的<br><a href=\"https://github.com/google/styleguide/blob/gh-pages/intellij-java-google-style.xml\" target=\"_blank\">intellij-java-google-style.xml</a><br>设置方法如下：Setting -&gt; Editor -&gt; Code Stytle -&gt; Java<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe713rpzl2j20tq0h30v7.jpg\"><br>最后一步就选择你存放之前保存的xml</p><p>然后就大功告成，来个对比<br>前<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.json;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.alibaba.fastjson.JSON;</span><br><span class=\"line\">import com.alibaba.fastjson.JSONObject;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Created by hisenyuan on 2017/3/23 at 18:02.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class test &#123;</span><br><span class=\"line\">    public static void main(String[] args) &#123;String s = &quot;&#123;&apos;A&apos;:&apos;a&apos;&#125;&quot;;</span><br><span class=\"line\">        JSONObject obj= JSON.parseObject(s);</span><br><span class=\"line\">        System.out.println(obj.get(&quot;A&quot;));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>后<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.json;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.alibaba.fastjson.JSON;</span><br><span class=\"line\">import com.alibaba.fastjson.JSONObject;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Created by hisenyuan on 2017/3/23 at 18:02.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class test &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    String s = &quot;&#123;&apos;A&apos;:&apos;a&apos;&#125;&quot;;</span><br><span class=\"line\">    JSONObject obj = JSON.parseObject(s);</span><br><span class=\"line\">    System.out.println(obj.get(&quot;A&quot;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"IDEA部署tomcat项目前台传输的json到后台乱码 - IDEA乱码解决","keywords":["idea tomcat json乱码","idea乱码","tomcat乱码，idea tomcat乱码"],"date":"2017-03-30T13:44:00.000Z","_content":"idea涉及编码的地方都改了\n主要是编译时候的编码，tomcat的编码，以及idea配置里面的编码\n\n一、idea配置文件\n```\n\\HOME\\IntelliJ IDEA 2016.3.4\\bin\\idea64.exe.vmoptions\n```\n增加一行：-Dfile.encoding=UTF-8\n\n二、编译参数\n```\nFile -> Settings -> Build, Execution, Deployment\n-> Compiler -> Java Compiler -> Addition command line parameters\n```\n在空格里面添加：-encoding utf-8\n<img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fe57tlrhrhj20n10fa3zl.jpg\" />\n三、工程编码\n```\nFile -> Settings -> Editor -> File Encodings\n```\n此页面三个地方都选择UTF-8\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tmo745j20qw0jbmys.jpg\" />\n四、tomcat参数\n```\nRun/debug Configuration tomcat\n```\nVM options：-Dfile.encoding=UTF-8\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tn7v93j20k60atmxt.jpg\" />","source":"_posts/IDEA部署tomcat项目前台传输的json到后台乱码.md","raw":"---\ntitle: IDEA部署tomcat项目前台传输的json到后台乱码 - IDEA乱码解决\nkeywords: [idea tomcat json乱码,idea乱码,tomcat乱码，idea tomcat乱码]\ndate: 2017/3/30 21:44\ntags: [idea,java]\ncategories: idea\n---\nidea涉及编码的地方都改了\n主要是编译时候的编码，tomcat的编码，以及idea配置里面的编码\n\n一、idea配置文件\n```\n\\HOME\\IntelliJ IDEA 2016.3.4\\bin\\idea64.exe.vmoptions\n```\n增加一行：-Dfile.encoding=UTF-8\n\n二、编译参数\n```\nFile -> Settings -> Build, Execution, Deployment\n-> Compiler -> Java Compiler -> Addition command line parameters\n```\n在空格里面添加：-encoding utf-8\n<img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fe57tlrhrhj20n10fa3zl.jpg\" />\n三、工程编码\n```\nFile -> Settings -> Editor -> File Encodings\n```\n此页面三个地方都选择UTF-8\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tmo745j20qw0jbmys.jpg\" />\n四、tomcat参数\n```\nRun/debug Configuration tomcat\n```\nVM options：-Dfile.encoding=UTF-8\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tn7v93j20k60atmxt.jpg\" />","slug":"IDEA部署tomcat项目前台传输的json到后台乱码","published":1,"updated":"2017-03-30T14:08:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqh001wolejlu2o6d68","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>idea涉及编码的地方都改了<br>主要是编译时候的编码，tomcat的编码，以及idea配置里面的编码</p><p>一、idea配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\HOME\\IntelliJ IDEA 2016.3.4\\bin\\idea64.exe.vmoptions</span><br></pre></td></tr></table></figure><p></p><p>增加一行：-Dfile.encoding=UTF-8</p><p>二、编译参数<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File -&gt; Settings -&gt; Build, Execution, Deployment</span><br><span class=\"line\">-&gt; Compiler -&gt; Java Compiler -&gt; Addition command line parameters</span><br></pre></td></tr></table></figure><p></p><p>在空格里面添加：-encoding utf-8<br><img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fe57tlrhrhj20n10fa3zl.jpg\"><br>三、工程编码<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File -&gt; Settings -&gt; Editor -&gt; File Encodings</span><br></pre></td></tr></table></figure><p></p><p>此页面三个地方都选择UTF-8<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tmo745j20qw0jbmys.jpg\"><br>四、tomcat参数<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Run/debug Configuration tomcat</span><br></pre></td></tr></table></figure><p></p><p>VM options：-Dfile.encoding=UTF-8<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tn7v93j20k60atmxt.jpg\"></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>idea涉及编码的地方都改了<br>主要是编译时候的编码，tomcat的编码，以及idea配置里面的编码</p><p>一、idea配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\HOME\\IntelliJ IDEA 2016.3.4\\bin\\idea64.exe.vmoptions</span><br></pre></td></tr></table></figure><p></p><p>增加一行：-Dfile.encoding=UTF-8</p><p>二、编译参数<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File -&gt; Settings -&gt; Build, Execution, Deployment</span><br><span class=\"line\">-&gt; Compiler -&gt; Java Compiler -&gt; Addition command line parameters</span><br></pre></td></tr></table></figure><p></p><p>在空格里面添加：-encoding utf-8<br><img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fe57tlrhrhj20n10fa3zl.jpg\"><br>三、工程编码<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File -&gt; Settings -&gt; Editor -&gt; File Encodings</span><br></pre></td></tr></table></figure><p></p><p>此页面三个地方都选择UTF-8<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tmo745j20qw0jbmys.jpg\"><br>四、tomcat参数<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Run/debug Configuration tomcat</span><br></pre></td></tr></table></figure><p></p><p>VM options：-Dfile.encoding=UTF-8<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fe57tn7v93j20k60atmxt.jpg\"></p><!-- rebuild by neat -->"},{"title":"IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决","keywords":["IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决","idea底部乱码"],"date":"2017-08-25T03:04:00.000Z","_content":"IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码\n\n在使用的过程中发现，搜索框历史、提交svn后的消息提示乱码\n\n**最后发现是由于更改了idea界面的字体，字体对中文支持不佳导致**\n\n解决办法：更改为支持中文的字体（比如：微软雅黑 Microsoft YaHei）\n\n设置路径：Settings -> Appearance & Behavior -> UI Options -> override default fonts by\n\n选择何时的字体即可，也可以把勾勾去掉，使用默认的。\n","source":"_posts/IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决.md","raw":"---\ntitle: IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决\nkeywords: [IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决,idea底部乱码]\ndate: 2017/8/25 11:04\ntags: [乱码]\ncategories: idea\n---\nIntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码\n\n在使用的过程中发现，搜索框历史、提交svn后的消息提示乱码\n\n**最后发现是由于更改了idea界面的字体，字体对中文支持不佳导致**\n\n解决办法：更改为支持中文的字体（比如：微软雅黑 Microsoft YaHei）\n\n设置路径：Settings -> Appearance & Behavior -> UI Options -> override default fonts by\n\n选择何时的字体即可，也可以把勾勾去掉，使用默认的。\n","slug":"IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码问题解决","published":1,"updated":"2017-08-25T03:10:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqi001yolejmhgiajp3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码</p><p>在使用的过程中发现，搜索框历史、提交svn后的消息提示乱码</p><p><strong>最后发现是由于更改了idea界面的字体，字体对中文支持不佳导致</strong></p><p>解决办法：更改为支持中文的字体（比如：微软雅黑 Microsoft YaHei）</p><p>设置路径：Settings -&gt; Appearance &amp; Behavior -&gt; UI Options -&gt; override default fonts by</p><p>选择何时的字体即可，也可以把勾勾去掉，使用默认的。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>IntelliJ IDEA 调试窗口、帮助窗口、搜索框、底部消息等中文乱码</p><p>在使用的过程中发现，搜索框历史、提交svn后的消息提示乱码</p><p><strong>最后发现是由于更改了idea界面的字体，字体对中文支持不佳导致</strong></p><p>解决办法：更改为支持中文的字体（比如：微软雅黑 Microsoft YaHei）</p><p>设置路径：Settings -&gt; Appearance &amp; Behavior -&gt; UI Options -&gt; override default fonts by</p><p>选择何时的字体即可，也可以把勾勾去掉，使用默认的。</p><!-- rebuild by neat -->"},{"title":"idea列编辑：IntelliJ IDEA：toggle block selection mode","keywords":["idea批量编辑","idea列编辑"],"date":"2017-10-24T08:21:00.000Z","_content":"在eclipse中有列编辑模式：toggle block selection mode\n\n在idea中也可以，而且还比较高级，哈哈\n\nidea -> 右上角 -> Edit -> Column Selection Mode -> 移动光标到你想要弄的行\n\n完事在重复一次，就可以退出列编辑模式\n","source":"_posts/IntelliJ IDEA：toggle block selection mode.md","raw":"---\ntitle: idea列编辑：IntelliJ IDEA：toggle block selection mode\nkeywords: [idea批量编辑,idea列编辑]\ndate: 2017/10/24 16:21\ntags: [idea]\ncategories: idea\n---\n在eclipse中有列编辑模式：toggle block selection mode\n\n在idea中也可以，而且还比较高级，哈哈\n\nidea -> 右上角 -> Edit -> Column Selection Mode -> 移动光标到你想要弄的行\n\n完事在重复一次，就可以退出列编辑模式\n","slug":"IntelliJ IDEA：toggle block selection mode","published":1,"updated":"2017-10-24T08:25:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqj0021olejsrq6fq78","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在eclipse中有列编辑模式：toggle block selection mode</p><p>在idea中也可以，而且还比较高级，哈哈</p><p>idea -&gt; 右上角 -&gt; Edit -&gt; Column Selection Mode -&gt; 移动光标到你想要弄的行</p><p>完事在重复一次，就可以退出列编辑模式</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在eclipse中有列编辑模式：toggle block selection mode</p><p>在idea中也可以，而且还比较高级，哈哈</p><p>idea -&gt; 右上角 -&gt; Edit -&gt; Column Selection Mode -&gt; 移动光标到你想要弄的行</p><p>完事在重复一次，就可以退出列编辑模式</p><!-- rebuild by neat -->"},{"title":"Intellij IDEA中使用MyBatis-generator 自动生成MyBatis代码","keywords":["MyBatis-generator","idea"],"date":"2017-03-22T02:08:00.000Z","_content":"MyBatis Generator是一个非常方便的代码生成工具，\n\n可以根据数据库中表结构自动生成CRUD代码，可以满足大部分需求。\n\nMyBatis Generator (MBG) 是一个Mybatis的代码生成器 ，\n\n可以根据数据库中表结构自动生成简单的CRUD（插入，查询，更新，删除）操作。\n \n但联合查询和存储过程，需手动手写SQL和对象。\n\n**PS:配置过程中请注意自己的工程目录结构**\n\n一、pom.xml添加插件\n---\n```\n<plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.3.2</version>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>5.1.5</version>\n                    </dependency>\n                </dependencies>\n                <configuration>\n                    <overwrite>true</overwrite>\n                </configuration>\n            </plugin>\n```\n二、配置generatorConfig.xml\n---\n<!--more-->\nresources下建generatorConfig.xml,作为mybatis-generator-maven-plugin插件的执行目标。\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n\n    <context id=\"mysqlgenerator\" targetRuntime=\"MyBatis3\">\n        <!--数据库连接信息-->\n        <jdbcConnection driverClass=\"com.mysql.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://127.0.0.1:3306/ssm\"\n                        userId=\"root\"\n                        password=\"hisen\" />\n        <!--代码相关路径和包-->\n        <javaModelGenerator targetPackage=\"com.hisen.mybatis.model\" targetProject=\"src/main/java\" />\n\n        <sqlMapGenerator targetPackage=\"com.hisen.mybatis.mapper\" targetProject=\"src/main/resources\" />\n\n        <javaClientGenerator type=\"XMLMAPPER\" targetPackage=\"com.hisen.mybatis.mapper\" targetProject=\"src/main/java\" />\n        <!--表名-->\n        <table tableName=\"appointment\"/>\n        <table tableName=\"book\"/>\n\n    </context>\n\n</generatorConfiguration>\n```\n三、Intellij配置\n---\nMyBatis Generator生成代码的运行方式：命令行、使用Ant、使用Maven、Java编码。\n\n本文采用Maven插件mybatis-generator-maven-plugin来运行MyBatis Generator，用的是命令行的方式。\n\n配置插件\n<img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvexcbif9j20cs0670sz.jpg\" />\n选择目录，输入命令：mybatis-generator:generate -e\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdvexcxg0fj20pa0kt404.jpg\" />\n找到插件。双击执行\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdvexdf3u2j20dc0dft9x.jpg\" />\n即可看到生成的文件\n<img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvf14o2y3j20du0bot92.jpg\" />","source":"_posts/Intellij IDEA中使用MyBatis-generator 自动生成MyBatis代码.md","raw":"---\ntitle: Intellij IDEA中使用MyBatis-generator 自动生成MyBatis代码\nkeywords: [MyBatis-generator,idea]\ndate: 2017/3/22 10:08\ntags: [idea,mybatis]\ncategories: java\n---\nMyBatis Generator是一个非常方便的代码生成工具，\n\n可以根据数据库中表结构自动生成CRUD代码，可以满足大部分需求。\n\nMyBatis Generator (MBG) 是一个Mybatis的代码生成器 ，\n\n可以根据数据库中表结构自动生成简单的CRUD（插入，查询，更新，删除）操作。\n \n但联合查询和存储过程，需手动手写SQL和对象。\n\n**PS:配置过程中请注意自己的工程目录结构**\n\n一、pom.xml添加插件\n---\n```\n<plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.3.2</version>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>5.1.5</version>\n                    </dependency>\n                </dependencies>\n                <configuration>\n                    <overwrite>true</overwrite>\n                </configuration>\n            </plugin>\n```\n二、配置generatorConfig.xml\n---\n<!--more-->\nresources下建generatorConfig.xml,作为mybatis-generator-maven-plugin插件的执行目标。\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n\n    <context id=\"mysqlgenerator\" targetRuntime=\"MyBatis3\">\n        <!--数据库连接信息-->\n        <jdbcConnection driverClass=\"com.mysql.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://127.0.0.1:3306/ssm\"\n                        userId=\"root\"\n                        password=\"hisen\" />\n        <!--代码相关路径和包-->\n        <javaModelGenerator targetPackage=\"com.hisen.mybatis.model\" targetProject=\"src/main/java\" />\n\n        <sqlMapGenerator targetPackage=\"com.hisen.mybatis.mapper\" targetProject=\"src/main/resources\" />\n\n        <javaClientGenerator type=\"XMLMAPPER\" targetPackage=\"com.hisen.mybatis.mapper\" targetProject=\"src/main/java\" />\n        <!--表名-->\n        <table tableName=\"appointment\"/>\n        <table tableName=\"book\"/>\n\n    </context>\n\n</generatorConfiguration>\n```\n三、Intellij配置\n---\nMyBatis Generator生成代码的运行方式：命令行、使用Ant、使用Maven、Java编码。\n\n本文采用Maven插件mybatis-generator-maven-plugin来运行MyBatis Generator，用的是命令行的方式。\n\n配置插件\n<img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvexcbif9j20cs0670sz.jpg\" />\n选择目录，输入命令：mybatis-generator:generate -e\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdvexcxg0fj20pa0kt404.jpg\" />\n找到插件。双击执行\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdvexdf3u2j20dc0dft9x.jpg\" />\n即可看到生成的文件\n<img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvf14o2y3j20du0bot92.jpg\" />","slug":"Intellij IDEA中使用MyBatis-generator 自动生成MyBatis代码","published":1,"updated":"2017-03-22T02:39:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqk0025olej6juy0e9i","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>MyBatis Generator是一个非常方便的代码生成工具，</p><p>可以根据数据库中表结构自动生成CRUD代码，可以满足大部分需求。</p><p>MyBatis Generator (MBG) 是一个Mybatis的代码生成器 ，</p><p>可以根据数据库中表结构自动生成简单的CRUD（插入，查询，更新，删除）操作。</p><p>但联合查询和存储过程，需手动手写SQL和对象。</p><p><strong>PS:配置过程中请注意自己的工程目录结构</strong></p><h2 id=\"一、pom-xml添加插件\"><a href=\"#一、pom-xml添加插件\" class=\"headerlink\" title=\"一、pom.xml添加插件\"></a>一、pom.xml添加插件</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;plugin&gt;</span><br><span class=\"line\">                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class=\"line\">                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class=\"line\">                &lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class=\"line\">                &lt;dependencies&gt;</span><br><span class=\"line\">                    &lt;dependency&gt;</span><br><span class=\"line\">                        &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class=\"line\">                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class=\"line\">                        &lt;version&gt;5.1.5&lt;/version&gt;</span><br><span class=\"line\">                    &lt;/dependency&gt;</span><br><span class=\"line\">                &lt;/dependencies&gt;</span><br><span class=\"line\">                &lt;configuration&gt;</span><br><span class=\"line\">                    &lt;overwrite&gt;true&lt;/overwrite&gt;</span><br><span class=\"line\">                &lt;/configuration&gt;</span><br><span class=\"line\">            &lt;/plugin&gt;</span><br></pre></td></tr></table></figure><h2 id=\"二、配置generatorConfig-xml\"><a href=\"#二、配置generatorConfig-xml\" class=\"headerlink\" title=\"二、配置generatorConfig.xml\"></a>二、配置generatorConfig.xml</h2><a id=\"more\"></a><p>resources下建generatorConfig.xml,作为mybatis-generator-maven-plugin插件的执行目标。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE generatorConfiguration</span><br><span class=\"line\">        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span><br><span class=\"line\">        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;generatorConfiguration&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;context id=&quot;mysqlgenerator&quot; targetRuntime=&quot;MyBatis3&quot;&gt;</span><br><span class=\"line\">        &lt;!--数据库连接信息--&gt;</span><br><span class=\"line\">        &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;</span><br><span class=\"line\">                        connectionURL=&quot;jdbc:mysql://127.0.0.1:3306/ssm&quot;</span><br><span class=\"line\">                        userId=&quot;root&quot;</span><br><span class=\"line\">                        password=&quot;hisen&quot; /&gt;</span><br><span class=\"line\">        &lt;!--代码相关路径和包--&gt;</span><br><span class=\"line\">        &lt;javaModelGenerator targetPackage=&quot;com.hisen.mybatis.model&quot; targetProject=&quot;src/main/java&quot; /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;sqlMapGenerator targetPackage=&quot;com.hisen.mybatis.mapper&quot; targetProject=&quot;src/main/resources&quot; /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.hisen.mybatis.mapper&quot; targetProject=&quot;src/main/java&quot; /&gt;</span><br><span class=\"line\">        &lt;!--表名--&gt;</span><br><span class=\"line\">        &lt;table tableName=&quot;appointment&quot;/&gt;</span><br><span class=\"line\">        &lt;table tableName=&quot;book&quot;/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;/context&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、Intellij配置\"><a href=\"#三、Intellij配置\" class=\"headerlink\" title=\"三、Intellij配置\"></a>三、Intellij配置</h2><p>MyBatis Generator生成代码的运行方式：命令行、使用Ant、使用Maven、Java编码。</p><p>本文采用Maven插件mybatis-generator-maven-plugin来运行MyBatis Generator，用的是命令行的方式。</p><p>配置插件<br><img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvexcbif9j20cs0670sz.jpg\"><br>选择目录，输入命令：mybatis-generator:generate -e<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdvexcxg0fj20pa0kt404.jpg\"><br>找到插件。双击执行<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdvexdf3u2j20dc0dft9x.jpg\"><br>即可看到生成的文件<br><img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvf14o2y3j20du0bot92.jpg\"></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>MyBatis Generator是一个非常方便的代码生成工具，</p><p>可以根据数据库中表结构自动生成CRUD代码，可以满足大部分需求。</p><p>MyBatis Generator (MBG) 是一个Mybatis的代码生成器 ，</p><p>可以根据数据库中表结构自动生成简单的CRUD（插入，查询，更新，删除）操作。</p><p>但联合查询和存储过程，需手动手写SQL和对象。</p><p><strong>PS:配置过程中请注意自己的工程目录结构</strong></p><h2 id=\"一、pom-xml添加插件\"><a href=\"#一、pom-xml添加插件\" class=\"headerlink\" title=\"一、pom.xml添加插件\"></a>一、pom.xml添加插件</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;plugin&gt;</span><br><span class=\"line\">                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class=\"line\">                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class=\"line\">                &lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class=\"line\">                &lt;dependencies&gt;</span><br><span class=\"line\">                    &lt;dependency&gt;</span><br><span class=\"line\">                        &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class=\"line\">                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class=\"line\">                        &lt;version&gt;5.1.5&lt;/version&gt;</span><br><span class=\"line\">                    &lt;/dependency&gt;</span><br><span class=\"line\">                &lt;/dependencies&gt;</span><br><span class=\"line\">                &lt;configuration&gt;</span><br><span class=\"line\">                    &lt;overwrite&gt;true&lt;/overwrite&gt;</span><br><span class=\"line\">                &lt;/configuration&gt;</span><br><span class=\"line\">            &lt;/plugin&gt;</span><br></pre></td></tr></table></figure><h2 id=\"二、配置generatorConfig-xml\"><a href=\"#二、配置generatorConfig-xml\" class=\"headerlink\" title=\"二、配置generatorConfig.xml\"></a>二、配置generatorConfig.xml</h2>","more":"<p>resources下建generatorConfig.xml,作为mybatis-generator-maven-plugin插件的执行目标。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE generatorConfiguration</span><br><span class=\"line\">        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span><br><span class=\"line\">        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;generatorConfiguration&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;context id=&quot;mysqlgenerator&quot; targetRuntime=&quot;MyBatis3&quot;&gt;</span><br><span class=\"line\">        &lt;!--数据库连接信息--&gt;</span><br><span class=\"line\">        &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;</span><br><span class=\"line\">                        connectionURL=&quot;jdbc:mysql://127.0.0.1:3306/ssm&quot;</span><br><span class=\"line\">                        userId=&quot;root&quot;</span><br><span class=\"line\">                        password=&quot;hisen&quot; /&gt;</span><br><span class=\"line\">        &lt;!--代码相关路径和包--&gt;</span><br><span class=\"line\">        &lt;javaModelGenerator targetPackage=&quot;com.hisen.mybatis.model&quot; targetProject=&quot;src/main/java&quot; /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;sqlMapGenerator targetPackage=&quot;com.hisen.mybatis.mapper&quot; targetProject=&quot;src/main/resources&quot; /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.hisen.mybatis.mapper&quot; targetProject=&quot;src/main/java&quot; /&gt;</span><br><span class=\"line\">        &lt;!--表名--&gt;</span><br><span class=\"line\">        &lt;table tableName=&quot;appointment&quot;/&gt;</span><br><span class=\"line\">        &lt;table tableName=&quot;book&quot;/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;/context&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、Intellij配置\"><a href=\"#三、Intellij配置\" class=\"headerlink\" title=\"三、Intellij配置\"></a>三、Intellij配置</h2><p>MyBatis Generator生成代码的运行方式：命令行、使用Ant、使用Maven、Java编码。</p><p>本文采用Maven插件mybatis-generator-maven-plugin来运行MyBatis Generator，用的是命令行的方式。</p><p>配置插件<br><img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvexcbif9j20cs0670sz.jpg\"><br>选择目录，输入命令：mybatis-generator:generate -e<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdvexcxg0fj20pa0kt404.jpg\"><br>找到插件。双击执行<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdvexdf3u2j20dc0dft9x.jpg\"><br>即可看到生成的文件<br><img src=\"http://wx1.sinaimg.cn/mw690/b2e389b6ly1fdvf14o2y3j20du0bot92.jpg\"></p><!-- rebuild by neat -->"},{"title":"Intellij Idea 快捷键汇总&介绍","keywords":["idea快捷键","Intellij Idea 快捷键"],"date":"2017-02-13T14:33:33.000Z","_content":"\n最常用快捷键(1~18)\n\n1. Ctrl＋E，可以显示最近编辑的文件列表\n2. Shift＋Click可以关闭文件\n3. Ctrl＋[或]可以跳到大括号的开头结尾\n4. Ctrl＋Shift＋Backspace可以跳转到上次编辑的地方\n5. Ctrl＋F12，可以显示当前文件的结构\n6. Ctrl＋F7可以查询当前元素在当前文件中的引用，然后按F3可以选择\n7. Ctrl＋N，可以快速打开类\n8. Ctrl＋Shift＋N，可以快速打开文件\n9. Alt＋Q可以看到当前方法的声明\n10. Ctrl＋W可以选择单词继而语句继而行继而函数\n11. Alt＋F1可以将正在编辑的元素在各个面板中定位\n12. Ctrl＋P，可以显示参数信息\n13. Ctrl＋Shift＋Insert可以选择剪贴板内容并插入\n14. Alt＋Insert可以生成构造器/Getter/Setter等\n15. Ctrl＋Alt＋V 可以引入变量。例如把括号内的SQL赋成一个变量\n16. Ctrl＋Alt＋T可以把代码包在一块内，例如try/catch\n17. Alt＋Up and Alt＋Down可在方法间快速移动\n18. 在一些地方按Alt＋Enter可以得到一些Intention Action，例如将”==”改为”equals()”\n19. Ctrl＋Shift＋Alt＋N可以快速打开符号\n20. Ctrl＋Shift＋Space在很多时候都能够给出Smart提示\n21. Alt＋F3可以快速寻找\n22. Ctrl＋/和Ctrl＋Shift＋/可以注释代码\n23. Ctrl＋Alt＋B可以跳转到抽象方法的实现\n24. Ctrl＋O可以选择父类的方法进行重写\n25. Ctrl＋Q可以看JavaDoc\n26. Ctrl＋Alt＋Space是类名自动完成\n27. 快速打开类/文件/符号时，可以使用通配符，也可以使用缩写\n28. Live Templates! Ctrl＋J\n29. Ctrl＋Shift＋F7可以高亮当前元素在当前文件中的使用\n30. Ctrl＋Alt＋Up /Ctrl＋Alt＋Down可以快速跳转搜索结果\n31. Ctrl＋Shift＋J可以整合两行\n32. Alt＋F8是计算变量值\n\n\n<!--more-->\nAlt+回车 导入包,自动修正\n\nCtrl+N   查找类\n\nCtrl+Shift+N 查找文件\n\nCtrl+Alt+L  格式化代码\n\nCtrl+Alt+O 优化导入的类和包\n\nAlt+Insert 生成代码(如get,set方法,构造函数等)\n\nCtrl+E或者Alt+Shift+C  最近更改的代码\n\nCtrl+R 替换文本\n\nCtrl+F 查找文本\n\nCtrl+Shift+Space 自动补全代码\n\nCtrl+空格 代码提示\n\nCtrl+Alt+Space 类名或接口名提示\n\nCtrl+P 方法参数提示\n\nCtrl+Shift+Alt+N 查找类中的方法或变量\n\nAlt+Shift+C 对比最近修改的代码\n \nShift+F6  重构-重命名\n\nCtrl+Shift+先上键\n\nCtrl+X 删除行\n\nCtrl+D 复制行\n\nCtrl+/ 或 Ctrl+Shift+/  注释（// 或者/*...*/ ）\n\nCtrl+J  自动代码\n\nCtrl+E 最近打开的文件\n\nCtrl+H 显示类结构图\n\nCtrl+Q 显示注释文档\n\nAlt+F1 查找代码所在位置\n\nAlt+1 快速打开或隐藏工程面板\n\nCtrl+Alt+ left/right 返回至上次浏览的位置\n\nAlt+ left/right 切换代码视图\n\nAlt+ Up/Down 在方法间快速移动定位\n\nCtrl+Shift+Up/Down 代码向上/下移动。\n\nF2 或Shift+F2 高亮错误或警告快速定位\n \n代码标签输入完成后，按Tab，生成代码。\n\n选中文本，按Ctrl+Shift+F7 ，高亮显示所有该文本，按Esc高亮消失。\n\nCtrl+W 选中代码，连续按会有其他效果\n\n选中文本，按Alt+F3 ，逐个往下查找相同文本，并高亮显示。\n\nCtrl+Up/Down 光标跳转到第一行或最后一行下\n\nCtrl+B 快速打开光标处的类或方法","source":"_posts/Intellij-Idea-快捷键汇总-介绍.md","raw":"---\ntitle: Intellij Idea 快捷键汇总&介绍\nkeywords: [idea快捷键,Intellij Idea 快捷键]\ntags: [idea,java]\ndate: 2017-02-13 22:33:33\ncategories: 软件\n---\n\n最常用快捷键(1~18)\n\n1. Ctrl＋E，可以显示最近编辑的文件列表\n2. Shift＋Click可以关闭文件\n3. Ctrl＋[或]可以跳到大括号的开头结尾\n4. Ctrl＋Shift＋Backspace可以跳转到上次编辑的地方\n5. Ctrl＋F12，可以显示当前文件的结构\n6. Ctrl＋F7可以查询当前元素在当前文件中的引用，然后按F3可以选择\n7. Ctrl＋N，可以快速打开类\n8. Ctrl＋Shift＋N，可以快速打开文件\n9. Alt＋Q可以看到当前方法的声明\n10. Ctrl＋W可以选择单词继而语句继而行继而函数\n11. Alt＋F1可以将正在编辑的元素在各个面板中定位\n12. Ctrl＋P，可以显示参数信息\n13. Ctrl＋Shift＋Insert可以选择剪贴板内容并插入\n14. Alt＋Insert可以生成构造器/Getter/Setter等\n15. Ctrl＋Alt＋V 可以引入变量。例如把括号内的SQL赋成一个变量\n16. Ctrl＋Alt＋T可以把代码包在一块内，例如try/catch\n17. Alt＋Up and Alt＋Down可在方法间快速移动\n18. 在一些地方按Alt＋Enter可以得到一些Intention Action，例如将”==”改为”equals()”\n19. Ctrl＋Shift＋Alt＋N可以快速打开符号\n20. Ctrl＋Shift＋Space在很多时候都能够给出Smart提示\n21. Alt＋F3可以快速寻找\n22. Ctrl＋/和Ctrl＋Shift＋/可以注释代码\n23. Ctrl＋Alt＋B可以跳转到抽象方法的实现\n24. Ctrl＋O可以选择父类的方法进行重写\n25. Ctrl＋Q可以看JavaDoc\n26. Ctrl＋Alt＋Space是类名自动完成\n27. 快速打开类/文件/符号时，可以使用通配符，也可以使用缩写\n28. Live Templates! Ctrl＋J\n29. Ctrl＋Shift＋F7可以高亮当前元素在当前文件中的使用\n30. Ctrl＋Alt＋Up /Ctrl＋Alt＋Down可以快速跳转搜索结果\n31. Ctrl＋Shift＋J可以整合两行\n32. Alt＋F8是计算变量值\n\n\n<!--more-->\nAlt+回车 导入包,自动修正\n\nCtrl+N   查找类\n\nCtrl+Shift+N 查找文件\n\nCtrl+Alt+L  格式化代码\n\nCtrl+Alt+O 优化导入的类和包\n\nAlt+Insert 生成代码(如get,set方法,构造函数等)\n\nCtrl+E或者Alt+Shift+C  最近更改的代码\n\nCtrl+R 替换文本\n\nCtrl+F 查找文本\n\nCtrl+Shift+Space 自动补全代码\n\nCtrl+空格 代码提示\n\nCtrl+Alt+Space 类名或接口名提示\n\nCtrl+P 方法参数提示\n\nCtrl+Shift+Alt+N 查找类中的方法或变量\n\nAlt+Shift+C 对比最近修改的代码\n \nShift+F6  重构-重命名\n\nCtrl+Shift+先上键\n\nCtrl+X 删除行\n\nCtrl+D 复制行\n\nCtrl+/ 或 Ctrl+Shift+/  注释（// 或者/*...*/ ）\n\nCtrl+J  自动代码\n\nCtrl+E 最近打开的文件\n\nCtrl+H 显示类结构图\n\nCtrl+Q 显示注释文档\n\nAlt+F1 查找代码所在位置\n\nAlt+1 快速打开或隐藏工程面板\n\nCtrl+Alt+ left/right 返回至上次浏览的位置\n\nAlt+ left/right 切换代码视图\n\nAlt+ Up/Down 在方法间快速移动定位\n\nCtrl+Shift+Up/Down 代码向上/下移动。\n\nF2 或Shift+F2 高亮错误或警告快速定位\n \n代码标签输入完成后，按Tab，生成代码。\n\n选中文本，按Ctrl+Shift+F7 ，高亮显示所有该文本，按Esc高亮消失。\n\nCtrl+W 选中代码，连续按会有其他效果\n\n选中文本，按Alt+F3 ，逐个往下查找相同文本，并高亮显示。\n\nCtrl+Up/Down 光标跳转到第一行或最后一行下\n\nCtrl+B 快速打开光标处的类或方法","slug":"Intellij-Idea-快捷键汇总-介绍","published":1,"updated":"2017-02-13T14:50:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqm0028olejxbm0k7f5","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>最常用快捷键(1~18)</p><ol><li>Ctrl＋E，可以显示最近编辑的文件列表</li><li>Shift＋Click可以关闭文件</li><li>Ctrl＋[或]可以跳到大括号的开头结尾</li><li>Ctrl＋Shift＋Backspace可以跳转到上次编辑的地方</li><li>Ctrl＋F12，可以显示当前文件的结构</li><li>Ctrl＋F7可以查询当前元素在当前文件中的引用，然后按F3可以选择</li><li>Ctrl＋N，可以快速打开类</li><li>Ctrl＋Shift＋N，可以快速打开文件</li><li>Alt＋Q可以看到当前方法的声明</li><li>Ctrl＋W可以选择单词继而语句继而行继而函数</li><li>Alt＋F1可以将正在编辑的元素在各个面板中定位</li><li>Ctrl＋P，可以显示参数信息</li><li>Ctrl＋Shift＋Insert可以选择剪贴板内容并插入</li><li>Alt＋Insert可以生成构造器/Getter/Setter等</li><li>Ctrl＋Alt＋V 可以引入变量。例如把括号内的SQL赋成一个变量</li><li>Ctrl＋Alt＋T可以把代码包在一块内，例如try/catch</li><li>Alt＋Up and Alt＋Down可在方法间快速移动</li><li>在一些地方按Alt＋Enter可以得到一些Intention Action，例如将”==”改为”equals()”</li><li>Ctrl＋Shift＋Alt＋N可以快速打开符号</li><li>Ctrl＋Shift＋Space在很多时候都能够给出Smart提示</li><li>Alt＋F3可以快速寻找</li><li>Ctrl＋/和Ctrl＋Shift＋/可以注释代码</li><li>Ctrl＋Alt＋B可以跳转到抽象方法的实现</li><li>Ctrl＋O可以选择父类的方法进行重写</li><li>Ctrl＋Q可以看JavaDoc</li><li>Ctrl＋Alt＋Space是类名自动完成</li><li>快速打开类/文件/符号时，可以使用通配符，也可以使用缩写</li><li>Live Templates! Ctrl＋J</li><li>Ctrl＋Shift＋F7可以高亮当前元素在当前文件中的使用</li><li>Ctrl＋Alt＋Up /Ctrl＋Alt＋Down可以快速跳转搜索结果</li><li>Ctrl＋Shift＋J可以整合两行</li><li>Alt＋F8是计算变量值</li></ol><a id=\"more\"></a><p>Alt+回车 导入包,自动修正</p><p>Ctrl+N 查找类</p><p>Ctrl+Shift+N 查找文件</p><p>Ctrl+Alt+L 格式化代码</p><p>Ctrl+Alt+O 优化导入的类和包</p><p>Alt+Insert 生成代码(如get,set方法,构造函数等)</p><p>Ctrl+E或者Alt+Shift+C 最近更改的代码</p><p>Ctrl+R 替换文本</p><p>Ctrl+F 查找文本</p><p>Ctrl+Shift+Space 自动补全代码</p><p>Ctrl+空格 代码提示</p><p>Ctrl+Alt+Space 类名或接口名提示</p><p>Ctrl+P 方法参数提示</p><p>Ctrl+Shift+Alt+N 查找类中的方法或变量</p><p>Alt+Shift+C 对比最近修改的代码</p><p>Shift+F6 重构-重命名</p><p>Ctrl+Shift+先上键</p><p>Ctrl+X 删除行</p><p>Ctrl+D 复制行</p><p>Ctrl+/ 或 Ctrl+Shift+/ 注释（// 或者/<em>…</em>/ ）</p><p>Ctrl+J 自动代码</p><p>Ctrl+E 最近打开的文件</p><p>Ctrl+H 显示类结构图</p><p>Ctrl+Q 显示注释文档</p><p>Alt+F1 查找代码所在位置</p><p>Alt+1 快速打开或隐藏工程面板</p><p>Ctrl+Alt+ left/right 返回至上次浏览的位置</p><p>Alt+ left/right 切换代码视图</p><p>Alt+ Up/Down 在方法间快速移动定位</p><p>Ctrl+Shift+Up/Down 代码向上/下移动。</p><p>F2 或Shift+F2 高亮错误或警告快速定位</p><p>代码标签输入完成后，按Tab，生成代码。</p><p>选中文本，按Ctrl+Shift+F7 ，高亮显示所有该文本，按Esc高亮消失。</p><p>Ctrl+W 选中代码，连续按会有其他效果</p><p>选中文本，按Alt+F3 ，逐个往下查找相同文本，并高亮显示。</p><p>Ctrl+Up/Down 光标跳转到第一行或最后一行下</p><p>Ctrl+B 快速打开光标处的类或方法</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>最常用快捷键(1~18)</p><ol><li>Ctrl＋E，可以显示最近编辑的文件列表</li><li>Shift＋Click可以关闭文件</li><li>Ctrl＋[或]可以跳到大括号的开头结尾</li><li>Ctrl＋Shift＋Backspace可以跳转到上次编辑的地方</li><li>Ctrl＋F12，可以显示当前文件的结构</li><li>Ctrl＋F7可以查询当前元素在当前文件中的引用，然后按F3可以选择</li><li>Ctrl＋N，可以快速打开类</li><li>Ctrl＋Shift＋N，可以快速打开文件</li><li>Alt＋Q可以看到当前方法的声明</li><li>Ctrl＋W可以选择单词继而语句继而行继而函数</li><li>Alt＋F1可以将正在编辑的元素在各个面板中定位</li><li>Ctrl＋P，可以显示参数信息</li><li>Ctrl＋Shift＋Insert可以选择剪贴板内容并插入</li><li>Alt＋Insert可以生成构造器/Getter/Setter等</li><li>Ctrl＋Alt＋V 可以引入变量。例如把括号内的SQL赋成一个变量</li><li>Ctrl＋Alt＋T可以把代码包在一块内，例如try/catch</li><li>Alt＋Up and Alt＋Down可在方法间快速移动</li><li>在一些地方按Alt＋Enter可以得到一些Intention Action，例如将”==”改为”equals()”</li><li>Ctrl＋Shift＋Alt＋N可以快速打开符号</li><li>Ctrl＋Shift＋Space在很多时候都能够给出Smart提示</li><li>Alt＋F3可以快速寻找</li><li>Ctrl＋/和Ctrl＋Shift＋/可以注释代码</li><li>Ctrl＋Alt＋B可以跳转到抽象方法的实现</li><li>Ctrl＋O可以选择父类的方法进行重写</li><li>Ctrl＋Q可以看JavaDoc</li><li>Ctrl＋Alt＋Space是类名自动完成</li><li>快速打开类/文件/符号时，可以使用通配符，也可以使用缩写</li><li>Live Templates! Ctrl＋J</li><li>Ctrl＋Shift＋F7可以高亮当前元素在当前文件中的使用</li><li>Ctrl＋Alt＋Up /Ctrl＋Alt＋Down可以快速跳转搜索结果</li><li>Ctrl＋Shift＋J可以整合两行</li><li>Alt＋F8是计算变量值</li></ol>","more":"<p>Alt+回车 导入包,自动修正</p><p>Ctrl+N 查找类</p><p>Ctrl+Shift+N 查找文件</p><p>Ctrl+Alt+L 格式化代码</p><p>Ctrl+Alt+O 优化导入的类和包</p><p>Alt+Insert 生成代码(如get,set方法,构造函数等)</p><p>Ctrl+E或者Alt+Shift+C 最近更改的代码</p><p>Ctrl+R 替换文本</p><p>Ctrl+F 查找文本</p><p>Ctrl+Shift+Space 自动补全代码</p><p>Ctrl+空格 代码提示</p><p>Ctrl+Alt+Space 类名或接口名提示</p><p>Ctrl+P 方法参数提示</p><p>Ctrl+Shift+Alt+N 查找类中的方法或变量</p><p>Alt+Shift+C 对比最近修改的代码</p><p>Shift+F6 重构-重命名</p><p>Ctrl+Shift+先上键</p><p>Ctrl+X 删除行</p><p>Ctrl+D 复制行</p><p>Ctrl+/ 或 Ctrl+Shift+/ 注释（// 或者/<em>…</em>/ ）</p><p>Ctrl+J 自动代码</p><p>Ctrl+E 最近打开的文件</p><p>Ctrl+H 显示类结构图</p><p>Ctrl+Q 显示注释文档</p><p>Alt+F1 查找代码所在位置</p><p>Alt+1 快速打开或隐藏工程面板</p><p>Ctrl+Alt+ left/right 返回至上次浏览的位置</p><p>Alt+ left/right 切换代码视图</p><p>Alt+ Up/Down 在方法间快速移动定位</p><p>Ctrl+Shift+Up/Down 代码向上/下移动。</p><p>F2 或Shift+F2 高亮错误或警告快速定位</p><p>代码标签输入完成后，按Tab，生成代码。</p><p>选中文本，按Ctrl+Shift+F7 ，高亮显示所有该文本，按Esc高亮消失。</p><p>Ctrl+W 选中代码，连续按会有其他效果</p><p>选中文本，按Alt+F3 ，逐个往下查找相同文本，并高亮显示。</p><p>Ctrl+Up/Down 光标跳转到第一行或最后一行下</p><p>Ctrl+B 快速打开光标处的类或方法</p><!-- rebuild by neat -->"},{"title":"JAVA中几种常用的RPC框架","keywords":["rpc","java","rpc框架"],"date":"2017-03-17T02:56:00.000Z","_content":"RPC是远程过程调用的简称，广泛应用在大规模分布式应用中，\n\n作用是有助于系统的垂直拆分，使系统更易拓展。\n\nJava中的RPC框架比较多，各有特色，广泛使用的有RMI、Hessian、Dubbo等。\n\nRPC还有一个特点就是能够跨语言，本文只以JAVA语言里的RPC为例。\n\n其他的框架结构也类似，区别在于对象的序列化方法，传输对象的通讯协议，\n\n以及注册中心的管理与failover设计（利用zookeeper）。\n\n客户端和服务端可以运行在不同的JVM中，Client只需要引入接口，\n\n接口的实现以及运行时需要的数据都在Server端，RPC的主要依赖技术是序列化、反序列化和传输协议，\n\nJAVA里对应的就是对象的序列化、反序列化以及序列化后数据的传输。\n\nRMI的序列化和反序列化是JAVA自带的，Hessian里的序列化和反序列化是私有的，传输协议则是HTTP，\n\nDubbo的序列化可以多种选择，一般使用Hessian的序列化协议，传输则是TCP协议，使用了高性能的NIO框架Netty。\n\n对于序列化，我还了解一些，像Google的ProBuffer、JBoss Marshalling和Apache Thrift等\n\n1.RMI\n---\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkrst0j20iq0dajs2.jpg\" alt=\"rmi\" />\nJAVA自带的远程方法调用工具，不过有一定的局限性，\n\n毕竟是JAVA语言最开始时的设计，后来很多框架的原理都基于RMI，RMI的使用如下：\n\n对外接口\n```\npublic interface IService extends Remote {  \n    public String queryName(String no) throws RemoteException;  \n}\n```\n服务实现\n<!--more-->\n```\nimport java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\n\n// 服务实现\npublic class ServiceImpl extends UnicastRemoteObject implements IService {\n\n    /**\n     */\n    private static final long serialVersionUID = 682805210518738166L;\n\n    /**\n     * @throws RemoteException\n     */\n    protected ServiceImpl() throws RemoteException {\n        super();\n    }\n\n    /* (non-Javadoc)\n     * @see com.suning.ebuy.wd.web.IService#queryName(java.lang.String)\n     */\n    @Override\n    public String queryName(String no) throws RemoteException {\n        // 方法的具体实现\n        System.out.println(\"hello\" + no);\n        return String.valueOf(System.currentTimeMillis());\n    }\n    \n}\n```\nRMI客户端\n```\n\nimport java.rmi.AccessException;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\n// RMI客户端\npublic class Client {\n\n    public static void main(String[] args) {\n        // 注册管理器\n        Registry registry = null;\n        try {\n            // 获取服务注册管理器\n            registry = LocateRegistry.getRegistry(\"127.0.0.1\",8088);\n            // 列出所有注册的服务\n            String[] list = registry.list();\n            for(String s : list){\n                System.out.println(s);\n            }\n        } catch (RemoteException e) {\n            \n        }\n        try {\n            // 根据命名获取服务\n            IService server = (IService) registry.lookup(\"vince\");\n            // 调用远程方法\n            String result = server.queryName(\"ha ha ha ha\");\n            // 输出调用结果\n            System.out.println(\"result from remote : \" + result);\n        } catch (AccessException e) {\n            \n        } catch (RemoteException e) {\n            \n        } catch (NotBoundException e) {\n            \n        }\n    }\n}\n```\nRMI服务端\n```\n\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\n// RMI服务端\npublic class Server {\n\n    public static void main(String[] args) {\n        // 注册管理器\n        Registry registry = null;\n        try {\n            // 创建一个服务注册管理器\n            registry = LocateRegistry.createRegistry(8088);\n\n        } catch (RemoteException e) {\n            \n        }\n        try {\n            // 创建一个服务\n            ServiceImpl server = new ServiceImpl();\n            // 将服务绑定命名\n            registry.rebind(\"vince\", server);\n            \n            System.out.println(\"bind server\");\n        } catch (RemoteException e) {\n            \n        }\n    }\n}\n```\n服务注册管理器写在了Server里，当然也可以抽出来单独作为一个服务，\n\n在其他一些框架中，往往用Zookeeper充当注册管理角色。\n\n2.Hessian（基于HTTP的远程方法调用）\n---\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkehxqj20i306xaa2.jpg\" alt=\"Hessian\" />\n基于HTTP协议传输，在性能方面还不够完美，负载均衡和失效转移依赖于应用的负载均衡器，\n\nHessian的使用则与RMI类似，区别在于淡化了Registry的角色，通过显示的地址调用，\n\n利用HessianProxyFactory根据配置的地址create一个代理对象，另外还要引入Hessian的Jar包。\n\n3、Dubbo（淘宝开源的基于TCP的RPC框架）\n---\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdpngjv276j20ik0cxwf5.jpg\" alt=\"Dubbo\" />\n\n基于Netty的高性能RPC框架，是阿里巴巴开源的，总体原理如下：\n\n在了解Dubbo之前，要先对Zookeeper有深入的理解，当理解了zookeeper后，Dubbo也就了无秘密了。\n\nDubbo的详细说明在淘宝开源里说的非常详细，在工作中很多生产项目都用了Dubbo，过程中也发现了很多需要注意的地方.\n","source":"_posts/JAVA中几种常用的RPC框架.md","raw":"---\ntitle: JAVA中几种常用的RPC框架\nkeywords: [rpc,java,rpc框架]\ndate: 2017/3/17 10:56\ntags: [java]\ncategories: java\n---\nRPC是远程过程调用的简称，广泛应用在大规模分布式应用中，\n\n作用是有助于系统的垂直拆分，使系统更易拓展。\n\nJava中的RPC框架比较多，各有特色，广泛使用的有RMI、Hessian、Dubbo等。\n\nRPC还有一个特点就是能够跨语言，本文只以JAVA语言里的RPC为例。\n\n其他的框架结构也类似，区别在于对象的序列化方法，传输对象的通讯协议，\n\n以及注册中心的管理与failover设计（利用zookeeper）。\n\n客户端和服务端可以运行在不同的JVM中，Client只需要引入接口，\n\n接口的实现以及运行时需要的数据都在Server端，RPC的主要依赖技术是序列化、反序列化和传输协议，\n\nJAVA里对应的就是对象的序列化、反序列化以及序列化后数据的传输。\n\nRMI的序列化和反序列化是JAVA自带的，Hessian里的序列化和反序列化是私有的，传输协议则是HTTP，\n\nDubbo的序列化可以多种选择，一般使用Hessian的序列化协议，传输则是TCP协议，使用了高性能的NIO框架Netty。\n\n对于序列化，我还了解一些，像Google的ProBuffer、JBoss Marshalling和Apache Thrift等\n\n1.RMI\n---\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkrst0j20iq0dajs2.jpg\" alt=\"rmi\" />\nJAVA自带的远程方法调用工具，不过有一定的局限性，\n\n毕竟是JAVA语言最开始时的设计，后来很多框架的原理都基于RMI，RMI的使用如下：\n\n对外接口\n```\npublic interface IService extends Remote {  \n    public String queryName(String no) throws RemoteException;  \n}\n```\n服务实现\n<!--more-->\n```\nimport java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\n\n// 服务实现\npublic class ServiceImpl extends UnicastRemoteObject implements IService {\n\n    /**\n     */\n    private static final long serialVersionUID = 682805210518738166L;\n\n    /**\n     * @throws RemoteException\n     */\n    protected ServiceImpl() throws RemoteException {\n        super();\n    }\n\n    /* (non-Javadoc)\n     * @see com.suning.ebuy.wd.web.IService#queryName(java.lang.String)\n     */\n    @Override\n    public String queryName(String no) throws RemoteException {\n        // 方法的具体实现\n        System.out.println(\"hello\" + no);\n        return String.valueOf(System.currentTimeMillis());\n    }\n    \n}\n```\nRMI客户端\n```\n\nimport java.rmi.AccessException;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\n// RMI客户端\npublic class Client {\n\n    public static void main(String[] args) {\n        // 注册管理器\n        Registry registry = null;\n        try {\n            // 获取服务注册管理器\n            registry = LocateRegistry.getRegistry(\"127.0.0.1\",8088);\n            // 列出所有注册的服务\n            String[] list = registry.list();\n            for(String s : list){\n                System.out.println(s);\n            }\n        } catch (RemoteException e) {\n            \n        }\n        try {\n            // 根据命名获取服务\n            IService server = (IService) registry.lookup(\"vince\");\n            // 调用远程方法\n            String result = server.queryName(\"ha ha ha ha\");\n            // 输出调用结果\n            System.out.println(\"result from remote : \" + result);\n        } catch (AccessException e) {\n            \n        } catch (RemoteException e) {\n            \n        } catch (NotBoundException e) {\n            \n        }\n    }\n}\n```\nRMI服务端\n```\n\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\n// RMI服务端\npublic class Server {\n\n    public static void main(String[] args) {\n        // 注册管理器\n        Registry registry = null;\n        try {\n            // 创建一个服务注册管理器\n            registry = LocateRegistry.createRegistry(8088);\n\n        } catch (RemoteException e) {\n            \n        }\n        try {\n            // 创建一个服务\n            ServiceImpl server = new ServiceImpl();\n            // 将服务绑定命名\n            registry.rebind(\"vince\", server);\n            \n            System.out.println(\"bind server\");\n        } catch (RemoteException e) {\n            \n        }\n    }\n}\n```\n服务注册管理器写在了Server里，当然也可以抽出来单独作为一个服务，\n\n在其他一些框架中，往往用Zookeeper充当注册管理角色。\n\n2.Hessian（基于HTTP的远程方法调用）\n---\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkehxqj20i306xaa2.jpg\" alt=\"Hessian\" />\n基于HTTP协议传输，在性能方面还不够完美，负载均衡和失效转移依赖于应用的负载均衡器，\n\nHessian的使用则与RMI类似，区别在于淡化了Registry的角色，通过显示的地址调用，\n\n利用HessianProxyFactory根据配置的地址create一个代理对象，另外还要引入Hessian的Jar包。\n\n3、Dubbo（淘宝开源的基于TCP的RPC框架）\n---\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdpngjv276j20ik0cxwf5.jpg\" alt=\"Dubbo\" />\n\n基于Netty的高性能RPC框架，是阿里巴巴开源的，总体原理如下：\n\n在了解Dubbo之前，要先对Zookeeper有深入的理解，当理解了zookeeper后，Dubbo也就了无秘密了。\n\nDubbo的详细说明在淘宝开源里说的非常详细，在工作中很多生产项目都用了Dubbo，过程中也发现了很多需要注意的地方.\n","slug":"JAVA中几种常用的RPC框架","published":1,"updated":"2017-03-17T03:08:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqn002colejvr1dl29g","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>RPC是远程过程调用的简称，广泛应用在大规模分布式应用中，</p><p>作用是有助于系统的垂直拆分，使系统更易拓展。</p><p>Java中的RPC框架比较多，各有特色，广泛使用的有RMI、Hessian、Dubbo等。</p><p>RPC还有一个特点就是能够跨语言，本文只以JAVA语言里的RPC为例。</p><p>其他的框架结构也类似，区别在于对象的序列化方法，传输对象的通讯协议，</p><p>以及注册中心的管理与failover设计（利用zookeeper）。</p><p>客户端和服务端可以运行在不同的JVM中，Client只需要引入接口，</p><p>接口的实现以及运行时需要的数据都在Server端，RPC的主要依赖技术是序列化、反序列化和传输协议，</p><p>JAVA里对应的就是对象的序列化、反序列化以及序列化后数据的传输。</p><p>RMI的序列化和反序列化是JAVA自带的，Hessian里的序列化和反序列化是私有的，传输协议则是HTTP，</p><p>Dubbo的序列化可以多种选择，一般使用Hessian的序列化协议，传输则是TCP协议，使用了高性能的NIO框架Netty。</p><p>对于序列化，我还了解一些，像Google的ProBuffer、JBoss Marshalling和Apache Thrift等</p><h2 id=\"1-RMI\"><a href=\"#1-RMI\" class=\"headerlink\" title=\"1.RMI\"></a>1.RMI</h2><p><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkrst0j20iq0dajs2.jpg\" alt=\"rmi\"><br>JAVA自带的远程方法调用工具，不过有一定的局限性，</p><p>毕竟是JAVA语言最开始时的设计，后来很多框架的原理都基于RMI，RMI的使用如下：</p><p>对外接口<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface IService extends Remote &#123;  </span><br><span class=\"line\">    public String queryName(String no) throws RemoteException;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>服务实现<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.rmi.RemoteException;</span><br><span class=\"line\">import java.rmi.server.UnicastRemoteObject;</span><br><span class=\"line\"></span><br><span class=\"line\">// 服务实现</span><br><span class=\"line\">public class ServiceImpl extends UnicastRemoteObject implements IService &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     */</span><br><span class=\"line\">    private static final long serialVersionUID = 682805210518738166L;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @throws RemoteException</span><br><span class=\"line\">     */</span><br><span class=\"line\">    protected ServiceImpl() throws RemoteException &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* (non-Javadoc)</span><br><span class=\"line\">     * @see com.suning.ebuy.wd.web.IService#queryName(java.lang.String)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public String queryName(String no) throws RemoteException &#123;</span><br><span class=\"line\">        // 方法的具体实现</span><br><span class=\"line\">        System.out.println(&quot;hello&quot; + no);</span><br><span class=\"line\">        return String.valueOf(System.currentTimeMillis());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>RMI客户端<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import java.rmi.AccessException;</span><br><span class=\"line\">import java.rmi.NotBoundException;</span><br><span class=\"line\">import java.rmi.RemoteException;</span><br><span class=\"line\">import java.rmi.registry.LocateRegistry;</span><br><span class=\"line\">import java.rmi.registry.Registry;</span><br><span class=\"line\"></span><br><span class=\"line\">// RMI客户端</span><br><span class=\"line\">public class Client &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        // 注册管理器</span><br><span class=\"line\">        Registry registry = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 获取服务注册管理器</span><br><span class=\"line\">            registry = LocateRegistry.getRegistry(&quot;127.0.0.1&quot;,8088);</span><br><span class=\"line\">            // 列出所有注册的服务</span><br><span class=\"line\">            String[] list = registry.list();</span><br><span class=\"line\">            for(String s : list)&#123;</span><br><span class=\"line\">                System.out.println(s);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 根据命名获取服务</span><br><span class=\"line\">            IService server = (IService) registry.lookup(&quot;vince&quot;);</span><br><span class=\"line\">            // 调用远程方法</span><br><span class=\"line\">            String result = server.queryName(&quot;ha ha ha ha&quot;);</span><br><span class=\"line\">            // 输出调用结果</span><br><span class=\"line\">            System.out.println(&quot;result from remote : &quot; + result);</span><br><span class=\"line\">        &#125; catch (AccessException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; catch (NotBoundException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>RMI服务端<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import java.rmi.RemoteException;</span><br><span class=\"line\">import java.rmi.registry.LocateRegistry;</span><br><span class=\"line\">import java.rmi.registry.Registry;</span><br><span class=\"line\"></span><br><span class=\"line\">// RMI服务端</span><br><span class=\"line\">public class Server &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        // 注册管理器</span><br><span class=\"line\">        Registry registry = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 创建一个服务注册管理器</span><br><span class=\"line\">            registry = LocateRegistry.createRegistry(8088);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 创建一个服务</span><br><span class=\"line\">            ServiceImpl server = new ServiceImpl();</span><br><span class=\"line\">            // 将服务绑定命名</span><br><span class=\"line\">            registry.rebind(&quot;vince&quot;, server);</span><br><span class=\"line\">            </span><br><span class=\"line\">            System.out.println(&quot;bind server&quot;);</span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>服务注册管理器写在了Server里，当然也可以抽出来单独作为一个服务，</p><p>在其他一些框架中，往往用Zookeeper充当注册管理角色。</p><h2 id=\"2-Hessian（基于HTTP的远程方法调用）\"><a href=\"#2-Hessian（基于HTTP的远程方法调用）\" class=\"headerlink\" title=\"2.Hessian（基于HTTP的远程方法调用）\"></a>2.Hessian（基于HTTP的远程方法调用）</h2><p><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkehxqj20i306xaa2.jpg\" alt=\"Hessian\"><br>基于HTTP协议传输，在性能方面还不够完美，负载均衡和失效转移依赖于应用的负载均衡器，</p><p>Hessian的使用则与RMI类似，区别在于淡化了Registry的角色，通过显示的地址调用，</p><p>利用HessianProxyFactory根据配置的地址create一个代理对象，另外还要引入Hessian的Jar包。</p><h2 id=\"3、Dubbo（淘宝开源的基于TCP的RPC框架）\"><a href=\"#3、Dubbo（淘宝开源的基于TCP的RPC框架）\" class=\"headerlink\" title=\"3、Dubbo（淘宝开源的基于TCP的RPC框架）\"></a>3、Dubbo（淘宝开源的基于TCP的RPC框架）</h2><p><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdpngjv276j20ik0cxwf5.jpg\" alt=\"Dubbo\"></p><p>基于Netty的高性能RPC框架，是阿里巴巴开源的，总体原理如下：</p><p>在了解Dubbo之前，要先对Zookeeper有深入的理解，当理解了zookeeper后，Dubbo也就了无秘密了。</p><p>Dubbo的详细说明在淘宝开源里说的非常详细，在工作中很多生产项目都用了Dubbo，过程中也发现了很多需要注意的地方.</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>RPC是远程过程调用的简称，广泛应用在大规模分布式应用中，</p><p>作用是有助于系统的垂直拆分，使系统更易拓展。</p><p>Java中的RPC框架比较多，各有特色，广泛使用的有RMI、Hessian、Dubbo等。</p><p>RPC还有一个特点就是能够跨语言，本文只以JAVA语言里的RPC为例。</p><p>其他的框架结构也类似，区别在于对象的序列化方法，传输对象的通讯协议，</p><p>以及注册中心的管理与failover设计（利用zookeeper）。</p><p>客户端和服务端可以运行在不同的JVM中，Client只需要引入接口，</p><p>接口的实现以及运行时需要的数据都在Server端，RPC的主要依赖技术是序列化、反序列化和传输协议，</p><p>JAVA里对应的就是对象的序列化、反序列化以及序列化后数据的传输。</p><p>RMI的序列化和反序列化是JAVA自带的，Hessian里的序列化和反序列化是私有的，传输协议则是HTTP，</p><p>Dubbo的序列化可以多种选择，一般使用Hessian的序列化协议，传输则是TCP协议，使用了高性能的NIO框架Netty。</p><p>对于序列化，我还了解一些，像Google的ProBuffer、JBoss Marshalling和Apache Thrift等</p><h2 id=\"1-RMI\"><a href=\"#1-RMI\" class=\"headerlink\" title=\"1.RMI\"></a>1.RMI</h2><p><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkrst0j20iq0dajs2.jpg\" alt=\"rmi\"><br>JAVA自带的远程方法调用工具，不过有一定的局限性，</p><p>毕竟是JAVA语言最开始时的设计，后来很多框架的原理都基于RMI，RMI的使用如下：</p><p>对外接口<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface IService extends Remote &#123;  </span><br><span class=\"line\">    public String queryName(String no) throws RemoteException;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>服务实现<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.rmi.RemoteException;</span><br><span class=\"line\">import java.rmi.server.UnicastRemoteObject;</span><br><span class=\"line\"></span><br><span class=\"line\">// 服务实现</span><br><span class=\"line\">public class ServiceImpl extends UnicastRemoteObject implements IService &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     */</span><br><span class=\"line\">    private static final long serialVersionUID = 682805210518738166L;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @throws RemoteException</span><br><span class=\"line\">     */</span><br><span class=\"line\">    protected ServiceImpl() throws RemoteException &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* (non-Javadoc)</span><br><span class=\"line\">     * @see com.suning.ebuy.wd.web.IService#queryName(java.lang.String)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public String queryName(String no) throws RemoteException &#123;</span><br><span class=\"line\">        // 方法的具体实现</span><br><span class=\"line\">        System.out.println(&quot;hello&quot; + no);</span><br><span class=\"line\">        return String.valueOf(System.currentTimeMillis());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>RMI客户端<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import java.rmi.AccessException;</span><br><span class=\"line\">import java.rmi.NotBoundException;</span><br><span class=\"line\">import java.rmi.RemoteException;</span><br><span class=\"line\">import java.rmi.registry.LocateRegistry;</span><br><span class=\"line\">import java.rmi.registry.Registry;</span><br><span class=\"line\"></span><br><span class=\"line\">// RMI客户端</span><br><span class=\"line\">public class Client &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        // 注册管理器</span><br><span class=\"line\">        Registry registry = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 获取服务注册管理器</span><br><span class=\"line\">            registry = LocateRegistry.getRegistry(&quot;127.0.0.1&quot;,8088);</span><br><span class=\"line\">            // 列出所有注册的服务</span><br><span class=\"line\">            String[] list = registry.list();</span><br><span class=\"line\">            for(String s : list)&#123;</span><br><span class=\"line\">                System.out.println(s);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 根据命名获取服务</span><br><span class=\"line\">            IService server = (IService) registry.lookup(&quot;vince&quot;);</span><br><span class=\"line\">            // 调用远程方法</span><br><span class=\"line\">            String result = server.queryName(&quot;ha ha ha ha&quot;);</span><br><span class=\"line\">            // 输出调用结果</span><br><span class=\"line\">            System.out.println(&quot;result from remote : &quot; + result);</span><br><span class=\"line\">        &#125; catch (AccessException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; catch (NotBoundException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>RMI服务端<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import java.rmi.RemoteException;</span><br><span class=\"line\">import java.rmi.registry.LocateRegistry;</span><br><span class=\"line\">import java.rmi.registry.Registry;</span><br><span class=\"line\"></span><br><span class=\"line\">// RMI服务端</span><br><span class=\"line\">public class Server &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        // 注册管理器</span><br><span class=\"line\">        Registry registry = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 创建一个服务注册管理器</span><br><span class=\"line\">            registry = LocateRegistry.createRegistry(8088);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            // 创建一个服务</span><br><span class=\"line\">            ServiceImpl server = new ServiceImpl();</span><br><span class=\"line\">            // 将服务绑定命名</span><br><span class=\"line\">            registry.rebind(&quot;vince&quot;, server);</span><br><span class=\"line\">            </span><br><span class=\"line\">            System.out.println(&quot;bind server&quot;);</span><br><span class=\"line\">        &#125; catch (RemoteException e) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>服务注册管理器写在了Server里，当然也可以抽出来单独作为一个服务，</p><p>在其他一些框架中，往往用Zookeeper充当注册管理角色。</p><h2 id=\"2-Hessian（基于HTTP的远程方法调用）\"><a href=\"#2-Hessian（基于HTTP的远程方法调用）\" class=\"headerlink\" title=\"2.Hessian（基于HTTP的远程方法调用）\"></a>2.Hessian（基于HTTP的远程方法调用）</h2><p><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdpngkehxqj20i306xaa2.jpg\" alt=\"Hessian\"><br>基于HTTP协议传输，在性能方面还不够完美，负载均衡和失效转移依赖于应用的负载均衡器，</p><p>Hessian的使用则与RMI类似，区别在于淡化了Registry的角色，通过显示的地址调用，</p><p>利用HessianProxyFactory根据配置的地址create一个代理对象，另外还要引入Hessian的Jar包。</p><h2 id=\"3、Dubbo（淘宝开源的基于TCP的RPC框架）\"><a href=\"#3、Dubbo（淘宝开源的基于TCP的RPC框架）\" class=\"headerlink\" title=\"3、Dubbo（淘宝开源的基于TCP的RPC框架）\"></a>3、Dubbo（淘宝开源的基于TCP的RPC框架）</h2><p><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdpngjv276j20ik0cxwf5.jpg\" alt=\"Dubbo\"></p><p>基于Netty的高性能RPC框架，是阿里巴巴开源的，总体原理如下：</p><p>在了解Dubbo之前，要先对Zookeeper有深入的理解，当理解了zookeeper后，Dubbo也就了无秘密了。</p><p>Dubbo的详细说明在淘宝开源里说的非常详细，在工作中很多生产项目都用了Dubbo，过程中也发现了很多需要注意的地方.</p><!-- rebuild by neat -->"},{"title":"JWT 丨 JSON Web Tokens 丨 java-jwt","keywords":["JWT","jwt java","java-jwt"],"date":"2017-08-17T09:44:00.000Z","_content":"## JWT简介\nJWT(json web token)是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准。\n\nJWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源。比如用在用户登录上。\n## JWT生成的token\n欲加密的字符：hisen\n加密后的字符：(分三段)\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ.gzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI\n```\n### JWT的构成\n<!--more-->\n#### header\n完整的头部，json格式：\n1. 声明类型，这里是jwt\n2. 声明加密的算法 通常直接使用 HMAC SHA256\n```\n{\n  'typ': 'JWT',\n  'alg': 'HS256'\n}\n```\n然后对头部进行base64加密，构成第一段：\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\n```\n#### playload\n载荷就是存放有效信息的地方。这个名字像是特指飞机上承载的货品，这些有效信息包含三个部分\n1. 标准中注册的声明\n2. 公共的声明\n3. 私有的声明\n##### 标准中注册的声明 (建议但不强制使用)\n1. iss: jwt签发者\n2. sub: jwt所面向的用户\n3. aud: 接收jwt的一方\n4. exp: jwt的过期时间，这个过期时间必须要大于签发时间\n5. nbf: 定义在什么时间之前，该jwt都是不可用的.\n6. iat: jwt的签发时间\n7. jti: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击。\n##### 公共的声明\n公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.\n##### 私有的声明\n私有声明是提供者和消费者所共同定义的声明，一般不建议存放敏感信息，因为base64是对称解密的，意味着该部分信息可以归类为明文信息。\n##### 定义一个payload\n```\n{\n  \"payload\": \"hisen\"\n}\n```\n然后对头部进行base64加密，构成第二段：\n```\neyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ\n```\n#### signature\njwt的第三部分是一个签证信息，这个签证信息由三部分组成\n1. header (base64后的)\n2. payload (base64后的)\n3. secret\n这个部分需要base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，然后就构成了jwt的第三段：\n```\ngzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI\n```\n**密钥secret是保存在服务端的，服务端会根据这个密钥进行生成token和验证，所以需要保护好。**\n\n## java实现方式\n### maven依赖\n```\n<dependency>\n      <groupId>com.auth0</groupId>\n      <artifactId>java-jwt</artifactId>\n      <version>3.2.0</version>\n</dependency>\n```\n### 生成token代码(加密)\n```\n// 加密，传入一个对象和有效期\npublic static <T> String sign(T object, long maxAge)\n    throws UnsupportedEncodingException {\n  Map<String, Object> map = new HashMap<String, Object>();\n  String jsonString = JSON.toJSONString(object);\n  map.put(\"alg\", \"HS256\");\n  map.put(\"typ\", \"JWT\");\n  long exp = System.currentTimeMillis() + maxAge;\n  String token = JWT.create()\n      .withHeader(map)//header\n      .withClaim(PAYLOAD, jsonString)//存放的内容 json\n      .withClaim(EXP, new DateTime(exp).toDate())//超时时间\n      .sign(Algorithm.HMAC256(SECRET));//密钥\n  return token;\n}\n```\n### 解析token(解密)\n```\n// 解密，传入一个加密后的token字符串和解密后的类型\npublic static <T> T unsign(String token, Class<T> classT) throws UnsupportedEncodingException {\n  JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SECRET)).build();\n  DecodedJWT jwt = verifier.verify(token);\n  Map<String, Claim> claims = jwt.getClaims();\n  if (claims.containsKey(EXP) && claims.containsKey(PAYLOAD)) {\n    long tokenTime = claims.get(EXP).asDate().getTime();\n    long now = new Date().getTime();\n    // 判断令牌是否已经超时\n    if (tokenTime > now) {\n      String json = claims.get(PAYLOAD).asString();\n      // 把json转回对象，返回\n      return JSON.parseObject(json, classT);\n    }\n  }\n  return null;\n}\n```\n### 完整代码 & 测试代码\n[基于JWT token认证 | JSON Web Tokens | java-jwt 3.2.0 | demo](https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/jars/jwt)\n## JWT总结\n1. 因为json的通用性，所以JWT是可以进行跨语言支持的，像JAVA,JavaScript,NodeJS,PHP等很多语言都可以使用。\n2. payload部分，JWT可以在自身存储一些其他业务逻辑所必要的非敏感信息。\n3. 便于传输，jwt的构成非常简单，字节占用很小，所以它是非常便于传输的。它不需要在服务端保存会话信息, 所以它易于应用的扩展\n4. 点击登陆，如果帐号密码校验通过，给用户生成一个token返回，然后用户每次登陆都带上这个token即可(放在header？)\n\nJWT官方网站：[https://jwt.io/](https://jwt.io/)\n","source":"_posts/JWT 丨 JSON Web Tokens 丨 java-jwt.md","raw":"---\ntitle: JWT 丨 JSON Web Tokens 丨 java-jwt\nkeywords: [JWT,jwt java,java-jwt]\ndate: 2017/8/17 17:44\ntags: [java,jwt]\ncategories: java\n---\n## JWT简介\nJWT(json web token)是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准。\n\nJWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源。比如用在用户登录上。\n## JWT生成的token\n欲加密的字符：hisen\n加密后的字符：(分三段)\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ.gzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI\n```\n### JWT的构成\n<!--more-->\n#### header\n完整的头部，json格式：\n1. 声明类型，这里是jwt\n2. 声明加密的算法 通常直接使用 HMAC SHA256\n```\n{\n  'typ': 'JWT',\n  'alg': 'HS256'\n}\n```\n然后对头部进行base64加密，构成第一段：\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\n```\n#### playload\n载荷就是存放有效信息的地方。这个名字像是特指飞机上承载的货品，这些有效信息包含三个部分\n1. 标准中注册的声明\n2. 公共的声明\n3. 私有的声明\n##### 标准中注册的声明 (建议但不强制使用)\n1. iss: jwt签发者\n2. sub: jwt所面向的用户\n3. aud: 接收jwt的一方\n4. exp: jwt的过期时间，这个过期时间必须要大于签发时间\n5. nbf: 定义在什么时间之前，该jwt都是不可用的.\n6. iat: jwt的签发时间\n7. jti: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击。\n##### 公共的声明\n公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.\n##### 私有的声明\n私有声明是提供者和消费者所共同定义的声明，一般不建议存放敏感信息，因为base64是对称解密的，意味着该部分信息可以归类为明文信息。\n##### 定义一个payload\n```\n{\n  \"payload\": \"hisen\"\n}\n```\n然后对头部进行base64加密，构成第二段：\n```\neyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ\n```\n#### signature\njwt的第三部分是一个签证信息，这个签证信息由三部分组成\n1. header (base64后的)\n2. payload (base64后的)\n3. secret\n这个部分需要base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，然后就构成了jwt的第三段：\n```\ngzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI\n```\n**密钥secret是保存在服务端的，服务端会根据这个密钥进行生成token和验证，所以需要保护好。**\n\n## java实现方式\n### maven依赖\n```\n<dependency>\n      <groupId>com.auth0</groupId>\n      <artifactId>java-jwt</artifactId>\n      <version>3.2.0</version>\n</dependency>\n```\n### 生成token代码(加密)\n```\n// 加密，传入一个对象和有效期\npublic static <T> String sign(T object, long maxAge)\n    throws UnsupportedEncodingException {\n  Map<String, Object> map = new HashMap<String, Object>();\n  String jsonString = JSON.toJSONString(object);\n  map.put(\"alg\", \"HS256\");\n  map.put(\"typ\", \"JWT\");\n  long exp = System.currentTimeMillis() + maxAge;\n  String token = JWT.create()\n      .withHeader(map)//header\n      .withClaim(PAYLOAD, jsonString)//存放的内容 json\n      .withClaim(EXP, new DateTime(exp).toDate())//超时时间\n      .sign(Algorithm.HMAC256(SECRET));//密钥\n  return token;\n}\n```\n### 解析token(解密)\n```\n// 解密，传入一个加密后的token字符串和解密后的类型\npublic static <T> T unsign(String token, Class<T> classT) throws UnsupportedEncodingException {\n  JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SECRET)).build();\n  DecodedJWT jwt = verifier.verify(token);\n  Map<String, Claim> claims = jwt.getClaims();\n  if (claims.containsKey(EXP) && claims.containsKey(PAYLOAD)) {\n    long tokenTime = claims.get(EXP).asDate().getTime();\n    long now = new Date().getTime();\n    // 判断令牌是否已经超时\n    if (tokenTime > now) {\n      String json = claims.get(PAYLOAD).asString();\n      // 把json转回对象，返回\n      return JSON.parseObject(json, classT);\n    }\n  }\n  return null;\n}\n```\n### 完整代码 & 测试代码\n[基于JWT token认证 | JSON Web Tokens | java-jwt 3.2.0 | demo](https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/jars/jwt)\n## JWT总结\n1. 因为json的通用性，所以JWT是可以进行跨语言支持的，像JAVA,JavaScript,NodeJS,PHP等很多语言都可以使用。\n2. payload部分，JWT可以在自身存储一些其他业务逻辑所必要的非敏感信息。\n3. 便于传输，jwt的构成非常简单，字节占用很小，所以它是非常便于传输的。它不需要在服务端保存会话信息, 所以它易于应用的扩展\n4. 点击登陆，如果帐号密码校验通过，给用户生成一个token返回，然后用户每次登陆都带上这个token即可(放在header？)\n\nJWT官方网站：[https://jwt.io/](https://jwt.io/)\n","slug":"JWT 丨 JSON Web Tokens 丨 java-jwt","published":1,"updated":"2017-08-17T10:28:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqo002eolejsa0xkr4z","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"JWT简介\"><a href=\"#JWT简介\" class=\"headerlink\" title=\"JWT简介\"></a>JWT简介</h2><p>JWT(json web token)是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准。</p><p>JWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源。比如用在用户登录上。</p><h2 id=\"JWT生成的token\"><a href=\"#JWT生成的token\" class=\"headerlink\" title=\"JWT生成的token\"></a>JWT生成的token</h2><p>欲加密的字符：hisen<br>加密后的字符：(分三段)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ.gzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI</span><br></pre></td></tr></table></figure><p></p><h3 id=\"JWT的构成\"><a href=\"#JWT的构成\" class=\"headerlink\" title=\"JWT的构成\"></a>JWT的构成</h3><a id=\"more\"></a><h4 id=\"header\"><a href=\"#header\" class=\"headerlink\" title=\"header\"></a>header</h4><p>完整的头部，json格式：</p><ol><li>声明类型，这里是jwt</li><li>声明加密的算法 通常直接使用 HMAC SHA256<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &apos;typ&apos;: &apos;JWT&apos;,</span><br><span class=\"line\">  &apos;alg&apos;: &apos;HS256&apos;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>然后对头部进行base64加密，构成第一段：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><br></pre></td></tr></table></figure><p></p><h4 id=\"playload\"><a href=\"#playload\" class=\"headerlink\" title=\"playload\"></a>playload</h4><p>载荷就是存放有效信息的地方。这个名字像是特指飞机上承载的货品，这些有效信息包含三个部分</p><ol><li>标准中注册的声明</li><li>公共的声明</li><li>私有的声明<h5 id=\"标准中注册的声明-建议但不强制使用\"><a href=\"#标准中注册的声明-建议但不强制使用\" class=\"headerlink\" title=\"标准中注册的声明 (建议但不强制使用)\"></a>标准中注册的声明 (建议但不强制使用)</h5></li><li>iss: jwt签发者</li><li>sub: jwt所面向的用户</li><li>aud: 接收jwt的一方</li><li>exp: jwt的过期时间，这个过期时间必须要大于签发时间</li><li>nbf: 定义在什么时间之前，该jwt都是不可用的.</li><li>iat: jwt的签发时间</li><li>jti: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击。<h5 id=\"公共的声明\"><a href=\"#公共的声明\" class=\"headerlink\" title=\"公共的声明\"></a>公共的声明</h5>公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.<h5 id=\"私有的声明\"><a href=\"#私有的声明\" class=\"headerlink\" title=\"私有的声明\"></a>私有的声明</h5>私有声明是提供者和消费者所共同定义的声明，一般不建议存放敏感信息，因为base64是对称解密的，意味着该部分信息可以归类为明文信息。<h5 id=\"定义一个payload\"><a href=\"#定义一个payload\" class=\"headerlink\" title=\"定义一个payload\"></a>定义一个payload</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;payload&quot;: &quot;hisen&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>然后对头部进行base64加密，构成第二段：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ</span><br></pre></td></tr></table></figure><p></p><h4 id=\"signature\"><a href=\"#signature\" class=\"headerlink\" title=\"signature\"></a>signature</h4><p>jwt的第三部分是一个签证信息，这个签证信息由三部分组成</p><ol><li>header (base64后的)</li><li>payload (base64后的)</li><li>secret<br>这个部分需要base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，然后就构成了jwt的第三段：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI</span><br></pre></td></tr></table></figure></li></ol><p><strong>密钥secret是保存在服务端的，服务端会根据这个密钥进行生成token和验证，所以需要保护好。</strong></p><h2 id=\"java实现方式\"><a href=\"#java实现方式\" class=\"headerlink\" title=\"java实现方式\"></a>java实现方式</h2><h3 id=\"maven依赖\"><a href=\"#maven依赖\" class=\"headerlink\" title=\"maven依赖\"></a>maven依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">      &lt;groupId&gt;com.auth0&lt;/groupId&gt;</span><br><span class=\"line\">      &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;</span><br><span class=\"line\">      &lt;version&gt;3.2.0&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h3 id=\"生成token代码-加密\"><a href=\"#生成token代码-加密\" class=\"headerlink\" title=\"生成token代码(加密)\"></a>生成token代码(加密)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 加密，传入一个对象和有效期</span><br><span class=\"line\">public static &lt;T&gt; String sign(T object, long maxAge)</span><br><span class=\"line\">    throws UnsupportedEncodingException &#123;</span><br><span class=\"line\">  Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();</span><br><span class=\"line\">  String jsonString = JSON.toJSONString(object);</span><br><span class=\"line\">  map.put(&quot;alg&quot;, &quot;HS256&quot;);</span><br><span class=\"line\">  map.put(&quot;typ&quot;, &quot;JWT&quot;);</span><br><span class=\"line\">  long exp = System.currentTimeMillis() + maxAge;</span><br><span class=\"line\">  String token = JWT.create()</span><br><span class=\"line\">      .withHeader(map)//header</span><br><span class=\"line\">      .withClaim(PAYLOAD, jsonString)//存放的内容 json</span><br><span class=\"line\">      .withClaim(EXP, new DateTime(exp).toDate())//超时时间</span><br><span class=\"line\">      .sign(Algorithm.HMAC256(SECRET));//密钥</span><br><span class=\"line\">  return token;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h3 id=\"解析token-解密\"><a href=\"#解析token-解密\" class=\"headerlink\" title=\"解析token(解密)\"></a>解析token(解密)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 解密，传入一个加密后的token字符串和解密后的类型</span><br><span class=\"line\">public static &lt;T&gt; T unsign(String token, Class&lt;T&gt; classT) throws UnsupportedEncodingException &#123;</span><br><span class=\"line\">  JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SECRET)).build();</span><br><span class=\"line\">  DecodedJWT jwt = verifier.verify(token);</span><br><span class=\"line\">  Map&lt;String, Claim&gt; claims = jwt.getClaims();</span><br><span class=\"line\">  if (claims.containsKey(EXP) &amp;&amp; claims.containsKey(PAYLOAD)) &#123;</span><br><span class=\"line\">    long tokenTime = claims.get(EXP).asDate().getTime();</span><br><span class=\"line\">    long now = new Date().getTime();</span><br><span class=\"line\">    // 判断令牌是否已经超时</span><br><span class=\"line\">    if (tokenTime &gt; now) &#123;</span><br><span class=\"line\">      String json = claims.get(PAYLOAD).asString();</span><br><span class=\"line\">      // 把json转回对象，返回</span><br><span class=\"line\">      return JSON.parseObject(json, classT);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return null;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h3 id=\"完整代码-amp-测试代码\"><a href=\"#完整代码-amp-测试代码\" class=\"headerlink\" title=\"完整代码 &amp; 测试代码\"></a>完整代码 &amp; 测试代码</h3><p><a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/jars/jwt\" target=\"_blank\" rel=\"noopener\">基于JWT token认证 | JSON Web Tokens | java-jwt 3.2.0 | demo</a></p><h2 id=\"JWT总结\"><a href=\"#JWT总结\" class=\"headerlink\" title=\"JWT总结\"></a>JWT总结</h2><ol><li>因为json的通用性，所以JWT是可以进行跨语言支持的，像JAVA,JavaScript,NodeJS,PHP等很多语言都可以使用。</li><li>payload部分，JWT可以在自身存储一些其他业务逻辑所必要的非敏感信息。</li><li>便于传输，jwt的构成非常简单，字节占用很小，所以它是非常便于传输的。它不需要在服务端保存会话信息, 所以它易于应用的扩展</li><li>点击登陆，如果帐号密码校验通过，给用户生成一个token返回，然后用户每次登陆都带上这个token即可(放在header？)</li></ol><p>JWT官方网站：<a href=\"https://jwt.io/\" target=\"_blank\" rel=\"noopener\">https://jwt.io/</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"JWT简介\"><a href=\"#JWT简介\" class=\"headerlink\" title=\"JWT简介\"></a>JWT简介</h2><p>JWT(json web token)是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准。</p><p>JWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源。比如用在用户登录上。</p><h2 id=\"JWT生成的token\"><a href=\"#JWT生成的token\" class=\"headerlink\" title=\"JWT生成的token\"></a>JWT生成的token</h2><p>欲加密的字符：hisen<br>加密后的字符：(分三段)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ.gzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI</span><br></pre></td></tr></table></figure><p></p><h3 id=\"JWT的构成\"><a href=\"#JWT的构成\" class=\"headerlink\" title=\"JWT的构成\"></a>JWT的构成</h3>","more":"<h4 id=\"header\"><a href=\"#header\" class=\"headerlink\" title=\"header\"></a>header</h4><p>完整的头部，json格式：</p><ol><li>声明类型，这里是jwt</li><li>声明加密的算法 通常直接使用 HMAC SHA256<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &apos;typ&apos;: &apos;JWT&apos;,</span><br><span class=\"line\">  &apos;alg&apos;: &apos;HS256&apos;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>然后对头部进行base64加密，构成第一段：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><br></pre></td></tr></table></figure><p></p><h4 id=\"playload\"><a href=\"#playload\" class=\"headerlink\" title=\"playload\"></a>playload</h4><p>载荷就是存放有效信息的地方。这个名字像是特指飞机上承载的货品，这些有效信息包含三个部分</p><ol><li>标准中注册的声明</li><li>公共的声明</li><li>私有的声明<h5 id=\"标准中注册的声明-建议但不强制使用\"><a href=\"#标准中注册的声明-建议但不强制使用\" class=\"headerlink\" title=\"标准中注册的声明 (建议但不强制使用)\"></a>标准中注册的声明 (建议但不强制使用)</h5></li><li>iss: jwt签发者</li><li>sub: jwt所面向的用户</li><li>aud: 接收jwt的一方</li><li>exp: jwt的过期时间，这个过期时间必须要大于签发时间</li><li>nbf: 定义在什么时间之前，该jwt都是不可用的.</li><li>iat: jwt的签发时间</li><li>jti: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击。<h5 id=\"公共的声明\"><a href=\"#公共的声明\" class=\"headerlink\" title=\"公共的声明\"></a>公共的声明</h5>公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.<h5 id=\"私有的声明\"><a href=\"#私有的声明\" class=\"headerlink\" title=\"私有的声明\"></a>私有的声明</h5>私有声明是提供者和消费者所共同定义的声明，一般不建议存放敏感信息，因为base64是对称解密的，意味着该部分信息可以归类为明文信息。<h5 id=\"定义一个payload\"><a href=\"#定义一个payload\" class=\"headerlink\" title=\"定义一个payload\"></a>定义一个payload</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;payload&quot;: &quot;hisen&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>然后对头部进行base64加密，构成第二段：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eyJwYXlsb2FkIjoiXCJoaXNlblwiIiwiZXhwIjoxNTAyOTY0Mjk2fQ</span><br></pre></td></tr></table></figure><p></p><h4 id=\"signature\"><a href=\"#signature\" class=\"headerlink\" title=\"signature\"></a>signature</h4><p>jwt的第三部分是一个签证信息，这个签证信息由三部分组成</p><ol><li>header (base64后的)</li><li>payload (base64后的)</li><li>secret<br>这个部分需要base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，然后就构成了jwt的第三段：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gzg4JEm8Z-GoU9eNaNll9I1wQQ0cEAbZC9OBUjAAQqI</span><br></pre></td></tr></table></figure></li></ol><p><strong>密钥secret是保存在服务端的，服务端会根据这个密钥进行生成token和验证，所以需要保护好。</strong></p><h2 id=\"java实现方式\"><a href=\"#java实现方式\" class=\"headerlink\" title=\"java实现方式\"></a>java实现方式</h2><h3 id=\"maven依赖\"><a href=\"#maven依赖\" class=\"headerlink\" title=\"maven依赖\"></a>maven依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">      &lt;groupId&gt;com.auth0&lt;/groupId&gt;</span><br><span class=\"line\">      &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;</span><br><span class=\"line\">      &lt;version&gt;3.2.0&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h3 id=\"生成token代码-加密\"><a href=\"#生成token代码-加密\" class=\"headerlink\" title=\"生成token代码(加密)\"></a>生成token代码(加密)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 加密，传入一个对象和有效期</span><br><span class=\"line\">public static &lt;T&gt; String sign(T object, long maxAge)</span><br><span class=\"line\">    throws UnsupportedEncodingException &#123;</span><br><span class=\"line\">  Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();</span><br><span class=\"line\">  String jsonString = JSON.toJSONString(object);</span><br><span class=\"line\">  map.put(&quot;alg&quot;, &quot;HS256&quot;);</span><br><span class=\"line\">  map.put(&quot;typ&quot;, &quot;JWT&quot;);</span><br><span class=\"line\">  long exp = System.currentTimeMillis() + maxAge;</span><br><span class=\"line\">  String token = JWT.create()</span><br><span class=\"line\">      .withHeader(map)//header</span><br><span class=\"line\">      .withClaim(PAYLOAD, jsonString)//存放的内容 json</span><br><span class=\"line\">      .withClaim(EXP, new DateTime(exp).toDate())//超时时间</span><br><span class=\"line\">      .sign(Algorithm.HMAC256(SECRET));//密钥</span><br><span class=\"line\">  return token;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h3 id=\"解析token-解密\"><a href=\"#解析token-解密\" class=\"headerlink\" title=\"解析token(解密)\"></a>解析token(解密)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 解密，传入一个加密后的token字符串和解密后的类型</span><br><span class=\"line\">public static &lt;T&gt; T unsign(String token, Class&lt;T&gt; classT) throws UnsupportedEncodingException &#123;</span><br><span class=\"line\">  JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SECRET)).build();</span><br><span class=\"line\">  DecodedJWT jwt = verifier.verify(token);</span><br><span class=\"line\">  Map&lt;String, Claim&gt; claims = jwt.getClaims();</span><br><span class=\"line\">  if (claims.containsKey(EXP) &amp;&amp; claims.containsKey(PAYLOAD)) &#123;</span><br><span class=\"line\">    long tokenTime = claims.get(EXP).asDate().getTime();</span><br><span class=\"line\">    long now = new Date().getTime();</span><br><span class=\"line\">    // 判断令牌是否已经超时</span><br><span class=\"line\">    if (tokenTime &gt; now) &#123;</span><br><span class=\"line\">      String json = claims.get(PAYLOAD).asString();</span><br><span class=\"line\">      // 把json转回对象，返回</span><br><span class=\"line\">      return JSON.parseObject(json, classT);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return null;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h3 id=\"完整代码-amp-测试代码\"><a href=\"#完整代码-amp-测试代码\" class=\"headerlink\" title=\"完整代码 &amp; 测试代码\"></a>完整代码 &amp; 测试代码</h3><p><a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/jars/jwt\" target=\"_blank\" rel=\"noopener\">基于JWT token认证 | JSON Web Tokens | java-jwt 3.2.0 | demo</a></p><h2 id=\"JWT总结\"><a href=\"#JWT总结\" class=\"headerlink\" title=\"JWT总结\"></a>JWT总结</h2><ol><li>因为json的通用性，所以JWT是可以进行跨语言支持的，像JAVA,JavaScript,NodeJS,PHP等很多语言都可以使用。</li><li>payload部分，JWT可以在自身存储一些其他业务逻辑所必要的非敏感信息。</li><li>便于传输，jwt的构成非常简单，字节占用很小，所以它是非常便于传输的。它不需要在服务端保存会话信息, 所以它易于应用的扩展</li><li>点击登陆，如果帐号密码校验通过，给用户生成一个token返回，然后用户每次登陆都带上这个token即可(放在header？)</li></ol><p>JWT官方网站：<a href=\"https://jwt.io/\" target=\"_blank\" rel=\"noopener\">https://jwt.io/</a></p><!-- rebuild by neat -->"},{"title":"Java - 利用apache POI读取Excel（xls,xlsx,2003,2007)","keywords":["excel","java excel"],"date":"2018-01-12T16:38:00.000Z","_content":"一个简单的工具类，更多java小练习：https://github.com/hisenyuan/IDEAPractice\n# 一、添加依赖\n```\n    <!-- POI start -->\n    <dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi</artifactId>\n      <version>3.9</version>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi-ooxml</artifactId>\n      <version>3.9</version>\n    </dependency>\n    <dependency>\n      <groupId>commons-collections</groupId>\n      <artifactId>commons-collections</artifactId>\n      <version>3.2.2</version>\n    </dependency>\n    <!-- POI end -->\n```\n# 二、测试类\n```\npackage com.hisen.jars.poi;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * @author hisenyuan\n * @time 2018/1/12 17:43\n * @description 测试读取\n */\npublic class TestPoiExcelUtil {\n\n  public static void main(String[] args) {\n    File file = new File(\"C:\\\\work\\\\document\\\\银行信息.xlsx\");\n    try {\n      // 每一个excelData为一行数据（存放在数组）\n      List<String[]> excelData = POIExcelUtil.readExcel(file);\n      for (String[] data:excelData) {\n        System.out.println(Arrays.toString(data));\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n\n}\n```\n# 三、工具类代码\n完整类：<a href=\"https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/jars/poi/POIExcelUtil.java\" target=\"_blank\">POIExcelUtil.java</a>\n```\npackage com.hisen.jars.poi;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.log4j.Logger;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n/**\n * @author hisenyuan\n * @time 2018/1/12 16:35\n * @description 利用POI读取excel表格\n */\npublic class POIExcelUtil {\n\n  private static Logger logger = Logger.getLogger(POIExcelUtil.class);\n  private final static String XLS = \"xls\";\n  private final static String XLSX = \"xlsx\";\n\n  public static List<String[]> readExcel(File file) throws IOException {\n    // 检查文件\n    checkFile(file);\n    Workbook workBook = getWorkBook(file);\n    // 返回对象,每行作为一个数组，放在集合返回\n    ArrayList<String[]> rowList = new ArrayList<>();\n    if (null != workBook) {\n      for (int sheetNum = 0; sheetNum < workBook.getNumberOfSheets(); sheetNum++) {\n        // 获得当前sheet工作表\n        Sheet sheet = workBook.getSheetAt(sheetNum);\n        if (sheet == null) {\n          continue;\n        }\n        // 获得当前sheet的开始行\n        int firstRowNum = sheet.getFirstRowNum();\n        // 获得当前sheet的结束行\n        int lastRowNum = sheet.getLastRowNum();\n        // 循环所有行(第一行为标题)\n        for (int rowNum = firstRowNum; rowNum < lastRowNum; rowNum++) {\n          // 获得当前行\n          Row row = sheet.getRow(rowNum);\n          if (row == null) {\n            continue;\n          }\n          // 获得当前行开始的列\n          short firstCellNum = row.getFirstCellNum();\n          // 获得当前行的列数\n          int lastCellNum = row.getPhysicalNumberOfCells();\n          String[] cells = new String[row.getPhysicalNumberOfCells()];\n          // 循环当前行\n          for (int cellNum = firstCellNum; cellNum < lastCellNum; cellNum++) {\n            Cell cell = row.getCell(cellNum);\n            cells[cellNum] = getCellValue(cell);\n          }\n          rowList.add(cells);\n        }\n      }\n    }\n    return rowList;\n  }\n}\n```","source":"_posts/Java - 利用apache POI读取Excel（xls,xlsx,2003,2007).md","raw":"---\ntitle: Java - 利用apache POI读取Excel（xls,xlsx,2003,2007)\nkeywords: [excel,java excel]\ndate: 2018/1/13 0:38\ntags: [poi]\ncategories: java\n---\n一个简单的工具类，更多java小练习：https://github.com/hisenyuan/IDEAPractice\n# 一、添加依赖\n```\n    <!-- POI start -->\n    <dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi</artifactId>\n      <version>3.9</version>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi-ooxml</artifactId>\n      <version>3.9</version>\n    </dependency>\n    <dependency>\n      <groupId>commons-collections</groupId>\n      <artifactId>commons-collections</artifactId>\n      <version>3.2.2</version>\n    </dependency>\n    <!-- POI end -->\n```\n# 二、测试类\n```\npackage com.hisen.jars.poi;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * @author hisenyuan\n * @time 2018/1/12 17:43\n * @description 测试读取\n */\npublic class TestPoiExcelUtil {\n\n  public static void main(String[] args) {\n    File file = new File(\"C:\\\\work\\\\document\\\\银行信息.xlsx\");\n    try {\n      // 每一个excelData为一行数据（存放在数组）\n      List<String[]> excelData = POIExcelUtil.readExcel(file);\n      for (String[] data:excelData) {\n        System.out.println(Arrays.toString(data));\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n\n}\n```\n# 三、工具类代码\n完整类：<a href=\"https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/jars/poi/POIExcelUtil.java\" target=\"_blank\">POIExcelUtil.java</a>\n```\npackage com.hisen.jars.poi;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.log4j.Logger;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n/**\n * @author hisenyuan\n * @time 2018/1/12 16:35\n * @description 利用POI读取excel表格\n */\npublic class POIExcelUtil {\n\n  private static Logger logger = Logger.getLogger(POIExcelUtil.class);\n  private final static String XLS = \"xls\";\n  private final static String XLSX = \"xlsx\";\n\n  public static List<String[]> readExcel(File file) throws IOException {\n    // 检查文件\n    checkFile(file);\n    Workbook workBook = getWorkBook(file);\n    // 返回对象,每行作为一个数组，放在集合返回\n    ArrayList<String[]> rowList = new ArrayList<>();\n    if (null != workBook) {\n      for (int sheetNum = 0; sheetNum < workBook.getNumberOfSheets(); sheetNum++) {\n        // 获得当前sheet工作表\n        Sheet sheet = workBook.getSheetAt(sheetNum);\n        if (sheet == null) {\n          continue;\n        }\n        // 获得当前sheet的开始行\n        int firstRowNum = sheet.getFirstRowNum();\n        // 获得当前sheet的结束行\n        int lastRowNum = sheet.getLastRowNum();\n        // 循环所有行(第一行为标题)\n        for (int rowNum = firstRowNum; rowNum < lastRowNum; rowNum++) {\n          // 获得当前行\n          Row row = sheet.getRow(rowNum);\n          if (row == null) {\n            continue;\n          }\n          // 获得当前行开始的列\n          short firstCellNum = row.getFirstCellNum();\n          // 获得当前行的列数\n          int lastCellNum = row.getPhysicalNumberOfCells();\n          String[] cells = new String[row.getPhysicalNumberOfCells()];\n          // 循环当前行\n          for (int cellNum = firstCellNum; cellNum < lastCellNum; cellNum++) {\n            Cell cell = row.getCell(cellNum);\n            cells[cellNum] = getCellValue(cell);\n          }\n          rowList.add(cells);\n        }\n      }\n    }\n    return rowList;\n  }\n}\n```","slug":"Java - 利用apache POI读取Excel（xls,xlsx,2003,2007)","published":1,"updated":"2018-01-12T16:43:46.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqp002iolej78jx0c7e","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>一个简单的工具类，更多java小练习：<a href=\"https://github.com/hisenyuan/IDEAPractice\" target=\"_blank\" rel=\"noopener\">https://github.com/hisenyuan/IDEAPractice</a></p><h1 id=\"一、添加依赖\"><a href=\"#一、添加依赖\" class=\"headerlink\" title=\"一、添加依赖\"></a>一、添加依赖</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- POI start --&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;poi&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.9&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.9&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;commons-collections&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.2.2&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br><span class=\"line\">&lt;!-- POI end --&gt;</span><br></pre></td></tr></table></figure><h1 id=\"二、测试类\"><a href=\"#二、测试类\" class=\"headerlink\" title=\"二、测试类\"></a>二、测试类</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.poi;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.util.Arrays;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @time 2018/1/12 17:43</span><br><span class=\"line\"> * @description 测试读取</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class TestPoiExcelUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    File file = new File(&quot;C:\\\\work\\\\document\\\\银行信息.xlsx&quot;);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      // 每一个excelData为一行数据（存放在数组）</span><br><span class=\"line\">      List&lt;String[]&gt; excelData = POIExcelUtil.readExcel(file);</span><br><span class=\"line\">      for (String[] data:excelData) &#123;</span><br><span class=\"line\">        System.out.println(Arrays.toString(data));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h1 id=\"三、工具类代码\"><a href=\"#三、工具类代码\" class=\"headerlink\" title=\"三、工具类代码\"></a>三、工具类代码</h1><p>完整类：<a href=\"https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/jars/poi/POIExcelUtil.java\" target=\"_blank\">POIExcelUtil.java</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.poi;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.FileInputStream;</span><br><span class=\"line\">import java.io.FileNotFoundException;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.io.InputStream;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\">import org.apache.log4j.Logger;</span><br><span class=\"line\">import org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Cell;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Row;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Sheet;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Workbook;</span><br><span class=\"line\">import org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @time 2018/1/12 16:35</span><br><span class=\"line\"> * @description 利用POI读取excel表格</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class POIExcelUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private static Logger logger = Logger.getLogger(POIExcelUtil.class);</span><br><span class=\"line\">  private final static String XLS = &quot;xls&quot;;</span><br><span class=\"line\">  private final static String XLSX = &quot;xlsx&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static List&lt;String[]&gt; readExcel(File file) throws IOException &#123;</span><br><span class=\"line\">    // 检查文件</span><br><span class=\"line\">    checkFile(file);</span><br><span class=\"line\">    Workbook workBook = getWorkBook(file);</span><br><span class=\"line\">    // 返回对象,每行作为一个数组，放在集合返回</span><br><span class=\"line\">    ArrayList&lt;String[]&gt; rowList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">    if (null != workBook) &#123;</span><br><span class=\"line\">      for (int sheetNum = 0; sheetNum &lt; workBook.getNumberOfSheets(); sheetNum++) &#123;</span><br><span class=\"line\">        // 获得当前sheet工作表</span><br><span class=\"line\">        Sheet sheet = workBook.getSheetAt(sheetNum);</span><br><span class=\"line\">        if (sheet == null) &#123;</span><br><span class=\"line\">          continue;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        // 获得当前sheet的开始行</span><br><span class=\"line\">        int firstRowNum = sheet.getFirstRowNum();</span><br><span class=\"line\">        // 获得当前sheet的结束行</span><br><span class=\"line\">        int lastRowNum = sheet.getLastRowNum();</span><br><span class=\"line\">        // 循环所有行(第一行为标题)</span><br><span class=\"line\">        for (int rowNum = firstRowNum; rowNum &lt; lastRowNum; rowNum++) &#123;</span><br><span class=\"line\">          // 获得当前行</span><br><span class=\"line\">          Row row = sheet.getRow(rowNum);</span><br><span class=\"line\">          if (row == null) &#123;</span><br><span class=\"line\">            continue;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          // 获得当前行开始的列</span><br><span class=\"line\">          short firstCellNum = row.getFirstCellNum();</span><br><span class=\"line\">          // 获得当前行的列数</span><br><span class=\"line\">          int lastCellNum = row.getPhysicalNumberOfCells();</span><br><span class=\"line\">          String[] cells = new String[row.getPhysicalNumberOfCells()];</span><br><span class=\"line\">          // 循环当前行</span><br><span class=\"line\">          for (int cellNum = firstCellNum; cellNum &lt; lastCellNum; cellNum++) &#123;</span><br><span class=\"line\">            Cell cell = row.getCell(cellNum);</span><br><span class=\"line\">            cells[cellNum] = getCellValue(cell);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          rowList.add(cells);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return rowList;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>一个简单的工具类，更多java小练习：<a href=\"https://github.com/hisenyuan/IDEAPractice\" target=\"_blank\" rel=\"noopener\">https://github.com/hisenyuan/IDEAPractice</a></p><h1 id=\"一、添加依赖\"><a href=\"#一、添加依赖\" class=\"headerlink\" title=\"一、添加依赖\"></a>一、添加依赖</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- POI start --&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;poi&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.9&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.9&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;commons-collections&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.2.2&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br><span class=\"line\">&lt;!-- POI end --&gt;</span><br></pre></td></tr></table></figure><h1 id=\"二、测试类\"><a href=\"#二、测试类\" class=\"headerlink\" title=\"二、测试类\"></a>二、测试类</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.poi;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.util.Arrays;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @time 2018/1/12 17:43</span><br><span class=\"line\"> * @description 测试读取</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class TestPoiExcelUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    File file = new File(&quot;C:\\\\work\\\\document\\\\银行信息.xlsx&quot;);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      // 每一个excelData为一行数据（存放在数组）</span><br><span class=\"line\">      List&lt;String[]&gt; excelData = POIExcelUtil.readExcel(file);</span><br><span class=\"line\">      for (String[] data:excelData) &#123;</span><br><span class=\"line\">        System.out.println(Arrays.toString(data));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h1 id=\"三、工具类代码\"><a href=\"#三、工具类代码\" class=\"headerlink\" title=\"三、工具类代码\"></a>三、工具类代码</h1><p>完整类：<a href=\"https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/jars/poi/POIExcelUtil.java\" target=\"_blank\">POIExcelUtil.java</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.poi;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.FileInputStream;</span><br><span class=\"line\">import java.io.FileNotFoundException;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.io.InputStream;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\">import org.apache.log4j.Logger;</span><br><span class=\"line\">import org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Cell;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Row;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Sheet;</span><br><span class=\"line\">import org.apache.poi.ss.usermodel.Workbook;</span><br><span class=\"line\">import org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @time 2018/1/12 16:35</span><br><span class=\"line\"> * @description 利用POI读取excel表格</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class POIExcelUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private static Logger logger = Logger.getLogger(POIExcelUtil.class);</span><br><span class=\"line\">  private final static String XLS = &quot;xls&quot;;</span><br><span class=\"line\">  private final static String XLSX = &quot;xlsx&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static List&lt;String[]&gt; readExcel(File file) throws IOException &#123;</span><br><span class=\"line\">    // 检查文件</span><br><span class=\"line\">    checkFile(file);</span><br><span class=\"line\">    Workbook workBook = getWorkBook(file);</span><br><span class=\"line\">    // 返回对象,每行作为一个数组，放在集合返回</span><br><span class=\"line\">    ArrayList&lt;String[]&gt; rowList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">    if (null != workBook) &#123;</span><br><span class=\"line\">      for (int sheetNum = 0; sheetNum &lt; workBook.getNumberOfSheets(); sheetNum++) &#123;</span><br><span class=\"line\">        // 获得当前sheet工作表</span><br><span class=\"line\">        Sheet sheet = workBook.getSheetAt(sheetNum);</span><br><span class=\"line\">        if (sheet == null) &#123;</span><br><span class=\"line\">          continue;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        // 获得当前sheet的开始行</span><br><span class=\"line\">        int firstRowNum = sheet.getFirstRowNum();</span><br><span class=\"line\">        // 获得当前sheet的结束行</span><br><span class=\"line\">        int lastRowNum = sheet.getLastRowNum();</span><br><span class=\"line\">        // 循环所有行(第一行为标题)</span><br><span class=\"line\">        for (int rowNum = firstRowNum; rowNum &lt; lastRowNum; rowNum++) &#123;</span><br><span class=\"line\">          // 获得当前行</span><br><span class=\"line\">          Row row = sheet.getRow(rowNum);</span><br><span class=\"line\">          if (row == null) &#123;</span><br><span class=\"line\">            continue;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          // 获得当前行开始的列</span><br><span class=\"line\">          short firstCellNum = row.getFirstCellNum();</span><br><span class=\"line\">          // 获得当前行的列数</span><br><span class=\"line\">          int lastCellNum = row.getPhysicalNumberOfCells();</span><br><span class=\"line\">          String[] cells = new String[row.getPhysicalNumberOfCells()];</span><br><span class=\"line\">          // 循环当前行</span><br><span class=\"line\">          for (int cellNum = firstCellNum; cellNum &lt; lastCellNum; cellNum++) &#123;</span><br><span class=\"line\">            Cell cell = row.getCell(cellNum);</span><br><span class=\"line\">            cells[cellNum] = getCellValue(cell);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          rowList.add(cells);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return rowList;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"IDEA - Java.Lang.OutOfMemoryError: PermGen Space","keywords":[{"Java.Lang.OutOfMemoryError":"PermGen Space"},"PermGen Space","tomcat PermGen Space"],"date":"2017-02-22T03:18:43.000Z","_content":"Java.Lang.OutOfMemoryError: PermGen Space\n\nTomcat只分配了非常小的PermGen内存，这里重新设置一下\n\n直接在配置tomcat的时候,在VM options填入:\n```\n-XX:PermSize=97m -XX:MaxPermSize=256m\n```","source":"_posts/Java-Lang-OutOfMemoryError-PermGen-Space.md","raw":"---\ntitle: 'IDEA - Java.Lang.OutOfMemoryError: PermGen Space'\nkeywords: [Java.Lang.OutOfMemoryError: PermGen Space,PermGen Space,tomcat PermGen Space]\ntags: [tomcat,idea]\ndate: 2017-02-22 11:18:43\ncategories: java\n---\nJava.Lang.OutOfMemoryError: PermGen Space\n\nTomcat只分配了非常小的PermGen内存，这里重新设置一下\n\n直接在配置tomcat的时候,在VM options填入:\n```\n-XX:PermSize=97m -XX:MaxPermSize=256m\n```","slug":"Java-Lang-OutOfMemoryError-PermGen-Space","published":1,"updated":"2017-02-22T03:43:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqq002lolej82grh1xq","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Java.Lang.OutOfMemoryError: PermGen Space</p><p>Tomcat只分配了非常小的PermGen内存，这里重新设置一下</p><p>直接在配置tomcat的时候,在VM options填入:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-XX:PermSize=97m -XX:MaxPermSize=256m</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Java.Lang.OutOfMemoryError: PermGen Space</p><p>Tomcat只分配了非常小的PermGen内存，这里重新设置一下</p><p>直接在配置tomcat的时候,在VM options填入:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-XX:PermSize=97m -XX:MaxPermSize=256m</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java三种创建对象的方式","date":"2017-02-10T14:30:19.000Z","_content":"有一个实现了Cloneable接口的Person类\n输出：\n\n```\n<使用new关键字创建对象>\nhisen已成年\n体重为：50\n年龄为：23\n<使用newInstance()方法创建对象>\n体重为：0\n年龄为：0\n<使用clone()方法创建对象>\nhisen已成年\n体重为：50\n年龄为：23\n```\n\n具体实现：\n<!--more-->\n```+java\npackage com.hisen.javaGaiShu.page73test5;\n\n/**\n * 三种方式创建对象\n * \n * @author hisenyuan 2017年2月10日 下午10:27:14\n */\npublic class Person implements Cloneable {\n\tprivate String name;\n\tprivate int weight;\n\tprivate int age;\n\n\tpublic Person() {\n\t}\n\n\tpublic Person(String name, int weight, int age) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.weight = weight;\n\t\tthis.age = age;\n\t}\n\n\tpublic void young() {\n\t\tif (age >= 18 && age <= 100)\n\t\t\tSystem.out.println(name + \"已成年\");\n\t\tif (age > 0 && age < 18)\n\t\t\tSystem.out.println(name + \"未成年\");\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\treturn \"体重为：\" + weight + \"\\n年龄为：\" + age;\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tSystem.out.println(\"<使用new关键字创建对象>\");\n\t\tPerson p1 = new Person(\"hisen\", 50, 23);\n\t\tp1.young();\n\t\tSystem.out.println(p1);\n\n\t\tSystem.out.println(\"<使用newInstance()方法创建对象>\");\n\t\tClass c = Class.forName(\"com.hisen.javaGaiShu.page73test5.Person\");\n\t\tPerson p2 = (Person) c.newInstance();\n\t\tp2.young();\n\t\tSystem.out.println(p2);\n\n\t\tSystem.out.println(\"<使用clone()方法创建对象>\");\n\t\tPerson p3 = (Person) p1.clone();\n\t\tp3.young();\n\t\tSystem.out.println(p3);\n\t}\n\n}\n\n```\n","source":"_posts/Java三种创建对象的方式.md","raw":"---\ntitle: Java三种创建对象的方式\ntags: [java,对象]\ndate: 2017-02-10 22:30:19\ncategories: java\n---\n有一个实现了Cloneable接口的Person类\n输出：\n\n```\n<使用new关键字创建对象>\nhisen已成年\n体重为：50\n年龄为：23\n<使用newInstance()方法创建对象>\n体重为：0\n年龄为：0\n<使用clone()方法创建对象>\nhisen已成年\n体重为：50\n年龄为：23\n```\n\n具体实现：\n<!--more-->\n```+java\npackage com.hisen.javaGaiShu.page73test5;\n\n/**\n * 三种方式创建对象\n * \n * @author hisenyuan 2017年2月10日 下午10:27:14\n */\npublic class Person implements Cloneable {\n\tprivate String name;\n\tprivate int weight;\n\tprivate int age;\n\n\tpublic Person() {\n\t}\n\n\tpublic Person(String name, int weight, int age) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.weight = weight;\n\t\tthis.age = age;\n\t}\n\n\tpublic void young() {\n\t\tif (age >= 18 && age <= 100)\n\t\t\tSystem.out.println(name + \"已成年\");\n\t\tif (age > 0 && age < 18)\n\t\t\tSystem.out.println(name + \"未成年\");\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\treturn \"体重为：\" + weight + \"\\n年龄为：\" + age;\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tSystem.out.println(\"<使用new关键字创建对象>\");\n\t\tPerson p1 = new Person(\"hisen\", 50, 23);\n\t\tp1.young();\n\t\tSystem.out.println(p1);\n\n\t\tSystem.out.println(\"<使用newInstance()方法创建对象>\");\n\t\tClass c = Class.forName(\"com.hisen.javaGaiShu.page73test5.Person\");\n\t\tPerson p2 = (Person) c.newInstance();\n\t\tp2.young();\n\t\tSystem.out.println(p2);\n\n\t\tSystem.out.println(\"<使用clone()方法创建对象>\");\n\t\tPerson p3 = (Person) p1.clone();\n\t\tp3.young();\n\t\tSystem.out.println(p3);\n\t}\n\n}\n\n```\n","slug":"Java三种创建对象的方式","published":1,"updated":"2017-02-17T08:23:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqr002polejfkib5ixg","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有一个实现了Cloneable接口的Person类<br>输出：</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;使用new关键字创建对象&gt;</span><br><span class=\"line\">hisen已成年</span><br><span class=\"line\">体重为：50</span><br><span class=\"line\">年龄为：23</span><br><span class=\"line\">&lt;使用newInstance()方法创建对象&gt;</span><br><span class=\"line\">体重为：0</span><br><span class=\"line\">年龄为：0</span><br><span class=\"line\">&lt;使用clone()方法创建对象&gt;</span><br><span class=\"line\">hisen已成年</span><br><span class=\"line\">体重为：50</span><br><span class=\"line\">年龄为：23</span><br></pre></td></tr></table></figure><p>具体实现：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.javaGaiShu.page73test5;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 三种方式创建对象</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @author hisenyuan 2017年2月10日 下午10:27:14</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class Person implements Cloneable &#123;</span><br><span class=\"line\">\tprivate String name;</span><br><span class=\"line\">\tprivate int weight;</span><br><span class=\"line\">\tprivate int age;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic Person() &#123;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic Person(String name, int weight, int age) &#123;</span><br><span class=\"line\">\t\tsuper();</span><br><span class=\"line\">\t\tthis.name = name;</span><br><span class=\"line\">\t\tthis.weight = weight;</span><br><span class=\"line\">\t\tthis.age = age;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic void young() &#123;</span><br><span class=\"line\">\t\tif (age &gt;= 18 &amp;&amp; age &lt;= 100)</span><br><span class=\"line\">\t\t\tSystem.out.println(name + &quot;已成年&quot;);</span><br><span class=\"line\">\t\tif (age &gt; 0 &amp;&amp; age &lt; 18)</span><br><span class=\"line\">\t\t\tSystem.out.println(name + &quot;未成年&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t@Override</span><br><span class=\"line\">\tpublic String toString() &#123;</span><br><span class=\"line\">\t\treturn &quot;体重为：&quot; + weight + &quot;\\n年龄为：&quot; + age;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) throws Exception &#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;&lt;使用new关键字创建对象&gt;&quot;);</span><br><span class=\"line\">\t\tPerson p1 = new Person(&quot;hisen&quot;, 50, 23);</span><br><span class=\"line\">\t\tp1.young();</span><br><span class=\"line\">\t\tSystem.out.println(p1);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tSystem.out.println(&quot;&lt;使用newInstance()方法创建对象&gt;&quot;);</span><br><span class=\"line\">\t\tClass c = Class.forName(&quot;com.hisen.javaGaiShu.page73test5.Person&quot;);</span><br><span class=\"line\">\t\tPerson p2 = (Person) c.newInstance();</span><br><span class=\"line\">\t\tp2.young();</span><br><span class=\"line\">\t\tSystem.out.println(p2);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tSystem.out.println(&quot;&lt;使用clone()方法创建对象&gt;&quot;);</span><br><span class=\"line\">\t\tPerson p3 = (Person) p1.clone();</span><br><span class=\"line\">\t\tp3.young();</span><br><span class=\"line\">\t\tSystem.out.println(p3);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有一个实现了Cloneable接口的Person类<br>输出：</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;使用new关键字创建对象&gt;</span><br><span class=\"line\">hisen已成年</span><br><span class=\"line\">体重为：50</span><br><span class=\"line\">年龄为：23</span><br><span class=\"line\">&lt;使用newInstance()方法创建对象&gt;</span><br><span class=\"line\">体重为：0</span><br><span class=\"line\">年龄为：0</span><br><span class=\"line\">&lt;使用clone()方法创建对象&gt;</span><br><span class=\"line\">hisen已成年</span><br><span class=\"line\">体重为：50</span><br><span class=\"line\">年龄为：23</span><br></pre></td></tr></table></figure><p>具体实现：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.javaGaiShu.page73test5;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 三种方式创建对象</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @author hisenyuan 2017年2月10日 下午10:27:14</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class Person implements Cloneable &#123;</span><br><span class=\"line\">\tprivate String name;</span><br><span class=\"line\">\tprivate int weight;</span><br><span class=\"line\">\tprivate int age;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic Person() &#123;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic Person(String name, int weight, int age) &#123;</span><br><span class=\"line\">\t\tsuper();</span><br><span class=\"line\">\t\tthis.name = name;</span><br><span class=\"line\">\t\tthis.weight = weight;</span><br><span class=\"line\">\t\tthis.age = age;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic void young() &#123;</span><br><span class=\"line\">\t\tif (age &gt;= 18 &amp;&amp; age &lt;= 100)</span><br><span class=\"line\">\t\t\tSystem.out.println(name + &quot;已成年&quot;);</span><br><span class=\"line\">\t\tif (age &gt; 0 &amp;&amp; age &lt; 18)</span><br><span class=\"line\">\t\t\tSystem.out.println(name + &quot;未成年&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t@Override</span><br><span class=\"line\">\tpublic String toString() &#123;</span><br><span class=\"line\">\t\treturn &quot;体重为：&quot; + weight + &quot;\\n年龄为：&quot; + age;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) throws Exception &#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;&lt;使用new关键字创建对象&gt;&quot;);</span><br><span class=\"line\">\t\tPerson p1 = new Person(&quot;hisen&quot;, 50, 23);</span><br><span class=\"line\">\t\tp1.young();</span><br><span class=\"line\">\t\tSystem.out.println(p1);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tSystem.out.println(&quot;&lt;使用newInstance()方法创建对象&gt;&quot;);</span><br><span class=\"line\">\t\tClass c = Class.forName(&quot;com.hisen.javaGaiShu.page73test5.Person&quot;);</span><br><span class=\"line\">\t\tPerson p2 = (Person) c.newInstance();</span><br><span class=\"line\">\t\tp2.young();</span><br><span class=\"line\">\t\tSystem.out.println(p2);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tSystem.out.println(&quot;&lt;使用clone()方法创建对象&gt;&quot;);</span><br><span class=\"line\">\t\tPerson p3 = (Person) p1.clone();</span><br><span class=\"line\">\t\tp3.young();</span><br><span class=\"line\">\t\tSystem.out.println(p3);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java判断全角半角字符以及相互转换","keywords":["Java判断全角半角字符以及相互转换","java全角半角","java正则判断全角半角"],"date":"2017-04-01T03:01:00.000Z","_content":"在计算机屏幕上，一个汉字要占两个英文字符的位置，人们把一个英文字符所占的位置称为\"半角\"，\n\n相对地把一个汉字所占的位置称为\"全角\"。在汉字输入时，系统提供\"半角\"和\"全角\"两种不同的输入状态，\n\n但是对于英文字母、符号和数字这些通用字符就不同于汉字，在半角状态它们被作为英文字符处理；\n\n而在全角状态，它们又可作为中文字符处理。\n\n半角和全角切换方法：单击输入法工具条上的按钮或按键盘上的Shift+Space键来切换。\n\n1、全角：指一个字符占用两个标准字符位置。\n\n汉字字符和规定了全角的英文字符及国标GB2312-80中的图形符号和特殊字符都是全角字符。一般的系统命令是不用全角字符的，只是在作文字处理时才会使用全角字符。\n\n---\n\n2、半角：指一字符占用一个标准的字符位置。\n\n通常的英文字母、数字键、符号键都是半角的，半角的显示内码都是一个字节。在系统内部，以上三种字符是作为基本代码处理的，所以用户输入命令和参数时一般都使用半角。\n\n---\n\n3、全角与半角各在什么情况下使用？\n\n全角占两个字节，半角占一个字节。\n\n半角全角主要是针对标点符号来说的，全角标点占两个字节，半角占一个字节，而不管是半角还是全角，汉字都还是要占两个字节。\n\n在编程序的源代码中只能使用半角标点（不包括字符串内部的数据）\n\n在不支持汉字等语言的计算机上只能使用半角标点（其实这种情况根本就不存在半角全角的概念）\n\n对于大多数字体来说，全角看起来比半角大，当然这不是本质区别了。\n\n---\n\n4、全角和半角的区别\n全角就是字母和数字等与汉字占等宽位置的字。半角就是ASCII方式的字符，\n\n在没有汉字输入法起做用的时候输入的字母数字和字符都是半角的。\n\n在汉字输入法出现的时候，输入的字母数字默认为半角，但是标点则是默认为全角，\n\n可以通过鼠标点击输入法工具条上的相应按钮来改变。\n\n---\n\n5、关于“全角”和“半角”：\n\n全角：是指中GB2312-80（《信息交换用汉字编码字符集·基本集》）中的各种符号。\n\n半角：是指英文件ASCII码中的各种符号。\n\n全角状态下字母、数字符号等都会占两个字节的位置，也就是一个汉字那么宽，半角状态下，\n\n字母数字符号一般会占一个字节，也就是半个汉字的位置，全角半角对汉字没有影响。\n\n有两种方式可以判断:\n\n1:通过正则表达式来进行判断  [^\\\\x00-\\\\xff]\n\n2: 通过字符编码的范围进行判断.\n\n通过打印所有的字符发现：\n\n1. 半角字符是从33开始到126结束\n2. 与半角字符对应的全角字符是从65281开始到65374结束\n3. 其中半角的空格是32.对应的全角空格是12288\n4. 半角和全角的关系很明显,除空格外的字符偏移量是65248(65281-33 = 65248)\n\n具体的代码如下：\n<!--more-->\n```\npackage com.hisen.String;\n\n/**\n * 半角字符和全角字符的转换 以及 判断\n * Created by hisenyuan on 2017/4/1 at 10:37.\n */\npublic class FullHalf {\n    /**\n     * ASCII表中可见字符从!开始，偏移位值为33(Decimal)\n     */\n    static final char DBC_CHAR_START = 33; // 半角!\n\n    /**\n     * ASCII表中可见字符到~结束，偏移位值为126(Decimal)\n     */\n    static final char DBC_CHAR_END = 126; // 半角~\n\n    /**\n     * 全角对应于ASCII表的可见字符从！开始，偏移值为65281\n     */\n    static final char SBC_CHAR_START = 65281; // 全角！\n\n    /**\n     * 全角对应于ASCII表的可见字符到～结束，偏移值为65374\n     */\n    static final char SBC_CHAR_END = 65374; // 全角～\n\n    /**\n     * ASCII表中除空格外的可见字符与对应的全角字符的相对偏移\n     */\n    static final int CONVERT_STEP = 65248; // 全角半角转换间隔\n\n    /**\n     * 全角空格的值，它没有遵从与ASCII的相对偏移，必须单独处理\n     */\n    static final char SBC_SPACE = 12288; // 全角空格 12288\n\n    /**\n     * 半角空格的值，在ASCII中为32(Decimal)\n     */\n    static final char DBC_SPACE = ' '; // 半角空格\n    public static void main(String[] args) {\n        String s = \"123456\";\n        //半角转换成全角字符\n        String s1 = bj2qj(s);\n        //全角转换成半角\n        String s2 = qj2bj(s1);\n        System.out.println(\"全角：\"+s1 +\" -> 半角：\"+s2);\n        System.out.println(\"--------------------------\");\n        String fh = s1+s2;\n        //判断全角还是半角\n        fullOrHalf(fh);\n        //打印ASCII表中所有字符\n        printAllChar();\n    }\n    /**\n     * <PRE>\n     * 半角字符->全角字符转换\n     * 只处理空格，!到˜之间的字符，忽略其他\n     * </PRE>\n     */\n    private static String bj2qj(String src) {\n        if (src == null) {\n            return src;\n        }\n        StringBuilder buf = new StringBuilder(src.length());\n        char[] ca = src.toCharArray();\n        for (int i = 0; i < ca.length; i++) {\n            if (ca[i] == DBC_SPACE) { // 如果是半角空格，直接用全角空格替代\n                buf.append(SBC_SPACE);\n            } else if ((ca[i] >= DBC_CHAR_START) && (ca[i] <= DBC_CHAR_END)) { // 字符是!到~之间的可见字符\n                buf.append((char) (ca[i] + CONVERT_STEP));\n            } else { // 不对空格以及ascii表中其他可见字符之外的字符做任何处理\n                buf.append(ca[i]);\n            }\n        }\n        return buf.toString();\n    }\n    /**\n     * <PRE>\n     * 全角字符->半角字符转换\n     * 只处理全角的空格，全角！到全角～之间的字符，忽略其他\n     * </PRE>\n     */\n    public static String qj2bj(String src) {\n        if (src == null) {\n            return src;\n        }\n        StringBuilder buf = new StringBuilder(src.length());\n        char[] ca = src.toCharArray();\n        for (int i = 0; i < src.length(); i++) {\n            if (ca[i] >= SBC_CHAR_START && ca[i] <= SBC_CHAR_END) { // 如果位于全角！到全角～区间内\n                buf.append((char) (ca[i] - CONVERT_STEP));\n            } else if (ca[i] == SBC_SPACE) { // 如果是全角空格\n                buf.append(DBC_SPACE);\n            } else { // 不处理全角空格，全角！到全角～区间外的字符\n                buf.append(ca[i]);\n            }\n        }\n        return buf.toString();\n    }\n\n    /**\n     * 使用正则表达式判断字符是否为全角\n     * @param str\n     */\n    public static void fullOrHalf(String str){\n        char[] chars = str.toCharArray();\n        for (int i = 0; i < chars.length; i++) {\n            String temp = String.valueOf(chars[i]);\n            // 正则判断是全角字符\n            if (temp.matches(\"[^\\\\x00-\\\\xff]\")) {\n                System.out.println(\"全角 -> \" + temp);\n            }\n            // 判断是半角字符\n            else {\n                System.out.println(\"半角 -> \" + temp);\n            }\n        }\n    }\n\n    /**\n     * 打印所有字符\n     */\n    public static void printAllChar(){\n        for (int i = Character.MIN_VALUE; i <= Character.MAX_VALUE; ++i) {\n            System.out.println(\"ASCII：\"+i + \" -> \" + \"字符：\"+(char)i);\n        }\n    }\n}\n```","source":"_posts/Java判断全角半角字符以及相互转换.md","raw":"---\ntitle: Java判断全角半角字符以及相互转换\nkeywords: [Java判断全角半角字符以及相互转换,java全角半角,java正则判断全角半角]\ndate: 2017/4/1 11:01\ntags: [java]\ncategories: java\n---\n在计算机屏幕上，一个汉字要占两个英文字符的位置，人们把一个英文字符所占的位置称为\"半角\"，\n\n相对地把一个汉字所占的位置称为\"全角\"。在汉字输入时，系统提供\"半角\"和\"全角\"两种不同的输入状态，\n\n但是对于英文字母、符号和数字这些通用字符就不同于汉字，在半角状态它们被作为英文字符处理；\n\n而在全角状态，它们又可作为中文字符处理。\n\n半角和全角切换方法：单击输入法工具条上的按钮或按键盘上的Shift+Space键来切换。\n\n1、全角：指一个字符占用两个标准字符位置。\n\n汉字字符和规定了全角的英文字符及国标GB2312-80中的图形符号和特殊字符都是全角字符。一般的系统命令是不用全角字符的，只是在作文字处理时才会使用全角字符。\n\n---\n\n2、半角：指一字符占用一个标准的字符位置。\n\n通常的英文字母、数字键、符号键都是半角的，半角的显示内码都是一个字节。在系统内部，以上三种字符是作为基本代码处理的，所以用户输入命令和参数时一般都使用半角。\n\n---\n\n3、全角与半角各在什么情况下使用？\n\n全角占两个字节，半角占一个字节。\n\n半角全角主要是针对标点符号来说的，全角标点占两个字节，半角占一个字节，而不管是半角还是全角，汉字都还是要占两个字节。\n\n在编程序的源代码中只能使用半角标点（不包括字符串内部的数据）\n\n在不支持汉字等语言的计算机上只能使用半角标点（其实这种情况根本就不存在半角全角的概念）\n\n对于大多数字体来说，全角看起来比半角大，当然这不是本质区别了。\n\n---\n\n4、全角和半角的区别\n全角就是字母和数字等与汉字占等宽位置的字。半角就是ASCII方式的字符，\n\n在没有汉字输入法起做用的时候输入的字母数字和字符都是半角的。\n\n在汉字输入法出现的时候，输入的字母数字默认为半角，但是标点则是默认为全角，\n\n可以通过鼠标点击输入法工具条上的相应按钮来改变。\n\n---\n\n5、关于“全角”和“半角”：\n\n全角：是指中GB2312-80（《信息交换用汉字编码字符集·基本集》）中的各种符号。\n\n半角：是指英文件ASCII码中的各种符号。\n\n全角状态下字母、数字符号等都会占两个字节的位置，也就是一个汉字那么宽，半角状态下，\n\n字母数字符号一般会占一个字节，也就是半个汉字的位置，全角半角对汉字没有影响。\n\n有两种方式可以判断:\n\n1:通过正则表达式来进行判断  [^\\\\x00-\\\\xff]\n\n2: 通过字符编码的范围进行判断.\n\n通过打印所有的字符发现：\n\n1. 半角字符是从33开始到126结束\n2. 与半角字符对应的全角字符是从65281开始到65374结束\n3. 其中半角的空格是32.对应的全角空格是12288\n4. 半角和全角的关系很明显,除空格外的字符偏移量是65248(65281-33 = 65248)\n\n具体的代码如下：\n<!--more-->\n```\npackage com.hisen.String;\n\n/**\n * 半角字符和全角字符的转换 以及 判断\n * Created by hisenyuan on 2017/4/1 at 10:37.\n */\npublic class FullHalf {\n    /**\n     * ASCII表中可见字符从!开始，偏移位值为33(Decimal)\n     */\n    static final char DBC_CHAR_START = 33; // 半角!\n\n    /**\n     * ASCII表中可见字符到~结束，偏移位值为126(Decimal)\n     */\n    static final char DBC_CHAR_END = 126; // 半角~\n\n    /**\n     * 全角对应于ASCII表的可见字符从！开始，偏移值为65281\n     */\n    static final char SBC_CHAR_START = 65281; // 全角！\n\n    /**\n     * 全角对应于ASCII表的可见字符到～结束，偏移值为65374\n     */\n    static final char SBC_CHAR_END = 65374; // 全角～\n\n    /**\n     * ASCII表中除空格外的可见字符与对应的全角字符的相对偏移\n     */\n    static final int CONVERT_STEP = 65248; // 全角半角转换间隔\n\n    /**\n     * 全角空格的值，它没有遵从与ASCII的相对偏移，必须单独处理\n     */\n    static final char SBC_SPACE = 12288; // 全角空格 12288\n\n    /**\n     * 半角空格的值，在ASCII中为32(Decimal)\n     */\n    static final char DBC_SPACE = ' '; // 半角空格\n    public static void main(String[] args) {\n        String s = \"123456\";\n        //半角转换成全角字符\n        String s1 = bj2qj(s);\n        //全角转换成半角\n        String s2 = qj2bj(s1);\n        System.out.println(\"全角：\"+s1 +\" -> 半角：\"+s2);\n        System.out.println(\"--------------------------\");\n        String fh = s1+s2;\n        //判断全角还是半角\n        fullOrHalf(fh);\n        //打印ASCII表中所有字符\n        printAllChar();\n    }\n    /**\n     * <PRE>\n     * 半角字符->全角字符转换\n     * 只处理空格，!到˜之间的字符，忽略其他\n     * </PRE>\n     */\n    private static String bj2qj(String src) {\n        if (src == null) {\n            return src;\n        }\n        StringBuilder buf = new StringBuilder(src.length());\n        char[] ca = src.toCharArray();\n        for (int i = 0; i < ca.length; i++) {\n            if (ca[i] == DBC_SPACE) { // 如果是半角空格，直接用全角空格替代\n                buf.append(SBC_SPACE);\n            } else if ((ca[i] >= DBC_CHAR_START) && (ca[i] <= DBC_CHAR_END)) { // 字符是!到~之间的可见字符\n                buf.append((char) (ca[i] + CONVERT_STEP));\n            } else { // 不对空格以及ascii表中其他可见字符之外的字符做任何处理\n                buf.append(ca[i]);\n            }\n        }\n        return buf.toString();\n    }\n    /**\n     * <PRE>\n     * 全角字符->半角字符转换\n     * 只处理全角的空格，全角！到全角～之间的字符，忽略其他\n     * </PRE>\n     */\n    public static String qj2bj(String src) {\n        if (src == null) {\n            return src;\n        }\n        StringBuilder buf = new StringBuilder(src.length());\n        char[] ca = src.toCharArray();\n        for (int i = 0; i < src.length(); i++) {\n            if (ca[i] >= SBC_CHAR_START && ca[i] <= SBC_CHAR_END) { // 如果位于全角！到全角～区间内\n                buf.append((char) (ca[i] - CONVERT_STEP));\n            } else if (ca[i] == SBC_SPACE) { // 如果是全角空格\n                buf.append(DBC_SPACE);\n            } else { // 不处理全角空格，全角！到全角～区间外的字符\n                buf.append(ca[i]);\n            }\n        }\n        return buf.toString();\n    }\n\n    /**\n     * 使用正则表达式判断字符是否为全角\n     * @param str\n     */\n    public static void fullOrHalf(String str){\n        char[] chars = str.toCharArray();\n        for (int i = 0; i < chars.length; i++) {\n            String temp = String.valueOf(chars[i]);\n            // 正则判断是全角字符\n            if (temp.matches(\"[^\\\\x00-\\\\xff]\")) {\n                System.out.println(\"全角 -> \" + temp);\n            }\n            // 判断是半角字符\n            else {\n                System.out.println(\"半角 -> \" + temp);\n            }\n        }\n    }\n\n    /**\n     * 打印所有字符\n     */\n    public static void printAllChar(){\n        for (int i = Character.MIN_VALUE; i <= Character.MAX_VALUE; ++i) {\n            System.out.println(\"ASCII：\"+i + \" -> \" + \"字符：\"+(char)i);\n        }\n    }\n}\n```","slug":"Java判断全角半角字符以及相互转换","published":1,"updated":"2017-04-01T03:06:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqs002solejs9pkjjm4","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在计算机屏幕上，一个汉字要占两个英文字符的位置，人们把一个英文字符所占的位置称为”半角”，</p><p>相对地把一个汉字所占的位置称为”全角”。在汉字输入时，系统提供”半角”和”全角”两种不同的输入状态，</p><p>但是对于英文字母、符号和数字这些通用字符就不同于汉字，在半角状态它们被作为英文字符处理；</p><p>而在全角状态，它们又可作为中文字符处理。</p><p>半角和全角切换方法：单击输入法工具条上的按钮或按键盘上的Shift+Space键来切换。</p><p>1、全角：指一个字符占用两个标准字符位置。</p><p>汉字字符和规定了全角的英文字符及国标GB2312-80中的图形符号和特殊字符都是全角字符。一般的系统命令是不用全角字符的，只是在作文字处理时才会使用全角字符。</p><hr><p>2、半角：指一字符占用一个标准的字符位置。</p><p>通常的英文字母、数字键、符号键都是半角的，半角的显示内码都是一个字节。在系统内部，以上三种字符是作为基本代码处理的，所以用户输入命令和参数时一般都使用半角。</p><hr><p>3、全角与半角各在什么情况下使用？</p><p>全角占两个字节，半角占一个字节。</p><p>半角全角主要是针对标点符号来说的，全角标点占两个字节，半角占一个字节，而不管是半角还是全角，汉字都还是要占两个字节。</p><p>在编程序的源代码中只能使用半角标点（不包括字符串内部的数据）</p><p>在不支持汉字等语言的计算机上只能使用半角标点（其实这种情况根本就不存在半角全角的概念）</p><p>对于大多数字体来说，全角看起来比半角大，当然这不是本质区别了。</p><hr><p>4、全角和半角的区别<br>全角就是字母和数字等与汉字占等宽位置的字。半角就是ASCII方式的字符，</p><p>在没有汉字输入法起做用的时候输入的字母数字和字符都是半角的。</p><p>在汉字输入法出现的时候，输入的字母数字默认为半角，但是标点则是默认为全角，</p><p>可以通过鼠标点击输入法工具条上的相应按钮来改变。</p><hr><p>5、关于“全角”和“半角”：</p><p>全角：是指中GB2312-80（《信息交换用汉字编码字符集·基本集》）中的各种符号。</p><p>半角：是指英文件ASCII码中的各种符号。</p><p>全角状态下字母、数字符号等都会占两个字节的位置，也就是一个汉字那么宽，半角状态下，</p><p>字母数字符号一般会占一个字节，也就是半个汉字的位置，全角半角对汉字没有影响。</p><p>有两种方式可以判断:</p><p>1:通过正则表达式来进行判断 [^\\x00-\\xff]</p><p>2: 通过字符编码的范围进行判断.</p><p>通过打印所有的字符发现：</p><ol><li>半角字符是从33开始到126结束</li><li>与半角字符对应的全角字符是从65281开始到65374结束</li><li>其中半角的空格是32.对应的全角空格是12288</li><li>半角和全角的关系很明显,除空格外的字符偏移量是65248(65281-33 = 65248)</li></ol><p>具体的代码如下：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.String;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 半角字符和全角字符的转换 以及 判断</span><br><span class=\"line\"> * Created by hisenyuan on 2017/4/1 at 10:37.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class FullHalf &#123;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ASCII表中可见字符从!开始，偏移位值为33(Decimal)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char DBC_CHAR_START = 33; // 半角!</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ASCII表中可见字符到~结束，偏移位值为126(Decimal)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char DBC_CHAR_END = 126; // 半角~</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 全角对应于ASCII表的可见字符从！开始，偏移值为65281</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char SBC_CHAR_START = 65281; // 全角！</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 全角对应于ASCII表的可见字符到～结束，偏移值为65374</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char SBC_CHAR_END = 65374; // 全角～</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ASCII表中除空格外的可见字符与对应的全角字符的相对偏移</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final int CONVERT_STEP = 65248; // 全角半角转换间隔</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 全角空格的值，它没有遵从与ASCII的相对偏移，必须单独处理</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char SBC_SPACE = 12288; // 全角空格 12288</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 半角空格的值，在ASCII中为32(Decimal)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char DBC_SPACE = &apos; &apos;; // 半角空格</span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        String s = &quot;123456&quot;;</span><br><span class=\"line\">        //半角转换成全角字符</span><br><span class=\"line\">        String s1 = bj2qj(s);</span><br><span class=\"line\">        //全角转换成半角</span><br><span class=\"line\">        String s2 = qj2bj(s1);</span><br><span class=\"line\">        System.out.println(&quot;全角：&quot;+s1 +&quot; -&gt; 半角：&quot;+s2);</span><br><span class=\"line\">        System.out.println(&quot;--------------------------&quot;);</span><br><span class=\"line\">        String fh = s1+s2;</span><br><span class=\"line\">        //判断全角还是半角</span><br><span class=\"line\">        fullOrHalf(fh);</span><br><span class=\"line\">        //打印ASCII表中所有字符</span><br><span class=\"line\">        printAllChar();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * &lt;PRE&gt;</span><br><span class=\"line\">     * 半角字符-&gt;全角字符转换</span><br><span class=\"line\">     * 只处理空格，!到˜之间的字符，忽略其他</span><br><span class=\"line\">     * &lt;/PRE&gt;</span><br><span class=\"line\">     */</span><br><span class=\"line\">    private static String bj2qj(String src) &#123;</span><br><span class=\"line\">        if (src == null) &#123;</span><br><span class=\"line\">            return src;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder buf = new StringBuilder(src.length());</span><br><span class=\"line\">        char[] ca = src.toCharArray();</span><br><span class=\"line\">        for (int i = 0; i &lt; ca.length; i++) &#123;</span><br><span class=\"line\">            if (ca[i] == DBC_SPACE) &#123; // 如果是半角空格，直接用全角空格替代</span><br><span class=\"line\">                buf.append(SBC_SPACE);</span><br><span class=\"line\">            &#125; else if ((ca[i] &gt;= DBC_CHAR_START) &amp;&amp; (ca[i] &lt;= DBC_CHAR_END)) &#123; // 字符是!到~之间的可见字符</span><br><span class=\"line\">                buf.append((char) (ca[i] + CONVERT_STEP));</span><br><span class=\"line\">            &#125; else &#123; // 不对空格以及ascii表中其他可见字符之外的字符做任何处理</span><br><span class=\"line\">                buf.append(ca[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return buf.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * &lt;PRE&gt;</span><br><span class=\"line\">     * 全角字符-&gt;半角字符转换</span><br><span class=\"line\">     * 只处理全角的空格，全角！到全角～之间的字符，忽略其他</span><br><span class=\"line\">     * &lt;/PRE&gt;</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static String qj2bj(String src) &#123;</span><br><span class=\"line\">        if (src == null) &#123;</span><br><span class=\"line\">            return src;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder buf = new StringBuilder(src.length());</span><br><span class=\"line\">        char[] ca = src.toCharArray();</span><br><span class=\"line\">        for (int i = 0; i &lt; src.length(); i++) &#123;</span><br><span class=\"line\">            if (ca[i] &gt;= SBC_CHAR_START &amp;&amp; ca[i] &lt;= SBC_CHAR_END) &#123; // 如果位于全角！到全角～区间内</span><br><span class=\"line\">                buf.append((char) (ca[i] - CONVERT_STEP));</span><br><span class=\"line\">            &#125; else if (ca[i] == SBC_SPACE) &#123; // 如果是全角空格</span><br><span class=\"line\">                buf.append(DBC_SPACE);</span><br><span class=\"line\">            &#125; else &#123; // 不处理全角空格，全角！到全角～区间外的字符</span><br><span class=\"line\">                buf.append(ca[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return buf.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 使用正则表达式判断字符是否为全角</span><br><span class=\"line\">     * @param str</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void fullOrHalf(String str)&#123;</span><br><span class=\"line\">        char[] chars = str.toCharArray();</span><br><span class=\"line\">        for (int i = 0; i &lt; chars.length; i++) &#123;</span><br><span class=\"line\">            String temp = String.valueOf(chars[i]);</span><br><span class=\"line\">            // 正则判断是全角字符</span><br><span class=\"line\">            if (temp.matches(&quot;[^\\\\x00-\\\\xff]&quot;)) &#123;</span><br><span class=\"line\">                System.out.println(&quot;全角 -&gt; &quot; + temp);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            // 判断是半角字符</span><br><span class=\"line\">            else &#123;</span><br><span class=\"line\">                System.out.println(&quot;半角 -&gt; &quot; + temp);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 打印所有字符</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void printAllChar()&#123;</span><br><span class=\"line\">        for (int i = Character.MIN_VALUE; i &lt;= Character.MAX_VALUE; ++i) &#123;</span><br><span class=\"line\">            System.out.println(&quot;ASCII：&quot;+i + &quot; -&gt; &quot; + &quot;字符：&quot;+(char)i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在计算机屏幕上，一个汉字要占两个英文字符的位置，人们把一个英文字符所占的位置称为”半角”，</p><p>相对地把一个汉字所占的位置称为”全角”。在汉字输入时，系统提供”半角”和”全角”两种不同的输入状态，</p><p>但是对于英文字母、符号和数字这些通用字符就不同于汉字，在半角状态它们被作为英文字符处理；</p><p>而在全角状态，它们又可作为中文字符处理。</p><p>半角和全角切换方法：单击输入法工具条上的按钮或按键盘上的Shift+Space键来切换。</p><p>1、全角：指一个字符占用两个标准字符位置。</p><p>汉字字符和规定了全角的英文字符及国标GB2312-80中的图形符号和特殊字符都是全角字符。一般的系统命令是不用全角字符的，只是在作文字处理时才会使用全角字符。</p><hr><p>2、半角：指一字符占用一个标准的字符位置。</p><p>通常的英文字母、数字键、符号键都是半角的，半角的显示内码都是一个字节。在系统内部，以上三种字符是作为基本代码处理的，所以用户输入命令和参数时一般都使用半角。</p><hr><p>3、全角与半角各在什么情况下使用？</p><p>全角占两个字节，半角占一个字节。</p><p>半角全角主要是针对标点符号来说的，全角标点占两个字节，半角占一个字节，而不管是半角还是全角，汉字都还是要占两个字节。</p><p>在编程序的源代码中只能使用半角标点（不包括字符串内部的数据）</p><p>在不支持汉字等语言的计算机上只能使用半角标点（其实这种情况根本就不存在半角全角的概念）</p><p>对于大多数字体来说，全角看起来比半角大，当然这不是本质区别了。</p><hr><p>4、全角和半角的区别<br>全角就是字母和数字等与汉字占等宽位置的字。半角就是ASCII方式的字符，</p><p>在没有汉字输入法起做用的时候输入的字母数字和字符都是半角的。</p><p>在汉字输入法出现的时候，输入的字母数字默认为半角，但是标点则是默认为全角，</p><p>可以通过鼠标点击输入法工具条上的相应按钮来改变。</p><hr><p>5、关于“全角”和“半角”：</p><p>全角：是指中GB2312-80（《信息交换用汉字编码字符集·基本集》）中的各种符号。</p><p>半角：是指英文件ASCII码中的各种符号。</p><p>全角状态下字母、数字符号等都会占两个字节的位置，也就是一个汉字那么宽，半角状态下，</p><p>字母数字符号一般会占一个字节，也就是半个汉字的位置，全角半角对汉字没有影响。</p><p>有两种方式可以判断:</p><p>1:通过正则表达式来进行判断 [^\\x00-\\xff]</p><p>2: 通过字符编码的范围进行判断.</p><p>通过打印所有的字符发现：</p><ol><li>半角字符是从33开始到126结束</li><li>与半角字符对应的全角字符是从65281开始到65374结束</li><li>其中半角的空格是32.对应的全角空格是12288</li><li>半角和全角的关系很明显,除空格外的字符偏移量是65248(65281-33 = 65248)</li></ol><p>具体的代码如下：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.String;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 半角字符和全角字符的转换 以及 判断</span><br><span class=\"line\"> * Created by hisenyuan on 2017/4/1 at 10:37.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class FullHalf &#123;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ASCII表中可见字符从!开始，偏移位值为33(Decimal)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char DBC_CHAR_START = 33; // 半角!</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ASCII表中可见字符到~结束，偏移位值为126(Decimal)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char DBC_CHAR_END = 126; // 半角~</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 全角对应于ASCII表的可见字符从！开始，偏移值为65281</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char SBC_CHAR_START = 65281; // 全角！</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 全角对应于ASCII表的可见字符到～结束，偏移值为65374</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char SBC_CHAR_END = 65374; // 全角～</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ASCII表中除空格外的可见字符与对应的全角字符的相对偏移</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final int CONVERT_STEP = 65248; // 全角半角转换间隔</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 全角空格的值，它没有遵从与ASCII的相对偏移，必须单独处理</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char SBC_SPACE = 12288; // 全角空格 12288</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 半角空格的值，在ASCII中为32(Decimal)</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static final char DBC_SPACE = &apos; &apos;; // 半角空格</span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        String s = &quot;123456&quot;;</span><br><span class=\"line\">        //半角转换成全角字符</span><br><span class=\"line\">        String s1 = bj2qj(s);</span><br><span class=\"line\">        //全角转换成半角</span><br><span class=\"line\">        String s2 = qj2bj(s1);</span><br><span class=\"line\">        System.out.println(&quot;全角：&quot;+s1 +&quot; -&gt; 半角：&quot;+s2);</span><br><span class=\"line\">        System.out.println(&quot;--------------------------&quot;);</span><br><span class=\"line\">        String fh = s1+s2;</span><br><span class=\"line\">        //判断全角还是半角</span><br><span class=\"line\">        fullOrHalf(fh);</span><br><span class=\"line\">        //打印ASCII表中所有字符</span><br><span class=\"line\">        printAllChar();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * &lt;PRE&gt;</span><br><span class=\"line\">     * 半角字符-&gt;全角字符转换</span><br><span class=\"line\">     * 只处理空格，!到˜之间的字符，忽略其他</span><br><span class=\"line\">     * &lt;/PRE&gt;</span><br><span class=\"line\">     */</span><br><span class=\"line\">    private static String bj2qj(String src) &#123;</span><br><span class=\"line\">        if (src == null) &#123;</span><br><span class=\"line\">            return src;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder buf = new StringBuilder(src.length());</span><br><span class=\"line\">        char[] ca = src.toCharArray();</span><br><span class=\"line\">        for (int i = 0; i &lt; ca.length; i++) &#123;</span><br><span class=\"line\">            if (ca[i] == DBC_SPACE) &#123; // 如果是半角空格，直接用全角空格替代</span><br><span class=\"line\">                buf.append(SBC_SPACE);</span><br><span class=\"line\">            &#125; else if ((ca[i] &gt;= DBC_CHAR_START) &amp;&amp; (ca[i] &lt;= DBC_CHAR_END)) &#123; // 字符是!到~之间的可见字符</span><br><span class=\"line\">                buf.append((char) (ca[i] + CONVERT_STEP));</span><br><span class=\"line\">            &#125; else &#123; // 不对空格以及ascii表中其他可见字符之外的字符做任何处理</span><br><span class=\"line\">                buf.append(ca[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return buf.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * &lt;PRE&gt;</span><br><span class=\"line\">     * 全角字符-&gt;半角字符转换</span><br><span class=\"line\">     * 只处理全角的空格，全角！到全角～之间的字符，忽略其他</span><br><span class=\"line\">     * &lt;/PRE&gt;</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static String qj2bj(String src) &#123;</span><br><span class=\"line\">        if (src == null) &#123;</span><br><span class=\"line\">            return src;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder buf = new StringBuilder(src.length());</span><br><span class=\"line\">        char[] ca = src.toCharArray();</span><br><span class=\"line\">        for (int i = 0; i &lt; src.length(); i++) &#123;</span><br><span class=\"line\">            if (ca[i] &gt;= SBC_CHAR_START &amp;&amp; ca[i] &lt;= SBC_CHAR_END) &#123; // 如果位于全角！到全角～区间内</span><br><span class=\"line\">                buf.append((char) (ca[i] - CONVERT_STEP));</span><br><span class=\"line\">            &#125; else if (ca[i] == SBC_SPACE) &#123; // 如果是全角空格</span><br><span class=\"line\">                buf.append(DBC_SPACE);</span><br><span class=\"line\">            &#125; else &#123; // 不处理全角空格，全角！到全角～区间外的字符</span><br><span class=\"line\">                buf.append(ca[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return buf.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 使用正则表达式判断字符是否为全角</span><br><span class=\"line\">     * @param str</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void fullOrHalf(String str)&#123;</span><br><span class=\"line\">        char[] chars = str.toCharArray();</span><br><span class=\"line\">        for (int i = 0; i &lt; chars.length; i++) &#123;</span><br><span class=\"line\">            String temp = String.valueOf(chars[i]);</span><br><span class=\"line\">            // 正则判断是全角字符</span><br><span class=\"line\">            if (temp.matches(&quot;[^\\\\x00-\\\\xff]&quot;)) &#123;</span><br><span class=\"line\">                System.out.println(&quot;全角 -&gt; &quot; + temp);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            // 判断是半角字符</span><br><span class=\"line\">            else &#123;</span><br><span class=\"line\">                System.out.println(&quot;半角 -&gt; &quot; + temp);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 打印所有字符</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void printAllChar()&#123;</span><br><span class=\"line\">        for (int i = Character.MIN_VALUE; i &lt;= Character.MAX_VALUE; ++i) &#123;</span><br><span class=\"line\">            System.out.println(&quot;ASCII：&quot;+i + &quot; -&gt; &quot; + &quot;字符：&quot;+(char)i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java原生类库java.util.zip - 文件夹压缩与解压","keywords":["java压缩文件夹","java解压文件","java压缩文件","java文件压缩","java文件解压"],"date":"2017-04-26T06:49:00.000Z","_content":"到处搜了一下也没有看到专门做好的jar包\n\n真实的目录结构如下：\n```\nC:\\1\\hisenyuan\\build.png\nC:\\1\\hisenyuan\\DSCN6812.JPG\nC:\\1\\hisenyuan\\test\\test\\hello.zip\nC:\\1\\hisenyuan\\test\\hisenyuan.zip\nC:\\1\\hisenyuan\\test\\test.txt\nC:\\1\\hisenyuan\\test\\test\\hello\\hello.txt\nC:\\1\\hisenyuan\\tomcat.png\n```\n压缩包的目录结构如下：\n```\nbuild.png\nDSCN6812.JPG\ntest\\hello.zip\ntest\\hisenyuan.zip\ntest\\test.txt\ntest\\hello\\hello.txt\ntomcat.png\n```\n\n全部代码如下：\n<!--more-->\n```\npackage com.hisen.utils;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\nimport org.apache.commons.io.IOUtils;\nimport org.junit.Test;\n\n/**\n * 文件夹压缩解压工具\n * Created by hisenyuan on 2017/4/20 at 17:27.\n */\npublic class ZipOrUnZipFileUtil {\n\n  private InputStream is;\n  private ZipOutputStream zos;\n  private int lastIndexOf;\n\n  @Test\n  public void testZipOrUnZipFile() {\n    //分隔符，windows linux下有所不同\n    String separator = File.separator;\n    //想要压缩的文件所在目录 C:\\1\\hisenyuan\n    String folderPath = \"c:\" + separator + \"1\" + separator + \"hisenyuan\";\n    //压缩文件路径：C:\\1\\hisenyuan\\hisenyuan.zip\n    String zipFilePath = \"c:\" + separator + \"1\" + separator + \"hisenyuan\" + \".zip\";\n    //解压文件所在的目录 E:\\file\\hisenyuan\n    String newPath = \"e:\" + separator + \"file\" + separator + \"hisenyuan\";\n\n    unZipFile(zipFilePath, newPath);\n    zipFile(folderPath);\n  }\n\n\n  /**\n   * 压缩文件\n   *\n   * @param filePath 压缩文件夹的路径\n   */\n  private void zipFile(String filePath) {\n    File file = new File(filePath);\n    File zipFile = new File(filePath + \".zip\");\n    lastIndexOf = file.getAbsolutePath().length() + 1;\n    try {\n      zos = new ZipOutputStream(new FileOutputStream(zipFile));\n      zos.setComment(\"log\");\n      long start = System.currentTimeMillis();\n      listAllFile(filePath);\n      long stop = System.currentTimeMillis();\n      System.out.println(\"zip done，time：\" + (stop - start) / 1000 + \"s\");\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } finally {\n      IOUtils.closeQuietly(zos, is);\n    }\n  }\n\n  /**\n   * 循环遍历当前文件夹下的所有文件，使用递归\n   */\n  private void listAllFile(String filePath) {\n    File file = new File(filePath);\n    if (file.exists()) {\n      File[] files = file.listFiles();\n      if (files == null) {\n        System.out.println(\"folder is null\");\n      } else {\n        for (File file2 : files) {\n          if (file2.isDirectory()) {\n            listAllFile(file2.getAbsolutePath());\n          } else {\n            String file3 = file2.getAbsolutePath();\n            try {\n              is = new FileInputStream(file3);\n              //在zip压缩包当中出现的文件名\n              String name = file3.substring(lastIndexOf, file3.length());\n              System.out.println(\"name:\" + name);\n              zos.putNextEntry(new ZipEntry(name));\n              int temp;\n              int bufferSize = 1024 * 5;\n              byte[] buffer = new byte[bufferSize];\n              while ((temp = is.read(buffer, 0, bufferSize)) != -1) {\n                zos.write(buffer, 0, temp);\n                zos.flush();\n              }\n            } catch (IOException e) {\n              e.printStackTrace();\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * 解压文件\n   *\n   * @param filePath 压缩文件所在目录\n   * @param newPath 想解压到那个目录\n   */\n  private void unZipFile(String filePath, String newPath) {\n    //压缩文件所在的父目录\n    String oldPath = new File(filePath).getParentFile().toString();\n    File outFile;\n    ZipInputStream zipInputStream = null;\n    OutputStream outputStream = null;\n    InputStream inputStream = null;\n    ZipEntry zipEntry;\n    try {\n      ZipFile zipFile = new ZipFile(filePath);\n\n      zipInputStream = new ZipInputStream(new FileInputStream(filePath));\n      while (null != (zipEntry = zipInputStream.getNextEntry())) {\n        System.out.println(\"解压缩\" + zipEntry.getName() + \"文件。\");\n        //newPath为空就代表解压在当前目录\n        if (\"\".equals(newPath) || newPath.isEmpty()) {\n          outFile = new File(oldPath + zipEntry.getName());\n        } else {\n          //防止传入的目录不存在\n          File file = new File(newPath);\n          if (!file.exists()) {\n            file.mkdir();\n          }\n          outFile = new File(newPath + File.separator + zipEntry.getName());\n        }\n        //判断当前文件路径是否存在，不存在就创建\n        buildFile(outFile);\n        inputStream = zipFile.getInputStream(zipEntry);\n        outputStream = new FileOutputStream(outFile);\n        int temp;\n        int bufferSize = 1024 * 5;\n        byte[] buffer = new byte[bufferSize];\n        while ((temp = inputStream.read(buffer, 0, bufferSize)) != -1) {\n          outputStream.write(buffer, 0, temp);\n        }\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    } finally {\n      IOUtils.closeQuietly(inputStream, outputStream, zipInputStream);\n    }\n  }\n\n  /**\n   * 判断文件是否存在，不存在创建\n   */\n  private static void buildFile(File file) {\n    if (!file.exists()) {\n      File parent = file.getParentFile();\n      if (parent != null && !parent.exists()) {\n        parent.mkdirs();\n      }\n      try {\n        file.createNewFile();\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n}\n```","source":"_posts/Java原生类库java.util.zip - 文件夹压缩与解压.md","raw":"---\ntitle: Java原生类库java.util.zip - 文件夹压缩与解压\nkeywords: [java压缩文件夹,java解压文件,java压缩文件,java文件压缩,java文件解压]\ndate: 2017/4/26 14:49\ntags: [java,解压]\ncategories: java\n---\n到处搜了一下也没有看到专门做好的jar包\n\n真实的目录结构如下：\n```\nC:\\1\\hisenyuan\\build.png\nC:\\1\\hisenyuan\\DSCN6812.JPG\nC:\\1\\hisenyuan\\test\\test\\hello.zip\nC:\\1\\hisenyuan\\test\\hisenyuan.zip\nC:\\1\\hisenyuan\\test\\test.txt\nC:\\1\\hisenyuan\\test\\test\\hello\\hello.txt\nC:\\1\\hisenyuan\\tomcat.png\n```\n压缩包的目录结构如下：\n```\nbuild.png\nDSCN6812.JPG\ntest\\hello.zip\ntest\\hisenyuan.zip\ntest\\test.txt\ntest\\hello\\hello.txt\ntomcat.png\n```\n\n全部代码如下：\n<!--more-->\n```\npackage com.hisen.utils;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\nimport org.apache.commons.io.IOUtils;\nimport org.junit.Test;\n\n/**\n * 文件夹压缩解压工具\n * Created by hisenyuan on 2017/4/20 at 17:27.\n */\npublic class ZipOrUnZipFileUtil {\n\n  private InputStream is;\n  private ZipOutputStream zos;\n  private int lastIndexOf;\n\n  @Test\n  public void testZipOrUnZipFile() {\n    //分隔符，windows linux下有所不同\n    String separator = File.separator;\n    //想要压缩的文件所在目录 C:\\1\\hisenyuan\n    String folderPath = \"c:\" + separator + \"1\" + separator + \"hisenyuan\";\n    //压缩文件路径：C:\\1\\hisenyuan\\hisenyuan.zip\n    String zipFilePath = \"c:\" + separator + \"1\" + separator + \"hisenyuan\" + \".zip\";\n    //解压文件所在的目录 E:\\file\\hisenyuan\n    String newPath = \"e:\" + separator + \"file\" + separator + \"hisenyuan\";\n\n    unZipFile(zipFilePath, newPath);\n    zipFile(folderPath);\n  }\n\n\n  /**\n   * 压缩文件\n   *\n   * @param filePath 压缩文件夹的路径\n   */\n  private void zipFile(String filePath) {\n    File file = new File(filePath);\n    File zipFile = new File(filePath + \".zip\");\n    lastIndexOf = file.getAbsolutePath().length() + 1;\n    try {\n      zos = new ZipOutputStream(new FileOutputStream(zipFile));\n      zos.setComment(\"log\");\n      long start = System.currentTimeMillis();\n      listAllFile(filePath);\n      long stop = System.currentTimeMillis();\n      System.out.println(\"zip done，time：\" + (stop - start) / 1000 + \"s\");\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } finally {\n      IOUtils.closeQuietly(zos, is);\n    }\n  }\n\n  /**\n   * 循环遍历当前文件夹下的所有文件，使用递归\n   */\n  private void listAllFile(String filePath) {\n    File file = new File(filePath);\n    if (file.exists()) {\n      File[] files = file.listFiles();\n      if (files == null) {\n        System.out.println(\"folder is null\");\n      } else {\n        for (File file2 : files) {\n          if (file2.isDirectory()) {\n            listAllFile(file2.getAbsolutePath());\n          } else {\n            String file3 = file2.getAbsolutePath();\n            try {\n              is = new FileInputStream(file3);\n              //在zip压缩包当中出现的文件名\n              String name = file3.substring(lastIndexOf, file3.length());\n              System.out.println(\"name:\" + name);\n              zos.putNextEntry(new ZipEntry(name));\n              int temp;\n              int bufferSize = 1024 * 5;\n              byte[] buffer = new byte[bufferSize];\n              while ((temp = is.read(buffer, 0, bufferSize)) != -1) {\n                zos.write(buffer, 0, temp);\n                zos.flush();\n              }\n            } catch (IOException e) {\n              e.printStackTrace();\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * 解压文件\n   *\n   * @param filePath 压缩文件所在目录\n   * @param newPath 想解压到那个目录\n   */\n  private void unZipFile(String filePath, String newPath) {\n    //压缩文件所在的父目录\n    String oldPath = new File(filePath).getParentFile().toString();\n    File outFile;\n    ZipInputStream zipInputStream = null;\n    OutputStream outputStream = null;\n    InputStream inputStream = null;\n    ZipEntry zipEntry;\n    try {\n      ZipFile zipFile = new ZipFile(filePath);\n\n      zipInputStream = new ZipInputStream(new FileInputStream(filePath));\n      while (null != (zipEntry = zipInputStream.getNextEntry())) {\n        System.out.println(\"解压缩\" + zipEntry.getName() + \"文件。\");\n        //newPath为空就代表解压在当前目录\n        if (\"\".equals(newPath) || newPath.isEmpty()) {\n          outFile = new File(oldPath + zipEntry.getName());\n        } else {\n          //防止传入的目录不存在\n          File file = new File(newPath);\n          if (!file.exists()) {\n            file.mkdir();\n          }\n          outFile = new File(newPath + File.separator + zipEntry.getName());\n        }\n        //判断当前文件路径是否存在，不存在就创建\n        buildFile(outFile);\n        inputStream = zipFile.getInputStream(zipEntry);\n        outputStream = new FileOutputStream(outFile);\n        int temp;\n        int bufferSize = 1024 * 5;\n        byte[] buffer = new byte[bufferSize];\n        while ((temp = inputStream.read(buffer, 0, bufferSize)) != -1) {\n          outputStream.write(buffer, 0, temp);\n        }\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    } finally {\n      IOUtils.closeQuietly(inputStream, outputStream, zipInputStream);\n    }\n  }\n\n  /**\n   * 判断文件是否存在，不存在创建\n   */\n  private static void buildFile(File file) {\n    if (!file.exists()) {\n      File parent = file.getParentFile();\n      if (parent != null && !parent.exists()) {\n        parent.mkdirs();\n      }\n      try {\n        file.createNewFile();\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n}\n```","slug":"Java原生类库java.util.zip - 文件夹压缩与解压","published":1,"updated":"2017-04-26T06:54:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqt002uolejpzx8r8rw","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>到处搜了一下也没有看到专门做好的jar包</p><p>真实的目录结构如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\1\\hisenyuan\\build.png</span><br><span class=\"line\">C:\\1\\hisenyuan\\DSCN6812.JPG</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\test\\hello.zip</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\hisenyuan.zip</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\test.txt</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\test\\hello\\hello.txt</span><br><span class=\"line\">C:\\1\\hisenyuan\\tomcat.png</span><br></pre></td></tr></table></figure><p></p><p>压缩包的目录结构如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">build.png</span><br><span class=\"line\">DSCN6812.JPG</span><br><span class=\"line\">test\\hello.zip</span><br><span class=\"line\">test\\hisenyuan.zip</span><br><span class=\"line\">test\\test.txt</span><br><span class=\"line\">test\\hello\\hello.txt</span><br><span class=\"line\">tomcat.png</span><br></pre></td></tr></table></figure><p></p><p>全部代码如下：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.utils;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.FileInputStream;</span><br><span class=\"line\">import java.io.FileNotFoundException;</span><br><span class=\"line\">import java.io.FileOutputStream;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.io.InputStream;</span><br><span class=\"line\">import java.io.OutputStream;</span><br><span class=\"line\">import java.util.zip.ZipEntry;</span><br><span class=\"line\">import java.util.zip.ZipFile;</span><br><span class=\"line\">import java.util.zip.ZipInputStream;</span><br><span class=\"line\">import java.util.zip.ZipOutputStream;</span><br><span class=\"line\">import org.apache.commons.io.IOUtils;</span><br><span class=\"line\">import org.junit.Test;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 文件夹压缩解压工具</span><br><span class=\"line\"> * Created by hisenyuan on 2017/4/20 at 17:27.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ZipOrUnZipFileUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private InputStream is;</span><br><span class=\"line\">  private ZipOutputStream zos;</span><br><span class=\"line\">  private int lastIndexOf;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testZipOrUnZipFile() &#123;</span><br><span class=\"line\">    //分隔符，windows linux下有所不同</span><br><span class=\"line\">    String separator = File.separator;</span><br><span class=\"line\">    //想要压缩的文件所在目录 C:\\1\\hisenyuan</span><br><span class=\"line\">    String folderPath = &quot;c:&quot; + separator + &quot;1&quot; + separator + &quot;hisenyuan&quot;;</span><br><span class=\"line\">    //压缩文件路径：C:\\1\\hisenyuan\\hisenyuan.zip</span><br><span class=\"line\">    String zipFilePath = &quot;c:&quot; + separator + &quot;1&quot; + separator + &quot;hisenyuan&quot; + &quot;.zip&quot;;</span><br><span class=\"line\">    //解压文件所在的目录 E:\\file\\hisenyuan</span><br><span class=\"line\">    String newPath = &quot;e:&quot; + separator + &quot;file&quot; + separator + &quot;hisenyuan&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    unZipFile(zipFilePath, newPath);</span><br><span class=\"line\">    zipFile(folderPath);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 压缩文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param filePath 压缩文件夹的路径</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private void zipFile(String filePath) &#123;</span><br><span class=\"line\">    File file = new File(filePath);</span><br><span class=\"line\">    File zipFile = new File(filePath + &quot;.zip&quot;);</span><br><span class=\"line\">    lastIndexOf = file.getAbsolutePath().length() + 1;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      zos = new ZipOutputStream(new FileOutputStream(zipFile));</span><br><span class=\"line\">      zos.setComment(&quot;log&quot;);</span><br><span class=\"line\">      long start = System.currentTimeMillis();</span><br><span class=\"line\">      listAllFile(filePath);</span><br><span class=\"line\">      long stop = System.currentTimeMillis();</span><br><span class=\"line\">      System.out.println(&quot;zip done，time：&quot; + (stop - start) / 1000 + &quot;s&quot;);</span><br><span class=\"line\">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; finally &#123;</span><br><span class=\"line\">      IOUtils.closeQuietly(zos, is);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 循环遍历当前文件夹下的所有文件，使用递归</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private void listAllFile(String filePath) &#123;</span><br><span class=\"line\">    File file = new File(filePath);</span><br><span class=\"line\">    if (file.exists()) &#123;</span><br><span class=\"line\">      File[] files = file.listFiles();</span><br><span class=\"line\">      if (files == null) &#123;</span><br><span class=\"line\">        System.out.println(&quot;folder is null&quot;);</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        for (File file2 : files) &#123;</span><br><span class=\"line\">          if (file2.isDirectory()) &#123;</span><br><span class=\"line\">            listAllFile(file2.getAbsolutePath());</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            String file3 = file2.getAbsolutePath();</span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">              is = new FileInputStream(file3);</span><br><span class=\"line\">              //在zip压缩包当中出现的文件名</span><br><span class=\"line\">              String name = file3.substring(lastIndexOf, file3.length());</span><br><span class=\"line\">              System.out.println(&quot;name:&quot; + name);</span><br><span class=\"line\">              zos.putNextEntry(new ZipEntry(name));</span><br><span class=\"line\">              int temp;</span><br><span class=\"line\">              int bufferSize = 1024 * 5;</span><br><span class=\"line\">              byte[] buffer = new byte[bufferSize];</span><br><span class=\"line\">              while ((temp = is.read(buffer, 0, bufferSize)) != -1) &#123;</span><br><span class=\"line\">                zos.write(buffer, 0, temp);</span><br><span class=\"line\">                zos.flush();</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125; catch (IOException e) &#123;</span><br><span class=\"line\">              e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 解压文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param filePath 压缩文件所在目录</span><br><span class=\"line\">   * @param newPath 想解压到那个目录</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private void unZipFile(String filePath, String newPath) &#123;</span><br><span class=\"line\">    //压缩文件所在的父目录</span><br><span class=\"line\">    String oldPath = new File(filePath).getParentFile().toString();</span><br><span class=\"line\">    File outFile;</span><br><span class=\"line\">    ZipInputStream zipInputStream = null;</span><br><span class=\"line\">    OutputStream outputStream = null;</span><br><span class=\"line\">    InputStream inputStream = null;</span><br><span class=\"line\">    ZipEntry zipEntry;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      ZipFile zipFile = new ZipFile(filePath);</span><br><span class=\"line\"></span><br><span class=\"line\">      zipInputStream = new ZipInputStream(new FileInputStream(filePath));</span><br><span class=\"line\">      while (null != (zipEntry = zipInputStream.getNextEntry())) &#123;</span><br><span class=\"line\">        System.out.println(&quot;解压缩&quot; + zipEntry.getName() + &quot;文件。&quot;);</span><br><span class=\"line\">        //newPath为空就代表解压在当前目录</span><br><span class=\"line\">        if (&quot;&quot;.equals(newPath) || newPath.isEmpty()) &#123;</span><br><span class=\"line\">          outFile = new File(oldPath + zipEntry.getName());</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          //防止传入的目录不存在</span><br><span class=\"line\">          File file = new File(newPath);</span><br><span class=\"line\">          if (!file.exists()) &#123;</span><br><span class=\"line\">            file.mkdir();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          outFile = new File(newPath + File.separator + zipEntry.getName());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //判断当前文件路径是否存在，不存在就创建</span><br><span class=\"line\">        buildFile(outFile);</span><br><span class=\"line\">        inputStream = zipFile.getInputStream(zipEntry);</span><br><span class=\"line\">        outputStream = new FileOutputStream(outFile);</span><br><span class=\"line\">        int temp;</span><br><span class=\"line\">        int bufferSize = 1024 * 5;</span><br><span class=\"line\">        byte[] buffer = new byte[bufferSize];</span><br><span class=\"line\">        while ((temp = inputStream.read(buffer, 0, bufferSize)) != -1) &#123;</span><br><span class=\"line\">          outputStream.write(buffer, 0, temp);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; finally &#123;</span><br><span class=\"line\">      IOUtils.closeQuietly(inputStream, outputStream, zipInputStream);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 判断文件是否存在，不存在创建</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private static void buildFile(File file) &#123;</span><br><span class=\"line\">    if (!file.exists()) &#123;</span><br><span class=\"line\">      File parent = file.getParentFile();</span><br><span class=\"line\">      if (parent != null &amp;&amp; !parent.exists()) &#123;</span><br><span class=\"line\">        parent.mkdirs();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      try &#123;</span><br><span class=\"line\">        file.createNewFile();</span><br><span class=\"line\">      &#125; catch (IOException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>到处搜了一下也没有看到专门做好的jar包</p><p>真实的目录结构如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\1\\hisenyuan\\build.png</span><br><span class=\"line\">C:\\1\\hisenyuan\\DSCN6812.JPG</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\test\\hello.zip</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\hisenyuan.zip</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\test.txt</span><br><span class=\"line\">C:\\1\\hisenyuan\\test\\test\\hello\\hello.txt</span><br><span class=\"line\">C:\\1\\hisenyuan\\tomcat.png</span><br></pre></td></tr></table></figure><p></p><p>压缩包的目录结构如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">build.png</span><br><span class=\"line\">DSCN6812.JPG</span><br><span class=\"line\">test\\hello.zip</span><br><span class=\"line\">test\\hisenyuan.zip</span><br><span class=\"line\">test\\test.txt</span><br><span class=\"line\">test\\hello\\hello.txt</span><br><span class=\"line\">tomcat.png</span><br></pre></td></tr></table></figure><p></p><p>全部代码如下：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.utils;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.FileInputStream;</span><br><span class=\"line\">import java.io.FileNotFoundException;</span><br><span class=\"line\">import java.io.FileOutputStream;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.io.InputStream;</span><br><span class=\"line\">import java.io.OutputStream;</span><br><span class=\"line\">import java.util.zip.ZipEntry;</span><br><span class=\"line\">import java.util.zip.ZipFile;</span><br><span class=\"line\">import java.util.zip.ZipInputStream;</span><br><span class=\"line\">import java.util.zip.ZipOutputStream;</span><br><span class=\"line\">import org.apache.commons.io.IOUtils;</span><br><span class=\"line\">import org.junit.Test;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 文件夹压缩解压工具</span><br><span class=\"line\"> * Created by hisenyuan on 2017/4/20 at 17:27.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ZipOrUnZipFileUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private InputStream is;</span><br><span class=\"line\">  private ZipOutputStream zos;</span><br><span class=\"line\">  private int lastIndexOf;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testZipOrUnZipFile() &#123;</span><br><span class=\"line\">    //分隔符，windows linux下有所不同</span><br><span class=\"line\">    String separator = File.separator;</span><br><span class=\"line\">    //想要压缩的文件所在目录 C:\\1\\hisenyuan</span><br><span class=\"line\">    String folderPath = &quot;c:&quot; + separator + &quot;1&quot; + separator + &quot;hisenyuan&quot;;</span><br><span class=\"line\">    //压缩文件路径：C:\\1\\hisenyuan\\hisenyuan.zip</span><br><span class=\"line\">    String zipFilePath = &quot;c:&quot; + separator + &quot;1&quot; + separator + &quot;hisenyuan&quot; + &quot;.zip&quot;;</span><br><span class=\"line\">    //解压文件所在的目录 E:\\file\\hisenyuan</span><br><span class=\"line\">    String newPath = &quot;e:&quot; + separator + &quot;file&quot; + separator + &quot;hisenyuan&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    unZipFile(zipFilePath, newPath);</span><br><span class=\"line\">    zipFile(folderPath);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 压缩文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param filePath 压缩文件夹的路径</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private void zipFile(String filePath) &#123;</span><br><span class=\"line\">    File file = new File(filePath);</span><br><span class=\"line\">    File zipFile = new File(filePath + &quot;.zip&quot;);</span><br><span class=\"line\">    lastIndexOf = file.getAbsolutePath().length() + 1;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      zos = new ZipOutputStream(new FileOutputStream(zipFile));</span><br><span class=\"line\">      zos.setComment(&quot;log&quot;);</span><br><span class=\"line\">      long start = System.currentTimeMillis();</span><br><span class=\"line\">      listAllFile(filePath);</span><br><span class=\"line\">      long stop = System.currentTimeMillis();</span><br><span class=\"line\">      System.out.println(&quot;zip done，time：&quot; + (stop - start) / 1000 + &quot;s&quot;);</span><br><span class=\"line\">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; finally &#123;</span><br><span class=\"line\">      IOUtils.closeQuietly(zos, is);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 循环遍历当前文件夹下的所有文件，使用递归</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private void listAllFile(String filePath) &#123;</span><br><span class=\"line\">    File file = new File(filePath);</span><br><span class=\"line\">    if (file.exists()) &#123;</span><br><span class=\"line\">      File[] files = file.listFiles();</span><br><span class=\"line\">      if (files == null) &#123;</span><br><span class=\"line\">        System.out.println(&quot;folder is null&quot;);</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        for (File file2 : files) &#123;</span><br><span class=\"line\">          if (file2.isDirectory()) &#123;</span><br><span class=\"line\">            listAllFile(file2.getAbsolutePath());</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            String file3 = file2.getAbsolutePath();</span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">              is = new FileInputStream(file3);</span><br><span class=\"line\">              //在zip压缩包当中出现的文件名</span><br><span class=\"line\">              String name = file3.substring(lastIndexOf, file3.length());</span><br><span class=\"line\">              System.out.println(&quot;name:&quot; + name);</span><br><span class=\"line\">              zos.putNextEntry(new ZipEntry(name));</span><br><span class=\"line\">              int temp;</span><br><span class=\"line\">              int bufferSize = 1024 * 5;</span><br><span class=\"line\">              byte[] buffer = new byte[bufferSize];</span><br><span class=\"line\">              while ((temp = is.read(buffer, 0, bufferSize)) != -1) &#123;</span><br><span class=\"line\">                zos.write(buffer, 0, temp);</span><br><span class=\"line\">                zos.flush();</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125; catch (IOException e) &#123;</span><br><span class=\"line\">              e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 解压文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param filePath 压缩文件所在目录</span><br><span class=\"line\">   * @param newPath 想解压到那个目录</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private void unZipFile(String filePath, String newPath) &#123;</span><br><span class=\"line\">    //压缩文件所在的父目录</span><br><span class=\"line\">    String oldPath = new File(filePath).getParentFile().toString();</span><br><span class=\"line\">    File outFile;</span><br><span class=\"line\">    ZipInputStream zipInputStream = null;</span><br><span class=\"line\">    OutputStream outputStream = null;</span><br><span class=\"line\">    InputStream inputStream = null;</span><br><span class=\"line\">    ZipEntry zipEntry;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      ZipFile zipFile = new ZipFile(filePath);</span><br><span class=\"line\"></span><br><span class=\"line\">      zipInputStream = new ZipInputStream(new FileInputStream(filePath));</span><br><span class=\"line\">      while (null != (zipEntry = zipInputStream.getNextEntry())) &#123;</span><br><span class=\"line\">        System.out.println(&quot;解压缩&quot; + zipEntry.getName() + &quot;文件。&quot;);</span><br><span class=\"line\">        //newPath为空就代表解压在当前目录</span><br><span class=\"line\">        if (&quot;&quot;.equals(newPath) || newPath.isEmpty()) &#123;</span><br><span class=\"line\">          outFile = new File(oldPath + zipEntry.getName());</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          //防止传入的目录不存在</span><br><span class=\"line\">          File file = new File(newPath);</span><br><span class=\"line\">          if (!file.exists()) &#123;</span><br><span class=\"line\">            file.mkdir();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          outFile = new File(newPath + File.separator + zipEntry.getName());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //判断当前文件路径是否存在，不存在就创建</span><br><span class=\"line\">        buildFile(outFile);</span><br><span class=\"line\">        inputStream = zipFile.getInputStream(zipEntry);</span><br><span class=\"line\">        outputStream = new FileOutputStream(outFile);</span><br><span class=\"line\">        int temp;</span><br><span class=\"line\">        int bufferSize = 1024 * 5;</span><br><span class=\"line\">        byte[] buffer = new byte[bufferSize];</span><br><span class=\"line\">        while ((temp = inputStream.read(buffer, 0, bufferSize)) != -1) &#123;</span><br><span class=\"line\">          outputStream.write(buffer, 0, temp);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; finally &#123;</span><br><span class=\"line\">      IOUtils.closeQuietly(inputStream, outputStream, zipInputStream);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 判断文件是否存在，不存在创建</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private static void buildFile(File file) &#123;</span><br><span class=\"line\">    if (!file.exists()) &#123;</span><br><span class=\"line\">      File parent = file.getParentFile();</span><br><span class=\"line\">      if (parent != null &amp;&amp; !parent.exists()) &#123;</span><br><span class=\"line\">        parent.mkdirs();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      try &#123;</span><br><span class=\"line\">        file.createNewFile();</span><br><span class=\"line\">      &#125; catch (IOException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java基本数据类型 - 以及相关内容","date":"2017-02-10T13:05:14.000Z","_content":"\n| 类型名称 | 关键字 | 占用内存 | 取值范围 | 包装类 |\n|:----- |:----- |:----- |:----- |:----- |\n| 字节型 | byte | 1 | -128~127 | Byte |\n| 短整形 | short | 2 | -32768~32767 | Short |\n| 整形 | int | 4 | -2147483648～2147483647 | Integer |\n| 长整形 | long | 8 | -9223372036854775808L ~ 9223372036854775807L | Long |\n| 单精度浮点 | float | 4 | -3.4E38～3.4E38(6~7个有效位) | Float |\n| 双精度浮点 | double | 8 | -1.7E308～1.7E308(15个有效值) | Double |\n| 字符型 | char | 2 | ISO单一字符集，其表示范围是0～65535  | Charater |\n| 布尔型 | boolean | 1 | true 或 false | Boolean |\n\n---\n所有基本数据类型的大小(所占用的字节数)都是明确规定好的，\n\n在各种平台上都保持不变，这一特性有助于提高Java程序的可移植性。\n<!--more-->\n\n---\n\n引用数据类型包括字符串、数组、类和接口。\n\n引用数据类型是用户自定义、用来限制其他数据类型。\n\n引用数据类型的变量在内存中存储的是数据的引用，并不是数据本身，\n\n引用类型是使用间接方法去获取数据\n\n---\n\n**java中int为什么占用4个字节？**\n\n**回答1：**\n\n现在流行的编译器，都是规定的int是四个字节～\n\n像tc这样老版的编译器，int才是两个字节，\n\n然后也是一样，由于一个字节占八位，最高为符号位，又人为规定，1000000000000000......这个补码编码为-2^31所以，范围就是-2^31~2^31-1\n\n**回答2：**\n\nJAVA是采用Unicode编码。每一个字节占8位。\n\n你电脑系统应该是32位系统(工具)，这样每个int就是 4个字节\n\n其中一个字节由8个二进制位组成\n\n**回答3：**\n\nint常见为4个字节，跟操作系统有关系。\n\nturbo c（以及Turbo c的一些衍生编译器，他们用的一套编译程序）是dos时代的编译器，\n\n是上世纪80年代的产物，严重过时，属于老掉牙的产品，\n\n他们编译出来的程序是16位操作系统dos下的程序，所以长度为16位，即两个字节。\n\nwindows为了兼容dos，所以turbo c生成的文件也可以在windows中运行。\n\n其他一般就都是4个字节了。\n\n操作系统16位的时候，int 2字节，操作系统32位的时候，int 4字节，由于32位系统之前占主流地位，实际现在就算是64位系统，出于兼容性考虑，int也是4字节的\n\n---\n","source":"_posts/Java基本数据类型.md","raw":"---\ntitle: Java基本数据类型 - 以及相关内容\ntags: [java]\ndate: 2017-02-10 21:05:14\ncategories: java\n---\n\n| 类型名称 | 关键字 | 占用内存 | 取值范围 | 包装类 |\n|:----- |:----- |:----- |:----- |:----- |\n| 字节型 | byte | 1 | -128~127 | Byte |\n| 短整形 | short | 2 | -32768~32767 | Short |\n| 整形 | int | 4 | -2147483648～2147483647 | Integer |\n| 长整形 | long | 8 | -9223372036854775808L ~ 9223372036854775807L | Long |\n| 单精度浮点 | float | 4 | -3.4E38～3.4E38(6~7个有效位) | Float |\n| 双精度浮点 | double | 8 | -1.7E308～1.7E308(15个有效值) | Double |\n| 字符型 | char | 2 | ISO单一字符集，其表示范围是0～65535  | Charater |\n| 布尔型 | boolean | 1 | true 或 false | Boolean |\n\n---\n所有基本数据类型的大小(所占用的字节数)都是明确规定好的，\n\n在各种平台上都保持不变，这一特性有助于提高Java程序的可移植性。\n<!--more-->\n\n---\n\n引用数据类型包括字符串、数组、类和接口。\n\n引用数据类型是用户自定义、用来限制其他数据类型。\n\n引用数据类型的变量在内存中存储的是数据的引用，并不是数据本身，\n\n引用类型是使用间接方法去获取数据\n\n---\n\n**java中int为什么占用4个字节？**\n\n**回答1：**\n\n现在流行的编译器，都是规定的int是四个字节～\n\n像tc这样老版的编译器，int才是两个字节，\n\n然后也是一样，由于一个字节占八位，最高为符号位，又人为规定，1000000000000000......这个补码编码为-2^31所以，范围就是-2^31~2^31-1\n\n**回答2：**\n\nJAVA是采用Unicode编码。每一个字节占8位。\n\n你电脑系统应该是32位系统(工具)，这样每个int就是 4个字节\n\n其中一个字节由8个二进制位组成\n\n**回答3：**\n\nint常见为4个字节，跟操作系统有关系。\n\nturbo c（以及Turbo c的一些衍生编译器，他们用的一套编译程序）是dos时代的编译器，\n\n是上世纪80年代的产物，严重过时，属于老掉牙的产品，\n\n他们编译出来的程序是16位操作系统dos下的程序，所以长度为16位，即两个字节。\n\nwindows为了兼容dos，所以turbo c生成的文件也可以在windows中运行。\n\n其他一般就都是4个字节了。\n\n操作系统16位的时候，int 2字节，操作系统32位的时候，int 4字节，由于32位系统之前占主流地位，实际现在就算是64位系统，出于兼容性考虑，int也是4字节的\n\n---\n","slug":"Java基本数据类型","published":1,"updated":"2017-02-17T08:23:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqv002yolejpdsw24xq","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><table><thead><tr><th style=\"text-align:left\">类型名称</th><th style=\"text-align:left\">关键字</th><th style=\"text-align:left\">占用内存</th><th style=\"text-align:left\">取值范围</th><th style=\"text-align:left\">包装类</th></tr></thead><tbody><tr><td style=\"text-align:left\">字节型</td><td style=\"text-align:left\">byte</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">-128~127</td><td style=\"text-align:left\">Byte</td></tr><tr><td style=\"text-align:left\">短整形</td><td style=\"text-align:left\">short</td><td style=\"text-align:left\">2</td><td style=\"text-align:left\">-32768~32767</td><td style=\"text-align:left\">Short</td></tr><tr><td style=\"text-align:left\">整形</td><td style=\"text-align:left\">int</td><td style=\"text-align:left\">4</td><td style=\"text-align:left\">-2147483648～2147483647</td><td style=\"text-align:left\">Integer</td></tr><tr><td style=\"text-align:left\">长整形</td><td style=\"text-align:left\">long</td><td style=\"text-align:left\">8</td><td style=\"text-align:left\">-9223372036854775808L ~ 9223372036854775807L</td><td style=\"text-align:left\">Long</td></tr><tr><td style=\"text-align:left\">单精度浮点</td><td style=\"text-align:left\">float</td><td style=\"text-align:left\">4</td><td style=\"text-align:left\">-3.4E38～3.4E38(6~7个有效位)</td><td style=\"text-align:left\">Float</td></tr><tr><td style=\"text-align:left\">双精度浮点</td><td style=\"text-align:left\">double</td><td style=\"text-align:left\">8</td><td style=\"text-align:left\">-1.7E308～1.7E308(15个有效值)</td><td style=\"text-align:left\">Double</td></tr><tr><td style=\"text-align:left\">字符型</td><td style=\"text-align:left\">char</td><td style=\"text-align:left\">2</td><td style=\"text-align:left\">ISO单一字符集，其表示范围是0～65535</td><td style=\"text-align:left\">Charater</td></tr><tr><td style=\"text-align:left\">布尔型</td><td style=\"text-align:left\">boolean</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">true 或 false</td><td style=\"text-align:left\">Boolean</td></tr></tbody></table><hr><p>所有基本数据类型的大小(所占用的字节数)都是明确规定好的，</p><p>在各种平台上都保持不变，这一特性有助于提高Java程序的可移植性。<br><a id=\"more\"></a></p><hr><p>引用数据类型包括字符串、数组、类和接口。</p><p>引用数据类型是用户自定义、用来限制其他数据类型。</p><p>引用数据类型的变量在内存中存储的是数据的引用，并不是数据本身，</p><p>引用类型是使用间接方法去获取数据</p><hr><p><strong>java中int为什么占用4个字节？</strong></p><p><strong>回答1：</strong></p><p>现在流行的编译器，都是规定的int是四个字节～</p><p>像tc这样老版的编译器，int才是两个字节，</p><p>然后也是一样，由于一个字节占八位，最高为符号位，又人为规定，1000000000000000……这个补码编码为-2^31所以，范围就是-2^31~2^31-1</p><p><strong>回答2：</strong></p><p>JAVA是采用Unicode编码。每一个字节占8位。</p><p>你电脑系统应该是32位系统(工具)，这样每个int就是 4个字节</p><p>其中一个字节由8个二进制位组成</p><p><strong>回答3：</strong></p><p>int常见为4个字节，跟操作系统有关系。</p><p>turbo c（以及Turbo c的一些衍生编译器，他们用的一套编译程序）是dos时代的编译器，</p><p>是上世纪80年代的产物，严重过时，属于老掉牙的产品，</p><p>他们编译出来的程序是16位操作系统dos下的程序，所以长度为16位，即两个字节。</p><p>windows为了兼容dos，所以turbo c生成的文件也可以在windows中运行。</p><p>其他一般就都是4个字节了。</p><p>操作系统16位的时候，int 2字节，操作系统32位的时候，int 4字节，由于32位系统之前占主流地位，实际现在就算是64位系统，出于兼容性考虑，int也是4字节的</p><hr><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><table><thead><tr><th style=\"text-align:left\">类型名称</th><th style=\"text-align:left\">关键字</th><th style=\"text-align:left\">占用内存</th><th style=\"text-align:left\">取值范围</th><th style=\"text-align:left\">包装类</th></tr></thead><tbody><tr><td style=\"text-align:left\">字节型</td><td style=\"text-align:left\">byte</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">-128~127</td><td style=\"text-align:left\">Byte</td></tr><tr><td style=\"text-align:left\">短整形</td><td style=\"text-align:left\">short</td><td style=\"text-align:left\">2</td><td style=\"text-align:left\">-32768~32767</td><td style=\"text-align:left\">Short</td></tr><tr><td style=\"text-align:left\">整形</td><td style=\"text-align:left\">int</td><td style=\"text-align:left\">4</td><td style=\"text-align:left\">-2147483648～2147483647</td><td style=\"text-align:left\">Integer</td></tr><tr><td style=\"text-align:left\">长整形</td><td style=\"text-align:left\">long</td><td style=\"text-align:left\">8</td><td style=\"text-align:left\">-9223372036854775808L ~ 9223372036854775807L</td><td style=\"text-align:left\">Long</td></tr><tr><td style=\"text-align:left\">单精度浮点</td><td style=\"text-align:left\">float</td><td style=\"text-align:left\">4</td><td style=\"text-align:left\">-3.4E38～3.4E38(6~7个有效位)</td><td style=\"text-align:left\">Float</td></tr><tr><td style=\"text-align:left\">双精度浮点</td><td style=\"text-align:left\">double</td><td style=\"text-align:left\">8</td><td style=\"text-align:left\">-1.7E308～1.7E308(15个有效值)</td><td style=\"text-align:left\">Double</td></tr><tr><td style=\"text-align:left\">字符型</td><td style=\"text-align:left\">char</td><td style=\"text-align:left\">2</td><td style=\"text-align:left\">ISO单一字符集，其表示范围是0～65535</td><td style=\"text-align:left\">Charater</td></tr><tr><td style=\"text-align:left\">布尔型</td><td style=\"text-align:left\">boolean</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">true 或 false</td><td style=\"text-align:left\">Boolean</td></tr></tbody></table><hr><p>所有基本数据类型的大小(所占用的字节数)都是明确规定好的，</p><p>在各种平台上都保持不变，这一特性有助于提高Java程序的可移植性。<br>","more":"</p><hr><p>引用数据类型包括字符串、数组、类和接口。</p><p>引用数据类型是用户自定义、用来限制其他数据类型。</p><p>引用数据类型的变量在内存中存储的是数据的引用，并不是数据本身，</p><p>引用类型是使用间接方法去获取数据</p><hr><p><strong>java中int为什么占用4个字节？</strong></p><p><strong>回答1：</strong></p><p>现在流行的编译器，都是规定的int是四个字节～</p><p>像tc这样老版的编译器，int才是两个字节，</p><p>然后也是一样，由于一个字节占八位，最高为符号位，又人为规定，1000000000000000……这个补码编码为-2^31所以，范围就是-2^31~2^31-1</p><p><strong>回答2：</strong></p><p>JAVA是采用Unicode编码。每一个字节占8位。</p><p>你电脑系统应该是32位系统(工具)，这样每个int就是 4个字节</p><p>其中一个字节由8个二进制位组成</p><p><strong>回答3：</strong></p><p>int常见为4个字节，跟操作系统有关系。</p><p>turbo c（以及Turbo c的一些衍生编译器，他们用的一套编译程序）是dos时代的编译器，</p><p>是上世纪80年代的产物，严重过时，属于老掉牙的产品，</p><p>他们编译出来的程序是16位操作系统dos下的程序，所以长度为16位，即两个字节。</p><p>windows为了兼容dos，所以turbo c生成的文件也可以在windows中运行。</p><p>其他一般就都是4个字节了。</p><p>操作系统16位的时候，int 2字节，操作系统32位的时候，int 4字节，由于32位系统之前占主流地位，实际现在就算是64位系统，出于兼容性考虑，int也是4字节的</p><hr><!-- rebuild by neat -->"},{"title":"Java获取股票信息 - java获取股票信息接口","keywords":["Java获取股票信息"],"date":"2017-04-27T11:38:00.000Z","_content":"用下面的接口获取股票的数据\n\nsh:代表上海市场\n\nsz:代表深圳市场\n\n后面是加上股票代码，这是因为上海和深圳的股票代码有重复的\n```\nhttp://hq.sinajs.cn/list=sh600877\n```\n返回的信息\n```\nvar hq_str_sh600877=\"中国嘉陵,6.340,6.400,6.360,6.470,6.210,6.340,6.350,15012913,95227966.000,56500,6.340,12100,6.330,16100,6.320,17500,6.310,47400,6.300,13600,6.350,11300,6.360,32400,6.370,39100,6.380,41200,6.390,2017-04-27,15:00:00,00\";\n```\n有效信息为引号里面的数据\n\n下面的数字代表分割数组后所在的下标\n\n下面是数据字段对应的含义\n\n源代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/01eeafbc5370404856143b2f116bd7fe00f5d8a8/src/main/java/com/hisen/String/stock/GetStockInformation.java\">GetStockInformation.java</a>\n\n表格如下：\n<!--more-->\n\n| 位置 | 含义 | 测试数据 |\n|:-----|:-----|:-----|\n| 0 | 股票名字 | 中国嘉陵 |\n| 1 | 今日开盘价 | 6.340 |\n| 2 | 昨日收盘价 | 6.400 |\n| 3 | 当前价格 | 6.360 |\n| 4 | 今日最高价 | 6.470 |\n| 5 | 今日最低价 | 6.210 |\n| 6 | 买一报价 | 6.340 |\n| 7 | 卖一报价 | 6.350 |\n| 8 | 成交数量(百股) | 15012913 |\n| 9 | 成交金额(元) | 95227966.000 |\n| 10 | 买一数量(股) | 56500 |\n| 11 | 买一报价 | 6.340 |\n| 12 | 买二数量(股) | 12100 |\n| 13 | 买二报价 | 6.330 |\n| 14 | 买三数量(股) | 16100 |\n| 15 | 买三报价 | 6.320 |\n| 16 | 买四数量(股) | 17500 |\n| 17 | 买四报价 | 6.310 |\n| 18 | 买五数量(股) | 47400 |\n| 19 | 买五报价 | 6.300 |\n| 20 | 卖一数量(股) | 13600 |\n| 21 | 卖一报价 | 6.350 |\n| 22 | 卖二数量(股) | 11300 |\n| 23 | 卖二报价 | 6.360 |\n| 24 | 卖三数量(股) | 32400 |\n| 25 | 卖三报价 | 6.370 |\n| 26 | 卖四数量(股) | 39100 |\n| 27 | 卖四报价 | 6.380 |\n| 28 | 卖五数量(股) | 41200 |\n| 29 | 卖五报价 | 6.390 |\n| 30 | 当前日期 | 2017-04-27 |\n| 31 | 当前时间 | 15:00:00 |\n| 32 | 未知 | 00 |","source":"_posts/Java获取股票信息 - java获取股票信息接口.md","raw":"---\ntitle: Java获取股票信息 - java获取股票信息接口\nkeywords: [Java获取股票信息]\ndate: 2017/4/27 19:38\ntags: [java]\ncategories: java\n---\n用下面的接口获取股票的数据\n\nsh:代表上海市场\n\nsz:代表深圳市场\n\n后面是加上股票代码，这是因为上海和深圳的股票代码有重复的\n```\nhttp://hq.sinajs.cn/list=sh600877\n```\n返回的信息\n```\nvar hq_str_sh600877=\"中国嘉陵,6.340,6.400,6.360,6.470,6.210,6.340,6.350,15012913,95227966.000,56500,6.340,12100,6.330,16100,6.320,17500,6.310,47400,6.300,13600,6.350,11300,6.360,32400,6.370,39100,6.380,41200,6.390,2017-04-27,15:00:00,00\";\n```\n有效信息为引号里面的数据\n\n下面的数字代表分割数组后所在的下标\n\n下面是数据字段对应的含义\n\n源代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/01eeafbc5370404856143b2f116bd7fe00f5d8a8/src/main/java/com/hisen/String/stock/GetStockInformation.java\">GetStockInformation.java</a>\n\n表格如下：\n<!--more-->\n\n| 位置 | 含义 | 测试数据 |\n|:-----|:-----|:-----|\n| 0 | 股票名字 | 中国嘉陵 |\n| 1 | 今日开盘价 | 6.340 |\n| 2 | 昨日收盘价 | 6.400 |\n| 3 | 当前价格 | 6.360 |\n| 4 | 今日最高价 | 6.470 |\n| 5 | 今日最低价 | 6.210 |\n| 6 | 买一报价 | 6.340 |\n| 7 | 卖一报价 | 6.350 |\n| 8 | 成交数量(百股) | 15012913 |\n| 9 | 成交金额(元) | 95227966.000 |\n| 10 | 买一数量(股) | 56500 |\n| 11 | 买一报价 | 6.340 |\n| 12 | 买二数量(股) | 12100 |\n| 13 | 买二报价 | 6.330 |\n| 14 | 买三数量(股) | 16100 |\n| 15 | 买三报价 | 6.320 |\n| 16 | 买四数量(股) | 17500 |\n| 17 | 买四报价 | 6.310 |\n| 18 | 买五数量(股) | 47400 |\n| 19 | 买五报价 | 6.300 |\n| 20 | 卖一数量(股) | 13600 |\n| 21 | 卖一报价 | 6.350 |\n| 22 | 卖二数量(股) | 11300 |\n| 23 | 卖二报价 | 6.360 |\n| 24 | 卖三数量(股) | 32400 |\n| 25 | 卖三报价 | 6.370 |\n| 26 | 卖四数量(股) | 39100 |\n| 27 | 卖四报价 | 6.380 |\n| 28 | 卖五数量(股) | 41200 |\n| 29 | 卖五报价 | 6.390 |\n| 30 | 当前日期 | 2017-04-27 |\n| 31 | 当前时间 | 15:00:00 |\n| 32 | 未知 | 00 |","slug":"Java获取股票信息 - java获取股票信息接口","published":1,"updated":"2017-04-28T01:11:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqw0031olej04j5k4by","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>用下面的接口获取股票的数据</p><p>sh:代表上海市场</p><p>sz:代表深圳市场</p><p>后面是加上股票代码，这是因为上海和深圳的股票代码有重复的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://hq.sinajs.cn/list=sh600877</span><br></pre></td></tr></table></figure><p></p><p>返回的信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var hq_str_sh600877=&quot;中国嘉陵,6.340,6.400,6.360,6.470,6.210,6.340,6.350,15012913,95227966.000,56500,6.340,12100,6.330,16100,6.320,17500,6.310,47400,6.300,13600,6.350,11300,6.360,32400,6.370,39100,6.380,41200,6.390,2017-04-27,15:00:00,00&quot;;</span><br></pre></td></tr></table></figure><p></p><p>有效信息为引号里面的数据</p><p>下面的数字代表分割数组后所在的下标</p><p>下面是数据字段对应的含义</p><p>源代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/01eeafbc5370404856143b2f116bd7fe00f5d8a8/src/main/java/com/hisen/String/stock/GetStockInformation.java\" target=\"_blank\" rel=\"noopener\">GetStockInformation.java</a></p><p>表格如下：<br><a id=\"more\"></a></p><table><thead><tr><th style=\"text-align:left\">位置</th><th style=\"text-align:left\">含义</th><th style=\"text-align:left\">测试数据</th></tr></thead><tbody><tr><td style=\"text-align:left\">0</td><td style=\"text-align:left\">股票名字</td><td style=\"text-align:left\">中国嘉陵</td></tr><tr><td style=\"text-align:left\">1</td><td style=\"text-align:left\">今日开盘价</td><td style=\"text-align:left\">6.340</td></tr><tr><td style=\"text-align:left\">2</td><td style=\"text-align:left\">昨日收盘价</td><td style=\"text-align:left\">6.400</td></tr><tr><td style=\"text-align:left\">3</td><td style=\"text-align:left\">当前价格</td><td style=\"text-align:left\">6.360</td></tr><tr><td style=\"text-align:left\">4</td><td style=\"text-align:left\">今日最高价</td><td style=\"text-align:left\">6.470</td></tr><tr><td style=\"text-align:left\">5</td><td style=\"text-align:left\">今日最低价</td><td style=\"text-align:left\">6.210</td></tr><tr><td style=\"text-align:left\">6</td><td style=\"text-align:left\">买一报价</td><td style=\"text-align:left\">6.340</td></tr><tr><td style=\"text-align:left\">7</td><td style=\"text-align:left\">卖一报价</td><td style=\"text-align:left\">6.350</td></tr><tr><td style=\"text-align:left\">8</td><td style=\"text-align:left\">成交数量(百股)</td><td style=\"text-align:left\">15012913</td></tr><tr><td style=\"text-align:left\">9</td><td style=\"text-align:left\">成交金额(元)</td><td style=\"text-align:left\">95227966.000</td></tr><tr><td style=\"text-align:left\">10</td><td style=\"text-align:left\">买一数量(股)</td><td style=\"text-align:left\">56500</td></tr><tr><td style=\"text-align:left\">11</td><td style=\"text-align:left\">买一报价</td><td style=\"text-align:left\">6.340</td></tr><tr><td style=\"text-align:left\">12</td><td style=\"text-align:left\">买二数量(股)</td><td style=\"text-align:left\">12100</td></tr><tr><td style=\"text-align:left\">13</td><td style=\"text-align:left\">买二报价</td><td style=\"text-align:left\">6.330</td></tr><tr><td style=\"text-align:left\">14</td><td style=\"text-align:left\">买三数量(股)</td><td style=\"text-align:left\">16100</td></tr><tr><td style=\"text-align:left\">15</td><td style=\"text-align:left\">买三报价</td><td style=\"text-align:left\">6.320</td></tr><tr><td style=\"text-align:left\">16</td><td style=\"text-align:left\">买四数量(股)</td><td style=\"text-align:left\">17500</td></tr><tr><td style=\"text-align:left\">17</td><td style=\"text-align:left\">买四报价</td><td style=\"text-align:left\">6.310</td></tr><tr><td style=\"text-align:left\">18</td><td style=\"text-align:left\">买五数量(股)</td><td style=\"text-align:left\">47400</td></tr><tr><td style=\"text-align:left\">19</td><td style=\"text-align:left\">买五报价</td><td style=\"text-align:left\">6.300</td></tr><tr><td style=\"text-align:left\">20</td><td style=\"text-align:left\">卖一数量(股)</td><td style=\"text-align:left\">13600</td></tr><tr><td style=\"text-align:left\">21</td><td style=\"text-align:left\">卖一报价</td><td style=\"text-align:left\">6.350</td></tr><tr><td style=\"text-align:left\">22</td><td style=\"text-align:left\">卖二数量(股)</td><td style=\"text-align:left\">11300</td></tr><tr><td style=\"text-align:left\">23</td><td style=\"text-align:left\">卖二报价</td><td style=\"text-align:left\">6.360</td></tr><tr><td style=\"text-align:left\">24</td><td style=\"text-align:left\">卖三数量(股)</td><td style=\"text-align:left\">32400</td></tr><tr><td style=\"text-align:left\">25</td><td style=\"text-align:left\">卖三报价</td><td style=\"text-align:left\">6.370</td></tr><tr><td style=\"text-align:left\">26</td><td style=\"text-align:left\">卖四数量(股)</td><td style=\"text-align:left\">39100</td></tr><tr><td style=\"text-align:left\">27</td><td style=\"text-align:left\">卖四报价</td><td style=\"text-align:left\">6.380</td></tr><tr><td style=\"text-align:left\">28</td><td style=\"text-align:left\">卖五数量(股)</td><td style=\"text-align:left\">41200</td></tr><tr><td style=\"text-align:left\">29</td><td style=\"text-align:left\">卖五报价</td><td style=\"text-align:left\">6.390</td></tr><tr><td style=\"text-align:left\">30</td><td style=\"text-align:left\">当前日期</td><td style=\"text-align:left\">2017-04-27</td></tr><tr><td style=\"text-align:left\">31</td><td style=\"text-align:left\">当前时间</td><td style=\"text-align:left\">15:00:00</td></tr><tr><td style=\"text-align:left\">32</td><td style=\"text-align:left\">未知</td><td style=\"text-align:left\">00</td></tr></tbody></table><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>用下面的接口获取股票的数据</p><p>sh:代表上海市场</p><p>sz:代表深圳市场</p><p>后面是加上股票代码，这是因为上海和深圳的股票代码有重复的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://hq.sinajs.cn/list=sh600877</span><br></pre></td></tr></table></figure><p></p><p>返回的信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var hq_str_sh600877=&quot;中国嘉陵,6.340,6.400,6.360,6.470,6.210,6.340,6.350,15012913,95227966.000,56500,6.340,12100,6.330,16100,6.320,17500,6.310,47400,6.300,13600,6.350,11300,6.360,32400,6.370,39100,6.380,41200,6.390,2017-04-27,15:00:00,00&quot;;</span><br></pre></td></tr></table></figure><p></p><p>有效信息为引号里面的数据</p><p>下面的数字代表分割数组后所在的下标</p><p>下面是数据字段对应的含义</p><p>源代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/01eeafbc5370404856143b2f116bd7fe00f5d8a8/src/main/java/com/hisen/String/stock/GetStockInformation.java\" target=\"_blank\" rel=\"noopener\">GetStockInformation.java</a></p><p>表格如下：<br>","more":"</p><table><thead><tr><th style=\"text-align:left\">位置</th><th style=\"text-align:left\">含义</th><th style=\"text-align:left\">测试数据</th></tr></thead><tbody><tr><td style=\"text-align:left\">0</td><td style=\"text-align:left\">股票名字</td><td style=\"text-align:left\">中国嘉陵</td></tr><tr><td style=\"text-align:left\">1</td><td style=\"text-align:left\">今日开盘价</td><td style=\"text-align:left\">6.340</td></tr><tr><td style=\"text-align:left\">2</td><td style=\"text-align:left\">昨日收盘价</td><td style=\"text-align:left\">6.400</td></tr><tr><td style=\"text-align:left\">3</td><td style=\"text-align:left\">当前价格</td><td style=\"text-align:left\">6.360</td></tr><tr><td style=\"text-align:left\">4</td><td style=\"text-align:left\">今日最高价</td><td style=\"text-align:left\">6.470</td></tr><tr><td style=\"text-align:left\">5</td><td style=\"text-align:left\">今日最低价</td><td style=\"text-align:left\">6.210</td></tr><tr><td style=\"text-align:left\">6</td><td style=\"text-align:left\">买一报价</td><td style=\"text-align:left\">6.340</td></tr><tr><td style=\"text-align:left\">7</td><td style=\"text-align:left\">卖一报价</td><td style=\"text-align:left\">6.350</td></tr><tr><td style=\"text-align:left\">8</td><td style=\"text-align:left\">成交数量(百股)</td><td style=\"text-align:left\">15012913</td></tr><tr><td style=\"text-align:left\">9</td><td style=\"text-align:left\">成交金额(元)</td><td style=\"text-align:left\">95227966.000</td></tr><tr><td style=\"text-align:left\">10</td><td style=\"text-align:left\">买一数量(股)</td><td style=\"text-align:left\">56500</td></tr><tr><td style=\"text-align:left\">11</td><td style=\"text-align:left\">买一报价</td><td style=\"text-align:left\">6.340</td></tr><tr><td style=\"text-align:left\">12</td><td style=\"text-align:left\">买二数量(股)</td><td style=\"text-align:left\">12100</td></tr><tr><td style=\"text-align:left\">13</td><td style=\"text-align:left\">买二报价</td><td style=\"text-align:left\">6.330</td></tr><tr><td style=\"text-align:left\">14</td><td style=\"text-align:left\">买三数量(股)</td><td style=\"text-align:left\">16100</td></tr><tr><td style=\"text-align:left\">15</td><td style=\"text-align:left\">买三报价</td><td style=\"text-align:left\">6.320</td></tr><tr><td style=\"text-align:left\">16</td><td style=\"text-align:left\">买四数量(股)</td><td style=\"text-align:left\">17500</td></tr><tr><td style=\"text-align:left\">17</td><td style=\"text-align:left\">买四报价</td><td style=\"text-align:left\">6.310</td></tr><tr><td style=\"text-align:left\">18</td><td style=\"text-align:left\">买五数量(股)</td><td style=\"text-align:left\">47400</td></tr><tr><td style=\"text-align:left\">19</td><td style=\"text-align:left\">买五报价</td><td style=\"text-align:left\">6.300</td></tr><tr><td style=\"text-align:left\">20</td><td style=\"text-align:left\">卖一数量(股)</td><td style=\"text-align:left\">13600</td></tr><tr><td style=\"text-align:left\">21</td><td style=\"text-align:left\">卖一报价</td><td style=\"text-align:left\">6.350</td></tr><tr><td style=\"text-align:left\">22</td><td style=\"text-align:left\">卖二数量(股)</td><td style=\"text-align:left\">11300</td></tr><tr><td style=\"text-align:left\">23</td><td style=\"text-align:left\">卖二报价</td><td style=\"text-align:left\">6.360</td></tr><tr><td style=\"text-align:left\">24</td><td style=\"text-align:left\">卖三数量(股)</td><td style=\"text-align:left\">32400</td></tr><tr><td style=\"text-align:left\">25</td><td style=\"text-align:left\">卖三报价</td><td style=\"text-align:left\">6.370</td></tr><tr><td style=\"text-align:left\">26</td><td style=\"text-align:left\">卖四数量(股)</td><td style=\"text-align:left\">39100</td></tr><tr><td style=\"text-align:left\">27</td><td style=\"text-align:left\">卖四报价</td><td style=\"text-align:left\">6.380</td></tr><tr><td style=\"text-align:left\">28</td><td style=\"text-align:left\">卖五数量(股)</td><td style=\"text-align:left\">41200</td></tr><tr><td style=\"text-align:left\">29</td><td style=\"text-align:left\">卖五报价</td><td style=\"text-align:left\">6.390</td></tr><tr><td style=\"text-align:left\">30</td><td style=\"text-align:left\">当前日期</td><td style=\"text-align:left\">2017-04-27</td></tr><tr><td style=\"text-align:left\">31</td><td style=\"text-align:left\">当前时间</td><td style=\"text-align:left\">15:00:00</td></tr><tr><td style=\"text-align:left\">32</td><td style=\"text-align:left\">未知</td><td style=\"text-align:left\">00</td></tr></tbody></table><!-- rebuild by neat -->"},{"title":"Java调用有道翻译接口 - 免费翻译API","date":"2018-07-12T15:32:22.000Z","_content":"\n这个接口为免费的\n\n### 一、接口地址\n等号后面的为需要翻译的英文\n```\nhttp://fanyi.youdao.com/openapi.do?keyfrom=xinlei&key=759115437&type=data&doctype=json&version=1.1&q=hisen\n```\n\n### 二、代码样例\n把全世界200+国家和地区的名字翻译为英文，并且入库\n```\n  @Autowired\n  SmsCountryService countryService;\n\n  @Test\n  public void updateZhName(){\n    // 有道翻译接口\n    String url = \"http://fanyi.youdao.com/openapi.do?keyfrom=xinlei&key=759115437&type=data&doctype=json&version=1.1&q=\";\n    // 查询出所有的英文国家名字\n    List<SmsCountry> countries = countryService.queryAllName();\n    // httpclient\n    CloseableHttpClient client = HttpClientBuilder.create().build();\n    // 翻译每个国家的名字，并且更新数据库\n    for (SmsCountry country:countries) {\n      HttpGet request = new HttpGet(url + URLEncoder.encode(country.getName()));\n      try {\n        CloseableHttpResponse response = client.execute(request);\n        String str = EntityUtils.toString(response.getEntity(), \"utf-8\");\n        JSONObject jsonObject = JSON.parseObject(str);\n        // 取出json字符串中数组的值\n        String s = (String) jsonObject.getJSONArray(\"translation\").get(0);\n        System.out.println(\">>>>> \" + s);\n        if (!StringUtil.isEmpty(s)){\n        SmsCountry smsCountry = new SmsCountry();\n        smsCountry.setId(country.getId());\n        smsCountry.setNameZh(s);\n        countryService.updateNameById(smsCountry);\n        }\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n```\n","source":"_posts/Java调用有道翻译接口-免费翻译API.md","raw":"---\ntitle: Java调用有道翻译接口 - 免费翻译API\ndate: 2018-07-12 23:32:22\ntags: java\n---\n\n这个接口为免费的\n\n### 一、接口地址\n等号后面的为需要翻译的英文\n```\nhttp://fanyi.youdao.com/openapi.do?keyfrom=xinlei&key=759115437&type=data&doctype=json&version=1.1&q=hisen\n```\n\n### 二、代码样例\n把全世界200+国家和地区的名字翻译为英文，并且入库\n```\n  @Autowired\n  SmsCountryService countryService;\n\n  @Test\n  public void updateZhName(){\n    // 有道翻译接口\n    String url = \"http://fanyi.youdao.com/openapi.do?keyfrom=xinlei&key=759115437&type=data&doctype=json&version=1.1&q=\";\n    // 查询出所有的英文国家名字\n    List<SmsCountry> countries = countryService.queryAllName();\n    // httpclient\n    CloseableHttpClient client = HttpClientBuilder.create().build();\n    // 翻译每个国家的名字，并且更新数据库\n    for (SmsCountry country:countries) {\n      HttpGet request = new HttpGet(url + URLEncoder.encode(country.getName()));\n      try {\n        CloseableHttpResponse response = client.execute(request);\n        String str = EntityUtils.toString(response.getEntity(), \"utf-8\");\n        JSONObject jsonObject = JSON.parseObject(str);\n        // 取出json字符串中数组的值\n        String s = (String) jsonObject.getJSONArray(\"translation\").get(0);\n        System.out.println(\">>>>> \" + s);\n        if (!StringUtil.isEmpty(s)){\n        SmsCountry smsCountry = new SmsCountry();\n        smsCountry.setId(country.getId());\n        smsCountry.setNameZh(s);\n        countryService.updateNameById(smsCountry);\n        }\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n```\n","slug":"Java调用有道翻译接口-免费翻译API","published":1,"updated":"2018-07-12T15:37:06.054Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqy0035olej1gis1sam","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这个接口为免费的</p><h3 id=\"一、接口地址\"><a href=\"#一、接口地址\" class=\"headerlink\" title=\"一、接口地址\"></a>一、接口地址</h3><p>等号后面的为需要翻译的英文<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://fanyi.youdao.com/openapi.do?keyfrom=xinlei&amp;key=759115437&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=hisen</span><br></pre></td></tr></table></figure><p></p><h3 id=\"二、代码样例\"><a href=\"#二、代码样例\" class=\"headerlink\" title=\"二、代码样例\"></a>二、代码样例</h3><p>把全世界200+国家和地区的名字翻译为英文，并且入库<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Autowired</span><br><span class=\"line\">SmsCountryService countryService;</span><br><span class=\"line\"></span><br><span class=\"line\">@Test</span><br><span class=\"line\">public void updateZhName()&#123;</span><br><span class=\"line\">  // 有道翻译接口</span><br><span class=\"line\">  String url = &quot;http://fanyi.youdao.com/openapi.do?keyfrom=xinlei&amp;key=759115437&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=&quot;;</span><br><span class=\"line\">  // 查询出所有的英文国家名字</span><br><span class=\"line\">  List&lt;SmsCountry&gt; countries = countryService.queryAllName();</span><br><span class=\"line\">  // httpclient</span><br><span class=\"line\">  CloseableHttpClient client = HttpClientBuilder.create().build();</span><br><span class=\"line\">  // 翻译每个国家的名字，并且更新数据库</span><br><span class=\"line\">  for (SmsCountry country:countries) &#123;</span><br><span class=\"line\">    HttpGet request = new HttpGet(url + URLEncoder.encode(country.getName()));</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      CloseableHttpResponse response = client.execute(request);</span><br><span class=\"line\">      String str = EntityUtils.toString(response.getEntity(), &quot;utf-8&quot;);</span><br><span class=\"line\">      JSONObject jsonObject = JSON.parseObject(str);</span><br><span class=\"line\">      // 取出json字符串中数组的值</span><br><span class=\"line\">      String s = (String) jsonObject.getJSONArray(&quot;translation&quot;).get(0);</span><br><span class=\"line\">      System.out.println(&quot;&gt;&gt;&gt;&gt;&gt; &quot; + s);</span><br><span class=\"line\">      if (!StringUtil.isEmpty(s))&#123;</span><br><span class=\"line\">      SmsCountry smsCountry = new SmsCountry();</span><br><span class=\"line\">      smsCountry.setId(country.getId());</span><br><span class=\"line\">      smsCountry.setNameZh(s);</span><br><span class=\"line\">      countryService.updateNameById(smsCountry);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这个接口为免费的</p><h3 id=\"一、接口地址\"><a href=\"#一、接口地址\" class=\"headerlink\" title=\"一、接口地址\"></a>一、接口地址</h3><p>等号后面的为需要翻译的英文<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://fanyi.youdao.com/openapi.do?keyfrom=xinlei&amp;key=759115437&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=hisen</span><br></pre></td></tr></table></figure><p></p><h3 id=\"二、代码样例\"><a href=\"#二、代码样例\" class=\"headerlink\" title=\"二、代码样例\"></a>二、代码样例</h3><p>把全世界200+国家和地区的名字翻译为英文，并且入库<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Autowired</span><br><span class=\"line\">SmsCountryService countryService;</span><br><span class=\"line\"></span><br><span class=\"line\">@Test</span><br><span class=\"line\">public void updateZhName()&#123;</span><br><span class=\"line\">  // 有道翻译接口</span><br><span class=\"line\">  String url = &quot;http://fanyi.youdao.com/openapi.do?keyfrom=xinlei&amp;key=759115437&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=&quot;;</span><br><span class=\"line\">  // 查询出所有的英文国家名字</span><br><span class=\"line\">  List&lt;SmsCountry&gt; countries = countryService.queryAllName();</span><br><span class=\"line\">  // httpclient</span><br><span class=\"line\">  CloseableHttpClient client = HttpClientBuilder.create().build();</span><br><span class=\"line\">  // 翻译每个国家的名字，并且更新数据库</span><br><span class=\"line\">  for (SmsCountry country:countries) &#123;</span><br><span class=\"line\">    HttpGet request = new HttpGet(url + URLEncoder.encode(country.getName()));</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      CloseableHttpResponse response = client.execute(request);</span><br><span class=\"line\">      String str = EntityUtils.toString(response.getEntity(), &quot;utf-8&quot;);</span><br><span class=\"line\">      JSONObject jsonObject = JSON.parseObject(str);</span><br><span class=\"line\">      // 取出json字符串中数组的值</span><br><span class=\"line\">      String s = (String) jsonObject.getJSONArray(&quot;translation&quot;).get(0);</span><br><span class=\"line\">      System.out.println(&quot;&gt;&gt;&gt;&gt;&gt; &quot; + s);</span><br><span class=\"line\">      if (!StringUtil.isEmpty(s))&#123;</span><br><span class=\"line\">      SmsCountry smsCountry = new SmsCountry();</span><br><span class=\"line\">      smsCountry.setId(country.getId());</span><br><span class=\"line\">      smsCountry.setNameZh(s);</span><br><span class=\"line\">      countryService.updateNameById(smsCountry);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java静态代码块","date":"2017-02-11T02:14:26.000Z","_content":"有时候重新回味一下以前的知识也很美妙\n\n总能发现以前自己没有怎么在意的细节\n\n---\n\n静态代码块是在类中独立于类成员的static语句块，可以有多个。\n\n如果要初始化静态变量，可以声明一个静态块。\n\n格式如下：\n```\nstatic {\n\t//块执行代码\n}\n```\n\n静态块存在单独的内存中，仅在该类被加载时执行，示例如下：\n```\npackage com.hisen.javaGaiShu.page91test20;\n\npublic class JingTaiDaiMaKuai {\n\tprivate static String a;\n\tprivate String b;\n\tstatic {\n\t\tJingTaiDaiMaKuai.a = \"我学习了很多语言\";\n\t\tSystem.out.println(a);\n\t\tJingTaiDaiMaKuai t = new JingTaiDaiMaKuai();\n\t\tt.fina();\n\t\tt.b=\"Java语言\";\n\t\tSystem.out.println(t.b);\n\t}\n\n\tstatic {\n\t\tJingTaiDaiMaKuai.a = \"I Love Java\";\n\t\tSystem.out.println(a);\n\t}\n\n\tpublic static void main(String[] args) {\n\n\t}\n\n\tstatic {\n\t\tJingTaiDaiMaKuai.a = \"我还将继续学习下去\";\n\t\tSystem.out.println(a);\n\t}\n\n\tprivate void fina() {\n\t\tSystem.out.println(\"但是我最喜欢的是：\");\n\t}\n}\n```\n\n---\n\n输出如下：\n<!--more-->\n```\n我学习了很多语言\n但是我最喜欢的是：\nJava语言\nI Love Java\n我还将继续学习下去\n```\n\n静态代码块在运行main方法时可以直接调用而不用创建实例。\n\n静态代码块直接是按顺序执行的。","source":"_posts/Java静态代码块.md","raw":"---\ntitle: Java静态代码块\ntags: [java,练习]\ndate: 2017-02-11 10:14:26\ncategories: java\n---\n有时候重新回味一下以前的知识也很美妙\n\n总能发现以前自己没有怎么在意的细节\n\n---\n\n静态代码块是在类中独立于类成员的static语句块，可以有多个。\n\n如果要初始化静态变量，可以声明一个静态块。\n\n格式如下：\n```\nstatic {\n\t//块执行代码\n}\n```\n\n静态块存在单独的内存中，仅在该类被加载时执行，示例如下：\n```\npackage com.hisen.javaGaiShu.page91test20;\n\npublic class JingTaiDaiMaKuai {\n\tprivate static String a;\n\tprivate String b;\n\tstatic {\n\t\tJingTaiDaiMaKuai.a = \"我学习了很多语言\";\n\t\tSystem.out.println(a);\n\t\tJingTaiDaiMaKuai t = new JingTaiDaiMaKuai();\n\t\tt.fina();\n\t\tt.b=\"Java语言\";\n\t\tSystem.out.println(t.b);\n\t}\n\n\tstatic {\n\t\tJingTaiDaiMaKuai.a = \"I Love Java\";\n\t\tSystem.out.println(a);\n\t}\n\n\tpublic static void main(String[] args) {\n\n\t}\n\n\tstatic {\n\t\tJingTaiDaiMaKuai.a = \"我还将继续学习下去\";\n\t\tSystem.out.println(a);\n\t}\n\n\tprivate void fina() {\n\t\tSystem.out.println(\"但是我最喜欢的是：\");\n\t}\n}\n```\n\n---\n\n输出如下：\n<!--more-->\n```\n我学习了很多语言\n但是我最喜欢的是：\nJava语言\nI Love Java\n我还将继续学习下去\n```\n\n静态代码块在运行main方法时可以直接调用而不用创建实例。\n\n静态代码块直接是按顺序执行的。","slug":"Java静态代码块","published":1,"updated":"2017-02-17T08:23:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdqz0038olejp6uk14u6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候重新回味一下以前的知识也很美妙</p><p>总能发现以前自己没有怎么在意的细节</p><hr><p>静态代码块是在类中独立于类成员的static语句块，可以有多个。</p><p>如果要初始化静态变量，可以声明一个静态块。</p><p>格式如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">static &#123;</span><br><span class=\"line\">\t//块执行代码</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>静态块存在单独的内存中，仅在该类被加载时执行，示例如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.javaGaiShu.page91test20;</span><br><span class=\"line\"></span><br><span class=\"line\">public class JingTaiDaiMaKuai &#123;</span><br><span class=\"line\">\tprivate static String a;</span><br><span class=\"line\">\tprivate String b;</span><br><span class=\"line\">\tstatic &#123;</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai.a = &quot;我学习了很多语言&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(a);</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai t = new JingTaiDaiMaKuai();</span><br><span class=\"line\">\t\tt.fina();</span><br><span class=\"line\">\t\tt.b=&quot;Java语言&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(t.b);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tstatic &#123;</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai.a = &quot;I Love Java&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tstatic &#123;</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai.a = &quot;我还将继续学习下去&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tprivate void fina() &#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;但是我最喜欢的是：&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><hr><p>输出如下：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我学习了很多语言</span><br><span class=\"line\">但是我最喜欢的是：</span><br><span class=\"line\">Java语言</span><br><span class=\"line\">I Love Java</span><br><span class=\"line\">我还将继续学习下去</span><br></pre></td></tr></table></figure><p></p><p>静态代码块在运行main方法时可以直接调用而不用创建实例。</p><p>静态代码块直接是按顺序执行的。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候重新回味一下以前的知识也很美妙</p><p>总能发现以前自己没有怎么在意的细节</p><hr><p>静态代码块是在类中独立于类成员的static语句块，可以有多个。</p><p>如果要初始化静态变量，可以声明一个静态块。</p><p>格式如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">static &#123;</span><br><span class=\"line\">\t//块执行代码</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>静态块存在单独的内存中，仅在该类被加载时执行，示例如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.javaGaiShu.page91test20;</span><br><span class=\"line\"></span><br><span class=\"line\">public class JingTaiDaiMaKuai &#123;</span><br><span class=\"line\">\tprivate static String a;</span><br><span class=\"line\">\tprivate String b;</span><br><span class=\"line\">\tstatic &#123;</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai.a = &quot;我学习了很多语言&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(a);</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai t = new JingTaiDaiMaKuai();</span><br><span class=\"line\">\t\tt.fina();</span><br><span class=\"line\">\t\tt.b=&quot;Java语言&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(t.b);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tstatic &#123;</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai.a = &quot;I Love Java&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tstatic &#123;</span><br><span class=\"line\">\t\tJingTaiDaiMaKuai.a = &quot;我还将继续学习下去&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tprivate void fina() &#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;但是我最喜欢的是：&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><hr><p>输出如下：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我学习了很多语言</span><br><span class=\"line\">但是我最喜欢的是：</span><br><span class=\"line\">Java语言</span><br><span class=\"line\">I Love Java</span><br><span class=\"line\">我还将继续学习下去</span><br></pre></td></tr></table></figure><p></p><p>静态代码块在运行main方法时可以直接调用而不用创建实例。</p><p>静态代码块直接是按顺序执行的。</p><!-- rebuild by neat -->"},{"title":"Jedis - Software caused connection abort:recv failed","keywords":["Jedis - Software caused connection abort:recv failed","recv failed"],"date":"2017-04-11T05:23:00.000Z","_content":"在使用jedis的时候出现这个问题：\n\n**redis.clients.jedis.exceptions.JedisConnectionException:java.net.SocketException:Software caused connection abort: recv failed**\n\n我是windows上java运行，然后redis是在虚拟机的，通过映射访问\n\n解决办法：\n---\n\n编辑redis配置文件：\n```\nsudo vi /etc/redis/redis.conf\n```\n找到\n```\nbind 127.0.0.1\n```\n改成\n```\nbind 0.0.0.0\n```\n改完之后重启redis\n```\nservice redis restart\n```\n即可。这跟mysql一样，允许任何ip连接！","source":"_posts/Jedis - Software caused connection abort recv failed.md","raw":"---\ntitle: Jedis - Software caused connection abort:recv failed\nkeywords: [Jedis - Software caused connection abort:recv failed,recv failed]\ndate: 2017/4/11 13:23\ntags: [jedis,redis]\ncategories: java\n---\n在使用jedis的时候出现这个问题：\n\n**redis.clients.jedis.exceptions.JedisConnectionException:java.net.SocketException:Software caused connection abort: recv failed**\n\n我是windows上java运行，然后redis是在虚拟机的，通过映射访问\n\n解决办法：\n---\n\n编辑redis配置文件：\n```\nsudo vi /etc/redis/redis.conf\n```\n找到\n```\nbind 127.0.0.1\n```\n改成\n```\nbind 0.0.0.0\n```\n改完之后重启redis\n```\nservice redis restart\n```\n即可。这跟mysql一样，允许任何ip连接！","slug":"Jedis - Software caused connection abort recv failed","published":1,"updated":"2017-04-11T05:31:54.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdr1003colejxqehbroa","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在使用jedis的时候出现这个问题：</p><p><strong>redis.clients.jedis.exceptions.JedisConnectionException:java.net.SocketException:Software caused connection abort: recv failed</strong></p><p>我是windows上java运行，然后redis是在虚拟机的，通过映射访问</p><h2 id=\"解决办法：\"><a href=\"#解决办法：\" class=\"headerlink\" title=\"解决办法：\"></a>解决办法：</h2><p>编辑redis配置文件：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/redis/redis.conf</span><br></pre></td></tr></table></figure><p></p><p>找到<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bind 127.0.0.1</span><br></pre></td></tr></table></figure><p></p><p>改成<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bind 0.0.0.0</span><br></pre></td></tr></table></figure><p></p><p>改完之后重启redis<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service redis restart</span><br></pre></td></tr></table></figure><p></p><p>即可。这跟mysql一样，允许任何ip连接！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在使用jedis的时候出现这个问题：</p><p><strong>redis.clients.jedis.exceptions.JedisConnectionException:java.net.SocketException:Software caused connection abort: recv failed</strong></p><p>我是windows上java运行，然后redis是在虚拟机的，通过映射访问</p><h2 id=\"解决办法：\"><a href=\"#解决办法：\" class=\"headerlink\" title=\"解决办法：\"></a>解决办法：</h2><p>编辑redis配置文件：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/redis/redis.conf</span><br></pre></td></tr></table></figure><p></p><p>找到<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bind 127.0.0.1</span><br></pre></td></tr></table></figure><p></p><p>改成<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bind 0.0.0.0</span><br></pre></td></tr></table></figure><p></p><p>改完之后重启redis<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service redis restart</span><br></pre></td></tr></table></figure><p></p><p>即可。这跟mysql一样，允许任何ip连接！</p><!-- rebuild by neat -->"},{"title":"Linux|mac查找目录下文件内容中包含某字符串的命令","date":"2018-07-11T19:34:36.000Z","_content":"\n```\ngrep -r hisen ./\n```\n上面这条命令。直接查找当前目录下所有内容中包含 hisen 的文件\n","source":"_posts/Linux-mac查找目录下文件中包含某字符串的命令.md","raw":"---\ntitle: Linux|mac查找目录下文件内容中包含某字符串的命令\ndate: 2018-07-12 03:34:36\ntags:\n---\n\n```\ngrep -r hisen ./\n```\n上面这条命令。直接查找当前目录下所有内容中包含 hisen 的文件\n","slug":"Linux-mac查找目录下文件中包含某字符串的命令","published":1,"updated":"2018-07-11T19:36:39.822Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdr3003folejf9h5iw40","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -r hisen ./</span><br></pre></td></tr></table></figure><p>上面这条命令。直接查找当前目录下所有内容中包含 hisen 的文件</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -r hisen ./</span><br></pre></td></tr></table></figure><p>上面这条命令。直接查找当前目录下所有内容中包含 hisen 的文件</p><!-- rebuild by neat -->"},{"title":"List<Object> 去重 | List对象去重 by java8 stream & lambda","date":"2018-07-11T19:50:39.000Z","_content":"利用java8的流和lambda表达式能很方便的对list对象进行去重\n而且不会造成代码入侵\n\n插播：Java8 对List进行求和、分组、提取对象单个属性：https://www.jianshu.com/p/c71eaeaaf30c\n\n下面的例子仅供参考\ngithub：https://github.com/hisenyuan\n```\npackage com.hisen.collection.list.duplicate;\n\nimport com.alibaba.rocketmq.shade.com.alibaba.fastjson.JSON;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\n/**\n * @author hisenyuan\n * @time 2018/4/19 14:06\n * @description list对象根据属性去重 lambda + stream\n */\npublic class ListDuplicateTest {\n\n\n    public static void main(String[] args) {\n        List<Person> list = new ArrayList<>();\n        for (int i = 0; i < 100; i++) {\n            Person person = new Person();\n            person.setAge(10);\n            person.setName(\"hsien\");\n            person.setWeight(i);\n            list.add(person);\n        }\n        Person bean = new Person();\n        bean.setName(\"hisenyuan\");\n        bean.setAge(33);\n        bean.setWeight(65);\n        list.add(bean);\n\n        List<Person> collect = list.stream().filter(distinctByKey(Person::getName))\n                .collect(Collectors.toList());\n        System.out.println(JSON.toJSONString(collect));\n    }\n\n    /**\n     * 函数式接口 T -> bollean\n     * @param keyExtractor\n     * @param <T>\n     * @return\n     */\n    public static <T> Predicate<T> distinctByKey(Function<? super T, ?> keyExtractor) {\n        ConcurrentHashMap<Object, Boolean> map = new ConcurrentHashMap<>(16);\n        return t -> map.putIfAbsent(keyExtractor.apply(t),Boolean.TRUE) == null;\n\n//        这个也可以，不过感觉效率要低一些，线程不是那么安全\n//        Set<Object> seen = ConcurrentHashMap.newKeySet();\n//        return t -> seen.add(keyExtractor.apply(t));\n    }\n\n    /**\n     * 内部类\n     */\n    static class Person {\n        private int age;\n        private String name;\n        private int weight;\n\n        public int getAge() {\n            return age;\n        }\n\n        public void setAge(int age) {\n            this.age = age;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public int getWeight() {\n            return weight;\n        }\n\n        public Person() {\n        }\n        public void setWeight(int weight) {\n            this.weight = weight;\n        }\n    }\n}\n```\n","source":"_posts/List-Object-去重-List对象去重-by-java8-stream-lambda.md","raw":"---\ntitle: List<Object> 去重 | List对象去重 by java8 stream & lambda\ndate: 2018-07-12 03:50:39\ntags:\n---\n利用java8的流和lambda表达式能很方便的对list对象进行去重\n而且不会造成代码入侵\n\n插播：Java8 对List进行求和、分组、提取对象单个属性：https://www.jianshu.com/p/c71eaeaaf30c\n\n下面的例子仅供参考\ngithub：https://github.com/hisenyuan\n```\npackage com.hisen.collection.list.duplicate;\n\nimport com.alibaba.rocketmq.shade.com.alibaba.fastjson.JSON;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\n/**\n * @author hisenyuan\n * @time 2018/4/19 14:06\n * @description list对象根据属性去重 lambda + stream\n */\npublic class ListDuplicateTest {\n\n\n    public static void main(String[] args) {\n        List<Person> list = new ArrayList<>();\n        for (int i = 0; i < 100; i++) {\n            Person person = new Person();\n            person.setAge(10);\n            person.setName(\"hsien\");\n            person.setWeight(i);\n            list.add(person);\n        }\n        Person bean = new Person();\n        bean.setName(\"hisenyuan\");\n        bean.setAge(33);\n        bean.setWeight(65);\n        list.add(bean);\n\n        List<Person> collect = list.stream().filter(distinctByKey(Person::getName))\n                .collect(Collectors.toList());\n        System.out.println(JSON.toJSONString(collect));\n    }\n\n    /**\n     * 函数式接口 T -> bollean\n     * @param keyExtractor\n     * @param <T>\n     * @return\n     */\n    public static <T> Predicate<T> distinctByKey(Function<? super T, ?> keyExtractor) {\n        ConcurrentHashMap<Object, Boolean> map = new ConcurrentHashMap<>(16);\n        return t -> map.putIfAbsent(keyExtractor.apply(t),Boolean.TRUE) == null;\n\n//        这个也可以，不过感觉效率要低一些，线程不是那么安全\n//        Set<Object> seen = ConcurrentHashMap.newKeySet();\n//        return t -> seen.add(keyExtractor.apply(t));\n    }\n\n    /**\n     * 内部类\n     */\n    static class Person {\n        private int age;\n        private String name;\n        private int weight;\n\n        public int getAge() {\n            return age;\n        }\n\n        public void setAge(int age) {\n            this.age = age;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public int getWeight() {\n            return weight;\n        }\n\n        public Person() {\n        }\n        public void setWeight(int weight) {\n            this.weight = weight;\n        }\n    }\n}\n```\n","slug":"List-Object-去重-List对象去重-by-java8-stream-lambda","published":1,"updated":"2018-07-11T19:51:23.636Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdr4003jolejhfl05o1j","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>利用java8的流和lambda表达式能很方便的对list对象进行去重<br>而且不会造成代码入侵</p><p>插播：Java8 对List进行求和、分组、提取对象单个属性：<a href=\"https://www.jianshu.com/p/c71eaeaaf30c\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/c71eaeaaf30c</a></p><p>下面的例子仅供参考<br>github：<a href=\"https://github.com/hisenyuan\" target=\"_blank\" rel=\"noopener\">https://github.com/hisenyuan</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.collection.list.duplicate;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.alibaba.rocketmq.shade.com.alibaba.fastjson.JSON;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\">import java.util.concurrent.ConcurrentHashMap;</span><br><span class=\"line\">import java.util.function.Function;</span><br><span class=\"line\">import java.util.function.Predicate;</span><br><span class=\"line\">import java.util.stream.Collectors;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @time 2018/4/19 14:06</span><br><span class=\"line\"> * @description list对象根据属性去重 lambda + stream</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ListDuplicateTest &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        List&lt;Person&gt; list = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class=\"line\">            Person person = new Person();</span><br><span class=\"line\">            person.setAge(10);</span><br><span class=\"line\">            person.setName(&quot;hsien&quot;);</span><br><span class=\"line\">            person.setWeight(i);</span><br><span class=\"line\">            list.add(person);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Person bean = new Person();</span><br><span class=\"line\">        bean.setName(&quot;hisenyuan&quot;);</span><br><span class=\"line\">        bean.setAge(33);</span><br><span class=\"line\">        bean.setWeight(65);</span><br><span class=\"line\">        list.add(bean);</span><br><span class=\"line\"></span><br><span class=\"line\">        List&lt;Person&gt; collect = list.stream().filter(distinctByKey(Person::getName))</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\">        System.out.println(JSON.toJSONString(collect));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 函数式接口 T -&gt; bollean</span><br><span class=\"line\">     * @param keyExtractor</span><br><span class=\"line\">     * @param &lt;T&gt;</span><br><span class=\"line\">     * @return</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) &#123;</span><br><span class=\"line\">        ConcurrentHashMap&lt;Object, Boolean&gt; map = new ConcurrentHashMap&lt;&gt;(16);</span><br><span class=\"line\">        return t -&gt; map.putIfAbsent(keyExtractor.apply(t),Boolean.TRUE) == null;</span><br><span class=\"line\"></span><br><span class=\"line\">//        这个也可以，不过感觉效率要低一些，线程不是那么安全</span><br><span class=\"line\">//        Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();</span><br><span class=\"line\">//        return t -&gt; seen.add(keyExtractor.apply(t));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 内部类</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static class Person &#123;</span><br><span class=\"line\">        private int age;</span><br><span class=\"line\">        private String name;</span><br><span class=\"line\">        private int weight;</span><br><span class=\"line\"></span><br><span class=\"line\">        public int getAge() &#123;</span><br><span class=\"line\">            return age;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public void setAge(int age) &#123;</span><br><span class=\"line\">            this.age = age;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public String getName() &#123;</span><br><span class=\"line\">            return name;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public void setName(String name) &#123;</span><br><span class=\"line\">            this.name = name;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public int getWeight() &#123;</span><br><span class=\"line\">            return weight;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public Person() &#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        public void setWeight(int weight) &#123;</span><br><span class=\"line\">            this.weight = weight;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>利用java8的流和lambda表达式能很方便的对list对象进行去重<br>而且不会造成代码入侵</p><p>插播：Java8 对List进行求和、分组、提取对象单个属性：<a href=\"https://www.jianshu.com/p/c71eaeaaf30c\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/c71eaeaaf30c</a></p><p>下面的例子仅供参考<br>github：<a href=\"https://github.com/hisenyuan\" target=\"_blank\" rel=\"noopener\">https://github.com/hisenyuan</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.collection.list.duplicate;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.alibaba.rocketmq.shade.com.alibaba.fastjson.JSON;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\">import java.util.concurrent.ConcurrentHashMap;</span><br><span class=\"line\">import java.util.function.Function;</span><br><span class=\"line\">import java.util.function.Predicate;</span><br><span class=\"line\">import java.util.stream.Collectors;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @time 2018/4/19 14:06</span><br><span class=\"line\"> * @description list对象根据属性去重 lambda + stream</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ListDuplicateTest &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        List&lt;Person&gt; list = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class=\"line\">            Person person = new Person();</span><br><span class=\"line\">            person.setAge(10);</span><br><span class=\"line\">            person.setName(&quot;hsien&quot;);</span><br><span class=\"line\">            person.setWeight(i);</span><br><span class=\"line\">            list.add(person);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Person bean = new Person();</span><br><span class=\"line\">        bean.setName(&quot;hisenyuan&quot;);</span><br><span class=\"line\">        bean.setAge(33);</span><br><span class=\"line\">        bean.setWeight(65);</span><br><span class=\"line\">        list.add(bean);</span><br><span class=\"line\"></span><br><span class=\"line\">        List&lt;Person&gt; collect = list.stream().filter(distinctByKey(Person::getName))</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\">        System.out.println(JSON.toJSONString(collect));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 函数式接口 T -&gt; bollean</span><br><span class=\"line\">     * @param keyExtractor</span><br><span class=\"line\">     * @param &lt;T&gt;</span><br><span class=\"line\">     * @return</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) &#123;</span><br><span class=\"line\">        ConcurrentHashMap&lt;Object, Boolean&gt; map = new ConcurrentHashMap&lt;&gt;(16);</span><br><span class=\"line\">        return t -&gt; map.putIfAbsent(keyExtractor.apply(t),Boolean.TRUE) == null;</span><br><span class=\"line\"></span><br><span class=\"line\">//        这个也可以，不过感觉效率要低一些，线程不是那么安全</span><br><span class=\"line\">//        Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();</span><br><span class=\"line\">//        return t -&gt; seen.add(keyExtractor.apply(t));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 内部类</span><br><span class=\"line\">     */</span><br><span class=\"line\">    static class Person &#123;</span><br><span class=\"line\">        private int age;</span><br><span class=\"line\">        private String name;</span><br><span class=\"line\">        private int weight;</span><br><span class=\"line\"></span><br><span class=\"line\">        public int getAge() &#123;</span><br><span class=\"line\">            return age;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public void setAge(int age) &#123;</span><br><span class=\"line\">            this.age = age;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public String getName() &#123;</span><br><span class=\"line\">            return name;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public void setName(String name) &#123;</span><br><span class=\"line\">            this.name = name;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public int getWeight() &#123;</span><br><span class=\"line\">            return weight;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public Person() &#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        public void setWeight(int weight) &#123;</span><br><span class=\"line\">            this.weight = weight;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MarkdownPad2注册码 20170213","keywords":["hisen","MarkdownPad2注册码","MarkdownPad"],"date":"2017-02-13T10:05:09.000Z","_content":"\nMarkdownPad2注册码\n\n亲测有效：2017年2月13日 18:07:25\n\n---\n\n邮箱：\n```\nSoar360@live.com\n```\n授权密钥：\n<!--more-->\n```\nGBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5/sQytXJUQl/QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ==\n```","source":"_posts/MarkdownPad2注册码-20170213.md","raw":"---\ntitle: MarkdownPad2注册码 20170213\nkeywords: [hisen,MarkdownPad2注册码,MarkdownPad]\ntags: [MarkdownPad2注册码,软件,MarkdownPad]\ndate: 2017-02-13 18:05:09\ncategories: 软件\n---\n\nMarkdownPad2注册码\n\n亲测有效：2017年2月13日 18:07:25\n\n---\n\n邮箱：\n```\nSoar360@live.com\n```\n授权密钥：\n<!--more-->\n```\nGBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5/sQytXJUQl/QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ==\n```","slug":"MarkdownPad2注册码-20170213","published":1,"updated":"2017-02-13T14:08:36.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdr5003lolejj1wjxx3v","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>MarkdownPad2注册码</p><p>亲测有效：2017年2月13日 18:07:25</p><hr><p>邮箱：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Soar360@live.com</span><br></pre></td></tr></table></figure><p></p><p>授权密钥：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5/sQytXJUQl/QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ==</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>MarkdownPad2注册码</p><p>亲测有效：2017年2月13日 18:07:25</p><hr><p>邮箱：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Soar360@live.com</span><br></pre></td></tr></table></figure><p></p><p>授权密钥：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5/sQytXJUQl/QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ==</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Maven目录下*.lastupdated命令行批量删除","keywords":["maven","maven lastupdated"],"date":"2017-02-20T15:50:48.000Z","_content":"windows系统\n```\ncd %userprofile%\\.m2\\repository\nfor /r %i in (*.lastUpdated) do del %i\n```\n或者新建一个bat文件，批处理。就不用每次都在cmd敲命令了\n```\n@echo off\necho 确认删除maven仓库下*.lastUpdated文件？\npause\n::create by hisenyuan(hisenyuan@gmail.com)\n\n::这里写你的仓库路径\nset REPOSITORY_PATH=C:\\hisenwork\\soft\\maven\necho 正在搜索...\nfor /f \"delims=\" %%i in ('dir /b /s \"%REPOSITORY_PATH%\\*lastUpdated*\"') do (\n    del /s /q %%i\n)\necho 完毕\npause\n```\nlinux系统\n```\nfind /app/maven/localRepository -name \"*.lastUpdated\" -exec grep -q \"Could not transfer\" {} \\; -print -exec rm {} \\;\n```","source":"_posts/Maven目录下-lastupdated命令行批量删除.md","raw":"---\ntitle: Maven目录下*.lastupdated命令行批量删除\nkeywords: [maven,maven lastupdated]\ntags: [maven,java]\ndate: 2017-02-20 23:50:48\ncategories: java\n---\nwindows系统\n```\ncd %userprofile%\\.m2\\repository\nfor /r %i in (*.lastUpdated) do del %i\n```\n或者新建一个bat文件，批处理。就不用每次都在cmd敲命令了\n```\n@echo off\necho 确认删除maven仓库下*.lastUpdated文件？\npause\n::create by hisenyuan(hisenyuan@gmail.com)\n\n::这里写你的仓库路径\nset REPOSITORY_PATH=C:\\hisenwork\\soft\\maven\necho 正在搜索...\nfor /f \"delims=\" %%i in ('dir /b /s \"%REPOSITORY_PATH%\\*lastUpdated*\"') do (\n    del /s /q %%i\n)\necho 完毕\npause\n```\nlinux系统\n```\nfind /app/maven/localRepository -name \"*.lastUpdated\" -exec grep -q \"Could not transfer\" {} \\; -print -exec rm {} \\;\n```","slug":"Maven目录下-lastupdated命令行批量删除","published":1,"updated":"2017-02-21T02:31:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdr8003oolejyzbx15qp","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>windows系统<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd %userprofile%\\.m2\\repository</span><br><span class=\"line\">for /r %i in (*.lastUpdated) do del %i</span><br></pre></td></tr></table></figure><p></p><p>或者新建一个bat文件，批处理。就不用每次都在cmd敲命令了<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo off</span><br><span class=\"line\">echo 确认删除maven仓库下*.lastUpdated文件？</span><br><span class=\"line\">pause</span><br><span class=\"line\">::create by hisenyuan(hisenyuan@gmail.com)</span><br><span class=\"line\"></span><br><span class=\"line\">::这里写你的仓库路径</span><br><span class=\"line\">set REPOSITORY_PATH=C:\\hisenwork\\soft\\maven</span><br><span class=\"line\">echo 正在搜索...</span><br><span class=\"line\">for /f &quot;delims=&quot; %%i in (&apos;dir /b /s &quot;%REPOSITORY_PATH%\\*lastUpdated*&quot;&apos;) do (</span><br><span class=\"line\">    del /s /q %%i</span><br><span class=\"line\">)</span><br><span class=\"line\">echo 完毕</span><br><span class=\"line\">pause</span><br></pre></td></tr></table></figure><p></p><p>linux系统<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find /app/maven/localRepository -name &quot;*.lastUpdated&quot; -exec grep -q &quot;Could not transfer&quot; &#123;&#125; \\; -print -exec rm &#123;&#125; \\;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>windows系统<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd %userprofile%\\.m2\\repository</span><br><span class=\"line\">for /r %i in (*.lastUpdated) do del %i</span><br></pre></td></tr></table></figure><p></p><p>或者新建一个bat文件，批处理。就不用每次都在cmd敲命令了<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo off</span><br><span class=\"line\">echo 确认删除maven仓库下*.lastUpdated文件？</span><br><span class=\"line\">pause</span><br><span class=\"line\">::create by hisenyuan(hisenyuan@gmail.com)</span><br><span class=\"line\"></span><br><span class=\"line\">::这里写你的仓库路径</span><br><span class=\"line\">set REPOSITORY_PATH=C:\\hisenwork\\soft\\maven</span><br><span class=\"line\">echo 正在搜索...</span><br><span class=\"line\">for /f &quot;delims=&quot; %%i in (&apos;dir /b /s &quot;%REPOSITORY_PATH%\\*lastUpdated*&quot;&apos;) do (</span><br><span class=\"line\">    del /s /q %%i</span><br><span class=\"line\">)</span><br><span class=\"line\">echo 完毕</span><br><span class=\"line\">pause</span><br></pre></td></tr></table></figure><p></p><p>linux系统<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find /app/maven/localRepository -name &quot;*.lastUpdated&quot; -exec grep -q &quot;Could not transfer&quot; &#123;&#125; \\; -print -exec rm &#123;&#125; \\;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Maven镜像库设置 - maven mirrors - maven 镜像 阿里","keywords":["maven国内镜像","maven国内镜像 阿里云","maven mirror","maven镜像设置"],"date":"2017-04-12T09:28:00.000Z","_content":"\n配置文件：\n```\nyourPath\\maven-3.3.9\\conf\\settings.xml\n```\n找到里面的，添加镜像即可\n```\n<mirrors>\n</mirrors>\n```\n<mirrorOf></mirrorOf>\n\n这里写的是被镜像的ID\n\n如果写成：* (星号)\n\n所有的请求都会到这个镜像上，包括各种本地库\n\n注意：千万不要配成**<mirrorOf>*</mirrorOf>**\n\n否则内网的仓库或者你配的镜像里面没有一下jar包的时候不会去别的地方搜索\n```\n<!--阿里云：速度挺快-->\n<mirror>\n\t<id>nexus-aliyun</id>\n\t<mirrorOf>central</mirrorOf>\n\t<name>Nexus aliyun</name>\n\t<url>http://maven.aliyun.com/nexus/content/groups/public</url>\n</mirror>\n\n<!--谷歌：北京速度不错-->\n<mirror>\n  <id>google-maven-central</id>\n  <name>Google Maven Central</name>\n  <url>https://maven-central.storage.googleapis.com</url>\n  <mirrorOf>central</mirrorOf>\n</mirror>\n```","source":"_posts/Maven镜像库设置 - maven mirrors - maven 镜像 阿里.md","raw":"---\ntitle: Maven镜像库设置 - maven mirrors - maven 镜像 阿里\nkeywords: [maven国内镜像,maven国内镜像 阿里云\t,maven mirror,maven镜像设置]\ndate: 2017/4/12 17:28\ntags: [maven]\ncategories: maven\n---\n\n配置文件：\n```\nyourPath\\maven-3.3.9\\conf\\settings.xml\n```\n找到里面的，添加镜像即可\n```\n<mirrors>\n</mirrors>\n```\n<mirrorOf></mirrorOf>\n\n这里写的是被镜像的ID\n\n如果写成：* (星号)\n\n所有的请求都会到这个镜像上，包括各种本地库\n\n注意：千万不要配成**<mirrorOf>*</mirrorOf>**\n\n否则内网的仓库或者你配的镜像里面没有一下jar包的时候不会去别的地方搜索\n```\n<!--阿里云：速度挺快-->\n<mirror>\n\t<id>nexus-aliyun</id>\n\t<mirrorOf>central</mirrorOf>\n\t<name>Nexus aliyun</name>\n\t<url>http://maven.aliyun.com/nexus/content/groups/public</url>\n</mirror>\n\n<!--谷歌：北京速度不错-->\n<mirror>\n  <id>google-maven-central</id>\n  <name>Google Maven Central</name>\n  <url>https://maven-central.storage.googleapis.com</url>\n  <mirrorOf>central</mirrorOf>\n</mirror>\n```","slug":"Maven镜像库设置 - maven mirrors - maven 镜像 阿里","published":1,"updated":"2017-04-12T09:44:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdr9003rolej042m0vmw","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>配置文件：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yourPath\\maven-3.3.9\\conf\\settings.xml</span><br></pre></td></tr></table></figure><p></p><p>找到里面的，添加镜像即可<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mirrors&gt;</span><br><span class=\"line\">&lt;/mirrors&gt;</span><br></pre></td></tr></table></figure><p></p><mirrorof></mirrorof><p>这里写的是被镜像的ID</p><p>如果写成：* (星号)</p><p>所有的请求都会到这个镜像上，包括各种本地库</p><p>注意：千万不要配成<strong><mirrorof>*</mirrorof></strong></p><p>否则内网的仓库或者你配的镜像里面没有一下jar包的时候不会去别的地方搜索<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--阿里云：速度挺快--&gt;</span><br><span class=\"line\">&lt;mirror&gt;</span><br><span class=\"line\">\t&lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class=\"line\">\t&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class=\"line\">\t&lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class=\"line\">\t&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class=\"line\">&lt;/mirror&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--谷歌：北京速度不错--&gt;</span><br><span class=\"line\">&lt;mirror&gt;</span><br><span class=\"line\">  &lt;id&gt;google-maven-central&lt;/id&gt;</span><br><span class=\"line\">  &lt;name&gt;Google Maven Central&lt;/name&gt;</span><br><span class=\"line\">  &lt;url&gt;https://maven-central.storage.googleapis.com&lt;/url&gt;</span><br><span class=\"line\">  &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class=\"line\">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>配置文件：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yourPath\\maven-3.3.9\\conf\\settings.xml</span><br></pre></td></tr></table></figure><p></p><p>找到里面的，添加镜像即可<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mirrors&gt;</span><br><span class=\"line\">&lt;/mirrors&gt;</span><br></pre></td></tr></table></figure><p></p><mirrorof></mirrorof><p>这里写的是被镜像的ID</p><p>如果写成：* (星号)</p><p>所有的请求都会到这个镜像上，包括各种本地库</p><p>注意：千万不要配成<strong><mirrorof>*</mirrorof></strong></p><p>否则内网的仓库或者你配的镜像里面没有一下jar包的时候不会去别的地方搜索<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--阿里云：速度挺快--&gt;</span><br><span class=\"line\">&lt;mirror&gt;</span><br><span class=\"line\">\t&lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class=\"line\">\t&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class=\"line\">\t&lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class=\"line\">\t&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class=\"line\">&lt;/mirror&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--谷歌：北京速度不错--&gt;</span><br><span class=\"line\">&lt;mirror&gt;</span><br><span class=\"line\">  &lt;id&gt;google-maven-central&lt;/id&gt;</span><br><span class=\"line\">  &lt;name&gt;Google Maven Central&lt;/name&gt;</span><br><span class=\"line\">  &lt;url&gt;https://maven-central.storage.googleapis.com&lt;/url&gt;</span><br><span class=\"line\">  &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class=\"line\">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MongoDB - 简单操作 - CRUD - JAVA","keywords":["MongoDB","MongoDB CRUD"],"date":"2017-07-11T15:55:00.000Z","_content":"之前我记得写过简单的测试类，但是忘了，现在重新写一个\n\n顺便用博客记录下，mongodb系列应该会有几篇记录\n\n本篇具体代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/master/src/main/java/com/hisen/databases/mongodb/SampleMongoTestNo1.java\" target=\"_blank\">SampleMongoTestNo1.java</a>\n\n\n1、环境介绍\n\nmongodb安装教程：<a href=\"/20170219-Ubuntu16-04使用阿里云镜像安装Mongodb-配置/\" target=\"_blank\">点击查看</a>\n```\nDataBase：MongoDB V 3.2\nDriver　：3.4.1\nmaven：\n    <dependency>\n      <groupId>org.mongodb</groupId>\n      <artifactId>mongo-java-driver</artifactId>\n      <version>3.4.1</version>\n    </dependency>\n```\n２、初始化连接\n```\n  private Mongo mg = null;\n  private DB db;\n  private DBCollection dbCollection;\n\n  @Before\n  public void initDB(){\n    //建立连接\n    mg = new MongoClient(\"127.0.0.1\",27017);\n    //获取要操作的数据库实例，没有会创建\n    db = mg.getDB(\"hisen\");\n    //获取要操作的集合实例，没有会创建\n    dbCollection = db.getCollection(\"emp\");\n  }\n```\n3、关闭连接\n```\n@After\n  public void destoryDB(){\n    if (mg == null) {\n      mg.close();\n      mg=null;\n      db=null;\n      dbCollection=null;\n    }\n  }\n```\n4、CRUD操作\n<!--more-->\n```\n/**\n   * 插入数据\n   */\n  @Test\n  public void testCreate(){\n    DBObject obj = null;\n    for (int i = 1; i <= 10; i++) {\n      obj = new BasicDBObject(\"_id\",i).append(\"name\",\"hisen\"+i).append(\"age\",i*5);\n      dbCollection.save(obj);\n    }\n  }\n\n  /**\n   * 查询所有\n   */\n  @Test\n  public void testReadAll(){\n    DBCursor dbCursor = dbCollection.find();\n    while (dbCursor.hasNext()){\n      System.out.println(dbCursor.next());\n    }\n  }\n\n  /**\n   * 修改记录\n   */\n  @Test\n  public void testUpdate(){\n    BasicDBObject condition = new BasicDBObject(\"_id\",10);\n    BasicDBObject res = new BasicDBObject(\"name\", \"hisen10_new\");\n    //若没有此语句，直接调用下面的语句，返回结果{ \"_id\" : 10 , \"name\" : \"hisen10_new\"}\n    BasicDBObject res2 = new BasicDBObject(\"$set\", res);\n    dbCollection.update(condition,res2);\n    System.out.println(dbCollection.findOne(new BasicDBObject(\"_id\",10)));\n  }\n\n  /**\n   * 删除记录\n   */\n  @Test\n  public void testDelete(){\n    dbCollection.remove(new BasicDBObject(\"_id\",10));\n    testReadAll();\n  }\n\n  /**\n   * 根据主键查询\n   */\n  @Test\n  public void testReadOneWithId(){\n    DBObject object = dbCollection.findOne(new BasicDBObject(\"_id\",1));\n    System.out.println(object);\n  }\n\n  /**\n   * 模糊查询 - 使用正则\n   */\n  @Test\n  public void testReadPuzzy(){\n    Pattern pattern = Pattern.compile(\"^hisen1\");\n    BasicDBObject basicDBObject = new BasicDBObject(\"name\",pattern);\n    DBCursor dbCursor = dbCollection.find(basicDBObject);\n    while (dbCursor.hasNext()){\n      System.out.println(dbCursor.next());\n    }\n  }\n\n  /**\n   * 清空集合\n   */\n  @Test\n  public void testDrop(){\n    dbCollection.drop();\n    testReadAll();\n  }\n```","source":"_posts/MongoDB - 简单操作 - CRUD - JAVA.md","raw":"---\ntitle: MongoDB - 简单操作 - CRUD - JAVA\nkeywords: [MongoDB,MongoDB CRUD]\ndate: 2017/7/11 23:55\ntags: [mongodb]\ncategories: sql\n---\n之前我记得写过简单的测试类，但是忘了，现在重新写一个\n\n顺便用博客记录下，mongodb系列应该会有几篇记录\n\n本篇具体代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/master/src/main/java/com/hisen/databases/mongodb/SampleMongoTestNo1.java\" target=\"_blank\">SampleMongoTestNo1.java</a>\n\n\n1、环境介绍\n\nmongodb安装教程：<a href=\"/20170219-Ubuntu16-04使用阿里云镜像安装Mongodb-配置/\" target=\"_blank\">点击查看</a>\n```\nDataBase：MongoDB V 3.2\nDriver　：3.4.1\nmaven：\n    <dependency>\n      <groupId>org.mongodb</groupId>\n      <artifactId>mongo-java-driver</artifactId>\n      <version>3.4.1</version>\n    </dependency>\n```\n２、初始化连接\n```\n  private Mongo mg = null;\n  private DB db;\n  private DBCollection dbCollection;\n\n  @Before\n  public void initDB(){\n    //建立连接\n    mg = new MongoClient(\"127.0.0.1\",27017);\n    //获取要操作的数据库实例，没有会创建\n    db = mg.getDB(\"hisen\");\n    //获取要操作的集合实例，没有会创建\n    dbCollection = db.getCollection(\"emp\");\n  }\n```\n3、关闭连接\n```\n@After\n  public void destoryDB(){\n    if (mg == null) {\n      mg.close();\n      mg=null;\n      db=null;\n      dbCollection=null;\n    }\n  }\n```\n4、CRUD操作\n<!--more-->\n```\n/**\n   * 插入数据\n   */\n  @Test\n  public void testCreate(){\n    DBObject obj = null;\n    for (int i = 1; i <= 10; i++) {\n      obj = new BasicDBObject(\"_id\",i).append(\"name\",\"hisen\"+i).append(\"age\",i*5);\n      dbCollection.save(obj);\n    }\n  }\n\n  /**\n   * 查询所有\n   */\n  @Test\n  public void testReadAll(){\n    DBCursor dbCursor = dbCollection.find();\n    while (dbCursor.hasNext()){\n      System.out.println(dbCursor.next());\n    }\n  }\n\n  /**\n   * 修改记录\n   */\n  @Test\n  public void testUpdate(){\n    BasicDBObject condition = new BasicDBObject(\"_id\",10);\n    BasicDBObject res = new BasicDBObject(\"name\", \"hisen10_new\");\n    //若没有此语句，直接调用下面的语句，返回结果{ \"_id\" : 10 , \"name\" : \"hisen10_new\"}\n    BasicDBObject res2 = new BasicDBObject(\"$set\", res);\n    dbCollection.update(condition,res2);\n    System.out.println(dbCollection.findOne(new BasicDBObject(\"_id\",10)));\n  }\n\n  /**\n   * 删除记录\n   */\n  @Test\n  public void testDelete(){\n    dbCollection.remove(new BasicDBObject(\"_id\",10));\n    testReadAll();\n  }\n\n  /**\n   * 根据主键查询\n   */\n  @Test\n  public void testReadOneWithId(){\n    DBObject object = dbCollection.findOne(new BasicDBObject(\"_id\",1));\n    System.out.println(object);\n  }\n\n  /**\n   * 模糊查询 - 使用正则\n   */\n  @Test\n  public void testReadPuzzy(){\n    Pattern pattern = Pattern.compile(\"^hisen1\");\n    BasicDBObject basicDBObject = new BasicDBObject(\"name\",pattern);\n    DBCursor dbCursor = dbCollection.find(basicDBObject);\n    while (dbCursor.hasNext()){\n      System.out.println(dbCursor.next());\n    }\n  }\n\n  /**\n   * 清空集合\n   */\n  @Test\n  public void testDrop(){\n    dbCollection.drop();\n    testReadAll();\n  }\n```","slug":"MongoDB - 简单操作 - CRUD - JAVA","published":1,"updated":"2017-07-11T16:10:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrb003uoleja70gcop0","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前我记得写过简单的测试类，但是忘了，现在重新写一个</p><p>顺便用博客记录下，mongodb系列应该会有几篇记录</p><p>本篇具体代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/master/src/main/java/com/hisen/databases/mongodb/SampleMongoTestNo1.java\" target=\"_blank\">SampleMongoTestNo1.java</a></p><p>1、环境介绍</p><p>mongodb安装教程：<a href=\"/20170219-Ubuntu16-04使用阿里云镜像安装Mongodb-配置/\" target=\"_blank\">点击查看</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DataBase：MongoDB V 3.2</span><br><span class=\"line\">Driver　：3.4.1</span><br><span class=\"line\">maven：</span><br><span class=\"line\">    &lt;dependency&gt;</span><br><span class=\"line\">      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;</span><br><span class=\"line\">      &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;</span><br><span class=\"line\">      &lt;version&gt;3.4.1&lt;/version&gt;</span><br><span class=\"line\">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p></p><p>２、初始化连接<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private Mongo mg = null;</span><br><span class=\"line\">private DB db;</span><br><span class=\"line\">private DBCollection dbCollection;</span><br><span class=\"line\"></span><br><span class=\"line\">@Before</span><br><span class=\"line\">public void initDB()&#123;</span><br><span class=\"line\">  //建立连接</span><br><span class=\"line\">  mg = new MongoClient(&quot;127.0.0.1&quot;,27017);</span><br><span class=\"line\">  //获取要操作的数据库实例，没有会创建</span><br><span class=\"line\">  db = mg.getDB(&quot;hisen&quot;);</span><br><span class=\"line\">  //获取要操作的集合实例，没有会创建</span><br><span class=\"line\">  dbCollection = db.getCollection(&quot;emp&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>3、关闭连接<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@After</span><br><span class=\"line\">  public void destoryDB()&#123;</span><br><span class=\"line\">    if (mg == null) &#123;</span><br><span class=\"line\">      mg.close();</span><br><span class=\"line\">      mg=null;</span><br><span class=\"line\">      db=null;</span><br><span class=\"line\">      dbCollection=null;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><p>4、CRUD操作<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">   * 插入数据</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testCreate()&#123;</span><br><span class=\"line\">    DBObject obj = null;</span><br><span class=\"line\">    for (int i = 1; i &lt;= 10; i++) &#123;</span><br><span class=\"line\">      obj = new BasicDBObject(&quot;_id&quot;,i).append(&quot;name&quot;,&quot;hisen&quot;+i).append(&quot;age&quot;,i*5);</span><br><span class=\"line\">      dbCollection.save(obj);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 查询所有</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testReadAll()&#123;</span><br><span class=\"line\">    DBCursor dbCursor = dbCollection.find();</span><br><span class=\"line\">    while (dbCursor.hasNext())&#123;</span><br><span class=\"line\">      System.out.println(dbCursor.next());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 修改记录</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testUpdate()&#123;</span><br><span class=\"line\">    BasicDBObject condition = new BasicDBObject(&quot;_id&quot;,10);</span><br><span class=\"line\">    BasicDBObject res = new BasicDBObject(&quot;name&quot;, &quot;hisen10_new&quot;);</span><br><span class=\"line\">    //若没有此语句，直接调用下面的语句，返回结果&#123; &quot;_id&quot; : 10 , &quot;name&quot; : &quot;hisen10_new&quot;&#125;</span><br><span class=\"line\">    BasicDBObject res2 = new BasicDBObject(&quot;$set&quot;, res);</span><br><span class=\"line\">    dbCollection.update(condition,res2);</span><br><span class=\"line\">    System.out.println(dbCollection.findOne(new BasicDBObject(&quot;_id&quot;,10)));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 删除记录</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testDelete()&#123;</span><br><span class=\"line\">    dbCollection.remove(new BasicDBObject(&quot;_id&quot;,10));</span><br><span class=\"line\">    testReadAll();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 根据主键查询</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testReadOneWithId()&#123;</span><br><span class=\"line\">    DBObject object = dbCollection.findOne(new BasicDBObject(&quot;_id&quot;,1));</span><br><span class=\"line\">    System.out.println(object);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 模糊查询 - 使用正则</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testReadPuzzy()&#123;</span><br><span class=\"line\">    Pattern pattern = Pattern.compile(&quot;^hisen1&quot;);</span><br><span class=\"line\">    BasicDBObject basicDBObject = new BasicDBObject(&quot;name&quot;,pattern);</span><br><span class=\"line\">    DBCursor dbCursor = dbCollection.find(basicDBObject);</span><br><span class=\"line\">    while (dbCursor.hasNext())&#123;</span><br><span class=\"line\">      System.out.println(dbCursor.next());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 清空集合</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testDrop()&#123;</span><br><span class=\"line\">    dbCollection.drop();</span><br><span class=\"line\">    testReadAll();</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前我记得写过简单的测试类，但是忘了，现在重新写一个</p><p>顺便用博客记录下，mongodb系列应该会有几篇记录</p><p>本篇具体代码：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/master/src/main/java/com/hisen/databases/mongodb/SampleMongoTestNo1.java\" target=\"_blank\">SampleMongoTestNo1.java</a></p><p>1、环境介绍</p><p>mongodb安装教程：<a href=\"/20170219-Ubuntu16-04使用阿里云镜像安装Mongodb-配置/\" target=\"_blank\">点击查看</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DataBase：MongoDB V 3.2</span><br><span class=\"line\">Driver　：3.4.1</span><br><span class=\"line\">maven：</span><br><span class=\"line\">    &lt;dependency&gt;</span><br><span class=\"line\">      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;</span><br><span class=\"line\">      &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;</span><br><span class=\"line\">      &lt;version&gt;3.4.1&lt;/version&gt;</span><br><span class=\"line\">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p></p><p>２、初始化连接<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private Mongo mg = null;</span><br><span class=\"line\">private DB db;</span><br><span class=\"line\">private DBCollection dbCollection;</span><br><span class=\"line\"></span><br><span class=\"line\">@Before</span><br><span class=\"line\">public void initDB()&#123;</span><br><span class=\"line\">  //建立连接</span><br><span class=\"line\">  mg = new MongoClient(&quot;127.0.0.1&quot;,27017);</span><br><span class=\"line\">  //获取要操作的数据库实例，没有会创建</span><br><span class=\"line\">  db = mg.getDB(&quot;hisen&quot;);</span><br><span class=\"line\">  //获取要操作的集合实例，没有会创建</span><br><span class=\"line\">  dbCollection = db.getCollection(&quot;emp&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>3、关闭连接<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@After</span><br><span class=\"line\">  public void destoryDB()&#123;</span><br><span class=\"line\">    if (mg == null) &#123;</span><br><span class=\"line\">      mg.close();</span><br><span class=\"line\">      mg=null;</span><br><span class=\"line\">      db=null;</span><br><span class=\"line\">      dbCollection=null;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><p>4、CRUD操作<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">   * 插入数据</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testCreate()&#123;</span><br><span class=\"line\">    DBObject obj = null;</span><br><span class=\"line\">    for (int i = 1; i &lt;= 10; i++) &#123;</span><br><span class=\"line\">      obj = new BasicDBObject(&quot;_id&quot;,i).append(&quot;name&quot;,&quot;hisen&quot;+i).append(&quot;age&quot;,i*5);</span><br><span class=\"line\">      dbCollection.save(obj);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 查询所有</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testReadAll()&#123;</span><br><span class=\"line\">    DBCursor dbCursor = dbCollection.find();</span><br><span class=\"line\">    while (dbCursor.hasNext())&#123;</span><br><span class=\"line\">      System.out.println(dbCursor.next());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 修改记录</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testUpdate()&#123;</span><br><span class=\"line\">    BasicDBObject condition = new BasicDBObject(&quot;_id&quot;,10);</span><br><span class=\"line\">    BasicDBObject res = new BasicDBObject(&quot;name&quot;, &quot;hisen10_new&quot;);</span><br><span class=\"line\">    //若没有此语句，直接调用下面的语句，返回结果&#123; &quot;_id&quot; : 10 , &quot;name&quot; : &quot;hisen10_new&quot;&#125;</span><br><span class=\"line\">    BasicDBObject res2 = new BasicDBObject(&quot;$set&quot;, res);</span><br><span class=\"line\">    dbCollection.update(condition,res2);</span><br><span class=\"line\">    System.out.println(dbCollection.findOne(new BasicDBObject(&quot;_id&quot;,10)));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 删除记录</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testDelete()&#123;</span><br><span class=\"line\">    dbCollection.remove(new BasicDBObject(&quot;_id&quot;,10));</span><br><span class=\"line\">    testReadAll();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 根据主键查询</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testReadOneWithId()&#123;</span><br><span class=\"line\">    DBObject object = dbCollection.findOne(new BasicDBObject(&quot;_id&quot;,1));</span><br><span class=\"line\">    System.out.println(object);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 模糊查询 - 使用正则</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testReadPuzzy()&#123;</span><br><span class=\"line\">    Pattern pattern = Pattern.compile(&quot;^hisen1&quot;);</span><br><span class=\"line\">    BasicDBObject basicDBObject = new BasicDBObject(&quot;name&quot;,pattern);</span><br><span class=\"line\">    DBCursor dbCursor = dbCollection.find(basicDBObject);</span><br><span class=\"line\">    while (dbCursor.hasNext())&#123;</span><br><span class=\"line\">      System.out.println(dbCursor.next());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 清空集合</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Test</span><br><span class=\"line\">  public void testDrop()&#123;</span><br><span class=\"line\">    dbCollection.drop();</span><br><span class=\"line\">    testReadAll();</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MySQL decode - MySQL中类似oracle的decode实现方法","keywords":["MySQL decode","MySQL decode函数","decode函数"],"date":"2017-04-27T01:06:00.000Z","_content":"在oracle中直接有decode函数 decode(cola,null,0)\n\n表示如果cola为空，赋值为0\n\n在mysql中的具体实现如下，\n```\nmysql> describe book;\n+---------+--------------+------+-----+---------+----------------+\n| Field   | Type         | Null | Key | Default | Extra          |\n+---------+--------------+------+-----+---------+----------------+\n| book_id | bigint(20)   | NO   | PRI | NULL    | auto_increment |\n| name    | varchar(100) | NO   |     | NULL    |                |\n| number  | int(11)      | NO   |     | NULL    |                |\n+---------+--------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n\nmysql> select * from book;\n+---------+-------------------------+--------+\n| book_id | name                    | number |\n+---------+-------------------------+--------+\n|     123 | 123                     |    122 |\n|    1000 | Java程序设计             |      5 |\n|    1001 | 数据结构                 |      9 |\n|    1002 | 设计模式                 |     10 |\n|    1003 | 编译原理                 |     10 |\n|    1004 | MySQL从删库到跑路         |    100 |\n|    1005 | 活着                     |     10 |\n|    1232 | 11111                    |    124 |\n|    2001 | 测试                     |   2001 |\n|   10064 | 老鼠爱大米               |  10088 |\n|   10066 | 老鼠爱大米               |   1008 |\n|   10088 | 测试宝典                |   1008 |\n|   10096 | maven实战               |  10096 |\n|   11111 | 111111                  |  11111 |\n|   12311 | 都懂得                  |   1222 |\n|  123222 | 222                     |   1111 |\n+---------+-------------------------+--------+\n16 rows in set (0.00 sec)\n\nmysql> select if(count(b.book_id)=16,\"十六\",\"不是十六\") '结果' from book b;\n+--------+\n| 结果   |\n+--------+\n| 十六   |\n+--------+\n1 row in set (0.00 sec)\n\nmysql> select case count(b.book_id) when 16 then '十六' else '其他' end as '结果' from book b;\n+--------+\n| 结果   |\n+--------+\n| 十六   |\n+--------+\n1 row in set (0.00 sec)\n```","source":"_posts/MySQL decode - MySQL中类似oracle的decode实现方法.md","raw":"---\ntitle: MySQL decode - MySQL中类似oracle的decode实现方法\nkeywords: [MySQL decode,MySQL decode函数,decode函数]\ndate: 2017/4/27 9:06\ntags: [mysql,sql]\ncategories: mysql\n---\n在oracle中直接有decode函数 decode(cola,null,0)\n\n表示如果cola为空，赋值为0\n\n在mysql中的具体实现如下，\n```\nmysql> describe book;\n+---------+--------------+------+-----+---------+----------------+\n| Field   | Type         | Null | Key | Default | Extra          |\n+---------+--------------+------+-----+---------+----------------+\n| book_id | bigint(20)   | NO   | PRI | NULL    | auto_increment |\n| name    | varchar(100) | NO   |     | NULL    |                |\n| number  | int(11)      | NO   |     | NULL    |                |\n+---------+--------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n\nmysql> select * from book;\n+---------+-------------------------+--------+\n| book_id | name                    | number |\n+---------+-------------------------+--------+\n|     123 | 123                     |    122 |\n|    1000 | Java程序设计             |      5 |\n|    1001 | 数据结构                 |      9 |\n|    1002 | 设计模式                 |     10 |\n|    1003 | 编译原理                 |     10 |\n|    1004 | MySQL从删库到跑路         |    100 |\n|    1005 | 活着                     |     10 |\n|    1232 | 11111                    |    124 |\n|    2001 | 测试                     |   2001 |\n|   10064 | 老鼠爱大米               |  10088 |\n|   10066 | 老鼠爱大米               |   1008 |\n|   10088 | 测试宝典                |   1008 |\n|   10096 | maven实战               |  10096 |\n|   11111 | 111111                  |  11111 |\n|   12311 | 都懂得                  |   1222 |\n|  123222 | 222                     |   1111 |\n+---------+-------------------------+--------+\n16 rows in set (0.00 sec)\n\nmysql> select if(count(b.book_id)=16,\"十六\",\"不是十六\") '结果' from book b;\n+--------+\n| 结果   |\n+--------+\n| 十六   |\n+--------+\n1 row in set (0.00 sec)\n\nmysql> select case count(b.book_id) when 16 then '十六' else '其他' end as '结果' from book b;\n+--------+\n| 结果   |\n+--------+\n| 十六   |\n+--------+\n1 row in set (0.00 sec)\n```","slug":"MySQL decode - MySQL中类似oracle的decode实现方法","published":1,"updated":"2017-04-27T01:10:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrc003yolejy79ta4bz","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在oracle中直接有decode函数 decode(cola,null,0)</p><p>表示如果cola为空，赋值为0</p><p>在mysql中的具体实现如下，<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe book;</span><br><span class=\"line\">+---------+--------------+------+-----+---------+----------------+</span><br><span class=\"line\">| Field   | Type         | Null | Key | Default | Extra          |</span><br><span class=\"line\">+---------+--------------+------+-----+---------+----------------+</span><br><span class=\"line\">| book_id | bigint(20)   | NO   | PRI | NULL    | auto_increment |</span><br><span class=\"line\">| name    | varchar(100) | NO   |     | NULL    |                |</span><br><span class=\"line\">| number  | int(11)      | NO   |     | NULL    |                |</span><br><span class=\"line\">+---------+--------------+------+-----+---------+----------------+</span><br><span class=\"line\">3 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select * from book;</span><br><span class=\"line\">+---------+-------------------------+--------+</span><br><span class=\"line\">| book_id | name                    | number |</span><br><span class=\"line\">+---------+-------------------------+--------+</span><br><span class=\"line\">|     123 | 123                     |    122 |</span><br><span class=\"line\">|    1000 | Java程序设计             |      5 |</span><br><span class=\"line\">|    1001 | 数据结构                 |      9 |</span><br><span class=\"line\">|    1002 | 设计模式                 |     10 |</span><br><span class=\"line\">|    1003 | 编译原理                 |     10 |</span><br><span class=\"line\">|    1004 | MySQL从删库到跑路         |    100 |</span><br><span class=\"line\">|    1005 | 活着                     |     10 |</span><br><span class=\"line\">|    1232 | 11111                    |    124 |</span><br><span class=\"line\">|    2001 | 测试                     |   2001 |</span><br><span class=\"line\">|   10064 | 老鼠爱大米               |  10088 |</span><br><span class=\"line\">|   10066 | 老鼠爱大米               |   1008 |</span><br><span class=\"line\">|   10088 | 测试宝典                |   1008 |</span><br><span class=\"line\">|   10096 | maven实战               |  10096 |</span><br><span class=\"line\">|   11111 | 111111                  |  11111 |</span><br><span class=\"line\">|   12311 | 都懂得                  |   1222 |</span><br><span class=\"line\">|  123222 | 222                     |   1111 |</span><br><span class=\"line\">+---------+-------------------------+--------+</span><br><span class=\"line\">16 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select if(count(b.book_id)=16,&quot;十六&quot;,&quot;不是十六&quot;) &apos;结果&apos; from book b;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 结果   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 十六   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select case count(b.book_id) when 16 then &apos;十六&apos; else &apos;其他&apos; end as &apos;结果&apos; from book b;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 结果   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 十六   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在oracle中直接有decode函数 decode(cola,null,0)</p><p>表示如果cola为空，赋值为0</p><p>在mysql中的具体实现如下，<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe book;</span><br><span class=\"line\">+---------+--------------+------+-----+---------+----------------+</span><br><span class=\"line\">| Field   | Type         | Null | Key | Default | Extra          |</span><br><span class=\"line\">+---------+--------------+------+-----+---------+----------------+</span><br><span class=\"line\">| book_id | bigint(20)   | NO   | PRI | NULL    | auto_increment |</span><br><span class=\"line\">| name    | varchar(100) | NO   |     | NULL    |                |</span><br><span class=\"line\">| number  | int(11)      | NO   |     | NULL    |                |</span><br><span class=\"line\">+---------+--------------+------+-----+---------+----------------+</span><br><span class=\"line\">3 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select * from book;</span><br><span class=\"line\">+---------+-------------------------+--------+</span><br><span class=\"line\">| book_id | name                    | number |</span><br><span class=\"line\">+---------+-------------------------+--------+</span><br><span class=\"line\">|     123 | 123                     |    122 |</span><br><span class=\"line\">|    1000 | Java程序设计             |      5 |</span><br><span class=\"line\">|    1001 | 数据结构                 |      9 |</span><br><span class=\"line\">|    1002 | 设计模式                 |     10 |</span><br><span class=\"line\">|    1003 | 编译原理                 |     10 |</span><br><span class=\"line\">|    1004 | MySQL从删库到跑路         |    100 |</span><br><span class=\"line\">|    1005 | 活着                     |     10 |</span><br><span class=\"line\">|    1232 | 11111                    |    124 |</span><br><span class=\"line\">|    2001 | 测试                     |   2001 |</span><br><span class=\"line\">|   10064 | 老鼠爱大米               |  10088 |</span><br><span class=\"line\">|   10066 | 老鼠爱大米               |   1008 |</span><br><span class=\"line\">|   10088 | 测试宝典                |   1008 |</span><br><span class=\"line\">|   10096 | maven实战               |  10096 |</span><br><span class=\"line\">|   11111 | 111111                  |  11111 |</span><br><span class=\"line\">|   12311 | 都懂得                  |   1222 |</span><br><span class=\"line\">|  123222 | 222                     |   1111 |</span><br><span class=\"line\">+---------+-------------------------+--------+</span><br><span class=\"line\">16 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select if(count(b.book_id)=16,&quot;十六&quot;,&quot;不是十六&quot;) &apos;结果&apos; from book b;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 结果   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 十六   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select case count(b.book_id) when 16 then &apos;十六&apos; else &apos;其他&apos; end as &apos;结果&apos; from book b;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 结果   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| 十六   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MySQL update语句","keywords":["MySQL update语句"],"date":"2017-08-01T02:37:00.000Z","_content":"刚在一个群里，有人有这么一个需求。\n\n表A：id,name\n\n表B：id,其他,name(新增字段)\n\nA，B表通过id关联，要把A的name给对应的B的name\n\n以前也没有写过这种update语句\n```\nupdate 表名 set 字段名=字段值 where 条件\n如 update A set name='xiaoming' where id='';\n如果是多表查询\nupdate 表1 a inner join 表2 b on  ab表的关联 set a.字段=b.字段\n如 update A a inner join B b on a.id=b.id set a.name=b.name\n就是在table1表和table2表id相同时 把table2的name值赋给table1的name\n```","source":"_posts/MySQL update语句.md","raw":"---\ntitle: MySQL update语句\nkeywords: [MySQL update语句]\ndate: 2017/8/1 10:37\ntags: [mysql]\ncategories: sql\n---\n刚在一个群里，有人有这么一个需求。\n\n表A：id,name\n\n表B：id,其他,name(新增字段)\n\nA，B表通过id关联，要把A的name给对应的B的name\n\n以前也没有写过这种update语句\n```\nupdate 表名 set 字段名=字段值 where 条件\n如 update A set name='xiaoming' where id='';\n如果是多表查询\nupdate 表1 a inner join 表2 b on  ab表的关联 set a.字段=b.字段\n如 update A a inner join B b on a.id=b.id set a.name=b.name\n就是在table1表和table2表id相同时 把table2的name值赋给table1的name\n```","slug":"MySQL update语句","published":1,"updated":"2017-08-01T02:42:38.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdre0042olejee4xnnda","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>刚在一个群里，有人有这么一个需求。</p><p>表A：id,name</p><p>表B：id,其他,name(新增字段)</p><p>A，B表通过id关联，要把A的name给对应的B的name</p><p>以前也没有写过这种update语句<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update 表名 set 字段名=字段值 where 条件</span><br><span class=\"line\">如 update A set name=&apos;xiaoming&apos; where id=&apos;&apos;;</span><br><span class=\"line\">如果是多表查询</span><br><span class=\"line\">update 表1 a inner join 表2 b on  ab表的关联 set a.字段=b.字段</span><br><span class=\"line\">如 update A a inner join B b on a.id=b.id set a.name=b.name</span><br><span class=\"line\">就是在table1表和table2表id相同时 把table2的name值赋给table1的name</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>刚在一个群里，有人有这么一个需求。</p><p>表A：id,name</p><p>表B：id,其他,name(新增字段)</p><p>A，B表通过id关联，要把A的name给对应的B的name</p><p>以前也没有写过这种update语句<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update 表名 set 字段名=字段值 where 条件</span><br><span class=\"line\">如 update A set name=&apos;xiaoming&apos; where id=&apos;&apos;;</span><br><span class=\"line\">如果是多表查询</span><br><span class=\"line\">update 表1 a inner join 表2 b on  ab表的关联 set a.字段=b.字段</span><br><span class=\"line\">如 update A a inner join B b on a.id=b.id set a.name=b.name</span><br><span class=\"line\">就是在table1表和table2表id相同时 把table2的name值赋给table1的name</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MySQL 常用操作 - 命令行","keywords":["mysql"],"date":"2017-08-15T03:08:00.000Z","_content":"命令行常用操作，备忘\n```\n#开启远程登录\ngrant all privileges on *.* to 'user'@'%' identified by 'passwd' with grant option;\n\n#创建数据库\ncreate database DB;\n\n#创建用户\ninsert into mysql.user(Host,User,Password) values(\"localhost\",\"user\",password(\"passwd\"));\n\n#删除用户\nDELETE FROM user WHERE user=\"username\" and HOST=\"localhost\";\n\n#修改指定用户密码\nupdate mysql.user set password=password('new passwd') where user=\"username\" and host=\"localhost\";\n\n#用户授权\ngrant all privileges on DB.* to 'user'@'localhost' identified by 'passwd';\ngrant select,update on DB.* to 'user'@'localhost' identified by 'passwd';\n\n#刷新权限\nflush privileges;\n\n#数据库导出\nmysqldump -uUSRENAME -pPASSWD DATABASE > DATABASE.sql\n\n#数据库导出(只导出表结构 -d)\nmysqldump -uUSRENAME -pPASSWD -d DATABASE > DATABASE.sql\n\n#数据库导入\n\n#1.切换数据库\nuse DATABASE;\n#2.设置编码\nset names utf8;\n#3.执行导入操作\nsource /home/abc/abc.sql;\n\n#直接导入\nmysql -uUSERNAME -p DATABASE < DATABASE.sql\n```\n","source":"_posts/MySQL 常用操作 - 命令行.md","raw":"---\ntitle: MySQL 常用操作 - 命令行\nkeywords: [mysql]\ndate: 2017/8/15 11:08\ntags: [mysql]\ncategories: sql\n---\n命令行常用操作，备忘\n```\n#开启远程登录\ngrant all privileges on *.* to 'user'@'%' identified by 'passwd' with grant option;\n\n#创建数据库\ncreate database DB;\n\n#创建用户\ninsert into mysql.user(Host,User,Password) values(\"localhost\",\"user\",password(\"passwd\"));\n\n#删除用户\nDELETE FROM user WHERE user=\"username\" and HOST=\"localhost\";\n\n#修改指定用户密码\nupdate mysql.user set password=password('new passwd') where user=\"username\" and host=\"localhost\";\n\n#用户授权\ngrant all privileges on DB.* to 'user'@'localhost' identified by 'passwd';\ngrant select,update on DB.* to 'user'@'localhost' identified by 'passwd';\n\n#刷新权限\nflush privileges;\n\n#数据库导出\nmysqldump -uUSRENAME -pPASSWD DATABASE > DATABASE.sql\n\n#数据库导出(只导出表结构 -d)\nmysqldump -uUSRENAME -pPASSWD -d DATABASE > DATABASE.sql\n\n#数据库导入\n\n#1.切换数据库\nuse DATABASE;\n#2.设置编码\nset names utf8;\n#3.执行导入操作\nsource /home/abc/abc.sql;\n\n#直接导入\nmysql -uUSERNAME -p DATABASE < DATABASE.sql\n```\n","slug":"MySQL 常用操作 - 命令行","published":1,"updated":"2017-08-15T03:09:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrg0044olej68j1jexk","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>命令行常用操作，备忘<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#开启远程登录</span><br><span class=\"line\">grant all privileges on *.* to &apos;user&apos;@&apos;%&apos; identified by &apos;passwd&apos; with grant option;</span><br><span class=\"line\"></span><br><span class=\"line\">#创建数据库</span><br><span class=\"line\">create database DB;</span><br><span class=\"line\"></span><br><span class=\"line\">#创建用户</span><br><span class=\"line\">insert into mysql.user(Host,User,Password) values(&quot;localhost&quot;,&quot;user&quot;,password(&quot;passwd&quot;));</span><br><span class=\"line\"></span><br><span class=\"line\">#删除用户</span><br><span class=\"line\">DELETE FROM user WHERE user=&quot;username&quot; and HOST=&quot;localhost&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">#修改指定用户密码</span><br><span class=\"line\">update mysql.user set password=password(&apos;new passwd&apos;) where user=&quot;username&quot; and host=&quot;localhost&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">#用户授权</span><br><span class=\"line\">grant all privileges on DB.* to &apos;user&apos;@&apos;localhost&apos; identified by &apos;passwd&apos;;</span><br><span class=\"line\">grant select,update on DB.* to &apos;user&apos;@&apos;localhost&apos; identified by &apos;passwd&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">#刷新权限</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\"></span><br><span class=\"line\">#数据库导出</span><br><span class=\"line\">mysqldump -uUSRENAME -pPASSWD DATABASE &gt; DATABASE.sql</span><br><span class=\"line\"></span><br><span class=\"line\">#数据库导出(只导出表结构 -d)</span><br><span class=\"line\">mysqldump -uUSRENAME -pPASSWD -d DATABASE &gt; DATABASE.sql</span><br><span class=\"line\"></span><br><span class=\"line\">#数据库导入</span><br><span class=\"line\"></span><br><span class=\"line\">#1.切换数据库</span><br><span class=\"line\">use DATABASE;</span><br><span class=\"line\">#2.设置编码</span><br><span class=\"line\">set names utf8;</span><br><span class=\"line\">#3.执行导入操作</span><br><span class=\"line\">source /home/abc/abc.sql;</span><br><span class=\"line\"></span><br><span class=\"line\">#直接导入</span><br><span class=\"line\">mysql -uUSERNAME -p DATABASE &lt; DATABASE.sql</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>命令行常用操作，备忘<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#开启远程登录</span><br><span class=\"line\">grant all privileges on *.* to &apos;user&apos;@&apos;%&apos; identified by &apos;passwd&apos; with grant option;</span><br><span class=\"line\"></span><br><span class=\"line\">#创建数据库</span><br><span class=\"line\">create database DB;</span><br><span class=\"line\"></span><br><span class=\"line\">#创建用户</span><br><span class=\"line\">insert into mysql.user(Host,User,Password) values(&quot;localhost&quot;,&quot;user&quot;,password(&quot;passwd&quot;));</span><br><span class=\"line\"></span><br><span class=\"line\">#删除用户</span><br><span class=\"line\">DELETE FROM user WHERE user=&quot;username&quot; and HOST=&quot;localhost&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">#修改指定用户密码</span><br><span class=\"line\">update mysql.user set password=password(&apos;new passwd&apos;) where user=&quot;username&quot; and host=&quot;localhost&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">#用户授权</span><br><span class=\"line\">grant all privileges on DB.* to &apos;user&apos;@&apos;localhost&apos; identified by &apos;passwd&apos;;</span><br><span class=\"line\">grant select,update on DB.* to &apos;user&apos;@&apos;localhost&apos; identified by &apos;passwd&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">#刷新权限</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\"></span><br><span class=\"line\">#数据库导出</span><br><span class=\"line\">mysqldump -uUSRENAME -pPASSWD DATABASE &gt; DATABASE.sql</span><br><span class=\"line\"></span><br><span class=\"line\">#数据库导出(只导出表结构 -d)</span><br><span class=\"line\">mysqldump -uUSRENAME -pPASSWD -d DATABASE &gt; DATABASE.sql</span><br><span class=\"line\"></span><br><span class=\"line\">#数据库导入</span><br><span class=\"line\"></span><br><span class=\"line\">#1.切换数据库</span><br><span class=\"line\">use DATABASE;</span><br><span class=\"line\">#2.设置编码</span><br><span class=\"line\">set names utf8;</span><br><span class=\"line\">#3.执行导入操作</span><br><span class=\"line\">source /home/abc/abc.sql;</span><br><span class=\"line\"></span><br><span class=\"line\">#直接导入</span><br><span class=\"line\">mysql -uUSERNAME -p DATABASE &lt; DATABASE.sql</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MySQL一个group by查询出最大值和非group by所在字段的值","keywords":["mysql","group by"],"date":"2017-04-18T07:33:00.000Z","_content":"表结构，数据内容如下。\n\n需求是：查找出每个年级，年纪最大的人的名字。\n\n个人的思维只停留在\n```\nmysql> select name, max(age),grade from  stu group by grade;\nERROR 1055 (42000): Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'hisen.stu.name' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by\n\nmysql> SELECT A.* FROM stu A INNER JOIN (SELECT MAX(AGE) AS MAX_AGE,GRADE FROM stu GROUP BY GRADE ) B ON A.GRADE = B.GRADE AND A.AGE= B.MAX_AGE;\n+----+------+------+-------+\n| id | name | age  | grade |\n+----+------+------+-------+\n|  3 | c    |   13 |     1 |\n|  6 | f    |   13 |     2 |\n+----+------+------+-------+\n2 rows in set (0.00 sec)\n```\n\n折腾了一会自己不知道怎么解决，后来倒是解决了。\n\n具体过程如下：\n```\nmysql> describe stu;\n+-------+---------+------+-----+---------+----------------+\n| Field | Type    | Null | Key | Default | Extra          |\n+-------+---------+------+-----+---------+----------------+\n| id    | int(11) | NO   | PRI | NULL    | auto_increment |\n| name  | char(1) | YES  |     | NULL    |                |\n| age   | int(11) | YES  |     | NULL    |                |\n| grade | int(11) | YES  |     | NULL    |                |\n+-------+---------+------+-----+---------+----------------+\n4 rows in set (0.00 sec)\n\nmysql> select * from stu;\n+----+------+------+-------+\n| id | name | age  | grade |\n+----+------+------+-------+\n|  1 | a    |   11 |     1 |\n|  2 | b    |   12 |     1 |\n|  3 | c    |   13 |     1 |\n|  4 | d    |   11 |     2 |\n|  5 | e    |   12 |     2 |\n|  6 | f    |   13 |     2 |\n+----+------+------+-------+\n6 rows in set (0.00 sec)\n\nmysql> select max(name), max(age),grade from  stu group by grade;\n+-----------+----------+-------+\n| max(name) | max(age) | grade |\n+-----------+----------+-------+\n| c         |       13 |     1 |\n| f         |       13 |     2 |\n+-----------+----------+-------+\n2 rows in set (0.01 sec)\n```","source":"_posts/MySQL一个group by查询出最大值和非group by所在字段的值.md","raw":"---\ntitle: MySQL一个group by查询出最大值和非group by所在字段的值\nkeywords: [mysql,group by]\ndate: 2017/4/18 15:33\ntags: [mysql]\ncategories: mysql\n---\n表结构，数据内容如下。\n\n需求是：查找出每个年级，年纪最大的人的名字。\n\n个人的思维只停留在\n```\nmysql> select name, max(age),grade from  stu group by grade;\nERROR 1055 (42000): Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'hisen.stu.name' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by\n\nmysql> SELECT A.* FROM stu A INNER JOIN (SELECT MAX(AGE) AS MAX_AGE,GRADE FROM stu GROUP BY GRADE ) B ON A.GRADE = B.GRADE AND A.AGE= B.MAX_AGE;\n+----+------+------+-------+\n| id | name | age  | grade |\n+----+------+------+-------+\n|  3 | c    |   13 |     1 |\n|  6 | f    |   13 |     2 |\n+----+------+------+-------+\n2 rows in set (0.00 sec)\n```\n\n折腾了一会自己不知道怎么解决，后来倒是解决了。\n\n具体过程如下：\n```\nmysql> describe stu;\n+-------+---------+------+-----+---------+----------------+\n| Field | Type    | Null | Key | Default | Extra          |\n+-------+---------+------+-----+---------+----------------+\n| id    | int(11) | NO   | PRI | NULL    | auto_increment |\n| name  | char(1) | YES  |     | NULL    |                |\n| age   | int(11) | YES  |     | NULL    |                |\n| grade | int(11) | YES  |     | NULL    |                |\n+-------+---------+------+-----+---------+----------------+\n4 rows in set (0.00 sec)\n\nmysql> select * from stu;\n+----+------+------+-------+\n| id | name | age  | grade |\n+----+------+------+-------+\n|  1 | a    |   11 |     1 |\n|  2 | b    |   12 |     1 |\n|  3 | c    |   13 |     1 |\n|  4 | d    |   11 |     2 |\n|  5 | e    |   12 |     2 |\n|  6 | f    |   13 |     2 |\n+----+------+------+-------+\n6 rows in set (0.00 sec)\n\nmysql> select max(name), max(age),grade from  stu group by grade;\n+-----------+----------+-------+\n| max(name) | max(age) | grade |\n+-----------+----------+-------+\n| c         |       13 |     1 |\n| f         |       13 |     2 |\n+-----------+----------+-------+\n2 rows in set (0.01 sec)\n```","slug":"MySQL一个group by查询出最大值和非group by所在字段的值","published":1,"updated":"2017-04-18T07:49:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrh0049olejvsofkjsm","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>表结构，数据内容如下。</p><p>需求是：查找出每个年级，年纪最大的人的名字。</p><p>个人的思维只停留在<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select name, max(age),grade from  stu group by grade;</span><br><span class=\"line\">ERROR 1055 (42000): Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column &apos;hisen.stu.name&apos; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT A.* FROM stu A INNER JOIN (SELECT MAX(AGE) AS MAX_AGE,GRADE FROM stu GROUP BY GRADE ) B ON A.GRADE = B.GRADE AND A.AGE= B.MAX_AGE;</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">| id | name | age  | grade |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">|  3 | c    |   13 |     1 |</span><br><span class=\"line\">|  6 | f    |   13 |     2 |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p></p><p>折腾了一会自己不知道怎么解决，后来倒是解决了。</p><p>具体过程如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe stu;</span><br><span class=\"line\">+-------+---------+------+-----+---------+----------------+</span><br><span class=\"line\">| Field | Type    | Null | Key | Default | Extra          |</span><br><span class=\"line\">+-------+---------+------+-----+---------+----------------+</span><br><span class=\"line\">| id    | int(11) | NO   | PRI | NULL    | auto_increment |</span><br><span class=\"line\">| name  | char(1) | YES  |     | NULL    |                |</span><br><span class=\"line\">| age   | int(11) | YES  |     | NULL    |                |</span><br><span class=\"line\">| grade | int(11) | YES  |     | NULL    |                |</span><br><span class=\"line\">+-------+---------+------+-----+---------+----------------+</span><br><span class=\"line\">4 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select * from stu;</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">| id | name | age  | grade |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">|  1 | a    |   11 |     1 |</span><br><span class=\"line\">|  2 | b    |   12 |     1 |</span><br><span class=\"line\">|  3 | c    |   13 |     1 |</span><br><span class=\"line\">|  4 | d    |   11 |     2 |</span><br><span class=\"line\">|  5 | e    |   12 |     2 |</span><br><span class=\"line\">|  6 | f    |   13 |     2 |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">6 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select max(name), max(age),grade from  stu group by grade;</span><br><span class=\"line\">+-----------+----------+-------+</span><br><span class=\"line\">| max(name) | max(age) | grade |</span><br><span class=\"line\">+-----------+----------+-------+</span><br><span class=\"line\">| c         |       13 |     1 |</span><br><span class=\"line\">| f         |       13 |     2 |</span><br><span class=\"line\">+-----------+----------+-------+</span><br><span class=\"line\">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>表结构，数据内容如下。</p><p>需求是：查找出每个年级，年纪最大的人的名字。</p><p>个人的思维只停留在<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select name, max(age),grade from  stu group by grade;</span><br><span class=\"line\">ERROR 1055 (42000): Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column &apos;hisen.stu.name&apos; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT A.* FROM stu A INNER JOIN (SELECT MAX(AGE) AS MAX_AGE,GRADE FROM stu GROUP BY GRADE ) B ON A.GRADE = B.GRADE AND A.AGE= B.MAX_AGE;</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">| id | name | age  | grade |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">|  3 | c    |   13 |     1 |</span><br><span class=\"line\">|  6 | f    |   13 |     2 |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p></p><p>折腾了一会自己不知道怎么解决，后来倒是解决了。</p><p>具体过程如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe stu;</span><br><span class=\"line\">+-------+---------+------+-----+---------+----------------+</span><br><span class=\"line\">| Field | Type    | Null | Key | Default | Extra          |</span><br><span class=\"line\">+-------+---------+------+-----+---------+----------------+</span><br><span class=\"line\">| id    | int(11) | NO   | PRI | NULL    | auto_increment |</span><br><span class=\"line\">| name  | char(1) | YES  |     | NULL    |                |</span><br><span class=\"line\">| age   | int(11) | YES  |     | NULL    |                |</span><br><span class=\"line\">| grade | int(11) | YES  |     | NULL    |                |</span><br><span class=\"line\">+-------+---------+------+-----+---------+----------------+</span><br><span class=\"line\">4 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select * from stu;</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">| id | name | age  | grade |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">|  1 | a    |   11 |     1 |</span><br><span class=\"line\">|  2 | b    |   12 |     1 |</span><br><span class=\"line\">|  3 | c    |   13 |     1 |</span><br><span class=\"line\">|  4 | d    |   11 |     2 |</span><br><span class=\"line\">|  5 | e    |   12 |     2 |</span><br><span class=\"line\">|  6 | f    |   13 |     2 |</span><br><span class=\"line\">+----+------+------+-------+</span><br><span class=\"line\">6 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select max(name), max(age),grade from  stu group by grade;</span><br><span class=\"line\">+-----------+----------+-------+</span><br><span class=\"line\">| max(name) | max(age) | grade |</span><br><span class=\"line\">+-----------+----------+-------+</span><br><span class=\"line\">| c         |       13 |     1 |</span><br><span class=\"line\">| f         |       13 |     2 |</span><br><span class=\"line\">+-----------+----------+-------+</span><br><span class=\"line\">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"MySQL一些简单的语句","date":"2017-01-19T17:23:17.000Z","_content":"emlog_ad字段\nid\nstatus\nposition\ntitle\nweight\ncontent\n\n```+sql\n--找出重复\nSELECT a.*\nFROM emlog_ad a\nWHERE a.id IN\n    (SELECT b.id id\n     FROM emlog_ad b\n     GROUP BY b.title\n     HAVING count(b.id)>1);\n\n--删除重复留下id最小的\nSELECT a.*\nFROM emlog_ad a\nWHERE a.id IN\n    (SELECT b.id\n     FROM emlog_ad b\n     GROUP BY b.title\n     HAVING count(b.id)>1)\n  AND a.id NOT IN\n    (SELECT min(c.id)\n     FROM emlog_ad c\n     GROUP BY c.title\n     HAVING count(c.id)>1);\n\n--一句sql把所有AA改为BB，CC改为DD\nUPDATE emlog_ad a\nSET a.`status`=(\nCASE\n\tWHEN a.`status` = '1' THEN '11'\n\tWHEN a.`status`='2' THEN '22'\n\tEND\n);\n```","source":"_posts/MySQL一些简单的语句.md","raw":"---\ntitle: MySQL一些简单的语句\ndate: 2017-01-20 01:23:17\ntags: mysql\n---\nemlog_ad字段\nid\nstatus\nposition\ntitle\nweight\ncontent\n\n```+sql\n--找出重复\nSELECT a.*\nFROM emlog_ad a\nWHERE a.id IN\n    (SELECT b.id id\n     FROM emlog_ad b\n     GROUP BY b.title\n     HAVING count(b.id)>1);\n\n--删除重复留下id最小的\nSELECT a.*\nFROM emlog_ad a\nWHERE a.id IN\n    (SELECT b.id\n     FROM emlog_ad b\n     GROUP BY b.title\n     HAVING count(b.id)>1)\n  AND a.id NOT IN\n    (SELECT min(c.id)\n     FROM emlog_ad c\n     GROUP BY c.title\n     HAVING count(c.id)>1);\n\n--一句sql把所有AA改为BB，CC改为DD\nUPDATE emlog_ad a\nSET a.`status`=(\nCASE\n\tWHEN a.`status` = '1' THEN '11'\n\tWHEN a.`status`='2' THEN '22'\n\tEND\n);\n```","slug":"MySQL一些简单的语句","published":1,"updated":"2017-01-19T17:31:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdri004bolejw0k47yql","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>emlog_ad字段<br>id<br>status<br>position<br>title<br>weight<br>content</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--找出重复</span><br><span class=\"line\">SELECT a.*</span><br><span class=\"line\">FROM emlog_ad a</span><br><span class=\"line\">WHERE a.id IN</span><br><span class=\"line\">    (SELECT b.id id</span><br><span class=\"line\">     FROM emlog_ad b</span><br><span class=\"line\">     GROUP BY b.title</span><br><span class=\"line\">     HAVING count(b.id)&gt;1);</span><br><span class=\"line\"></span><br><span class=\"line\">--删除重复留下id最小的</span><br><span class=\"line\">SELECT a.*</span><br><span class=\"line\">FROM emlog_ad a</span><br><span class=\"line\">WHERE a.id IN</span><br><span class=\"line\">    (SELECT b.id</span><br><span class=\"line\">     FROM emlog_ad b</span><br><span class=\"line\">     GROUP BY b.title</span><br><span class=\"line\">     HAVING count(b.id)&gt;1)</span><br><span class=\"line\">  AND a.id NOT IN</span><br><span class=\"line\">    (SELECT min(c.id)</span><br><span class=\"line\">     FROM emlog_ad c</span><br><span class=\"line\">     GROUP BY c.title</span><br><span class=\"line\">     HAVING count(c.id)&gt;1);</span><br><span class=\"line\"></span><br><span class=\"line\">--一句sql把所有AA改为BB，CC改为DD</span><br><span class=\"line\">UPDATE emlog_ad a</span><br><span class=\"line\">SET a.`status`=(</span><br><span class=\"line\">CASE</span><br><span class=\"line\">\tWHEN a.`status` = &apos;1&apos; THEN &apos;11&apos;</span><br><span class=\"line\">\tWHEN a.`status`=&apos;2&apos; THEN &apos;22&apos;</span><br><span class=\"line\">\tEND</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>emlog_ad字段<br>id<br>status<br>position<br>title<br>weight<br>content</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--找出重复</span><br><span class=\"line\">SELECT a.*</span><br><span class=\"line\">FROM emlog_ad a</span><br><span class=\"line\">WHERE a.id IN</span><br><span class=\"line\">    (SELECT b.id id</span><br><span class=\"line\">     FROM emlog_ad b</span><br><span class=\"line\">     GROUP BY b.title</span><br><span class=\"line\">     HAVING count(b.id)&gt;1);</span><br><span class=\"line\"></span><br><span class=\"line\">--删除重复留下id最小的</span><br><span class=\"line\">SELECT a.*</span><br><span class=\"line\">FROM emlog_ad a</span><br><span class=\"line\">WHERE a.id IN</span><br><span class=\"line\">    (SELECT b.id</span><br><span class=\"line\">     FROM emlog_ad b</span><br><span class=\"line\">     GROUP BY b.title</span><br><span class=\"line\">     HAVING count(b.id)&gt;1)</span><br><span class=\"line\">  AND a.id NOT IN</span><br><span class=\"line\">    (SELECT min(c.id)</span><br><span class=\"line\">     FROM emlog_ad c</span><br><span class=\"line\">     GROUP BY c.title</span><br><span class=\"line\">     HAVING count(c.id)&gt;1);</span><br><span class=\"line\"></span><br><span class=\"line\">--一句sql把所有AA改为BB，CC改为DD</span><br><span class=\"line\">UPDATE emlog_ad a</span><br><span class=\"line\">SET a.`status`=(</span><br><span class=\"line\">CASE</span><br><span class=\"line\">\tWHEN a.`status` = &apos;1&apos; THEN &apos;11&apos;</span><br><span class=\"line\">\tWHEN a.`status`=&apos;2&apos; THEN &apos;22&apos;</span><br><span class=\"line\">\tEND</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"MySQL下A库的a表导入到B库的b表","keywords":["mysql","数据导出"],"date":"2017-05-16T03:44:00.000Z","_content":"| 数据库名称 | 表名 |\n|:-----|:-----|\n| employees | employees |\n| hisen | employee |\n\n现在想把第一行的数据导入到第二行，具体如下\n```\nmysql> describe employees;\n+------------+---------------+------+-----+---------+-------+\n| Field      | Type          | Null | Key | Default | Extra |\n+------------+---------------+------+-----+---------+-------+\n| emp_no     | int(11)       | NO   | PRI | NULL    |       |\n| birth_date | date          | NO   |     | NULL    |       |\n| first_name | varchar(14)   | NO   |     | NULL    |       |\n| last_name  | varchar(16)   | NO   |     | NULL    |       |\n| gender     | enum('M','F') | NO   |     | NULL    |       |\n| hire_date  | date          | NO   |     | NULL    |       |\n+------------+---------------+------+-----+---------+-------+\n6 rows in set\n\nmysql> select count(*) from employees;\n+----------+\n| count(*) |\n+----------+\n|   300024 |\n+----------+\n1 row in set\n```\nemployees数据库中的employees表有30万数据\n\n我想把这个数据导出到另外一个数据库hisen中的employee表中\n\n具体操作如下\n<!--more-->\n```\nmysql> create table hisen.employee as(\n    -> select * from employees.employees\n    -> );\nQuery OK, 300024 rows affected\nRecords: 300024  Duplicates: 0  Warnings: 0\n\nmysql> use hisen;\nDatabase changed\nmysql> select count(*) from employee;\n+----------+\n| count(*) |\n+----------+\n|   300024 |\n+----------+\n1 row in set\n```\n这种操作是针对所有字段都导出的情形，创建表跟插入数据合二为一\n\n如果导出部分字段或者有其他限制条件写sql即可\n\n这应该是最简单的方法~","source":"_posts/MySQL下A库的a表导入到B库的b表.md","raw":"---\ntitle: MySQL下A库的a表导入到B库的b表\nkeywords: [mysql,数据导出]\ndate: 2017/5/16 11:44\ntags: [mysql]\ncategories: mysql\n---\n| 数据库名称 | 表名 |\n|:-----|:-----|\n| employees | employees |\n| hisen | employee |\n\n现在想把第一行的数据导入到第二行，具体如下\n```\nmysql> describe employees;\n+------------+---------------+------+-----+---------+-------+\n| Field      | Type          | Null | Key | Default | Extra |\n+------------+---------------+------+-----+---------+-------+\n| emp_no     | int(11)       | NO   | PRI | NULL    |       |\n| birth_date | date          | NO   |     | NULL    |       |\n| first_name | varchar(14)   | NO   |     | NULL    |       |\n| last_name  | varchar(16)   | NO   |     | NULL    |       |\n| gender     | enum('M','F') | NO   |     | NULL    |       |\n| hire_date  | date          | NO   |     | NULL    |       |\n+------------+---------------+------+-----+---------+-------+\n6 rows in set\n\nmysql> select count(*) from employees;\n+----------+\n| count(*) |\n+----------+\n|   300024 |\n+----------+\n1 row in set\n```\nemployees数据库中的employees表有30万数据\n\n我想把这个数据导出到另外一个数据库hisen中的employee表中\n\n具体操作如下\n<!--more-->\n```\nmysql> create table hisen.employee as(\n    -> select * from employees.employees\n    -> );\nQuery OK, 300024 rows affected\nRecords: 300024  Duplicates: 0  Warnings: 0\n\nmysql> use hisen;\nDatabase changed\nmysql> select count(*) from employee;\n+----------+\n| count(*) |\n+----------+\n|   300024 |\n+----------+\n1 row in set\n```\n这种操作是针对所有字段都导出的情形，创建表跟插入数据合二为一\n\n如果导出部分字段或者有其他限制条件写sql即可\n\n这应该是最简单的方法~","slug":"MySQL下A库的a表导入到B库的b表","published":1,"updated":"2017-05-16T05:53:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrj004folejpdo1dfmt","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><table><thead><tr><th style=\"text-align:left\">数据库名称</th><th style=\"text-align:left\">表名</th></tr></thead><tbody><tr><td style=\"text-align:left\">employees</td><td style=\"text-align:left\">employees</td></tr><tr><td style=\"text-align:left\">hisen</td><td style=\"text-align:left\">employee</td></tr></tbody></table><p>现在想把第一行的数据导入到第二行，具体如下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe employees;</span><br><span class=\"line\">+------------+---------------+------+-----+---------+-------+</span><br><span class=\"line\">| Field      | Type          | Null | Key | Default | Extra |</span><br><span class=\"line\">+------------+---------------+------+-----+---------+-------+</span><br><span class=\"line\">| emp_no     | int(11)       | NO   | PRI | NULL    |       |</span><br><span class=\"line\">| birth_date | date          | NO   |     | NULL    |       |</span><br><span class=\"line\">| first_name | varchar(14)   | NO   |     | NULL    |       |</span><br><span class=\"line\">| last_name  | varchar(16)   | NO   |     | NULL    |       |</span><br><span class=\"line\">| gender     | enum(&apos;M&apos;,&apos;F&apos;) | NO   |     | NULL    |       |</span><br><span class=\"line\">| hire_date  | date          | NO   |     | NULL    |       |</span><br><span class=\"line\">+------------+---------------+------+-----+---------+-------+</span><br><span class=\"line\">6 rows in set</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select count(*) from employees;</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| count(*) |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">|   300024 |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">1 row in set</span><br></pre></td></tr></table></figure><p></p><p>employees数据库中的employees表有30万数据</p><p>我想把这个数据导出到另外一个数据库hisen中的employee表中</p><p>具体操作如下<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; create table hisen.employee as(</span><br><span class=\"line\">    -&gt; select * from employees.employees</span><br><span class=\"line\">    -&gt; );</span><br><span class=\"line\">Query OK, 300024 rows affected</span><br><span class=\"line\">Records: 300024  Duplicates: 0  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; use hisen;</span><br><span class=\"line\">Database changed</span><br><span class=\"line\">mysql&gt; select count(*) from employee;</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| count(*) |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">|   300024 |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">1 row in set</span><br></pre></td></tr></table></figure><p></p><p>这种操作是针对所有字段都导出的情形，创建表跟插入数据合二为一</p><p>如果导出部分字段或者有其他限制条件写sql即可</p><p>这应该是最简单的方法~</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><table><thead><tr><th style=\"text-align:left\">数据库名称</th><th style=\"text-align:left\">表名</th></tr></thead><tbody><tr><td style=\"text-align:left\">employees</td><td style=\"text-align:left\">employees</td></tr><tr><td style=\"text-align:left\">hisen</td><td style=\"text-align:left\">employee</td></tr></tbody></table><p>现在想把第一行的数据导入到第二行，具体如下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe employees;</span><br><span class=\"line\">+------------+---------------+------+-----+---------+-------+</span><br><span class=\"line\">| Field      | Type          | Null | Key | Default | Extra |</span><br><span class=\"line\">+------------+---------------+------+-----+---------+-------+</span><br><span class=\"line\">| emp_no     | int(11)       | NO   | PRI | NULL    |       |</span><br><span class=\"line\">| birth_date | date          | NO   |     | NULL    |       |</span><br><span class=\"line\">| first_name | varchar(14)   | NO   |     | NULL    |       |</span><br><span class=\"line\">| last_name  | varchar(16)   | NO   |     | NULL    |       |</span><br><span class=\"line\">| gender     | enum(&apos;M&apos;,&apos;F&apos;) | NO   |     | NULL    |       |</span><br><span class=\"line\">| hire_date  | date          | NO   |     | NULL    |       |</span><br><span class=\"line\">+------------+---------------+------+-----+---------+-------+</span><br><span class=\"line\">6 rows in set</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select count(*) from employees;</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| count(*) |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">|   300024 |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">1 row in set</span><br></pre></td></tr></table></figure><p></p><p>employees数据库中的employees表有30万数据</p><p>我想把这个数据导出到另外一个数据库hisen中的employee表中</p><p>具体操作如下<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; create table hisen.employee as(</span><br><span class=\"line\">    -&gt; select * from employees.employees</span><br><span class=\"line\">    -&gt; );</span><br><span class=\"line\">Query OK, 300024 rows affected</span><br><span class=\"line\">Records: 300024  Duplicates: 0  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; use hisen;</span><br><span class=\"line\">Database changed</span><br><span class=\"line\">mysql&gt; select count(*) from employee;</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| count(*) |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">|   300024 |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">1 row in set</span><br></pre></td></tr></table></figure><p></p><p>这种操作是针对所有字段都导出的情形，创建表跟插入数据合二为一</p><p>如果导出部分字段或者有其他限制条件写sql即可</p><p>这应该是最简单的方法~</p><!-- rebuild by neat -->"},{"title":"MySQL使用like查找汉字乱码","date":"2017-02-08T13:03:34.000Z","_content":"第一种解决办法：BINARY\n---\n在关键字之前加上：BINARY，会使关键字强制转换为二进制字符串\n```\nselect id form t where chinese like **BINARY** %汉字%\n```\n第二种解决办法：改关键字类型\n---\n把关键字的类型改成：BINARY\n\n\n这两种办法都可以解决乱码问题\n---","source":"_posts/MySQL使用like查找汉字乱码.md","raw":"---\ntitle: MySQL使用like查找汉字乱码\ndate: 2017-02-08 21:03:34\ntags: [mysql,like]\n---\n第一种解决办法：BINARY\n---\n在关键字之前加上：BINARY，会使关键字强制转换为二进制字符串\n```\nselect id form t where chinese like **BINARY** %汉字%\n```\n第二种解决办法：改关键字类型\n---\n把关键字的类型改成：BINARY\n\n\n这两种办法都可以解决乱码问题\n---","slug":"MySQL使用like查找汉字乱码","published":1,"updated":"2017-02-08T13:04:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrk004iolejdx9rdg2x","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"第一种解决办法：BINARY\"><a href=\"#第一种解决办法：BINARY\" class=\"headerlink\" title=\"第一种解决办法：BINARY\"></a>第一种解决办法：BINARY</h2><p>在关键字之前加上：BINARY，会使关键字强制转换为二进制字符串<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id form t where chinese like **BINARY** %汉字%</span><br></pre></td></tr></table></figure><p></p><h2 id=\"第二种解决办法：改关键字类型\"><a href=\"#第二种解决办法：改关键字类型\" class=\"headerlink\" title=\"第二种解决办法：改关键字类型\"></a>第二种解决办法：改关键字类型</h2><p>把关键字的类型改成：BINARY</p><h2 id=\"这两种办法都可以解决乱码问题\"><a href=\"#这两种办法都可以解决乱码问题\" class=\"headerlink\" title=\"这两种办法都可以解决乱码问题\"></a>这两种办法都可以解决乱码问题</h2><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"第一种解决办法：BINARY\"><a href=\"#第一种解决办法：BINARY\" class=\"headerlink\" title=\"第一种解决办法：BINARY\"></a>第一种解决办法：BINARY</h2><p>在关键字之前加上：BINARY，会使关键字强制转换为二进制字符串<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id form t where chinese like **BINARY** %汉字%</span><br></pre></td></tr></table></figure><p></p><h2 id=\"第二种解决办法：改关键字类型\"><a href=\"#第二种解决办法：改关键字类型\" class=\"headerlink\" title=\"第二种解决办法：改关键字类型\"></a>第二种解决办法：改关键字类型</h2><p>把关键字的类型改成：BINARY</p><h2 id=\"这两种办法都可以解决乱码问题\"><a href=\"#这两种办法都可以解决乱码问题\" class=\"headerlink\" title=\"这两种办法都可以解决乱码问题\"></a>这两种办法都可以解决乱码问题</h2><!-- rebuild by neat -->"},{"title":"MySQL索引相关知识和应用","keywords":["mysql","mysql索引"],"date":"2017-05-18T03:10:00.000Z","_content":"hisen库中有一个post表，数据20w，非重复数据20条；\n\n结构如下\n---\n```\nmysql> describe post;\n+---------+---------------+------+-----+---------+----------------+\n| Field   | Type          | Null | Key | Default | Extra          |\n+---------+---------------+------+-----+---------+----------------+\n| id      | int(11)       | NO   | PRI | NULL    | auto_increment |\n| title   | varchar(255)  | YES  | MUL | NULL    |                |\n| content | varchar(2550) | YES  |     | NULL    |                |\n+---------+---------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n```\n添加普通索引\n---\n```\nmysql> alter table post add index index_post_title (title);\nQuery OK, 0 rows affected (1.22 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n```\n删除索引\n---\n```\nmysql> drop index index_post_title on post;\nQuery OK, 0 rows affected (0.02 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n```\n添加索引之后查询速度明显加快\n---\n```\nmysql> select count(title) from post group by title;\n20 rows in set (0.25 sec)\n#加了索引之后\n20 rows in set (0.08 sec)\n```\n使用索引的情况\n---\n1. 表的主关键字:自动建立唯一索引\n2. 表的字段唯一约束:ORACLE利用索引来保证数据的完整性\n3. 直接条件查询的字段\n4. 在SQL中用于条件约束的字段\n5. 查询中与其它表关联的字段\n6. 查询中排序的字段\n7. 查询中统计或分组统计的字段\n\n不使用索引的情况\n---\n1. 表记录太少\n2. 经常插入、删除、修改的表\n3. 数据重复且分布平均的表字段：假如10万数据只有A、B状态，且A、B各50%，这样建立索引就不会提速\n4. 经常和主字段一块查询但主字段索引值比较多的表字段\n\nMySql在建立索引优化时需要注意的问题\n---\n<!--more-->\n1. 创建索引：对于查询占主要的应用来说，索引显得尤为重要。很多时候性能问题很简单的就是因为我们忘了添加索引而造成的，或者说没有添加更为有效的索引导致。如果不加索引的话，那么查找任何哪怕只是一条特定的数据都会进行一次全表扫描，如果一张表的数据量很大而符合条件的结果又很少，那么不加索引会引起致命的性能下降。但是也不是什么情况都非得建索引不可，比如性别可能就只有两个值，建索引不仅没什么优势，还会影响到更新速度，这被称为过度索引。\n2. 复合索引：比如有一条语句是这样的：select * from users where area=’beijing’ and age=22;如果我们是在area和age上分别创建单个索引的话，由于mysql查询每次只能使用一个索引，所以虽然这样已经相对不做索引时全表扫描提高了很多效率，但是如果在area、age两列上创建复合索引的话将带来更高的效率。如果我们创建了(area, age,salary)的复合索引，那么其实相当于创建了(area,age,salary)、(area,age)、(area)三个索引，这被称为最佳左前缀特性。因此我们在创建复合索引时应该将最常用作限制条件的列放在最左边，依次递减。\n3. 索引不会包含有NULL值的列：只要列中包含有NULL值都将不会被包含在索引中，复合索引中只要有一列含有NULL值，那么这一列对于此复合索引就是无效的。所以我们在数据库设计时不要让字段的默认值为NULL。\n4. 使用短索引：对串列进行索引，如果可能应该指定一个前缀长度。例如，如果有一个CHAR(255)的 列，如果在前10 个或20 个字符内，多数值是惟一的，那么就不要对整个列进行索引。短索引不仅可以提高查询速度而且可以节省磁盘空间和I/O操作。\n5. 排序的索引问题：mysql查询只使用一个索引，因此如果where子句中已经使用了索引的话，那么order by中的列是不会使用索引的。因此数据库默认排序可以符合要求的情况下不要使用排序操作；尽量不要包含多个列的排序，如果需要最好给这些列创建复合索引。\n6. like语句操作：一般情况下不鼓励使用like操作，如果非使用不可，如何使用也是一个问题。like “%aaa%” 不会使用索引而like “aaa%”可以使用索引。\n7. 不要在列上进行运算：select * from users where YEAR(adddate);\n8. 不使用NOT IN和操作：NOT IN和操作都不会使用索引将进行全表扫描。NOT IN可以NOT EXISTS代替，id3则可使用id>3 or id","source":"_posts/MySQL索引相关知识和应用.md","raw":"---\ntitle: MySQL索引相关知识和应用\nkeywords: [mysql,mysql索引]\ndate: 2017/5/18 11:10\ntags: [mysql,索引]\ncategories: mysql\n---\nhisen库中有一个post表，数据20w，非重复数据20条；\n\n结构如下\n---\n```\nmysql> describe post;\n+---------+---------------+------+-----+---------+----------------+\n| Field   | Type          | Null | Key | Default | Extra          |\n+---------+---------------+------+-----+---------+----------------+\n| id      | int(11)       | NO   | PRI | NULL    | auto_increment |\n| title   | varchar(255)  | YES  | MUL | NULL    |                |\n| content | varchar(2550) | YES  |     | NULL    |                |\n+---------+---------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n```\n添加普通索引\n---\n```\nmysql> alter table post add index index_post_title (title);\nQuery OK, 0 rows affected (1.22 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n```\n删除索引\n---\n```\nmysql> drop index index_post_title on post;\nQuery OK, 0 rows affected (0.02 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n```\n添加索引之后查询速度明显加快\n---\n```\nmysql> select count(title) from post group by title;\n20 rows in set (0.25 sec)\n#加了索引之后\n20 rows in set (0.08 sec)\n```\n使用索引的情况\n---\n1. 表的主关键字:自动建立唯一索引\n2. 表的字段唯一约束:ORACLE利用索引来保证数据的完整性\n3. 直接条件查询的字段\n4. 在SQL中用于条件约束的字段\n5. 查询中与其它表关联的字段\n6. 查询中排序的字段\n7. 查询中统计或分组统计的字段\n\n不使用索引的情况\n---\n1. 表记录太少\n2. 经常插入、删除、修改的表\n3. 数据重复且分布平均的表字段：假如10万数据只有A、B状态，且A、B各50%，这样建立索引就不会提速\n4. 经常和主字段一块查询但主字段索引值比较多的表字段\n\nMySql在建立索引优化时需要注意的问题\n---\n<!--more-->\n1. 创建索引：对于查询占主要的应用来说，索引显得尤为重要。很多时候性能问题很简单的就是因为我们忘了添加索引而造成的，或者说没有添加更为有效的索引导致。如果不加索引的话，那么查找任何哪怕只是一条特定的数据都会进行一次全表扫描，如果一张表的数据量很大而符合条件的结果又很少，那么不加索引会引起致命的性能下降。但是也不是什么情况都非得建索引不可，比如性别可能就只有两个值，建索引不仅没什么优势，还会影响到更新速度，这被称为过度索引。\n2. 复合索引：比如有一条语句是这样的：select * from users where area=’beijing’ and age=22;如果我们是在area和age上分别创建单个索引的话，由于mysql查询每次只能使用一个索引，所以虽然这样已经相对不做索引时全表扫描提高了很多效率，但是如果在area、age两列上创建复合索引的话将带来更高的效率。如果我们创建了(area, age,salary)的复合索引，那么其实相当于创建了(area,age,salary)、(area,age)、(area)三个索引，这被称为最佳左前缀特性。因此我们在创建复合索引时应该将最常用作限制条件的列放在最左边，依次递减。\n3. 索引不会包含有NULL值的列：只要列中包含有NULL值都将不会被包含在索引中，复合索引中只要有一列含有NULL值，那么这一列对于此复合索引就是无效的。所以我们在数据库设计时不要让字段的默认值为NULL。\n4. 使用短索引：对串列进行索引，如果可能应该指定一个前缀长度。例如，如果有一个CHAR(255)的 列，如果在前10 个或20 个字符内，多数值是惟一的，那么就不要对整个列进行索引。短索引不仅可以提高查询速度而且可以节省磁盘空间和I/O操作。\n5. 排序的索引问题：mysql查询只使用一个索引，因此如果where子句中已经使用了索引的话，那么order by中的列是不会使用索引的。因此数据库默认排序可以符合要求的情况下不要使用排序操作；尽量不要包含多个列的排序，如果需要最好给这些列创建复合索引。\n6. like语句操作：一般情况下不鼓励使用like操作，如果非使用不可，如何使用也是一个问题。like “%aaa%” 不会使用索引而like “aaa%”可以使用索引。\n7. 不要在列上进行运算：select * from users where YEAR(adddate);\n8. 不使用NOT IN和操作：NOT IN和操作都不会使用索引将进行全表扫描。NOT IN可以NOT EXISTS代替，id3则可使用id>3 or id","slug":"MySQL索引相关知识和应用","published":1,"updated":"2017-05-18T03:38:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrm004molejkrlmgcw6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>hisen库中有一个post表，数据20w，非重复数据20条；</p><h2 id=\"结构如下\"><a href=\"#结构如下\" class=\"headerlink\" title=\"结构如下\"></a>结构如下</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe post;</span><br><span class=\"line\">+---------+---------------+------+-----+---------+----------------+</span><br><span class=\"line\">| Field   | Type          | Null | Key | Default | Extra          |</span><br><span class=\"line\">+---------+---------------+------+-----+---------+----------------+</span><br><span class=\"line\">| id      | int(11)       | NO   | PRI | NULL    | auto_increment |</span><br><span class=\"line\">| title   | varchar(255)  | YES  | MUL | NULL    |                |</span><br><span class=\"line\">| content | varchar(2550) | YES  |     | NULL    |                |</span><br><span class=\"line\">+---------+---------------+------+-----+---------+----------------+</span><br><span class=\"line\">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><h2 id=\"添加普通索引\"><a href=\"#添加普通索引\" class=\"headerlink\" title=\"添加普通索引\"></a>添加普通索引</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; alter table post add index index_post_title (title);</span><br><span class=\"line\">Query OK, 0 rows affected (1.22 sec)</span><br><span class=\"line\">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><h2 id=\"删除索引\"><a href=\"#删除索引\" class=\"headerlink\" title=\"删除索引\"></a>删除索引</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; drop index index_post_title on post;</span><br><span class=\"line\">Query OK, 0 rows affected (0.02 sec)</span><br><span class=\"line\">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><h2 id=\"添加索引之后查询速度明显加快\"><a href=\"#添加索引之后查询速度明显加快\" class=\"headerlink\" title=\"添加索引之后查询速度明显加快\"></a>添加索引之后查询速度明显加快</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select count(title) from post group by title;</span><br><span class=\"line\">20 rows in set (0.25 sec)</span><br><span class=\"line\">#加了索引之后</span><br><span class=\"line\">20 rows in set (0.08 sec)</span><br></pre></td></tr></table></figure><h2 id=\"使用索引的情况\"><a href=\"#使用索引的情况\" class=\"headerlink\" title=\"使用索引的情况\"></a>使用索引的情况</h2><ol><li>表的主关键字:自动建立唯一索引</li><li>表的字段唯一约束:ORACLE利用索引来保证数据的完整性</li><li>直接条件查询的字段</li><li>在SQL中用于条件约束的字段</li><li>查询中与其它表关联的字段</li><li>查询中排序的字段</li><li>查询中统计或分组统计的字段</li></ol><h2 id=\"不使用索引的情况\"><a href=\"#不使用索引的情况\" class=\"headerlink\" title=\"不使用索引的情况\"></a>不使用索引的情况</h2><ol><li>表记录太少</li><li>经常插入、删除、修改的表</li><li>数据重复且分布平均的表字段：假如10万数据只有A、B状态，且A、B各50%，这样建立索引就不会提速</li><li>经常和主字段一块查询但主字段索引值比较多的表字段</li></ol><h2 id=\"MySql在建立索引优化时需要注意的问题\"><a href=\"#MySql在建立索引优化时需要注意的问题\" class=\"headerlink\" title=\"MySql在建立索引优化时需要注意的问题\"></a>MySql在建立索引优化时需要注意的问题</h2><a id=\"more\"></a><ol><li>创建索引：对于查询占主要的应用来说，索引显得尤为重要。很多时候性能问题很简单的就是因为我们忘了添加索引而造成的，或者说没有添加更为有效的索引导致。如果不加索引的话，那么查找任何哪怕只是一条特定的数据都会进行一次全表扫描，如果一张表的数据量很大而符合条件的结果又很少，那么不加索引会引起致命的性能下降。但是也不是什么情况都非得建索引不可，比如性别可能就只有两个值，建索引不仅没什么优势，还会影响到更新速度，这被称为过度索引。</li><li>复合索引：比如有一条语句是这样的：select * from users where area=’beijing’ and age=22;如果我们是在area和age上分别创建单个索引的话，由于mysql查询每次只能使用一个索引，所以虽然这样已经相对不做索引时全表扫描提高了很多效率，但是如果在area、age两列上创建复合索引的话将带来更高的效率。如果我们创建了(area, age,salary)的复合索引，那么其实相当于创建了(area,age,salary)、(area,age)、(area)三个索引，这被称为最佳左前缀特性。因此我们在创建复合索引时应该将最常用作限制条件的列放在最左边，依次递减。</li><li>索引不会包含有NULL值的列：只要列中包含有NULL值都将不会被包含在索引中，复合索引中只要有一列含有NULL值，那么这一列对于此复合索引就是无效的。所以我们在数据库设计时不要让字段的默认值为NULL。</li><li>使用短索引：对串列进行索引，如果可能应该指定一个前缀长度。例如，如果有一个CHAR(255)的 列，如果在前10 个或20 个字符内，多数值是惟一的，那么就不要对整个列进行索引。短索引不仅可以提高查询速度而且可以节省磁盘空间和I/O操作。</li><li>排序的索引问题：mysql查询只使用一个索引，因此如果where子句中已经使用了索引的话，那么order by中的列是不会使用索引的。因此数据库默认排序可以符合要求的情况下不要使用排序操作；尽量不要包含多个列的排序，如果需要最好给这些列创建复合索引。</li><li>like语句操作：一般情况下不鼓励使用like操作，如果非使用不可，如何使用也是一个问题。like “%aaa%” 不会使用索引而like “aaa%”可以使用索引。</li><li>不要在列上进行运算：select * from users where YEAR(adddate);</li><li>不使用NOT IN和操作：NOT IN和操作都不会使用索引将进行全表扫描。NOT IN可以NOT EXISTS代替，id3则可使用id&gt;3 or id</li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>hisen库中有一个post表，数据20w，非重复数据20条；</p><h2 id=\"结构如下\"><a href=\"#结构如下\" class=\"headerlink\" title=\"结构如下\"></a>结构如下</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; describe post;</span><br><span class=\"line\">+---------+---------------+------+-----+---------+----------------+</span><br><span class=\"line\">| Field   | Type          | Null | Key | Default | Extra          |</span><br><span class=\"line\">+---------+---------------+------+-----+---------+----------------+</span><br><span class=\"line\">| id      | int(11)       | NO   | PRI | NULL    | auto_increment |</span><br><span class=\"line\">| title   | varchar(255)  | YES  | MUL | NULL    |                |</span><br><span class=\"line\">| content | varchar(2550) | YES  |     | NULL    |                |</span><br><span class=\"line\">+---------+---------------+------+-----+---------+----------------+</span><br><span class=\"line\">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><h2 id=\"添加普通索引\"><a href=\"#添加普通索引\" class=\"headerlink\" title=\"添加普通索引\"></a>添加普通索引</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; alter table post add index index_post_title (title);</span><br><span class=\"line\">Query OK, 0 rows affected (1.22 sec)</span><br><span class=\"line\">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><h2 id=\"删除索引\"><a href=\"#删除索引\" class=\"headerlink\" title=\"删除索引\"></a>删除索引</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; drop index index_post_title on post;</span><br><span class=\"line\">Query OK, 0 rows affected (0.02 sec)</span><br><span class=\"line\">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><h2 id=\"添加索引之后查询速度明显加快\"><a href=\"#添加索引之后查询速度明显加快\" class=\"headerlink\" title=\"添加索引之后查询速度明显加快\"></a>添加索引之后查询速度明显加快</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select count(title) from post group by title;</span><br><span class=\"line\">20 rows in set (0.25 sec)</span><br><span class=\"line\">#加了索引之后</span><br><span class=\"line\">20 rows in set (0.08 sec)</span><br></pre></td></tr></table></figure><h2 id=\"使用索引的情况\"><a href=\"#使用索引的情况\" class=\"headerlink\" title=\"使用索引的情况\"></a>使用索引的情况</h2><ol><li>表的主关键字:自动建立唯一索引</li><li>表的字段唯一约束:ORACLE利用索引来保证数据的完整性</li><li>直接条件查询的字段</li><li>在SQL中用于条件约束的字段</li><li>查询中与其它表关联的字段</li><li>查询中排序的字段</li><li>查询中统计或分组统计的字段</li></ol><h2 id=\"不使用索引的情况\"><a href=\"#不使用索引的情况\" class=\"headerlink\" title=\"不使用索引的情况\"></a>不使用索引的情况</h2><ol><li>表记录太少</li><li>经常插入、删除、修改的表</li><li>数据重复且分布平均的表字段：假如10万数据只有A、B状态，且A、B各50%，这样建立索引就不会提速</li><li>经常和主字段一块查询但主字段索引值比较多的表字段</li></ol><h2 id=\"MySql在建立索引优化时需要注意的问题\"><a href=\"#MySql在建立索引优化时需要注意的问题\" class=\"headerlink\" title=\"MySql在建立索引优化时需要注意的问题\"></a>MySql在建立索引优化时需要注意的问题</h2>","more":"<ol><li>创建索引：对于查询占主要的应用来说，索引显得尤为重要。很多时候性能问题很简单的就是因为我们忘了添加索引而造成的，或者说没有添加更为有效的索引导致。如果不加索引的话，那么查找任何哪怕只是一条特定的数据都会进行一次全表扫描，如果一张表的数据量很大而符合条件的结果又很少，那么不加索引会引起致命的性能下降。但是也不是什么情况都非得建索引不可，比如性别可能就只有两个值，建索引不仅没什么优势，还会影响到更新速度，这被称为过度索引。</li><li>复合索引：比如有一条语句是这样的：select * from users where area=’beijing’ and age=22;如果我们是在area和age上分别创建单个索引的话，由于mysql查询每次只能使用一个索引，所以虽然这样已经相对不做索引时全表扫描提高了很多效率，但是如果在area、age两列上创建复合索引的话将带来更高的效率。如果我们创建了(area, age,salary)的复合索引，那么其实相当于创建了(area,age,salary)、(area,age)、(area)三个索引，这被称为最佳左前缀特性。因此我们在创建复合索引时应该将最常用作限制条件的列放在最左边，依次递减。</li><li>索引不会包含有NULL值的列：只要列中包含有NULL值都将不会被包含在索引中，复合索引中只要有一列含有NULL值，那么这一列对于此复合索引就是无效的。所以我们在数据库设计时不要让字段的默认值为NULL。</li><li>使用短索引：对串列进行索引，如果可能应该指定一个前缀长度。例如，如果有一个CHAR(255)的 列，如果在前10 个或20 个字符内，多数值是惟一的，那么就不要对整个列进行索引。短索引不仅可以提高查询速度而且可以节省磁盘空间和I/O操作。</li><li>排序的索引问题：mysql查询只使用一个索引，因此如果where子句中已经使用了索引的话，那么order by中的列是不会使用索引的。因此数据库默认排序可以符合要求的情况下不要使用排序操作；尽量不要包含多个列的排序，如果需要最好给这些列创建复合索引。</li><li>like语句操作：一般情况下不鼓励使用like操作，如果非使用不可，如何使用也是一个问题。like “%aaa%” 不会使用索引而like “aaa%”可以使用索引。</li><li>不要在列上进行运算：select * from users where YEAR(adddate);</li><li>不使用NOT IN和操作：NOT IN和操作都不会使用索引将进行全表扫描。NOT IN可以NOT EXISTS代替，id3则可使用id&gt;3 or id</li></ol><!-- rebuild by neat -->"},{"title":"MySql的执行计划","keywords":["mysql执行计划","mysql explain"],"date":"2017-11-23T09:04:00.000Z","_content":"###命令介绍\nMySQL的EXPLAIN命令用于SQL语句的查询执行计划(QEP)。\n\n这条命令的输出结果能够让我们了解MySQL 优化器是如何执行\n\n执行下面的SQL\n```\nexplain select * FROM book where name like '活%'\n```\n得到下面的数据\n\n| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filered | Extra |\n|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|\n| 编号 | 查询方式 | 表名 | 分区 | 连接方式 | 索引(可能) | 索引 | 索引长度 | 作用列 | 行数 | 百分比 | 额外 |\n| 1 | SIMPLE | book | null | ALL | null | null | null | null | 114 | 11.11 | Using where |\n\n###建表语句\n<!--more-->\n```\n#创建个人信息表\nCREATE TABLE hisen_test_explain_people\n(\n  id bigint auto_increment primary key,\n  zipcode char(32) not null default '',\n  address varchar(128) not null default '',\n  lastname char(64) not null default '',\n  firstname char(64) not null default '',\n  birthdate char(10) not null default ''\n);\n#创建索引\nalter table hisen_test_explain_people add key(zipcode,firstname,lastname);\n\n#插入个人信息数据\ninsert into hisen_test_explain_people\n(zipcode,address,lastname,firstname,birthdate)\nvalues\n  ('230031','anhui','zhan','jindong','1989-09-15'),\n  ('100000','beijing','zhang','san','1987-03-11'),\n  ('200000','shanghai','wang','wu','1988-08-25');\n#创建汽车信息表\nCREATE TABLE hisen_test_explain_people_car(\n  people_id bigint,\n  plate_number varchar(16) not null default '',\n  engine_number varchar(16) not null default '',\n  lasttime timestamp\n);\n#插入汽车信息\ninsert into hisen_test_explain_people_car\n(people_id,plate_number,engine_number,lasttime)\nvalues\n  (1,'A121311','12121313','2017-11-23 :21:12:21'),\n  (2,'B121311','1S121313','2016-11-23 :21:12:21'),\n  (3,'C121311','1211SAS1','2015-11-23 :21:12:21');\n```\n###执行计划样例\n```\nexplain select zipcode,firstname,lastname from hisen_test_explain_people;\n+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n| id | select_type | table                     | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | hisen_test_explain_people | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |\n+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n\nexplain select zipcode from (select * from hisen_test_explain_people a) b;\n+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | a     | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |\n+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n\n\nid是用来顺序标识整个查询中SELELCT 语句的，通过上面这个简单的嵌套查询可以看到id越大的语句越先执行。\n该值可能为NULL，如果这一行用来说明的是其他行的联合结果，比如UNION语句：\n\nexplain select * from hisen_test_explain_people where zipcode = 100000 union select * from hisen_test_explain_people where zipcode = 200000;\n+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n| id | select_type  | table                     | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |\n+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n|  1 | PRIMARY      | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |\n|  2 | UNION        | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |\n|NULL| UNION RESULT | <union1,2>                | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |\n+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n```\n###参考\n1. <a href=\"http://blog.csdn.net/u012990533/article/details/45643509\" target=\"_blank\">参数解释</a>\n2. <a href=\"http://blog.csdn.net/u012721013/article/details/54965844\" target=\"_blank\">实战演练</a>\n\n","source":"_posts/MySql的执行计划.md","raw":"---\ntitle: MySql的执行计划\nkeywords: [mysql执行计划,mysql explain]\ndate: 2017/11/23 17:04\ntags: [sql,mysql,explain]\ncategories: sql\n---\n###命令介绍\nMySQL的EXPLAIN命令用于SQL语句的查询执行计划(QEP)。\n\n这条命令的输出结果能够让我们了解MySQL 优化器是如何执行\n\n执行下面的SQL\n```\nexplain select * FROM book where name like '活%'\n```\n得到下面的数据\n\n| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filered | Extra |\n|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|\n| 编号 | 查询方式 | 表名 | 分区 | 连接方式 | 索引(可能) | 索引 | 索引长度 | 作用列 | 行数 | 百分比 | 额外 |\n| 1 | SIMPLE | book | null | ALL | null | null | null | null | 114 | 11.11 | Using where |\n\n###建表语句\n<!--more-->\n```\n#创建个人信息表\nCREATE TABLE hisen_test_explain_people\n(\n  id bigint auto_increment primary key,\n  zipcode char(32) not null default '',\n  address varchar(128) not null default '',\n  lastname char(64) not null default '',\n  firstname char(64) not null default '',\n  birthdate char(10) not null default ''\n);\n#创建索引\nalter table hisen_test_explain_people add key(zipcode,firstname,lastname);\n\n#插入个人信息数据\ninsert into hisen_test_explain_people\n(zipcode,address,lastname,firstname,birthdate)\nvalues\n  ('230031','anhui','zhan','jindong','1989-09-15'),\n  ('100000','beijing','zhang','san','1987-03-11'),\n  ('200000','shanghai','wang','wu','1988-08-25');\n#创建汽车信息表\nCREATE TABLE hisen_test_explain_people_car(\n  people_id bigint,\n  plate_number varchar(16) not null default '',\n  engine_number varchar(16) not null default '',\n  lasttime timestamp\n);\n#插入汽车信息\ninsert into hisen_test_explain_people_car\n(people_id,plate_number,engine_number,lasttime)\nvalues\n  (1,'A121311','12121313','2017-11-23 :21:12:21'),\n  (2,'B121311','1S121313','2016-11-23 :21:12:21'),\n  (3,'C121311','1211SAS1','2015-11-23 :21:12:21');\n```\n###执行计划样例\n```\nexplain select zipcode,firstname,lastname from hisen_test_explain_people;\n+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n| id | select_type | table                     | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | hisen_test_explain_people | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |\n+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n\nexplain select zipcode from (select * from hisen_test_explain_people a) b;\n+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | a     | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |\n+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+\n\n\nid是用来顺序标识整个查询中SELELCT 语句的，通过上面这个简单的嵌套查询可以看到id越大的语句越先执行。\n该值可能为NULL，如果这一行用来说明的是其他行的联合结果，比如UNION语句：\n\nexplain select * from hisen_test_explain_people where zipcode = 100000 union select * from hisen_test_explain_people where zipcode = 200000;\n+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n| id | select_type  | table                     | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |\n+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n|  1 | PRIMARY      | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |\n|  2 | UNION        | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |\n|NULL| UNION RESULT | <union1,2>                | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |\n+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n```\n###参考\n1. <a href=\"http://blog.csdn.net/u012990533/article/details/45643509\" target=\"_blank\">参数解释</a>\n2. <a href=\"http://blog.csdn.net/u012721013/article/details/54965844\" target=\"_blank\">实战演练</a>\n\n","slug":"MySql的执行计划","published":1,"updated":"2017-11-23T13:24:20.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrn004polej4fpm8hht","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>###命令介绍<br>MySQL的EXPLAIN命令用于SQL语句的查询执行计划(QEP)。</p><p>这条命令的输出结果能够让我们了解MySQL 优化器是如何执行</p><p>执行下面的SQL<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">explain select * FROM book where name like &apos;活%&apos;</span><br></pre></td></tr></table></figure><p></p><p>得到下面的数据</p><table><thead><tr><th style=\"text-align:left\">id</th><th style=\"text-align:left\">select_type</th><th style=\"text-align:left\">table</th><th style=\"text-align:left\">partitions</th><th style=\"text-align:left\">type</th><th style=\"text-align:left\">possible_keys</th><th style=\"text-align:left\">key</th><th style=\"text-align:left\">key_len</th><th style=\"text-align:left\">ref</th><th style=\"text-align:left\">rows</th><th style=\"text-align:left\">filered</th><th style=\"text-align:left\">Extra</th></tr></thead><tbody><tr><td style=\"text-align:left\">编号</td><td style=\"text-align:left\">查询方式</td><td style=\"text-align:left\">表名</td><td style=\"text-align:left\">分区</td><td style=\"text-align:left\">连接方式</td><td style=\"text-align:left\">索引(可能)</td><td style=\"text-align:left\">索引</td><td style=\"text-align:left\">索引长度</td><td style=\"text-align:left\">作用列</td><td style=\"text-align:left\">行数</td><td style=\"text-align:left\">百分比</td><td style=\"text-align:left\">额外</td></tr><tr><td style=\"text-align:left\">1</td><td style=\"text-align:left\">SIMPLE</td><td style=\"text-align:left\">book</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">ALL</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">114</td><td style=\"text-align:left\">11.11</td><td style=\"text-align:left\">Using where</td></tr></tbody></table><p>###建表语句<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#创建个人信息表</span><br><span class=\"line\">CREATE TABLE hisen_test_explain_people</span><br><span class=\"line\">(</span><br><span class=\"line\">  id bigint auto_increment primary key,</span><br><span class=\"line\">  zipcode char(32) not null default &apos;&apos;,</span><br><span class=\"line\">  address varchar(128) not null default &apos;&apos;,</span><br><span class=\"line\">  lastname char(64) not null default &apos;&apos;,</span><br><span class=\"line\">  firstname char(64) not null default &apos;&apos;,</span><br><span class=\"line\">  birthdate char(10) not null default &apos;&apos;</span><br><span class=\"line\">);</span><br><span class=\"line\">#创建索引</span><br><span class=\"line\">alter table hisen_test_explain_people add key(zipcode,firstname,lastname);</span><br><span class=\"line\"></span><br><span class=\"line\">#插入个人信息数据</span><br><span class=\"line\">insert into hisen_test_explain_people</span><br><span class=\"line\">(zipcode,address,lastname,firstname,birthdate)</span><br><span class=\"line\">values</span><br><span class=\"line\">  (&apos;230031&apos;,&apos;anhui&apos;,&apos;zhan&apos;,&apos;jindong&apos;,&apos;1989-09-15&apos;),</span><br><span class=\"line\">  (&apos;100000&apos;,&apos;beijing&apos;,&apos;zhang&apos;,&apos;san&apos;,&apos;1987-03-11&apos;),</span><br><span class=\"line\">  (&apos;200000&apos;,&apos;shanghai&apos;,&apos;wang&apos;,&apos;wu&apos;,&apos;1988-08-25&apos;);</span><br><span class=\"line\">#创建汽车信息表</span><br><span class=\"line\">CREATE TABLE hisen_test_explain_people_car(</span><br><span class=\"line\">  people_id bigint,</span><br><span class=\"line\">  plate_number varchar(16) not null default &apos;&apos;,</span><br><span class=\"line\">  engine_number varchar(16) not null default &apos;&apos;,</span><br><span class=\"line\">  lasttime timestamp</span><br><span class=\"line\">);</span><br><span class=\"line\">#插入汽车信息</span><br><span class=\"line\">insert into hisen_test_explain_people_car</span><br><span class=\"line\">(people_id,plate_number,engine_number,lasttime)</span><br><span class=\"line\">values</span><br><span class=\"line\">  (1,&apos;A121311&apos;,&apos;12121313&apos;,&apos;2017-11-23 :21:12:21&apos;),</span><br><span class=\"line\">  (2,&apos;B121311&apos;,&apos;1S121313&apos;,&apos;2016-11-23 :21:12:21&apos;),</span><br><span class=\"line\">  (3,&apos;C121311&apos;,&apos;1211SAS1&apos;,&apos;2015-11-23 :21:12:21&apos;);</span><br></pre></td></tr></table></figure><p></p><p>###执行计划样例<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">explain select zipcode,firstname,lastname from hisen_test_explain_people;</span><br><span class=\"line\">+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">| id | select_type | table                     | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |</span><br><span class=\"line\">+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">|  1 | SIMPLE      | hisen_test_explain_people | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |</span><br><span class=\"line\">+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\"></span><br><span class=\"line\">explain select zipcode from (select * from hisen_test_explain_people a) b;</span><br><span class=\"line\">+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |</span><br><span class=\"line\">+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">|  1 | SIMPLE      | a     | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |</span><br><span class=\"line\">+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">id是用来顺序标识整个查询中SELELCT 语句的，通过上面这个简单的嵌套查询可以看到id越大的语句越先执行。</span><br><span class=\"line\">该值可能为NULL，如果这一行用来说明的是其他行的联合结果，比如UNION语句：</span><br><span class=\"line\"></span><br><span class=\"line\">explain select * from hisen_test_explain_people where zipcode = 100000 union select * from hisen_test_explain_people where zipcode = 200000;</span><br><span class=\"line\">+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class=\"line\">| id | select_type  | table                     | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |</span><br><span class=\"line\">+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class=\"line\">|  1 | PRIMARY      | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |</span><br><span class=\"line\">|  2 | UNION        | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |</span><br><span class=\"line\">|NULL| UNION RESULT | &lt;union1,2&gt;                | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |</span><br><span class=\"line\">+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br></pre></td></tr></table></figure><p></p><p>###参考</p><ol><li><a href=\"http://blog.csdn.net/u012990533/article/details/45643509\" target=\"_blank\">参数解释</a></li><li><a href=\"http://blog.csdn.net/u012721013/article/details/54965844\" target=\"_blank\">实战演练</a></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>###命令介绍<br>MySQL的EXPLAIN命令用于SQL语句的查询执行计划(QEP)。</p><p>这条命令的输出结果能够让我们了解MySQL 优化器是如何执行</p><p>执行下面的SQL<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">explain select * FROM book where name like &apos;活%&apos;</span><br></pre></td></tr></table></figure><p></p><p>得到下面的数据</p><table><thead><tr><th style=\"text-align:left\">id</th><th style=\"text-align:left\">select_type</th><th style=\"text-align:left\">table</th><th style=\"text-align:left\">partitions</th><th style=\"text-align:left\">type</th><th style=\"text-align:left\">possible_keys</th><th style=\"text-align:left\">key</th><th style=\"text-align:left\">key_len</th><th style=\"text-align:left\">ref</th><th style=\"text-align:left\">rows</th><th style=\"text-align:left\">filered</th><th style=\"text-align:left\">Extra</th></tr></thead><tbody><tr><td style=\"text-align:left\">编号</td><td style=\"text-align:left\">查询方式</td><td style=\"text-align:left\">表名</td><td style=\"text-align:left\">分区</td><td style=\"text-align:left\">连接方式</td><td style=\"text-align:left\">索引(可能)</td><td style=\"text-align:left\">索引</td><td style=\"text-align:left\">索引长度</td><td style=\"text-align:left\">作用列</td><td style=\"text-align:left\">行数</td><td style=\"text-align:left\">百分比</td><td style=\"text-align:left\">额外</td></tr><tr><td style=\"text-align:left\">1</td><td style=\"text-align:left\">SIMPLE</td><td style=\"text-align:left\">book</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">ALL</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">null</td><td style=\"text-align:left\">114</td><td style=\"text-align:left\">11.11</td><td style=\"text-align:left\">Using where</td></tr></tbody></table><p>###建表语句<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#创建个人信息表</span><br><span class=\"line\">CREATE TABLE hisen_test_explain_people</span><br><span class=\"line\">(</span><br><span class=\"line\">  id bigint auto_increment primary key,</span><br><span class=\"line\">  zipcode char(32) not null default &apos;&apos;,</span><br><span class=\"line\">  address varchar(128) not null default &apos;&apos;,</span><br><span class=\"line\">  lastname char(64) not null default &apos;&apos;,</span><br><span class=\"line\">  firstname char(64) not null default &apos;&apos;,</span><br><span class=\"line\">  birthdate char(10) not null default &apos;&apos;</span><br><span class=\"line\">);</span><br><span class=\"line\">#创建索引</span><br><span class=\"line\">alter table hisen_test_explain_people add key(zipcode,firstname,lastname);</span><br><span class=\"line\"></span><br><span class=\"line\">#插入个人信息数据</span><br><span class=\"line\">insert into hisen_test_explain_people</span><br><span class=\"line\">(zipcode,address,lastname,firstname,birthdate)</span><br><span class=\"line\">values</span><br><span class=\"line\">  (&apos;230031&apos;,&apos;anhui&apos;,&apos;zhan&apos;,&apos;jindong&apos;,&apos;1989-09-15&apos;),</span><br><span class=\"line\">  (&apos;100000&apos;,&apos;beijing&apos;,&apos;zhang&apos;,&apos;san&apos;,&apos;1987-03-11&apos;),</span><br><span class=\"line\">  (&apos;200000&apos;,&apos;shanghai&apos;,&apos;wang&apos;,&apos;wu&apos;,&apos;1988-08-25&apos;);</span><br><span class=\"line\">#创建汽车信息表</span><br><span class=\"line\">CREATE TABLE hisen_test_explain_people_car(</span><br><span class=\"line\">  people_id bigint,</span><br><span class=\"line\">  plate_number varchar(16) not null default &apos;&apos;,</span><br><span class=\"line\">  engine_number varchar(16) not null default &apos;&apos;,</span><br><span class=\"line\">  lasttime timestamp</span><br><span class=\"line\">);</span><br><span class=\"line\">#插入汽车信息</span><br><span class=\"line\">insert into hisen_test_explain_people_car</span><br><span class=\"line\">(people_id,plate_number,engine_number,lasttime)</span><br><span class=\"line\">values</span><br><span class=\"line\">  (1,&apos;A121311&apos;,&apos;12121313&apos;,&apos;2017-11-23 :21:12:21&apos;),</span><br><span class=\"line\">  (2,&apos;B121311&apos;,&apos;1S121313&apos;,&apos;2016-11-23 :21:12:21&apos;),</span><br><span class=\"line\">  (3,&apos;C121311&apos;,&apos;1211SAS1&apos;,&apos;2015-11-23 :21:12:21&apos;);</span><br></pre></td></tr></table></figure><p></p><p>###执行计划样例<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">explain select zipcode,firstname,lastname from hisen_test_explain_people;</span><br><span class=\"line\">+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">| id | select_type | table                     | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |</span><br><span class=\"line\">+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">|  1 | SIMPLE      | hisen_test_explain_people | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |</span><br><span class=\"line\">+----+-------------+---------------------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\"></span><br><span class=\"line\">explain select zipcode from (select * from hisen_test_explain_people a) b;</span><br><span class=\"line\">+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |</span><br><span class=\"line\">+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\">|  1 | SIMPLE      | a     | NULL       | index | NULL          | zipcode | 160     | NULL |    3 |   100.00 | Using index |</span><br><span class=\"line\">+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">id是用来顺序标识整个查询中SELELCT 语句的，通过上面这个简单的嵌套查询可以看到id越大的语句越先执行。</span><br><span class=\"line\">该值可能为NULL，如果这一行用来说明的是其他行的联合结果，比如UNION语句：</span><br><span class=\"line\"></span><br><span class=\"line\">explain select * from hisen_test_explain_people where zipcode = 100000 union select * from hisen_test_explain_people where zipcode = 200000;</span><br><span class=\"line\">+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class=\"line\">| id | select_type  | table                     | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |</span><br><span class=\"line\">+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class=\"line\">|  1 | PRIMARY      | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |</span><br><span class=\"line\">|  2 | UNION        | hisen_test_explain_people | NULL       | ALL  | zipcode       | NULL | NULL    | NULL |    3 |    33.33 | Using where     |</span><br><span class=\"line\">|NULL| UNION RESULT | &lt;union1,2&gt;                | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |</span><br><span class=\"line\">+----+--------------+---------------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br></pre></td></tr></table></figure><p></p><p>###参考</p><ol><li><a href=\"http://blog.csdn.net/u012990533/article/details/45643509\" target=\"_blank\">参数解释</a></li><li><a href=\"http://blog.csdn.net/u012721013/article/details/54965844\" target=\"_blank\">实战演练</a></li></ol><!-- rebuild by neat -->"},{"title":"Mybatis-Generator自动生成dao、model、mapper","keywords":["mybatis","Mybatis-Generator自动生成dao、model、mapper","mybatis自动生成","generatorConfig.xml配置"],"date":"2017-08-02T07:35:00.000Z","_content":"一、配置插件\n--\n在resources文件夹下新建：generatorConfig.xml\n\n内容如下：注意修改包名等信息\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n  PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n<!--\n详细说明请看：http://blog.csdn.net/tiantangpw/article/details/51690534\n-->\n<generatorConfiguration>\n\n  <context id=\"mysqlgenerator\" targetRuntime=\"MyBatis3\">\n    <!--数据库配置-->\n    <jdbcConnection connectionURL=\"jdbc:mysql://127.0.0.1:3306/booksystem\"\n      driverClass=\"com.mysql.jdbc.Driver\"\n      password=\"hisen\"\n      userId=\"root\"/>\n      \n    <!--生成Model(实体类，与数据库字段对应的bean)类存放位置-->\n    <javaModelGenerator targetPackage=\"com.hisen.entity\" targetProject=\"src/main/java\">\n      <property name=\"enableSubPackages\" value=\"true\"/>\n      <property name=\"trimStrings\" value=\"true\"/>\n    </javaModelGenerator>\n    <!--生成映射(xxxmapper.xml)文件存放位置-->\n    <sqlMapGenerator targetPackage=\"mapper\" targetProject=\"src/main/resources\">\n      <property name=\"enableSubPackages\" value=\"true\"/>\n    </sqlMapGenerator>\n    <!--生成Dao类存放位置-->\n    <javaClientGenerator type=\"XMLMAPPER\" targetPackage=\"com.hisen.dao\"\n      targetProject=\"src/main/java\">\n      <property name=\"enableSubPackages\" value=\"true\"/>\n    </javaClientGenerator>\n    \n    <!--要生成的表-->\n    <table tableName=\"appointment\"/>\n    <table tableName=\"user\"/>\n  </context>\n\n</generatorConfiguration>\n```\n二、添加maven插件\n--\n<!--more-->\n在pom.xml中添加如下内容：plugins节点内\n```\n<build>\n    <plugins>\n      <plugin>\n        <groupId>org.mybatis.generator</groupId>\n        <artifactId>mybatis-generator-maven-plugin</artifactId>\n        <version>1.3.2</version>\n        <dependencies>\n          <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.5</version>\n          </dependency>\n        </dependencies>\n        <configuration>\n          <overwrite>true</overwrite>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n```\n三、使用\n--\n在idea调出mavenProject界面，选择plugins，找到mybatis-generator，双击即可","source":"_posts/Mybatis-Generator自动生成dao、model、mapper.md","raw":"---\ntitle: Mybatis-Generator自动生成dao、model、mapper\nkeywords: [mybatis,Mybatis-Generator自动生成dao、model、mapper,mybatis自动生成,generatorConfig.xml配置]\ndate: 2017/8/2 15:35\ntags: [mybatis,sql]\ncategories: java\n---\n一、配置插件\n--\n在resources文件夹下新建：generatorConfig.xml\n\n内容如下：注意修改包名等信息\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n  PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n<!--\n详细说明请看：http://blog.csdn.net/tiantangpw/article/details/51690534\n-->\n<generatorConfiguration>\n\n  <context id=\"mysqlgenerator\" targetRuntime=\"MyBatis3\">\n    <!--数据库配置-->\n    <jdbcConnection connectionURL=\"jdbc:mysql://127.0.0.1:3306/booksystem\"\n      driverClass=\"com.mysql.jdbc.Driver\"\n      password=\"hisen\"\n      userId=\"root\"/>\n      \n    <!--生成Model(实体类，与数据库字段对应的bean)类存放位置-->\n    <javaModelGenerator targetPackage=\"com.hisen.entity\" targetProject=\"src/main/java\">\n      <property name=\"enableSubPackages\" value=\"true\"/>\n      <property name=\"trimStrings\" value=\"true\"/>\n    </javaModelGenerator>\n    <!--生成映射(xxxmapper.xml)文件存放位置-->\n    <sqlMapGenerator targetPackage=\"mapper\" targetProject=\"src/main/resources\">\n      <property name=\"enableSubPackages\" value=\"true\"/>\n    </sqlMapGenerator>\n    <!--生成Dao类存放位置-->\n    <javaClientGenerator type=\"XMLMAPPER\" targetPackage=\"com.hisen.dao\"\n      targetProject=\"src/main/java\">\n      <property name=\"enableSubPackages\" value=\"true\"/>\n    </javaClientGenerator>\n    \n    <!--要生成的表-->\n    <table tableName=\"appointment\"/>\n    <table tableName=\"user\"/>\n  </context>\n\n</generatorConfiguration>\n```\n二、添加maven插件\n--\n<!--more-->\n在pom.xml中添加如下内容：plugins节点内\n```\n<build>\n    <plugins>\n      <plugin>\n        <groupId>org.mybatis.generator</groupId>\n        <artifactId>mybatis-generator-maven-plugin</artifactId>\n        <version>1.3.2</version>\n        <dependencies>\n          <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.5</version>\n          </dependency>\n        </dependencies>\n        <configuration>\n          <overwrite>true</overwrite>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n```\n三、使用\n--\n在idea调出mavenProject界面，选择plugins，找到mybatis-generator，双击即可","slug":"Mybatis-Generator自动生成dao、model、mapper","published":1,"updated":"2017-08-02T07:42:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdro004solejq6ziyhn8","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、配置插件\"><a href=\"#一、配置插件\" class=\"headerlink\" title=\"一、配置插件\"></a>一、配置插件</h2><p>在resources文件夹下新建：generatorConfig.xml</p><p>内容如下：注意修改包名等信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE generatorConfiguration</span><br><span class=\"line\">  PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span><br><span class=\"line\">  &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;</span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\">详细说明请看：http://blog.csdn.net/tiantangpw/article/details/51690534</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;generatorConfiguration&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;context id=&quot;mysqlgenerator&quot; targetRuntime=&quot;MyBatis3&quot;&gt;</span><br><span class=\"line\">    &lt;!--数据库配置--&gt;</span><br><span class=\"line\">    &lt;jdbcConnection connectionURL=&quot;jdbc:mysql://127.0.0.1:3306/booksystem&quot;</span><br><span class=\"line\">      driverClass=&quot;com.mysql.jdbc.Driver&quot;</span><br><span class=\"line\">      password=&quot;hisen&quot;</span><br><span class=\"line\">      userId=&quot;root&quot;/&gt;</span><br><span class=\"line\">      </span><br><span class=\"line\">    &lt;!--生成Model(实体类，与数据库字段对应的bean)类存放位置--&gt;</span><br><span class=\"line\">    &lt;javaModelGenerator targetPackage=&quot;com.hisen.entity&quot; targetProject=&quot;src/main/java&quot;&gt;</span><br><span class=\"line\">      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">      &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">    &lt;/javaModelGenerator&gt;</span><br><span class=\"line\">    &lt;!--生成映射(xxxmapper.xml)文件存放位置--&gt;</span><br><span class=\"line\">    &lt;sqlMapGenerator targetPackage=&quot;mapper&quot; targetProject=&quot;src/main/resources&quot;&gt;</span><br><span class=\"line\">      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">    &lt;/sqlMapGenerator&gt;</span><br><span class=\"line\">    &lt;!--生成Dao类存放位置--&gt;</span><br><span class=\"line\">    &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.hisen.dao&quot;</span><br><span class=\"line\">      targetProject=&quot;src/main/java&quot;&gt;</span><br><span class=\"line\">      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">    &lt;/javaClientGenerator&gt;</span><br><span class=\"line\">    </span><br><span class=\"line\">    &lt;!--要生成的表--&gt;</span><br><span class=\"line\">    &lt;table tableName=&quot;appointment&quot;/&gt;</span><br><span class=\"line\">    &lt;table tableName=&quot;user&quot;/&gt;</span><br><span class=\"line\">  &lt;/context&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"二、添加maven插件\"><a href=\"#二、添加maven插件\" class=\"headerlink\" title=\"二、添加maven插件\"></a>二、添加maven插件</h2><a id=\"more\"></a><p>在pom.xml中添加如下内容：plugins节点内<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;build&gt;</span><br><span class=\"line\">    &lt;plugins&gt;</span><br><span class=\"line\">      &lt;plugin&gt;</span><br><span class=\"line\">        &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class=\"line\">        &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class=\"line\">        &lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class=\"line\">        &lt;dependencies&gt;</span><br><span class=\"line\">          &lt;dependency&gt;</span><br><span class=\"line\">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class=\"line\">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class=\"line\">            &lt;version&gt;5.1.5&lt;/version&gt;</span><br><span class=\"line\">          &lt;/dependency&gt;</span><br><span class=\"line\">        &lt;/dependencies&gt;</span><br><span class=\"line\">        &lt;configuration&gt;</span><br><span class=\"line\">          &lt;overwrite&gt;true&lt;/overwrite&gt;</span><br><span class=\"line\">        &lt;/configuration&gt;</span><br><span class=\"line\">      &lt;/plugin&gt;</span><br><span class=\"line\">    &lt;/plugins&gt;</span><br><span class=\"line\">  &lt;/build&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、使用\"><a href=\"#三、使用\" class=\"headerlink\" title=\"三、使用\"></a>三、使用</h2><p>在idea调出mavenProject界面，选择plugins，找到mybatis-generator，双击即可</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、配置插件\"><a href=\"#一、配置插件\" class=\"headerlink\" title=\"一、配置插件\"></a>一、配置插件</h2><p>在resources文件夹下新建：generatorConfig.xml</p><p>内容如下：注意修改包名等信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE generatorConfiguration</span><br><span class=\"line\">  PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span><br><span class=\"line\">  &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;</span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\">详细说明请看：http://blog.csdn.net/tiantangpw/article/details/51690534</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;generatorConfiguration&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;context id=&quot;mysqlgenerator&quot; targetRuntime=&quot;MyBatis3&quot;&gt;</span><br><span class=\"line\">    &lt;!--数据库配置--&gt;</span><br><span class=\"line\">    &lt;jdbcConnection connectionURL=&quot;jdbc:mysql://127.0.0.1:3306/booksystem&quot;</span><br><span class=\"line\">      driverClass=&quot;com.mysql.jdbc.Driver&quot;</span><br><span class=\"line\">      password=&quot;hisen&quot;</span><br><span class=\"line\">      userId=&quot;root&quot;/&gt;</span><br><span class=\"line\">      </span><br><span class=\"line\">    &lt;!--生成Model(实体类，与数据库字段对应的bean)类存放位置--&gt;</span><br><span class=\"line\">    &lt;javaModelGenerator targetPackage=&quot;com.hisen.entity&quot; targetProject=&quot;src/main/java&quot;&gt;</span><br><span class=\"line\">      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">      &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">    &lt;/javaModelGenerator&gt;</span><br><span class=\"line\">    &lt;!--生成映射(xxxmapper.xml)文件存放位置--&gt;</span><br><span class=\"line\">    &lt;sqlMapGenerator targetPackage=&quot;mapper&quot; targetProject=&quot;src/main/resources&quot;&gt;</span><br><span class=\"line\">      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">    &lt;/sqlMapGenerator&gt;</span><br><span class=\"line\">    &lt;!--生成Dao类存放位置--&gt;</span><br><span class=\"line\">    &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.hisen.dao&quot;</span><br><span class=\"line\">      targetProject=&quot;src/main/java&quot;&gt;</span><br><span class=\"line\">      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;</span><br><span class=\"line\">    &lt;/javaClientGenerator&gt;</span><br><span class=\"line\">    </span><br><span class=\"line\">    &lt;!--要生成的表--&gt;</span><br><span class=\"line\">    &lt;table tableName=&quot;appointment&quot;/&gt;</span><br><span class=\"line\">    &lt;table tableName=&quot;user&quot;/&gt;</span><br><span class=\"line\">  &lt;/context&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"二、添加maven插件\"><a href=\"#二、添加maven插件\" class=\"headerlink\" title=\"二、添加maven插件\"></a>二、添加maven插件</h2>","more":"<p>在pom.xml中添加如下内容：plugins节点内<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;build&gt;</span><br><span class=\"line\">    &lt;plugins&gt;</span><br><span class=\"line\">      &lt;plugin&gt;</span><br><span class=\"line\">        &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class=\"line\">        &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class=\"line\">        &lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class=\"line\">        &lt;dependencies&gt;</span><br><span class=\"line\">          &lt;dependency&gt;</span><br><span class=\"line\">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class=\"line\">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class=\"line\">            &lt;version&gt;5.1.5&lt;/version&gt;</span><br><span class=\"line\">          &lt;/dependency&gt;</span><br><span class=\"line\">        &lt;/dependencies&gt;</span><br><span class=\"line\">        &lt;configuration&gt;</span><br><span class=\"line\">          &lt;overwrite&gt;true&lt;/overwrite&gt;</span><br><span class=\"line\">        &lt;/configuration&gt;</span><br><span class=\"line\">      &lt;/plugin&gt;</span><br><span class=\"line\">    &lt;/plugins&gt;</span><br><span class=\"line\">  &lt;/build&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、使用\"><a href=\"#三、使用\" class=\"headerlink\" title=\"三、使用\"></a>三、使用</h2><p>在idea调出mavenProject界面，选择plugins，找到mybatis-generator，双击即可</p><!-- rebuild by neat -->"},{"title":"No MyBatis mapper was found in 'com.xxx.dao' package","keywords":["No MyBatis mapper was found in","No MyBatis mapper was found in 'com.xxx.dao' package"],"date":"2017-08-01T07:26:00.000Z","_content":"\n出错\n---\nmaven项目，启动tomcat的时候报错：\n```\nNo MyBatis mapper was found in '[com.hisen.dao]' package \n```\n这是由于把mybatis的mapper配置文件放在了java代码的目录下\n\n目录结构\n---\n```\n├── java\n│   └── com\n│       └── hisen\n│           ├── dao\n│           │   └── BookDao.java\n│           │   └── BookMapper.xml\n│           ├── entity\n│           │   └── Book.java\n│           ├── service\n│           │   ├── BookService.java\n│           │   └── impl\n│           │       └── BookServiceImpl.java\n│           └── web\n│               └── BookController.java\n├── resources\n│   ├── jdbc.properties\n│   ├── logback.xml\n│   ├── mybatis-config.xml\n│   └── spring\n│       ├── spring-dao.xml\n│       ├── spring-service.xml\n│       └── spring-web.xml\n└── webapp\n    ├── index.jsp\n    └── WEB-INF\n        ├── jsp\n        │   ├── detail.jsp\n        │   └── list.jsp\n        └── web.xml\n```\n\n出错原因\n---\n<!--more-->\n这是因为mapper文件的路径问题：maven在打包的时候默认是认为src/main/java目录下只有java源代码，不会管xml文件。\n\nJava 项目分为两个部分，一个是源码，一个是资源，在使用maven等构建工具时，\n\n默认会将源码编译后再加上资源目录的文件放到target目录下作为最后运行的文件（可以是war,jar,或者目录）。\n\n有时为了方便，我们会在src/main/java源码目录下放了资源文件，例如mybatis的mapper文件，方便我们编程时展开查看。\n\n这时，我们需要设置编译时也将这些配置文件放到target目录下，否则最后的target目录式没有这些文件的。\n\n解决办法\n---\n在项目的pom文件里面配置，让maven也从src/main/java目录下读取xml配置文件\n```\n <build>\n        <!--注意,如果将静态资源放在src/main/java中,那么编译时将被maven忽略,\n        在target目录下将没有这些资源,所以需要将该目录添加为资源目录.\n        -->\n        <resources>\n          <resource>\n            <directory>${basedir}/src/main/java</directory>\n            <includes>\n              <include>**/*.xml</include>\n            </includes>\n          </resource>\n        </resources>\n </build>\n```\n扩展\n---\n如果是把mapper文件什么的放在resources目录下\n\n但是为了分类建了不同的文件夹，也需要修改配置文件，不然会读取不到\n```\n<build>\n  <!--包含下面所有的配置文件（包括子目录）-->\n  <resources>\n    <resource>\n      <directory>${basedir}/src/main/resources</directory>\n      <includes>\n        <include>**/*.properties</include>\n        <include>**/*.xml</include>\n      </includes>\n    </resource>\n  </resources>\n</build>\n```","source":"_posts/No MyBatis mapper was found in '[com.xxx.dao]' package .md","raw":"---\ntitle: No MyBatis mapper was found in 'com.xxx.dao' package \nkeywords: [No MyBatis mapper was found in,No MyBatis mapper was found in 'com.xxx.dao' package]\ndate: 2017/8/1 15:26\ntags: [java,xml]\ncategories: java\n---\n\n出错\n---\nmaven项目，启动tomcat的时候报错：\n```\nNo MyBatis mapper was found in '[com.hisen.dao]' package \n```\n这是由于把mybatis的mapper配置文件放在了java代码的目录下\n\n目录结构\n---\n```\n├── java\n│   └── com\n│       └── hisen\n│           ├── dao\n│           │   └── BookDao.java\n│           │   └── BookMapper.xml\n│           ├── entity\n│           │   └── Book.java\n│           ├── service\n│           │   ├── BookService.java\n│           │   └── impl\n│           │       └── BookServiceImpl.java\n│           └── web\n│               └── BookController.java\n├── resources\n│   ├── jdbc.properties\n│   ├── logback.xml\n│   ├── mybatis-config.xml\n│   └── spring\n│       ├── spring-dao.xml\n│       ├── spring-service.xml\n│       └── spring-web.xml\n└── webapp\n    ├── index.jsp\n    └── WEB-INF\n        ├── jsp\n        │   ├── detail.jsp\n        │   └── list.jsp\n        └── web.xml\n```\n\n出错原因\n---\n<!--more-->\n这是因为mapper文件的路径问题：maven在打包的时候默认是认为src/main/java目录下只有java源代码，不会管xml文件。\n\nJava 项目分为两个部分，一个是源码，一个是资源，在使用maven等构建工具时，\n\n默认会将源码编译后再加上资源目录的文件放到target目录下作为最后运行的文件（可以是war,jar,或者目录）。\n\n有时为了方便，我们会在src/main/java源码目录下放了资源文件，例如mybatis的mapper文件，方便我们编程时展开查看。\n\n这时，我们需要设置编译时也将这些配置文件放到target目录下，否则最后的target目录式没有这些文件的。\n\n解决办法\n---\n在项目的pom文件里面配置，让maven也从src/main/java目录下读取xml配置文件\n```\n <build>\n        <!--注意,如果将静态资源放在src/main/java中,那么编译时将被maven忽略,\n        在target目录下将没有这些资源,所以需要将该目录添加为资源目录.\n        -->\n        <resources>\n          <resource>\n            <directory>${basedir}/src/main/java</directory>\n            <includes>\n              <include>**/*.xml</include>\n            </includes>\n          </resource>\n        </resources>\n </build>\n```\n扩展\n---\n如果是把mapper文件什么的放在resources目录下\n\n但是为了分类建了不同的文件夹，也需要修改配置文件，不然会读取不到\n```\n<build>\n  <!--包含下面所有的配置文件（包括子目录）-->\n  <resources>\n    <resource>\n      <directory>${basedir}/src/main/resources</directory>\n      <includes>\n        <include>**/*.properties</include>\n        <include>**/*.xml</include>\n      </includes>\n    </resource>\n  </resources>\n</build>\n```","slug":"No MyBatis mapper was found in '[com.xxx.dao]' package ","published":1,"updated":"2017-08-01T07:47:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrp004wolejv2vrowxi","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"出错\"><a href=\"#出错\" class=\"headerlink\" title=\"出错\"></a>出错</h2><p>maven项目，启动tomcat的时候报错：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">No MyBatis mapper was found in &apos;[com.hisen.dao]&apos; package</span><br></pre></td></tr></table></figure><p></p><p>这是由于把mybatis的mapper配置文件放在了java代码的目录下</p><h2 id=\"目录结构\"><a href=\"#目录结构\" class=\"headerlink\" title=\"目录结构\"></a>目录结构</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── java</span><br><span class=\"line\">│   └── com</span><br><span class=\"line\">│       └── hisen</span><br><span class=\"line\">│           ├── dao</span><br><span class=\"line\">│           │   └── BookDao.java</span><br><span class=\"line\">│           │   └── BookMapper.xml</span><br><span class=\"line\">│           ├── entity</span><br><span class=\"line\">│           │   └── Book.java</span><br><span class=\"line\">│           ├── service</span><br><span class=\"line\">│           │   ├── BookService.java</span><br><span class=\"line\">│           │   └── impl</span><br><span class=\"line\">│           │       └── BookServiceImpl.java</span><br><span class=\"line\">│           └── web</span><br><span class=\"line\">│               └── BookController.java</span><br><span class=\"line\">├── resources</span><br><span class=\"line\">│   ├── jdbc.properties</span><br><span class=\"line\">│   ├── logback.xml</span><br><span class=\"line\">│   ├── mybatis-config.xml</span><br><span class=\"line\">│   └── spring</span><br><span class=\"line\">│       ├── spring-dao.xml</span><br><span class=\"line\">│       ├── spring-service.xml</span><br><span class=\"line\">│       └── spring-web.xml</span><br><span class=\"line\">└── webapp</span><br><span class=\"line\">    ├── index.jsp</span><br><span class=\"line\">    └── WEB-INF</span><br><span class=\"line\">        ├── jsp</span><br><span class=\"line\">        │   ├── detail.jsp</span><br><span class=\"line\">        │   └── list.jsp</span><br><span class=\"line\">        └── web.xml</span><br></pre></td></tr></table></figure><h2 id=\"出错原因\"><a href=\"#出错原因\" class=\"headerlink\" title=\"出错原因\"></a>出错原因</h2><a id=\"more\"></a><p>这是因为mapper文件的路径问题：maven在打包的时候默认是认为src/main/java目录下只有java源代码，不会管xml文件。</p><p>Java 项目分为两个部分，一个是源码，一个是资源，在使用maven等构建工具时，</p><p>默认会将源码编译后再加上资源目录的文件放到target目录下作为最后运行的文件（可以是war,jar,或者目录）。</p><p>有时为了方便，我们会在src/main/java源码目录下放了资源文件，例如mybatis的mapper文件，方便我们编程时展开查看。</p><p>这时，我们需要设置编译时也将这些配置文件放到target目录下，否则最后的target目录式没有这些文件的。</p><h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>在项目的pom文件里面配置，让maven也从src/main/java目录下读取xml配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;build&gt;</span><br><span class=\"line\">       &lt;!--注意,如果将静态资源放在src/main/java中,那么编译时将被maven忽略,</span><br><span class=\"line\">       在target目录下将没有这些资源,所以需要将该目录添加为资源目录.</span><br><span class=\"line\">       --&gt;</span><br><span class=\"line\">       &lt;resources&gt;</span><br><span class=\"line\">         &lt;resource&gt;</span><br><span class=\"line\">           &lt;directory&gt;$&#123;basedir&#125;/src/main/java&lt;/directory&gt;</span><br><span class=\"line\">           &lt;includes&gt;</span><br><span class=\"line\">             &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class=\"line\">           &lt;/includes&gt;</span><br><span class=\"line\">         &lt;/resource&gt;</span><br><span class=\"line\">       &lt;/resources&gt;</span><br><span class=\"line\">&lt;/build&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"扩展\"><a href=\"#扩展\" class=\"headerlink\" title=\"扩展\"></a>扩展</h2><p>如果是把mapper文件什么的放在resources目录下</p><p>但是为了分类建了不同的文件夹，也需要修改配置文件，不然会读取不到<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;build&gt;</span><br><span class=\"line\">  &lt;!--包含下面所有的配置文件（包括子目录）--&gt;</span><br><span class=\"line\">  &lt;resources&gt;</span><br><span class=\"line\">    &lt;resource&gt;</span><br><span class=\"line\">      &lt;directory&gt;$&#123;basedir&#125;/src/main/resources&lt;/directory&gt;</span><br><span class=\"line\">      &lt;includes&gt;</span><br><span class=\"line\">        &lt;include&gt;**/*.properties&lt;/include&gt;</span><br><span class=\"line\">        &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class=\"line\">      &lt;/includes&gt;</span><br><span class=\"line\">    &lt;/resource&gt;</span><br><span class=\"line\">  &lt;/resources&gt;</span><br><span class=\"line\">&lt;/build&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"出错\"><a href=\"#出错\" class=\"headerlink\" title=\"出错\"></a>出错</h2><p>maven项目，启动tomcat的时候报错：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">No MyBatis mapper was found in &apos;[com.hisen.dao]&apos; package</span><br></pre></td></tr></table></figure><p></p><p>这是由于把mybatis的mapper配置文件放在了java代码的目录下</p><h2 id=\"目录结构\"><a href=\"#目录结构\" class=\"headerlink\" title=\"目录结构\"></a>目录结构</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── java</span><br><span class=\"line\">│   └── com</span><br><span class=\"line\">│       └── hisen</span><br><span class=\"line\">│           ├── dao</span><br><span class=\"line\">│           │   └── BookDao.java</span><br><span class=\"line\">│           │   └── BookMapper.xml</span><br><span class=\"line\">│           ├── entity</span><br><span class=\"line\">│           │   └── Book.java</span><br><span class=\"line\">│           ├── service</span><br><span class=\"line\">│           │   ├── BookService.java</span><br><span class=\"line\">│           │   └── impl</span><br><span class=\"line\">│           │       └── BookServiceImpl.java</span><br><span class=\"line\">│           └── web</span><br><span class=\"line\">│               └── BookController.java</span><br><span class=\"line\">├── resources</span><br><span class=\"line\">│   ├── jdbc.properties</span><br><span class=\"line\">│   ├── logback.xml</span><br><span class=\"line\">│   ├── mybatis-config.xml</span><br><span class=\"line\">│   └── spring</span><br><span class=\"line\">│       ├── spring-dao.xml</span><br><span class=\"line\">│       ├── spring-service.xml</span><br><span class=\"line\">│       └── spring-web.xml</span><br><span class=\"line\">└── webapp</span><br><span class=\"line\">    ├── index.jsp</span><br><span class=\"line\">    └── WEB-INF</span><br><span class=\"line\">        ├── jsp</span><br><span class=\"line\">        │   ├── detail.jsp</span><br><span class=\"line\">        │   └── list.jsp</span><br><span class=\"line\">        └── web.xml</span><br></pre></td></tr></table></figure><h2 id=\"出错原因\"><a href=\"#出错原因\" class=\"headerlink\" title=\"出错原因\"></a>出错原因</h2>","more":"<p>这是因为mapper文件的路径问题：maven在打包的时候默认是认为src/main/java目录下只有java源代码，不会管xml文件。</p><p>Java 项目分为两个部分，一个是源码，一个是资源，在使用maven等构建工具时，</p><p>默认会将源码编译后再加上资源目录的文件放到target目录下作为最后运行的文件（可以是war,jar,或者目录）。</p><p>有时为了方便，我们会在src/main/java源码目录下放了资源文件，例如mybatis的mapper文件，方便我们编程时展开查看。</p><p>这时，我们需要设置编译时也将这些配置文件放到target目录下，否则最后的target目录式没有这些文件的。</p><h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>在项目的pom文件里面配置，让maven也从src/main/java目录下读取xml配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;build&gt;</span><br><span class=\"line\">       &lt;!--注意,如果将静态资源放在src/main/java中,那么编译时将被maven忽略,</span><br><span class=\"line\">       在target目录下将没有这些资源,所以需要将该目录添加为资源目录.</span><br><span class=\"line\">       --&gt;</span><br><span class=\"line\">       &lt;resources&gt;</span><br><span class=\"line\">         &lt;resource&gt;</span><br><span class=\"line\">           &lt;directory&gt;$&#123;basedir&#125;/src/main/java&lt;/directory&gt;</span><br><span class=\"line\">           &lt;includes&gt;</span><br><span class=\"line\">             &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class=\"line\">           &lt;/includes&gt;</span><br><span class=\"line\">         &lt;/resource&gt;</span><br><span class=\"line\">       &lt;/resources&gt;</span><br><span class=\"line\">&lt;/build&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"扩展\"><a href=\"#扩展\" class=\"headerlink\" title=\"扩展\"></a>扩展</h2><p>如果是把mapper文件什么的放在resources目录下</p><p>但是为了分类建了不同的文件夹，也需要修改配置文件，不然会读取不到<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;build&gt;</span><br><span class=\"line\">  &lt;!--包含下面所有的配置文件（包括子目录）--&gt;</span><br><span class=\"line\">  &lt;resources&gt;</span><br><span class=\"line\">    &lt;resource&gt;</span><br><span class=\"line\">      &lt;directory&gt;$&#123;basedir&#125;/src/main/resources&lt;/directory&gt;</span><br><span class=\"line\">      &lt;includes&gt;</span><br><span class=\"line\">        &lt;include&gt;**/*.properties&lt;/include&gt;</span><br><span class=\"line\">        &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class=\"line\">      &lt;/includes&gt;</span><br><span class=\"line\">    &lt;/resource&gt;</span><br><span class=\"line\">  &lt;/resources&gt;</span><br><span class=\"line\">&lt;/build&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Oracle VM VirtualBox命令行打开虚拟机并且后台运行","keywords":["命令行启动虚拟机","VirtualBox命令行打开ubuntu","VirtualBox隐藏到托盘"],"date":"2017-02-18T16:00:01.000Z","_content":"这几天在折腾Ubuntu虚拟机，想着也就让他做一台服务器罢了\n\n没想到安装之后发现一直没法让VirtualBox隐藏到托盘\n\n按正常程序走，打开一个虚拟机会出现两个GUI界面：\n1. VirtualBox界面\n2. 虚拟机界面\n\n第一个可以在打开虚拟机之后关闭，第二个不能关闭也不能隐藏到托盘\n\n痛苦！！！\n\n这里给出解决方案：通过cmd命令行启动并且后台运行\n一、进入VirtualBox安装目录，我这里是\n---\n```\nC:\\tool\\Oracle\\VirtualBox>\n```\n二、列出所有安装的虚拟机\n---\n```\nC:\\tool\\Oracle\\VirtualBox>VBoxManage list vms\n\"centos\" {162f777f-e3c4-4717-8b5b-4a4e43a8b552}\n\"debian\" {48ebecba-77ec-483d-ab73-bf9ee777e2f6}\n\"ubuntu\" {d8050b3a-b04b-4fe9-8a90-16086dac0ae9}\n```\n前面是NAME，后面是UUID，之后的**name**用这连个代替都可以\n三、命令行启动虚拟机\n---\n<!--more-->\n```\nC:\\tool\\Oracle\\VirtualBox>VBoxManage startvm \"ubuntu\" --type headless\nWaiting for VM \"ubuntu\" to power on...\nVM \"ubuntu\" has been successfully started.\n```\nheadless是在后台运行，并且默认开启vrdp服务，可以通过远程桌面工具来访问\n\n下面是打开ubuntu之后用Xshell链接的\n```\nConnecting to 127.0.0.1:2222...\nConnection established.\nTo escape to local shell, press 'Ctrl+Alt+]'.\n\nWelcome to Ubuntu 16.04 LTS (GNU/Linux 4.4.0-62-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\n\n362 个可升级软件包。\n0 个安全更新。\n\nLast login: Sat Feb 18 16:25:58 2017 from 10.0.2.2\nhisen@hisen-VirtualBox:~$ ls\ndownload  公共的  模板  视频  图片  文档  下载  音乐  桌面\n```\n\n四、所有相关的命令\n---\n下面所有的NAME都可以用二中的name和UUID代替\n```\n# 列出所有安装的虚拟机\nVBoxManage list vms\n\n# 后台打开，无界面\nVBoxManage startvm \"NAME\" --type headless \n\n# gui方式启动，跟桌面点击没有区别\nVBoxManage startvm NAME --type gui\n\n# 列出运行中的虚拟机\nVBoxManage list runningvms\n\n# 关闭虚拟机，等价于点击系统关闭按钮，正常关机\nVBoxManage controlvm NAME acpipowerbutton\n\n# 关闭虚拟机，等价于直接关闭电源，非正常关机\nVBoxManage controlvm NAME poweroff\n\n# 暂停虚拟机的运行\nVBoxManage controlvm NAME pause\n\n# 恢复暂停的虚拟机\nVBoxManage controlvm NAME resume\n\n# 保存当前虚拟机的运行状态\nVBoxManage controlvm NAME savestate \n```","source":"_posts/Oracle-VM-VirtualBox命令行打开虚拟机并且后台运行.md","raw":"---\ntitle: Oracle VM VirtualBox命令行打开虚拟机并且后台运行\nkeywords: [命令行启动虚拟机,VirtualBox命令行打开ubuntu,VirtualBox隐藏到托盘]\ntags: [ubuntu,linux]\ndate: 2017-02-19 00:00:01\ncategories: linux\n---\n这几天在折腾Ubuntu虚拟机，想着也就让他做一台服务器罢了\n\n没想到安装之后发现一直没法让VirtualBox隐藏到托盘\n\n按正常程序走，打开一个虚拟机会出现两个GUI界面：\n1. VirtualBox界面\n2. 虚拟机界面\n\n第一个可以在打开虚拟机之后关闭，第二个不能关闭也不能隐藏到托盘\n\n痛苦！！！\n\n这里给出解决方案：通过cmd命令行启动并且后台运行\n一、进入VirtualBox安装目录，我这里是\n---\n```\nC:\\tool\\Oracle\\VirtualBox>\n```\n二、列出所有安装的虚拟机\n---\n```\nC:\\tool\\Oracle\\VirtualBox>VBoxManage list vms\n\"centos\" {162f777f-e3c4-4717-8b5b-4a4e43a8b552}\n\"debian\" {48ebecba-77ec-483d-ab73-bf9ee777e2f6}\n\"ubuntu\" {d8050b3a-b04b-4fe9-8a90-16086dac0ae9}\n```\n前面是NAME，后面是UUID，之后的**name**用这连个代替都可以\n三、命令行启动虚拟机\n---\n<!--more-->\n```\nC:\\tool\\Oracle\\VirtualBox>VBoxManage startvm \"ubuntu\" --type headless\nWaiting for VM \"ubuntu\" to power on...\nVM \"ubuntu\" has been successfully started.\n```\nheadless是在后台运行，并且默认开启vrdp服务，可以通过远程桌面工具来访问\n\n下面是打开ubuntu之后用Xshell链接的\n```\nConnecting to 127.0.0.1:2222...\nConnection established.\nTo escape to local shell, press 'Ctrl+Alt+]'.\n\nWelcome to Ubuntu 16.04 LTS (GNU/Linux 4.4.0-62-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\n\n362 个可升级软件包。\n0 个安全更新。\n\nLast login: Sat Feb 18 16:25:58 2017 from 10.0.2.2\nhisen@hisen-VirtualBox:~$ ls\ndownload  公共的  模板  视频  图片  文档  下载  音乐  桌面\n```\n\n四、所有相关的命令\n---\n下面所有的NAME都可以用二中的name和UUID代替\n```\n# 列出所有安装的虚拟机\nVBoxManage list vms\n\n# 后台打开，无界面\nVBoxManage startvm \"NAME\" --type headless \n\n# gui方式启动，跟桌面点击没有区别\nVBoxManage startvm NAME --type gui\n\n# 列出运行中的虚拟机\nVBoxManage list runningvms\n\n# 关闭虚拟机，等价于点击系统关闭按钮，正常关机\nVBoxManage controlvm NAME acpipowerbutton\n\n# 关闭虚拟机，等价于直接关闭电源，非正常关机\nVBoxManage controlvm NAME poweroff\n\n# 暂停虚拟机的运行\nVBoxManage controlvm NAME pause\n\n# 恢复暂停的虚拟机\nVBoxManage controlvm NAME resume\n\n# 保存当前虚拟机的运行状态\nVBoxManage controlvm NAME savestate \n```","slug":"Oracle-VM-VirtualBox命令行打开虚拟机并且后台运行","published":1,"updated":"2017-02-18T16:15:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrq004zolejznnf4ln3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这几天在折腾Ubuntu虚拟机，想着也就让他做一台服务器罢了</p><p>没想到安装之后发现一直没法让VirtualBox隐藏到托盘</p><p>按正常程序走，打开一个虚拟机会出现两个GUI界面：</p><ol><li>VirtualBox界面</li><li>虚拟机界面</li></ol><p>第一个可以在打开虚拟机之后关闭，第二个不能关闭也不能隐藏到托盘</p><p>痛苦！！！</p><p>这里给出解决方案：通过cmd命令行启动并且后台运行</p><h2 id=\"一、进入VirtualBox安装目录，我这里是\"><a href=\"#一、进入VirtualBox安装目录，我这里是\" class=\"headerlink\" title=\"一、进入VirtualBox安装目录，我这里是\"></a>一、进入VirtualBox安装目录，我这里是</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\tool\\Oracle\\VirtualBox&gt;</span><br></pre></td></tr></table></figure><h2 id=\"二、列出所有安装的虚拟机\"><a href=\"#二、列出所有安装的虚拟机\" class=\"headerlink\" title=\"二、列出所有安装的虚拟机\"></a>二、列出所有安装的虚拟机</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\tool\\Oracle\\VirtualBox&gt;VBoxManage list vms</span><br><span class=\"line\">&quot;centos&quot; &#123;162f777f-e3c4-4717-8b5b-4a4e43a8b552&#125;</span><br><span class=\"line\">&quot;debian&quot; &#123;48ebecba-77ec-483d-ab73-bf9ee777e2f6&#125;</span><br><span class=\"line\">&quot;ubuntu&quot; &#123;d8050b3a-b04b-4fe9-8a90-16086dac0ae9&#125;</span><br></pre></td></tr></table></figure><p>前面是NAME，后面是UUID，之后的<strong>name</strong>用这连个代替都可以</p><h2 id=\"三、命令行启动虚拟机\"><a href=\"#三、命令行启动虚拟机\" class=\"headerlink\" title=\"三、命令行启动虚拟机\"></a>三、命令行启动虚拟机</h2><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\tool\\Oracle\\VirtualBox&gt;VBoxManage startvm &quot;ubuntu&quot; --type headless</span><br><span class=\"line\">Waiting for VM &quot;ubuntu&quot; to power on...</span><br><span class=\"line\">VM &quot;ubuntu&quot; has been successfully started.</span><br></pre></td></tr></table></figure><p>headless是在后台运行，并且默认开启vrdp服务，可以通过远程桌面工具来访问</p><p>下面是打开ubuntu之后用Xshell链接的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connecting to 127.0.0.1:2222...</span><br><span class=\"line\">Connection established.</span><br><span class=\"line\">To escape to local shell, press &apos;Ctrl+Alt+]&apos;.</span><br><span class=\"line\"></span><br><span class=\"line\">Welcome to Ubuntu 16.04 LTS (GNU/Linux 4.4.0-62-generic x86_64)</span><br><span class=\"line\"></span><br><span class=\"line\"> * Documentation:  https://help.ubuntu.com/</span><br><span class=\"line\"></span><br><span class=\"line\">362 个可升级软件包。</span><br><span class=\"line\">0 个安全更新。</span><br><span class=\"line\"></span><br><span class=\"line\">Last login: Sat Feb 18 16:25:58 2017 from 10.0.2.2</span><br><span class=\"line\">hisen@hisen-VirtualBox:~$ ls</span><br><span class=\"line\">download  公共的  模板  视频  图片  文档  下载  音乐  桌面</span><br></pre></td></tr></table></figure><p></p><h2 id=\"四、所有相关的命令\"><a href=\"#四、所有相关的命令\" class=\"headerlink\" title=\"四、所有相关的命令\"></a>四、所有相关的命令</h2><p>下面所有的NAME都可以用二中的name和UUID代替<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 列出所有安装的虚拟机</span><br><span class=\"line\">VBoxManage list vms</span><br><span class=\"line\"></span><br><span class=\"line\"># 后台打开，无界面</span><br><span class=\"line\">VBoxManage startvm &quot;NAME&quot; --type headless </span><br><span class=\"line\"></span><br><span class=\"line\"># gui方式启动，跟桌面点击没有区别</span><br><span class=\"line\">VBoxManage startvm NAME --type gui</span><br><span class=\"line\"></span><br><span class=\"line\"># 列出运行中的虚拟机</span><br><span class=\"line\">VBoxManage list runningvms</span><br><span class=\"line\"></span><br><span class=\"line\"># 关闭虚拟机，等价于点击系统关闭按钮，正常关机</span><br><span class=\"line\">VBoxManage controlvm NAME acpipowerbutton</span><br><span class=\"line\"></span><br><span class=\"line\"># 关闭虚拟机，等价于直接关闭电源，非正常关机</span><br><span class=\"line\">VBoxManage controlvm NAME poweroff</span><br><span class=\"line\"></span><br><span class=\"line\"># 暂停虚拟机的运行</span><br><span class=\"line\">VBoxManage controlvm NAME pause</span><br><span class=\"line\"></span><br><span class=\"line\"># 恢复暂停的虚拟机</span><br><span class=\"line\">VBoxManage controlvm NAME resume</span><br><span class=\"line\"></span><br><span class=\"line\"># 保存当前虚拟机的运行状态</span><br><span class=\"line\">VBoxManage controlvm NAME savestate</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这几天在折腾Ubuntu虚拟机，想着也就让他做一台服务器罢了</p><p>没想到安装之后发现一直没法让VirtualBox隐藏到托盘</p><p>按正常程序走，打开一个虚拟机会出现两个GUI界面：</p><ol><li>VirtualBox界面</li><li>虚拟机界面</li></ol><p>第一个可以在打开虚拟机之后关闭，第二个不能关闭也不能隐藏到托盘</p><p>痛苦！！！</p><p>这里给出解决方案：通过cmd命令行启动并且后台运行</p><h2 id=\"一、进入VirtualBox安装目录，我这里是\"><a href=\"#一、进入VirtualBox安装目录，我这里是\" class=\"headerlink\" title=\"一、进入VirtualBox安装目录，我这里是\"></a>一、进入VirtualBox安装目录，我这里是</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\tool\\Oracle\\VirtualBox&gt;</span><br></pre></td></tr></table></figure><h2 id=\"二、列出所有安装的虚拟机\"><a href=\"#二、列出所有安装的虚拟机\" class=\"headerlink\" title=\"二、列出所有安装的虚拟机\"></a>二、列出所有安装的虚拟机</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\tool\\Oracle\\VirtualBox&gt;VBoxManage list vms</span><br><span class=\"line\">&quot;centos&quot; &#123;162f777f-e3c4-4717-8b5b-4a4e43a8b552&#125;</span><br><span class=\"line\">&quot;debian&quot; &#123;48ebecba-77ec-483d-ab73-bf9ee777e2f6&#125;</span><br><span class=\"line\">&quot;ubuntu&quot; &#123;d8050b3a-b04b-4fe9-8a90-16086dac0ae9&#125;</span><br></pre></td></tr></table></figure><p>前面是NAME，后面是UUID，之后的<strong>name</strong>用这连个代替都可以</p><h2 id=\"三、命令行启动虚拟机\"><a href=\"#三、命令行启动虚拟机\" class=\"headerlink\" title=\"三、命令行启动虚拟机\"></a>三、命令行启动虚拟机</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\tool\\Oracle\\VirtualBox&gt;VBoxManage startvm &quot;ubuntu&quot; --type headless</span><br><span class=\"line\">Waiting for VM &quot;ubuntu&quot; to power on...</span><br><span class=\"line\">VM &quot;ubuntu&quot; has been successfully started.</span><br></pre></td></tr></table></figure><p>headless是在后台运行，并且默认开启vrdp服务，可以通过远程桌面工具来访问</p><p>下面是打开ubuntu之后用Xshell链接的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connecting to 127.0.0.1:2222...</span><br><span class=\"line\">Connection established.</span><br><span class=\"line\">To escape to local shell, press &apos;Ctrl+Alt+]&apos;.</span><br><span class=\"line\"></span><br><span class=\"line\">Welcome to Ubuntu 16.04 LTS (GNU/Linux 4.4.0-62-generic x86_64)</span><br><span class=\"line\"></span><br><span class=\"line\"> * Documentation:  https://help.ubuntu.com/</span><br><span class=\"line\"></span><br><span class=\"line\">362 个可升级软件包。</span><br><span class=\"line\">0 个安全更新。</span><br><span class=\"line\"></span><br><span class=\"line\">Last login: Sat Feb 18 16:25:58 2017 from 10.0.2.2</span><br><span class=\"line\">hisen@hisen-VirtualBox:~$ ls</span><br><span class=\"line\">download  公共的  模板  视频  图片  文档  下载  音乐  桌面</span><br></pre></td></tr></table></figure><p></p><h2 id=\"四、所有相关的命令\"><a href=\"#四、所有相关的命令\" class=\"headerlink\" title=\"四、所有相关的命令\"></a>四、所有相关的命令</h2><p>下面所有的NAME都可以用二中的name和UUID代替<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 列出所有安装的虚拟机</span><br><span class=\"line\">VBoxManage list vms</span><br><span class=\"line\"></span><br><span class=\"line\"># 后台打开，无界面</span><br><span class=\"line\">VBoxManage startvm &quot;NAME&quot; --type headless </span><br><span class=\"line\"></span><br><span class=\"line\"># gui方式启动，跟桌面点击没有区别</span><br><span class=\"line\">VBoxManage startvm NAME --type gui</span><br><span class=\"line\"></span><br><span class=\"line\"># 列出运行中的虚拟机</span><br><span class=\"line\">VBoxManage list runningvms</span><br><span class=\"line\"></span><br><span class=\"line\"># 关闭虚拟机，等价于点击系统关闭按钮，正常关机</span><br><span class=\"line\">VBoxManage controlvm NAME acpipowerbutton</span><br><span class=\"line\"></span><br><span class=\"line\"># 关闭虚拟机，等价于直接关闭电源，非正常关机</span><br><span class=\"line\">VBoxManage controlvm NAME poweroff</span><br><span class=\"line\"></span><br><span class=\"line\"># 暂停虚拟机的运行</span><br><span class=\"line\">VBoxManage controlvm NAME pause</span><br><span class=\"line\"></span><br><span class=\"line\"># 恢复暂停的虚拟机</span><br><span class=\"line\">VBoxManage controlvm NAME resume</span><br><span class=\"line\"></span><br><span class=\"line\"># 保存当前虚拟机的运行状态</span><br><span class=\"line\">VBoxManage controlvm NAME savestate</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"PLSQL注册码 - 9999/12/31","keywords":["PLSQL注册码","PLSQL"],"date":"2017-02-14T01:38:07.000Z","_content":"\n**PLSQL注册码**\n过期时间为：9999/12/31\n```\nRegistration successful\n\n01.601769 - unlimited user licence\nservice contract：9999/12/31\n```\n---\nProduct Code：\n```\n4t46t6vydkvsxekkvf3fjnpzy5wbuhphqz\n```\nserial Number：\n```\n601769\n```\npassword：\n```\nxs374ca\n```","source":"_posts/PLSQL注册码-9999-12-31.md","raw":"---\ntitle: PLSQL注册码 - 9999/12/31\nkeywords: [PLSQL注册码,PLSQL]\ntags: [PLSQL,java]\ndate: 2017-02-14 09:38:07\ncategories: 软件\n---\n\n**PLSQL注册码**\n过期时间为：9999/12/31\n```\nRegistration successful\n\n01.601769 - unlimited user licence\nservice contract：9999/12/31\n```\n---\nProduct Code：\n```\n4t46t6vydkvsxekkvf3fjnpzy5wbuhphqz\n```\nserial Number：\n```\n601769\n```\npassword：\n```\nxs374ca\n```","slug":"PLSQL注册码-9999-12-31","published":1,"updated":"2017-02-14T01:42:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrr0053olej7nb49ky1","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p><strong>PLSQL注册码</strong><br>过期时间为：9999/12/31<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Registration successful</span><br><span class=\"line\"></span><br><span class=\"line\">01.601769 - unlimited user licence</span><br><span class=\"line\">service contract：9999/12/31</span><br></pre></td></tr></table></figure><p></p><hr><p>Product Code：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">4t46t6vydkvsxekkvf3fjnpzy5wbuhphqz</span><br></pre></td></tr></table></figure><p></p><p>serial Number：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">601769</span><br></pre></td></tr></table></figure><p></p><p>password：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xs374ca</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p><strong>PLSQL注册码</strong><br>过期时间为：9999/12/31<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Registration successful</span><br><span class=\"line\"></span><br><span class=\"line\">01.601769 - unlimited user licence</span><br><span class=\"line\">service contract：9999/12/31</span><br></pre></td></tr></table></figure><p></p><hr><p>Product Code：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">4t46t6vydkvsxekkvf3fjnpzy5wbuhphqz</span><br></pre></td></tr></table></figure><p></p><p>serial Number：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">601769</span><br></pre></td></tr></table></figure><p></p><p>password：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xs374ca</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Oracle中exists在update中无法限制住条件，在select中可以","keywords":["oracle","exists"],"date":"2017-03-23T09:12:00.000Z","_content":"\n这个问题是自己写的一个bug，标示不知道原因是什么\n\n现在暂时使用 in 代替解决了\n\n下面的查询是能限制住acct_type\n```\nSELECT ew.customer_id,cf.acct_type\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE cf.acct_type in(2,3)\n  AND ew.customer_id = cf.id\n```\n但是在update的时候,会把acct_type=1的也更新了\n```\nupdate ew_quota_info ew\nset ew.all_amt = 100000\nwhere exists(\nSELECT ew.customer_id\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE cf.acct_type in(2,3)\n  AND ew.customer_id = cf.id\n)\n```","source":"_posts/Oracle中exists在update中无法限制住条件，在select中可以.md","raw":"---\ntitle: Oracle中exists在update中无法限制住条件，在select中可以\nkeywords: [oracle,exists]\ndate: 2017/3/23 17:12\ntags: [oracle,mysql]\ncategories: sql\n---\n\n这个问题是自己写的一个bug，标示不知道原因是什么\n\n现在暂时使用 in 代替解决了\n\n下面的查询是能限制住acct_type\n```\nSELECT ew.customer_id,cf.acct_type\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE cf.acct_type in(2,3)\n  AND ew.customer_id = cf.id\n```\n但是在update的时候,会把acct_type=1的也更新了\n```\nupdate ew_quota_info ew\nset ew.all_amt = 100000\nwhere exists(\nSELECT ew.customer_id\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE cf.acct_type in(2,3)\n  AND ew.customer_id = cf.id\n)\n```","slug":"Oracle中exists在update中无法限制住条件，在select中可以","published":1,"updated":"2017-03-23T09:17:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrr0056olejppn4yvmt","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这个问题是自己写的一个bug，标示不知道原因是什么</p><p>现在暂时使用 in 代替解决了</p><p>下面的查询是能限制住acct_type<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ew.customer_id,cf.acct_type</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE cf.acct_type in(2,3)</span><br><span class=\"line\">  AND ew.customer_id = cf.id</span><br></pre></td></tr></table></figure><p></p><p>但是在update的时候,会把acct_type=1的也更新了<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update ew_quota_info ew</span><br><span class=\"line\">set ew.all_amt = 100000</span><br><span class=\"line\">where exists(</span><br><span class=\"line\">SELECT ew.customer_id</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE cf.acct_type in(2,3)</span><br><span class=\"line\">  AND ew.customer_id = cf.id</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这个问题是自己写的一个bug，标示不知道原因是什么</p><p>现在暂时使用 in 代替解决了</p><p>下面的查询是能限制住acct_type<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ew.customer_id,cf.acct_type</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE cf.acct_type in(2,3)</span><br><span class=\"line\">  AND ew.customer_id = cf.id</span><br></pre></td></tr></table></figure><p></p><p>但是在update的时候,会把acct_type=1的也更新了<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update ew_quota_info ew</span><br><span class=\"line\">set ew.all_amt = 100000</span><br><span class=\"line\">where exists(</span><br><span class=\"line\">SELECT ew.customer_id</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE cf.acct_type in(2,3)</span><br><span class=\"line\">  AND ew.customer_id = cf.id</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Oracle性能优化常用的SQL","keywords":["Oracle性能优化常用的SQL","oracle优化"],"date":"2017-03-29T02:00:00.000Z","_content":"\n使用如下sql能查出相应的信息，oracle博大精深要掌握得花时间\n\n太长了，来个阅读全文吧\n<!--more-->\n```\n--显示数据库当前连接数\nselect count(*) from v$process;\n\n--显示数据库最大连接数\nselect value from v$parameter where name ='processes';\n\n--修改最大Oracle最大连接数:\nalter system set processes = 300 scope = spfile;\n\n--显示当前session连接数\nselect count(*) from v$session;\n\n--查看当前有哪些用户正在使用数据\nSELECT osuser, a.username,cpu_time/executions/1000000||'s', sql_fulltext,machine from v$session a, v$sqlarea b where a.sql_address =b.address order by cpu_time/executions desc;\n\n--查看连接oracle的所有机器的连接数\nselect machine,count(*) from v$session group by machine;\n\n--查看连接oracle的所有机器的连接数和状态\nselect machine,status,count(*) from v$session group by machine,status order by status;\n\n--查看消耗磁盘读取最多的SQL Top 5：\nselect disk_reads,sql_text,SQL_FULLTEXT\nfrom (select sql_text,disk_reads,SQL_FULLTEXT,\n   dense_rank() over\n     (order by disk_reads desc) disk_reads_rank\n   from v$sql)\nwhere disk_reads_rank <=5;\n\n--开始\n--通过linux中消耗资源高的进程号获取oracle消耗资源的sql语句：\n--1.linux中使用top命名查看oracle进程中消耗资源最高的进程号；\n--2.oracle中使用命令：\nselect c.spid,a.p1,a.p1raw,a.p2,a.event,b.sql_text,b.SQL_FULLTEXT,b.SQL_ID \nfrom v$session a,v$sql b,v$process c \nwhere a.wait_class<>'Idle' and a.sql_id=b.sql_id and a.PADDR=c.addr \norder by event;\n--3.查询结果显示出各个sql语句对应的进程号，从中找出top命令中对应消耗资源高的进程号即可找到相应的sql语句。\n--结束\n\n--判断回滚段竞争的SQL语句：（当Ratio大于2时存在回滚段竞争，需要增加更多的回滚段）\nselect rn.name, rs.GETS, rs.WAITS, (rs.WAITS / rs.GETS) * 100 ratio\nfrom v$rollstat rs, v$rollname rn\nwhere rs.USN = rn.usn;\n\n---判断恢复日志竞争的SQL语句：（immediate_contention或wait_contention的值大于1时存在竞争）\nselect name,\n(t.IMMEDIATE_MISSES / decode((t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES),0,-1,(t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES))) * 100 immediate_contention,\n(t.MISSES / decode((t.GETS + t.MISSES), 0, -1, (t.GETS + t.MISSES))) * 100 wait_contention\nfrom v$latch t\nwhere name in ('redo copy', 'redo allocation');\n\n--判断表空间碎片：（如果最大空闲空间占总空间很大比例则可能不存在碎片，如果比例较小，且有许多空闲空间，则可能碎片很多）\nselect t.tablespace_name,\nsum(t.bytes),\nmax(t.bytes),\ncount(*),\nmax(t.bytes) / sum(t.bytes) radio\nfrom dba_free_space t\ngroup by t.tablespace_name\norder by t.tablespace_name;\n\n--确定命中排序域的次数：\nselect t.NAME, t.VALUE from v$sysstat t where t.NAME like 'sort%'\n\n--查看当前SGA值：SGA(System Global Area)系统全局区。这是一个非常庞大的内存区间\nselect * from v$sga;\n\n--确定高速缓冲区命中率：（如果命中率低于70％，则应该加大init.ora参数中的DB_BLOCK_BUFFER的值）\nselect 1 - sum(decode(name, 'physical reads', value, 0)) /\n(sum(decode(name, 'db block gets', value, 0)) +\nsum(decode(name, 'consistent gets', value, 0))) hit_ratio\nfrom v$sysstat t\nwhere name in ('physical reads', 'db block gets', 'consistent gets');\n\n--确定共享池中的命中率：（如果ratio1大于1时，需要加大共享池，如果ratio2大于10％时，需要加大共享池SHARED_POOL_SIZE）\nselect * from\n(\n  select sum(pins) pins,\n  sum(reloads) reloads,\n  (sum(reloads) / sum(pins)) * 100 ratio1\n  from v$librarycache\n),\n(\n  select sum(gets) gets,\n  sum(getmisses) getmisses,\n  (sum(getmisses) / sum(gets)) * 100 ratio2\n  from v$rowcache\n)\n\n--查询INIT.ORA参数：\nselect * from v$parameter;\n\n--求当前会话的SID，SERIAL#\nSELECT Sid, Serial# FROM V$session\nWHERE Audsid = Sys_Context('USERENV', 'SESSIONID');\n\n--查询session的OS进程ID(有输入)\nSELECT p.Spid \"OS Thread\", b.NAME \"Name-User\", s.Program, s.Sid, s.Serial#,s.Osuser, s.Machine\nFROM V$process p, V$session s, V$bgprocess b\nWHERE p.Addr = s.Paddr\nAND p.Addr = b.Paddr And (s.sid=&1 or p.spid=&1)\nUNION ALL\nSELECT p.Spid \"OS Thread\", s.Username \"Name-User\", s.Program, s.Sid,s.Serial#, s.Osuser, s.Machine\nFROM V$process p, V$session s\nWHERE p.Addr = s.Paddr\nAnd (s.sid=&1 or p.spid=&1)\nAND s.Username IS NOT NULL;\n\n--查看锁（lock）情况\nSELECT /*+ RULE */ Ls.Osuser Os_User_Name, Ls.Username User_Name,Decode(Ls.TYPE,\n'RW', 'Row wait enqueue lock', 'TM', 'DML enqueue lock','TX', 'Transaction enqueue lock', 'UL', 'User supplied lock') Lock_Type,o.Object_Name OBJECT,Decode(Ls.Lmode,1, NULL, 2, 'Row Share', 3, 'Row Exclusive',\n4, 'Share', 5, 'Share Row Exclusive', 6, 'Exclusive',NULL) Lock_Mode,o.Owner, Ls.Sid, Ls.Serial# Serial_Num, Ls.Id1, Ls.Id2 FROM Sys.Dba_Objects o, \n(SELECT s.Osuser, s.Username, l.TYPE, l.Lmode, s.Sid, s.Serial#, l.Id1,l.Id2 FROM V$session s, V$lock l\nWHERE s.Sid = l.Sid) Ls\nWHERE o.Object_Id = Ls.Id1\nAND o.Owner <> 'SYS'\nORDER BY o.Owner, o.Object_Name;\n\n--查看等待（wait）情况\nSELECT Ws.CLASS, Ws.COUNT COUNT, SUM(Ss.VALUE) Sum_Value\nFROM V$waitstat Ws, V$sysstat Ss\nWHERE Ss.NAME IN ('db block gets', 'consistent gets')\nGROUP BY Ws.CLASS, Ws.COUNT;\n\n--求process/session的状态\nSELECT p.Pid, p.Spid, s.Program, s.Sid, s.Serial#\nFROM V$process p, V$session s\nWHERE s.Paddr = p.Addr;\n\n--查看表空间的名称及大小\nselect t.tablespace_name, round(sum(bytes/(1024*1024)),0) ts_size\nfrom dba_tablespaces t, dba_data_files d\nwhere t.tablespace_name = d.tablespace_name\ngroup by t.tablespace_name;\n\n--查看表空间物理文件的名称及大小\nselect tablespace_name, file_id, file_name,\nround(bytes/(1024*1024),0) total_space\nfrom dba_data_files\norder by tablespace_name;\n\n--查看回滚段名称及大小\nselect segment_name, tablespace_name, r.status,\n(initial_extent/1024) InitialExtent,(next_extent/1024) NextExtent,\n\n--查看控制文件\nselect name from v$controlfile;\n\n--查看日志文件\nselect member from v$logfile;\n\n--查看表空间的使用情况\nselect sum(bytes)/(1024*1024) as free_space,tablespace_name\nfrom dba_free_space\ngroup by tablespace_name;\nSELECT A.TABLESPACE_NAME,A.BYTES TOTAL,B.BYTES USED, C.BYTES FREE,\n(B.BYTES*100)/A.BYTES \"% USED\",(C.BYTES*100)/A.BYTES \"% FREE\"\nFROM SYS.SM$TS_AVAIL A,SYS.SM$TS_USED B,SYS.SM$TS_FREE C\nWHERE A.TABLESPACE_NAME=B.TABLESPACE_NAME AND A.TABLESPACE_NAME=C.TABLESPACE_NAME;\n\n--捕捉运行很久的SQL\nselect username,sid,opname,\nround(sofar*100 / totalwork,0) || '%' as progress,\ntime_remaining,sql_text\nfrom v$session_longops , v$sql\nwhere time_remaining <> 0\nand sql_address = address\nand sql_hash_value = hash_value\n\n--耗资源的进程（top session）\nselect s.schemaname schema_name, decode(sign(48 - command), 1,\nto_char(command), 'Action Code #' || to_char(command) ) action, status\nsession_status, s.osuser os_user_name, s.sid, p.spid , s.serial# serial_num,\nnvl(s.username, '[Oracle process]') user_name, s.terminal terminal,\ns.program program, st.value criteria_value from v$sesstat st, v$session s , v$process p\nwhere st.sid = s.sid and st.statistic# = to_number('38') and ('ALL' = 'ALL'\nor s.status = 'ALL') and p.addr = s.paddr order by st.value desc, p.spid asc, s.username asc, s.osuser asc\n\n--查看有哪些实例在运行：\nselect * from v$active_instances;\n```","source":"_posts/Oracle性能优化常用的SQL.md","raw":"---\ntitle: Oracle性能优化常用的SQL\nkeywords: [Oracle性能优化常用的SQL,oracle优化]\ndate: 2017/3/29 10:00\ntags: [oracle]\ncategories: oracle\n---\n\n使用如下sql能查出相应的信息，oracle博大精深要掌握得花时间\n\n太长了，来个阅读全文吧\n<!--more-->\n```\n--显示数据库当前连接数\nselect count(*) from v$process;\n\n--显示数据库最大连接数\nselect value from v$parameter where name ='processes';\n\n--修改最大Oracle最大连接数:\nalter system set processes = 300 scope = spfile;\n\n--显示当前session连接数\nselect count(*) from v$session;\n\n--查看当前有哪些用户正在使用数据\nSELECT osuser, a.username,cpu_time/executions/1000000||'s', sql_fulltext,machine from v$session a, v$sqlarea b where a.sql_address =b.address order by cpu_time/executions desc;\n\n--查看连接oracle的所有机器的连接数\nselect machine,count(*) from v$session group by machine;\n\n--查看连接oracle的所有机器的连接数和状态\nselect machine,status,count(*) from v$session group by machine,status order by status;\n\n--查看消耗磁盘读取最多的SQL Top 5：\nselect disk_reads,sql_text,SQL_FULLTEXT\nfrom (select sql_text,disk_reads,SQL_FULLTEXT,\n   dense_rank() over\n     (order by disk_reads desc) disk_reads_rank\n   from v$sql)\nwhere disk_reads_rank <=5;\n\n--开始\n--通过linux中消耗资源高的进程号获取oracle消耗资源的sql语句：\n--1.linux中使用top命名查看oracle进程中消耗资源最高的进程号；\n--2.oracle中使用命令：\nselect c.spid,a.p1,a.p1raw,a.p2,a.event,b.sql_text,b.SQL_FULLTEXT,b.SQL_ID \nfrom v$session a,v$sql b,v$process c \nwhere a.wait_class<>'Idle' and a.sql_id=b.sql_id and a.PADDR=c.addr \norder by event;\n--3.查询结果显示出各个sql语句对应的进程号，从中找出top命令中对应消耗资源高的进程号即可找到相应的sql语句。\n--结束\n\n--判断回滚段竞争的SQL语句：（当Ratio大于2时存在回滚段竞争，需要增加更多的回滚段）\nselect rn.name, rs.GETS, rs.WAITS, (rs.WAITS / rs.GETS) * 100 ratio\nfrom v$rollstat rs, v$rollname rn\nwhere rs.USN = rn.usn;\n\n---判断恢复日志竞争的SQL语句：（immediate_contention或wait_contention的值大于1时存在竞争）\nselect name,\n(t.IMMEDIATE_MISSES / decode((t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES),0,-1,(t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES))) * 100 immediate_contention,\n(t.MISSES / decode((t.GETS + t.MISSES), 0, -1, (t.GETS + t.MISSES))) * 100 wait_contention\nfrom v$latch t\nwhere name in ('redo copy', 'redo allocation');\n\n--判断表空间碎片：（如果最大空闲空间占总空间很大比例则可能不存在碎片，如果比例较小，且有许多空闲空间，则可能碎片很多）\nselect t.tablespace_name,\nsum(t.bytes),\nmax(t.bytes),\ncount(*),\nmax(t.bytes) / sum(t.bytes) radio\nfrom dba_free_space t\ngroup by t.tablespace_name\norder by t.tablespace_name;\n\n--确定命中排序域的次数：\nselect t.NAME, t.VALUE from v$sysstat t where t.NAME like 'sort%'\n\n--查看当前SGA值：SGA(System Global Area)系统全局区。这是一个非常庞大的内存区间\nselect * from v$sga;\n\n--确定高速缓冲区命中率：（如果命中率低于70％，则应该加大init.ora参数中的DB_BLOCK_BUFFER的值）\nselect 1 - sum(decode(name, 'physical reads', value, 0)) /\n(sum(decode(name, 'db block gets', value, 0)) +\nsum(decode(name, 'consistent gets', value, 0))) hit_ratio\nfrom v$sysstat t\nwhere name in ('physical reads', 'db block gets', 'consistent gets');\n\n--确定共享池中的命中率：（如果ratio1大于1时，需要加大共享池，如果ratio2大于10％时，需要加大共享池SHARED_POOL_SIZE）\nselect * from\n(\n  select sum(pins) pins,\n  sum(reloads) reloads,\n  (sum(reloads) / sum(pins)) * 100 ratio1\n  from v$librarycache\n),\n(\n  select sum(gets) gets,\n  sum(getmisses) getmisses,\n  (sum(getmisses) / sum(gets)) * 100 ratio2\n  from v$rowcache\n)\n\n--查询INIT.ORA参数：\nselect * from v$parameter;\n\n--求当前会话的SID，SERIAL#\nSELECT Sid, Serial# FROM V$session\nWHERE Audsid = Sys_Context('USERENV', 'SESSIONID');\n\n--查询session的OS进程ID(有输入)\nSELECT p.Spid \"OS Thread\", b.NAME \"Name-User\", s.Program, s.Sid, s.Serial#,s.Osuser, s.Machine\nFROM V$process p, V$session s, V$bgprocess b\nWHERE p.Addr = s.Paddr\nAND p.Addr = b.Paddr And (s.sid=&1 or p.spid=&1)\nUNION ALL\nSELECT p.Spid \"OS Thread\", s.Username \"Name-User\", s.Program, s.Sid,s.Serial#, s.Osuser, s.Machine\nFROM V$process p, V$session s\nWHERE p.Addr = s.Paddr\nAnd (s.sid=&1 or p.spid=&1)\nAND s.Username IS NOT NULL;\n\n--查看锁（lock）情况\nSELECT /*+ RULE */ Ls.Osuser Os_User_Name, Ls.Username User_Name,Decode(Ls.TYPE,\n'RW', 'Row wait enqueue lock', 'TM', 'DML enqueue lock','TX', 'Transaction enqueue lock', 'UL', 'User supplied lock') Lock_Type,o.Object_Name OBJECT,Decode(Ls.Lmode,1, NULL, 2, 'Row Share', 3, 'Row Exclusive',\n4, 'Share', 5, 'Share Row Exclusive', 6, 'Exclusive',NULL) Lock_Mode,o.Owner, Ls.Sid, Ls.Serial# Serial_Num, Ls.Id1, Ls.Id2 FROM Sys.Dba_Objects o, \n(SELECT s.Osuser, s.Username, l.TYPE, l.Lmode, s.Sid, s.Serial#, l.Id1,l.Id2 FROM V$session s, V$lock l\nWHERE s.Sid = l.Sid) Ls\nWHERE o.Object_Id = Ls.Id1\nAND o.Owner <> 'SYS'\nORDER BY o.Owner, o.Object_Name;\n\n--查看等待（wait）情况\nSELECT Ws.CLASS, Ws.COUNT COUNT, SUM(Ss.VALUE) Sum_Value\nFROM V$waitstat Ws, V$sysstat Ss\nWHERE Ss.NAME IN ('db block gets', 'consistent gets')\nGROUP BY Ws.CLASS, Ws.COUNT;\n\n--求process/session的状态\nSELECT p.Pid, p.Spid, s.Program, s.Sid, s.Serial#\nFROM V$process p, V$session s\nWHERE s.Paddr = p.Addr;\n\n--查看表空间的名称及大小\nselect t.tablespace_name, round(sum(bytes/(1024*1024)),0) ts_size\nfrom dba_tablespaces t, dba_data_files d\nwhere t.tablespace_name = d.tablespace_name\ngroup by t.tablespace_name;\n\n--查看表空间物理文件的名称及大小\nselect tablespace_name, file_id, file_name,\nround(bytes/(1024*1024),0) total_space\nfrom dba_data_files\norder by tablespace_name;\n\n--查看回滚段名称及大小\nselect segment_name, tablespace_name, r.status,\n(initial_extent/1024) InitialExtent,(next_extent/1024) NextExtent,\n\n--查看控制文件\nselect name from v$controlfile;\n\n--查看日志文件\nselect member from v$logfile;\n\n--查看表空间的使用情况\nselect sum(bytes)/(1024*1024) as free_space,tablespace_name\nfrom dba_free_space\ngroup by tablespace_name;\nSELECT A.TABLESPACE_NAME,A.BYTES TOTAL,B.BYTES USED, C.BYTES FREE,\n(B.BYTES*100)/A.BYTES \"% USED\",(C.BYTES*100)/A.BYTES \"% FREE\"\nFROM SYS.SM$TS_AVAIL A,SYS.SM$TS_USED B,SYS.SM$TS_FREE C\nWHERE A.TABLESPACE_NAME=B.TABLESPACE_NAME AND A.TABLESPACE_NAME=C.TABLESPACE_NAME;\n\n--捕捉运行很久的SQL\nselect username,sid,opname,\nround(sofar*100 / totalwork,0) || '%' as progress,\ntime_remaining,sql_text\nfrom v$session_longops , v$sql\nwhere time_remaining <> 0\nand sql_address = address\nand sql_hash_value = hash_value\n\n--耗资源的进程（top session）\nselect s.schemaname schema_name, decode(sign(48 - command), 1,\nto_char(command), 'Action Code #' || to_char(command) ) action, status\nsession_status, s.osuser os_user_name, s.sid, p.spid , s.serial# serial_num,\nnvl(s.username, '[Oracle process]') user_name, s.terminal terminal,\ns.program program, st.value criteria_value from v$sesstat st, v$session s , v$process p\nwhere st.sid = s.sid and st.statistic# = to_number('38') and ('ALL' = 'ALL'\nor s.status = 'ALL') and p.addr = s.paddr order by st.value desc, p.spid asc, s.username asc, s.osuser asc\n\n--查看有哪些实例在运行：\nselect * from v$active_instances;\n```","slug":"Oracle性能优化常用的SQL","published":1,"updated":"2017-03-29T02:02:54.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrt005aolej7bf55d9b","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>使用如下sql能查出相应的信息，oracle博大精深要掌握得花时间</p><p>太长了，来个阅读全文吧<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--显示数据库当前连接数</span><br><span class=\"line\">select count(*) from v$process;</span><br><span class=\"line\"></span><br><span class=\"line\">--显示数据库最大连接数</span><br><span class=\"line\">select value from v$parameter where name =&apos;processes&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">--修改最大Oracle最大连接数:</span><br><span class=\"line\">alter system set processes = 300 scope = spfile;</span><br><span class=\"line\"></span><br><span class=\"line\">--显示当前session连接数</span><br><span class=\"line\">select count(*) from v$session;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看当前有哪些用户正在使用数据</span><br><span class=\"line\">SELECT osuser, a.username,cpu_time/executions/1000000||&apos;s&apos;, sql_fulltext,machine from v$session a, v$sqlarea b where a.sql_address =b.address order by cpu_time/executions desc;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看连接oracle的所有机器的连接数</span><br><span class=\"line\">select machine,count(*) from v$session group by machine;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看连接oracle的所有机器的连接数和状态</span><br><span class=\"line\">select machine,status,count(*) from v$session group by machine,status order by status;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看消耗磁盘读取最多的SQL Top 5：</span><br><span class=\"line\">select disk_reads,sql_text,SQL_FULLTEXT</span><br><span class=\"line\">from (select sql_text,disk_reads,SQL_FULLTEXT,</span><br><span class=\"line\">   dense_rank() over</span><br><span class=\"line\">     (order by disk_reads desc) disk_reads_rank</span><br><span class=\"line\">   from v$sql)</span><br><span class=\"line\">where disk_reads_rank &lt;=5;</span><br><span class=\"line\"></span><br><span class=\"line\">--开始</span><br><span class=\"line\">--通过linux中消耗资源高的进程号获取oracle消耗资源的sql语句：</span><br><span class=\"line\">--1.linux中使用top命名查看oracle进程中消耗资源最高的进程号；</span><br><span class=\"line\">--2.oracle中使用命令：</span><br><span class=\"line\">select c.spid,a.p1,a.p1raw,a.p2,a.event,b.sql_text,b.SQL_FULLTEXT,b.SQL_ID </span><br><span class=\"line\">from v$session a,v$sql b,v$process c </span><br><span class=\"line\">where a.wait_class&lt;&gt;&apos;Idle&apos; and a.sql_id=b.sql_id and a.PADDR=c.addr </span><br><span class=\"line\">order by event;</span><br><span class=\"line\">--3.查询结果显示出各个sql语句对应的进程号，从中找出top命令中对应消耗资源高的进程号即可找到相应的sql语句。</span><br><span class=\"line\">--结束</span><br><span class=\"line\"></span><br><span class=\"line\">--判断回滚段竞争的SQL语句：（当Ratio大于2时存在回滚段竞争，需要增加更多的回滚段）</span><br><span class=\"line\">select rn.name, rs.GETS, rs.WAITS, (rs.WAITS / rs.GETS) * 100 ratio</span><br><span class=\"line\">from v$rollstat rs, v$rollname rn</span><br><span class=\"line\">where rs.USN = rn.usn;</span><br><span class=\"line\"></span><br><span class=\"line\">---判断恢复日志竞争的SQL语句：（immediate_contention或wait_contention的值大于1时存在竞争）</span><br><span class=\"line\">select name,</span><br><span class=\"line\">(t.IMMEDIATE_MISSES / decode((t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES),0,-1,(t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES))) * 100 immediate_contention,</span><br><span class=\"line\">(t.MISSES / decode((t.GETS + t.MISSES), 0, -1, (t.GETS + t.MISSES))) * 100 wait_contention</span><br><span class=\"line\">from v$latch t</span><br><span class=\"line\">where name in (&apos;redo copy&apos;, &apos;redo allocation&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">--判断表空间碎片：（如果最大空闲空间占总空间很大比例则可能不存在碎片，如果比例较小，且有许多空闲空间，则可能碎片很多）</span><br><span class=\"line\">select t.tablespace_name,</span><br><span class=\"line\">sum(t.bytes),</span><br><span class=\"line\">max(t.bytes),</span><br><span class=\"line\">count(*),</span><br><span class=\"line\">max(t.bytes) / sum(t.bytes) radio</span><br><span class=\"line\">from dba_free_space t</span><br><span class=\"line\">group by t.tablespace_name</span><br><span class=\"line\">order by t.tablespace_name;</span><br><span class=\"line\"></span><br><span class=\"line\">--确定命中排序域的次数：</span><br><span class=\"line\">select t.NAME, t.VALUE from v$sysstat t where t.NAME like &apos;sort%&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看当前SGA值：SGA(System Global Area)系统全局区。这是一个非常庞大的内存区间</span><br><span class=\"line\">select * from v$sga;</span><br><span class=\"line\"></span><br><span class=\"line\">--确定高速缓冲区命中率：（如果命中率低于70％，则应该加大init.ora参数中的DB_BLOCK_BUFFER的值）</span><br><span class=\"line\">select 1 - sum(decode(name, &apos;physical reads&apos;, value, 0)) /</span><br><span class=\"line\">(sum(decode(name, &apos;db block gets&apos;, value, 0)) +</span><br><span class=\"line\">sum(decode(name, &apos;consistent gets&apos;, value, 0))) hit_ratio</span><br><span class=\"line\">from v$sysstat t</span><br><span class=\"line\">where name in (&apos;physical reads&apos;, &apos;db block gets&apos;, &apos;consistent gets&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">--确定共享池中的命中率：（如果ratio1大于1时，需要加大共享池，如果ratio2大于10％时，需要加大共享池SHARED_POOL_SIZE）</span><br><span class=\"line\">select * from</span><br><span class=\"line\">(</span><br><span class=\"line\">  select sum(pins) pins,</span><br><span class=\"line\">  sum(reloads) reloads,</span><br><span class=\"line\">  (sum(reloads) / sum(pins)) * 100 ratio1</span><br><span class=\"line\">  from v$librarycache</span><br><span class=\"line\">),</span><br><span class=\"line\">(</span><br><span class=\"line\">  select sum(gets) gets,</span><br><span class=\"line\">  sum(getmisses) getmisses,</span><br><span class=\"line\">  (sum(getmisses) / sum(gets)) * 100 ratio2</span><br><span class=\"line\">  from v$rowcache</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">--查询INIT.ORA参数：</span><br><span class=\"line\">select * from v$parameter;</span><br><span class=\"line\"></span><br><span class=\"line\">--求当前会话的SID，SERIAL#</span><br><span class=\"line\">SELECT Sid, Serial# FROM V$session</span><br><span class=\"line\">WHERE Audsid = Sys_Context(&apos;USERENV&apos;, &apos;SESSIONID&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">--查询session的OS进程ID(有输入)</span><br><span class=\"line\">SELECT p.Spid &quot;OS Thread&quot;, b.NAME &quot;Name-User&quot;, s.Program, s.Sid, s.Serial#,s.Osuser, s.Machine</span><br><span class=\"line\">FROM V$process p, V$session s, V$bgprocess b</span><br><span class=\"line\">WHERE p.Addr = s.Paddr</span><br><span class=\"line\">AND p.Addr = b.Paddr And (s.sid=&amp;1 or p.spid=&amp;1)</span><br><span class=\"line\">UNION ALL</span><br><span class=\"line\">SELECT p.Spid &quot;OS Thread&quot;, s.Username &quot;Name-User&quot;, s.Program, s.Sid,s.Serial#, s.Osuser, s.Machine</span><br><span class=\"line\">FROM V$process p, V$session s</span><br><span class=\"line\">WHERE p.Addr = s.Paddr</span><br><span class=\"line\">And (s.sid=&amp;1 or p.spid=&amp;1)</span><br><span class=\"line\">AND s.Username IS NOT NULL;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看锁（lock）情况</span><br><span class=\"line\">SELECT /*+ RULE */ Ls.Osuser Os_User_Name, Ls.Username User_Name,Decode(Ls.TYPE,</span><br><span class=\"line\">&apos;RW&apos;, &apos;Row wait enqueue lock&apos;, &apos;TM&apos;, &apos;DML enqueue lock&apos;,&apos;TX&apos;, &apos;Transaction enqueue lock&apos;, &apos;UL&apos;, &apos;User supplied lock&apos;) Lock_Type,o.Object_Name OBJECT,Decode(Ls.Lmode,1, NULL, 2, &apos;Row Share&apos;, 3, &apos;Row Exclusive&apos;,</span><br><span class=\"line\">4, &apos;Share&apos;, 5, &apos;Share Row Exclusive&apos;, 6, &apos;Exclusive&apos;,NULL) Lock_Mode,o.Owner, Ls.Sid, Ls.Serial# Serial_Num, Ls.Id1, Ls.Id2 FROM Sys.Dba_Objects o, </span><br><span class=\"line\">(SELECT s.Osuser, s.Username, l.TYPE, l.Lmode, s.Sid, s.Serial#, l.Id1,l.Id2 FROM V$session s, V$lock l</span><br><span class=\"line\">WHERE s.Sid = l.Sid) Ls</span><br><span class=\"line\">WHERE o.Object_Id = Ls.Id1</span><br><span class=\"line\">AND o.Owner &lt;&gt; &apos;SYS&apos;</span><br><span class=\"line\">ORDER BY o.Owner, o.Object_Name;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看等待（wait）情况</span><br><span class=\"line\">SELECT Ws.CLASS, Ws.COUNT COUNT, SUM(Ss.VALUE) Sum_Value</span><br><span class=\"line\">FROM V$waitstat Ws, V$sysstat Ss</span><br><span class=\"line\">WHERE Ss.NAME IN (&apos;db block gets&apos;, &apos;consistent gets&apos;)</span><br><span class=\"line\">GROUP BY Ws.CLASS, Ws.COUNT;</span><br><span class=\"line\"></span><br><span class=\"line\">--求process/session的状态</span><br><span class=\"line\">SELECT p.Pid, p.Spid, s.Program, s.Sid, s.Serial#</span><br><span class=\"line\">FROM V$process p, V$session s</span><br><span class=\"line\">WHERE s.Paddr = p.Addr;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看表空间的名称及大小</span><br><span class=\"line\">select t.tablespace_name, round(sum(bytes/(1024*1024)),0) ts_size</span><br><span class=\"line\">from dba_tablespaces t, dba_data_files d</span><br><span class=\"line\">where t.tablespace_name = d.tablespace_name</span><br><span class=\"line\">group by t.tablespace_name;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看表空间物理文件的名称及大小</span><br><span class=\"line\">select tablespace_name, file_id, file_name,</span><br><span class=\"line\">round(bytes/(1024*1024),0) total_space</span><br><span class=\"line\">from dba_data_files</span><br><span class=\"line\">order by tablespace_name;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看回滚段名称及大小</span><br><span class=\"line\">select segment_name, tablespace_name, r.status,</span><br><span class=\"line\">(initial_extent/1024) InitialExtent,(next_extent/1024) NextExtent,</span><br><span class=\"line\"></span><br><span class=\"line\">--查看控制文件</span><br><span class=\"line\">select name from v$controlfile;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看日志文件</span><br><span class=\"line\">select member from v$logfile;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看表空间的使用情况</span><br><span class=\"line\">select sum(bytes)/(1024*1024) as free_space,tablespace_name</span><br><span class=\"line\">from dba_free_space</span><br><span class=\"line\">group by tablespace_name;</span><br><span class=\"line\">SELECT A.TABLESPACE_NAME,A.BYTES TOTAL,B.BYTES USED, C.BYTES FREE,</span><br><span class=\"line\">(B.BYTES*100)/A.BYTES &quot;% USED&quot;,(C.BYTES*100)/A.BYTES &quot;% FREE&quot;</span><br><span class=\"line\">FROM SYS.SM$TS_AVAIL A,SYS.SM$TS_USED B,SYS.SM$TS_FREE C</span><br><span class=\"line\">WHERE A.TABLESPACE_NAME=B.TABLESPACE_NAME AND A.TABLESPACE_NAME=C.TABLESPACE_NAME;</span><br><span class=\"line\"></span><br><span class=\"line\">--捕捉运行很久的SQL</span><br><span class=\"line\">select username,sid,opname,</span><br><span class=\"line\">round(sofar*100 / totalwork,0) || &apos;%&apos; as progress,</span><br><span class=\"line\">time_remaining,sql_text</span><br><span class=\"line\">from v$session_longops , v$sql</span><br><span class=\"line\">where time_remaining &lt;&gt; 0</span><br><span class=\"line\">and sql_address = address</span><br><span class=\"line\">and sql_hash_value = hash_value</span><br><span class=\"line\"></span><br><span class=\"line\">--耗资源的进程（top session）</span><br><span class=\"line\">select s.schemaname schema_name, decode(sign(48 - command), 1,</span><br><span class=\"line\">to_char(command), &apos;Action Code #&apos; || to_char(command) ) action, status</span><br><span class=\"line\">session_status, s.osuser os_user_name, s.sid, p.spid , s.serial# serial_num,</span><br><span class=\"line\">nvl(s.username, &apos;[Oracle process]&apos;) user_name, s.terminal terminal,</span><br><span class=\"line\">s.program program, st.value criteria_value from v$sesstat st, v$session s , v$process p</span><br><span class=\"line\">where st.sid = s.sid and st.statistic# = to_number(&apos;38&apos;) and (&apos;ALL&apos; = &apos;ALL&apos;</span><br><span class=\"line\">or s.status = &apos;ALL&apos;) and p.addr = s.paddr order by st.value desc, p.spid asc, s.username asc, s.osuser asc</span><br><span class=\"line\"></span><br><span class=\"line\">--查看有哪些实例在运行：</span><br><span class=\"line\">select * from v$active_instances;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>使用如下sql能查出相应的信息，oracle博大精深要掌握得花时间</p><p>太长了，来个阅读全文吧<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--显示数据库当前连接数</span><br><span class=\"line\">select count(*) from v$process;</span><br><span class=\"line\"></span><br><span class=\"line\">--显示数据库最大连接数</span><br><span class=\"line\">select value from v$parameter where name =&apos;processes&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">--修改最大Oracle最大连接数:</span><br><span class=\"line\">alter system set processes = 300 scope = spfile;</span><br><span class=\"line\"></span><br><span class=\"line\">--显示当前session连接数</span><br><span class=\"line\">select count(*) from v$session;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看当前有哪些用户正在使用数据</span><br><span class=\"line\">SELECT osuser, a.username,cpu_time/executions/1000000||&apos;s&apos;, sql_fulltext,machine from v$session a, v$sqlarea b where a.sql_address =b.address order by cpu_time/executions desc;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看连接oracle的所有机器的连接数</span><br><span class=\"line\">select machine,count(*) from v$session group by machine;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看连接oracle的所有机器的连接数和状态</span><br><span class=\"line\">select machine,status,count(*) from v$session group by machine,status order by status;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看消耗磁盘读取最多的SQL Top 5：</span><br><span class=\"line\">select disk_reads,sql_text,SQL_FULLTEXT</span><br><span class=\"line\">from (select sql_text,disk_reads,SQL_FULLTEXT,</span><br><span class=\"line\">   dense_rank() over</span><br><span class=\"line\">     (order by disk_reads desc) disk_reads_rank</span><br><span class=\"line\">   from v$sql)</span><br><span class=\"line\">where disk_reads_rank &lt;=5;</span><br><span class=\"line\"></span><br><span class=\"line\">--开始</span><br><span class=\"line\">--通过linux中消耗资源高的进程号获取oracle消耗资源的sql语句：</span><br><span class=\"line\">--1.linux中使用top命名查看oracle进程中消耗资源最高的进程号；</span><br><span class=\"line\">--2.oracle中使用命令：</span><br><span class=\"line\">select c.spid,a.p1,a.p1raw,a.p2,a.event,b.sql_text,b.SQL_FULLTEXT,b.SQL_ID </span><br><span class=\"line\">from v$session a,v$sql b,v$process c </span><br><span class=\"line\">where a.wait_class&lt;&gt;&apos;Idle&apos; and a.sql_id=b.sql_id and a.PADDR=c.addr </span><br><span class=\"line\">order by event;</span><br><span class=\"line\">--3.查询结果显示出各个sql语句对应的进程号，从中找出top命令中对应消耗资源高的进程号即可找到相应的sql语句。</span><br><span class=\"line\">--结束</span><br><span class=\"line\"></span><br><span class=\"line\">--判断回滚段竞争的SQL语句：（当Ratio大于2时存在回滚段竞争，需要增加更多的回滚段）</span><br><span class=\"line\">select rn.name, rs.GETS, rs.WAITS, (rs.WAITS / rs.GETS) * 100 ratio</span><br><span class=\"line\">from v$rollstat rs, v$rollname rn</span><br><span class=\"line\">where rs.USN = rn.usn;</span><br><span class=\"line\"></span><br><span class=\"line\">---判断恢复日志竞争的SQL语句：（immediate_contention或wait_contention的值大于1时存在竞争）</span><br><span class=\"line\">select name,</span><br><span class=\"line\">(t.IMMEDIATE_MISSES / decode((t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES),0,-1,(t.IMMEDIATE_GETS + t.IMMEDIATE_MISSES))) * 100 immediate_contention,</span><br><span class=\"line\">(t.MISSES / decode((t.GETS + t.MISSES), 0, -1, (t.GETS + t.MISSES))) * 100 wait_contention</span><br><span class=\"line\">from v$latch t</span><br><span class=\"line\">where name in (&apos;redo copy&apos;, &apos;redo allocation&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">--判断表空间碎片：（如果最大空闲空间占总空间很大比例则可能不存在碎片，如果比例较小，且有许多空闲空间，则可能碎片很多）</span><br><span class=\"line\">select t.tablespace_name,</span><br><span class=\"line\">sum(t.bytes),</span><br><span class=\"line\">max(t.bytes),</span><br><span class=\"line\">count(*),</span><br><span class=\"line\">max(t.bytes) / sum(t.bytes) radio</span><br><span class=\"line\">from dba_free_space t</span><br><span class=\"line\">group by t.tablespace_name</span><br><span class=\"line\">order by t.tablespace_name;</span><br><span class=\"line\"></span><br><span class=\"line\">--确定命中排序域的次数：</span><br><span class=\"line\">select t.NAME, t.VALUE from v$sysstat t where t.NAME like &apos;sort%&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看当前SGA值：SGA(System Global Area)系统全局区。这是一个非常庞大的内存区间</span><br><span class=\"line\">select * from v$sga;</span><br><span class=\"line\"></span><br><span class=\"line\">--确定高速缓冲区命中率：（如果命中率低于70％，则应该加大init.ora参数中的DB_BLOCK_BUFFER的值）</span><br><span class=\"line\">select 1 - sum(decode(name, &apos;physical reads&apos;, value, 0)) /</span><br><span class=\"line\">(sum(decode(name, &apos;db block gets&apos;, value, 0)) +</span><br><span class=\"line\">sum(decode(name, &apos;consistent gets&apos;, value, 0))) hit_ratio</span><br><span class=\"line\">from v$sysstat t</span><br><span class=\"line\">where name in (&apos;physical reads&apos;, &apos;db block gets&apos;, &apos;consistent gets&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">--确定共享池中的命中率：（如果ratio1大于1时，需要加大共享池，如果ratio2大于10％时，需要加大共享池SHARED_POOL_SIZE）</span><br><span class=\"line\">select * from</span><br><span class=\"line\">(</span><br><span class=\"line\">  select sum(pins) pins,</span><br><span class=\"line\">  sum(reloads) reloads,</span><br><span class=\"line\">  (sum(reloads) / sum(pins)) * 100 ratio1</span><br><span class=\"line\">  from v$librarycache</span><br><span class=\"line\">),</span><br><span class=\"line\">(</span><br><span class=\"line\">  select sum(gets) gets,</span><br><span class=\"line\">  sum(getmisses) getmisses,</span><br><span class=\"line\">  (sum(getmisses) / sum(gets)) * 100 ratio2</span><br><span class=\"line\">  from v$rowcache</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">--查询INIT.ORA参数：</span><br><span class=\"line\">select * from v$parameter;</span><br><span class=\"line\"></span><br><span class=\"line\">--求当前会话的SID，SERIAL#</span><br><span class=\"line\">SELECT Sid, Serial# FROM V$session</span><br><span class=\"line\">WHERE Audsid = Sys_Context(&apos;USERENV&apos;, &apos;SESSIONID&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">--查询session的OS进程ID(有输入)</span><br><span class=\"line\">SELECT p.Spid &quot;OS Thread&quot;, b.NAME &quot;Name-User&quot;, s.Program, s.Sid, s.Serial#,s.Osuser, s.Machine</span><br><span class=\"line\">FROM V$process p, V$session s, V$bgprocess b</span><br><span class=\"line\">WHERE p.Addr = s.Paddr</span><br><span class=\"line\">AND p.Addr = b.Paddr And (s.sid=&amp;1 or p.spid=&amp;1)</span><br><span class=\"line\">UNION ALL</span><br><span class=\"line\">SELECT p.Spid &quot;OS Thread&quot;, s.Username &quot;Name-User&quot;, s.Program, s.Sid,s.Serial#, s.Osuser, s.Machine</span><br><span class=\"line\">FROM V$process p, V$session s</span><br><span class=\"line\">WHERE p.Addr = s.Paddr</span><br><span class=\"line\">And (s.sid=&amp;1 or p.spid=&amp;1)</span><br><span class=\"line\">AND s.Username IS NOT NULL;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看锁（lock）情况</span><br><span class=\"line\">SELECT /*+ RULE */ Ls.Osuser Os_User_Name, Ls.Username User_Name,Decode(Ls.TYPE,</span><br><span class=\"line\">&apos;RW&apos;, &apos;Row wait enqueue lock&apos;, &apos;TM&apos;, &apos;DML enqueue lock&apos;,&apos;TX&apos;, &apos;Transaction enqueue lock&apos;, &apos;UL&apos;, &apos;User supplied lock&apos;) Lock_Type,o.Object_Name OBJECT,Decode(Ls.Lmode,1, NULL, 2, &apos;Row Share&apos;, 3, &apos;Row Exclusive&apos;,</span><br><span class=\"line\">4, &apos;Share&apos;, 5, &apos;Share Row Exclusive&apos;, 6, &apos;Exclusive&apos;,NULL) Lock_Mode,o.Owner, Ls.Sid, Ls.Serial# Serial_Num, Ls.Id1, Ls.Id2 FROM Sys.Dba_Objects o, </span><br><span class=\"line\">(SELECT s.Osuser, s.Username, l.TYPE, l.Lmode, s.Sid, s.Serial#, l.Id1,l.Id2 FROM V$session s, V$lock l</span><br><span class=\"line\">WHERE s.Sid = l.Sid) Ls</span><br><span class=\"line\">WHERE o.Object_Id = Ls.Id1</span><br><span class=\"line\">AND o.Owner &lt;&gt; &apos;SYS&apos;</span><br><span class=\"line\">ORDER BY o.Owner, o.Object_Name;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看等待（wait）情况</span><br><span class=\"line\">SELECT Ws.CLASS, Ws.COUNT COUNT, SUM(Ss.VALUE) Sum_Value</span><br><span class=\"line\">FROM V$waitstat Ws, V$sysstat Ss</span><br><span class=\"line\">WHERE Ss.NAME IN (&apos;db block gets&apos;, &apos;consistent gets&apos;)</span><br><span class=\"line\">GROUP BY Ws.CLASS, Ws.COUNT;</span><br><span class=\"line\"></span><br><span class=\"line\">--求process/session的状态</span><br><span class=\"line\">SELECT p.Pid, p.Spid, s.Program, s.Sid, s.Serial#</span><br><span class=\"line\">FROM V$process p, V$session s</span><br><span class=\"line\">WHERE s.Paddr = p.Addr;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看表空间的名称及大小</span><br><span class=\"line\">select t.tablespace_name, round(sum(bytes/(1024*1024)),0) ts_size</span><br><span class=\"line\">from dba_tablespaces t, dba_data_files d</span><br><span class=\"line\">where t.tablespace_name = d.tablespace_name</span><br><span class=\"line\">group by t.tablespace_name;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看表空间物理文件的名称及大小</span><br><span class=\"line\">select tablespace_name, file_id, file_name,</span><br><span class=\"line\">round(bytes/(1024*1024),0) total_space</span><br><span class=\"line\">from dba_data_files</span><br><span class=\"line\">order by tablespace_name;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看回滚段名称及大小</span><br><span class=\"line\">select segment_name, tablespace_name, r.status,</span><br><span class=\"line\">(initial_extent/1024) InitialExtent,(next_extent/1024) NextExtent,</span><br><span class=\"line\"></span><br><span class=\"line\">--查看控制文件</span><br><span class=\"line\">select name from v$controlfile;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看日志文件</span><br><span class=\"line\">select member from v$logfile;</span><br><span class=\"line\"></span><br><span class=\"line\">--查看表空间的使用情况</span><br><span class=\"line\">select sum(bytes)/(1024*1024) as free_space,tablespace_name</span><br><span class=\"line\">from dba_free_space</span><br><span class=\"line\">group by tablespace_name;</span><br><span class=\"line\">SELECT A.TABLESPACE_NAME,A.BYTES TOTAL,B.BYTES USED, C.BYTES FREE,</span><br><span class=\"line\">(B.BYTES*100)/A.BYTES &quot;% USED&quot;,(C.BYTES*100)/A.BYTES &quot;% FREE&quot;</span><br><span class=\"line\">FROM SYS.SM$TS_AVAIL A,SYS.SM$TS_USED B,SYS.SM$TS_FREE C</span><br><span class=\"line\">WHERE A.TABLESPACE_NAME=B.TABLESPACE_NAME AND A.TABLESPACE_NAME=C.TABLESPACE_NAME;</span><br><span class=\"line\"></span><br><span class=\"line\">--捕捉运行很久的SQL</span><br><span class=\"line\">select username,sid,opname,</span><br><span class=\"line\">round(sofar*100 / totalwork,0) || &apos;%&apos; as progress,</span><br><span class=\"line\">time_remaining,sql_text</span><br><span class=\"line\">from v$session_longops , v$sql</span><br><span class=\"line\">where time_remaining &lt;&gt; 0</span><br><span class=\"line\">and sql_address = address</span><br><span class=\"line\">and sql_hash_value = hash_value</span><br><span class=\"line\"></span><br><span class=\"line\">--耗资源的进程（top session）</span><br><span class=\"line\">select s.schemaname schema_name, decode(sign(48 - command), 1,</span><br><span class=\"line\">to_char(command), &apos;Action Code #&apos; || to_char(command) ) action, status</span><br><span class=\"line\">session_status, s.osuser os_user_name, s.sid, p.spid , s.serial# serial_num,</span><br><span class=\"line\">nvl(s.username, &apos;[Oracle process]&apos;) user_name, s.terminal terminal,</span><br><span class=\"line\">s.program program, st.value criteria_value from v$sesstat st, v$session s , v$process p</span><br><span class=\"line\">where st.sid = s.sid and st.statistic# = to_number(&apos;38&apos;) and (&apos;ALL&apos; = &apos;ALL&apos;</span><br><span class=\"line\">or s.status = &apos;ALL&apos;) and p.addr = s.paddr order by st.value desc, p.spid asc, s.username asc, s.osuser asc</span><br><span class=\"line\"></span><br><span class=\"line\">--查看有哪些实例在运行：</span><br><span class=\"line\">select * from v$active_instances;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"SQL优化之小细节 - 点滴记录","keywords":["sql","sql优化"],"date":"2017-03-09T02:38:00.000Z","_content":"不知道现在是不是还很多人首先就把关联的id放在where的第一位\n\n这里有一个简单的对比，情况相同的时候，两个sql的时间相差八倍\n\n优：0.077s\n```\nSELECT ew.all_amt ,\n       ew.customer_id,\n       cf.id,\n       cf.cert_id,\n       cf.acct_type\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE cf.acct_type in(2,3)\n  AND ew.customer_id = cf.id\n```\n劣：0.630s\n```\nSELECT ew.all_amt ,\n       ew.customer_id,\n       cf.id,\n       cf.cert_id,\n       cf.acct_type\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE ew.customer_id = cf.id\n  AND cf.acct_type in(2,3)\n```\n上述原因：where子句从后往前执行，应该把大的过滤条件放在后面\n记录时间：2017年3月9日 10:44:59\n\n---","source":"_posts/SQL优化之小细节 - 点滴记录.md","raw":"---\ntitle: SQL优化之小细节 - 点滴记录\nkeywords: [sql,sql优化]\ndate: 2017/3/9 10:38\ntags: [sql,java]\ncategories: sql\n---\n不知道现在是不是还很多人首先就把关联的id放在where的第一位\n\n这里有一个简单的对比，情况相同的时候，两个sql的时间相差八倍\n\n优：0.077s\n```\nSELECT ew.all_amt ,\n       ew.customer_id,\n       cf.id,\n       cf.cert_id,\n       cf.acct_type\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE cf.acct_type in(2,3)\n  AND ew.customer_id = cf.id\n```\n劣：0.630s\n```\nSELECT ew.all_amt ,\n       ew.customer_id,\n       cf.id,\n       cf.cert_id,\n       cf.acct_type\nFROM ew_quota_info ew,\n     cf_customer cf\nWHERE ew.customer_id = cf.id\n  AND cf.acct_type in(2,3)\n```\n上述原因：where子句从后往前执行，应该把大的过滤条件放在后面\n记录时间：2017年3月9日 10:44:59\n\n---","slug":"SQL优化之小细节 - 点滴记录","published":1,"updated":"2017-03-10T06:19:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdru005dolejkofnq0h3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>不知道现在是不是还很多人首先就把关联的id放在where的第一位</p><p>这里有一个简单的对比，情况相同的时候，两个sql的时间相差八倍</p><p>优：0.077s<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ew.all_amt ,</span><br><span class=\"line\">       ew.customer_id,</span><br><span class=\"line\">       cf.id,</span><br><span class=\"line\">       cf.cert_id,</span><br><span class=\"line\">       cf.acct_type</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE cf.acct_type in(2,3)</span><br><span class=\"line\">  AND ew.customer_id = cf.id</span><br></pre></td></tr></table></figure><p></p><p>劣：0.630s<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ew.all_amt ,</span><br><span class=\"line\">       ew.customer_id,</span><br><span class=\"line\">       cf.id,</span><br><span class=\"line\">       cf.cert_id,</span><br><span class=\"line\">       cf.acct_type</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE ew.customer_id = cf.id</span><br><span class=\"line\">  AND cf.acct_type in(2,3)</span><br></pre></td></tr></table></figure><p></p><p>上述原因：where子句从后往前执行，应该把大的过滤条件放在后面<br>记录时间：2017年3月9日 10:44:59</p><hr><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>不知道现在是不是还很多人首先就把关联的id放在where的第一位</p><p>这里有一个简单的对比，情况相同的时候，两个sql的时间相差八倍</p><p>优：0.077s<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ew.all_amt ,</span><br><span class=\"line\">       ew.customer_id,</span><br><span class=\"line\">       cf.id,</span><br><span class=\"line\">       cf.cert_id,</span><br><span class=\"line\">       cf.acct_type</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE cf.acct_type in(2,3)</span><br><span class=\"line\">  AND ew.customer_id = cf.id</span><br></pre></td></tr></table></figure><p></p><p>劣：0.630s<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ew.all_amt ,</span><br><span class=\"line\">       ew.customer_id,</span><br><span class=\"line\">       cf.id,</span><br><span class=\"line\">       cf.cert_id,</span><br><span class=\"line\">       cf.acct_type</span><br><span class=\"line\">FROM ew_quota_info ew,</span><br><span class=\"line\">     cf_customer cf</span><br><span class=\"line\">WHERE ew.customer_id = cf.id</span><br><span class=\"line\">  AND cf.acct_type in(2,3)</span><br></pre></td></tr></table></figure><p></p><p>上述原因：where子句从后往前执行，应该把大的过滤条件放在后面<br>记录时间：2017年3月9日 10:44:59</p><hr><!-- rebuild by neat -->"},{"title":"SQL语句的执行顺序 - 关键字的顺序","keywords":["sql语句的执行顺序","sql中关键字的执行顺序"],"date":"2017-11-14T15:01:00.000Z","_content":"sql执行顺序\n---\n1. from \n2. join \n3. on \n4. where \n5. group by(开始使用select中的别名，后面的语句中都可以使用)\n6. avg,sum.... \n7. having \n8. select \n9. distinct \n10. order by\n\n参考资料\n---\nhttp://blog.csdn.net/u014044812/article/details/51004754\n\nhttp://blog.csdn.net/bitcarmanlee/article/details/51004767 (含流程图)","source":"_posts/SQL语句的执行顺序.md","raw":"---\ntitle: SQL语句的执行顺序 - 关键字的顺序\nkeywords: [sql语句的执行顺序,sql中关键字的执行顺序]\ndate: 2017/11/14 23:01\ntags: [sql,java]\ncategories: sql\n---\nsql执行顺序\n---\n1. from \n2. join \n3. on \n4. where \n5. group by(开始使用select中的别名，后面的语句中都可以使用)\n6. avg,sum.... \n7. having \n8. select \n9. distinct \n10. order by\n\n参考资料\n---\nhttp://blog.csdn.net/u014044812/article/details/51004754\n\nhttp://blog.csdn.net/bitcarmanlee/article/details/51004767 (含流程图)","slug":"SQL语句的执行顺序","published":1,"updated":"2017-11-14T15:09:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrx005iolej1tk4bj3i","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"sql执行顺序\"><a href=\"#sql执行顺序\" class=\"headerlink\" title=\"sql执行顺序\"></a>sql执行顺序</h2><ol><li>from</li><li>join</li><li>on</li><li>where</li><li>group by(开始使用select中的别名，后面的语句中都可以使用)</li><li>avg,sum….</li><li>having</li><li>select</li><li>distinct</li><li>order by</li></ol><h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p><a href=\"http://blog.csdn.net/u014044812/article/details/51004754\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/u014044812/article/details/51004754</a></p><p><a href=\"http://blog.csdn.net/bitcarmanlee/article/details/51004767\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/bitcarmanlee/article/details/51004767</a> (含流程图)</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"sql执行顺序\"><a href=\"#sql执行顺序\" class=\"headerlink\" title=\"sql执行顺序\"></a>sql执行顺序</h2><ol><li>from</li><li>join</li><li>on</li><li>where</li><li>group by(开始使用select中的别名，后面的语句中都可以使用)</li><li>avg,sum….</li><li>having</li><li>select</li><li>distinct</li><li>order by</li></ol><h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p><a href=\"http://blog.csdn.net/u014044812/article/details/51004754\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/u014044812/article/details/51004754</a></p><p><a href=\"http://blog.csdn.net/bitcarmanlee/article/details/51004767\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/bitcarmanlee/article/details/51004767</a> (含流程图)</p><!-- rebuild by neat -->"},{"title":"Spring - IOC和AOP的原理","keywords":["ioc","aop","ioc aop原理"],"date":"2017-11-20T15:11:00.000Z","_content":"## 简单理解IOC和AOP\n### IOC：Inversion of Control，依赖倒置\n#### 生活场景助记\n\n如有有天你想喝一瓶矿泉水，你可以去小区便利店，告诉老板你要买矿泉水，然后老板卖给你。\n\n但是你可能需要想这下雨天怎么去小卖部？是否要带伞？去了之后是否有我想要的水等一系列问题。\n\n解决这个问题：\n1. 使用外卖！到平台注册，告诉平台你需要什么水。\n2. 平台给你送到家，你只管付钱拿到水之后直接喝，不用考虑上述问题。\n\n\n是不是和Spring的做法很类似呢？Spring就是小卖部，你就是A对象，水就是B对象\n第一：在Spring中声明一个类：A\n第二：告诉Spring，A需要B\n<!--more-->\n假设A是UserAction类，而B是UserService类\n```\n<bean id=\"userService\" class=\"org.leadfar.service.UserService\"/>\n<bean id=\"documentService\" class=\"org.leadfar.service.DocumentService\"/>\n<bean id=\"orgService\" class=\"org.leadfar.service.OrgService\"/>\n\n<bean id=\"userAction\" class=\"org.leadfar.web.UserAction\">\n     <property name=\"userService\" ref=\"userService\"/>\n</bean>\n```\n在Spring这个商店（工厂）中，有很多对象/服务：userService,documentService,orgService\n\n也有很多会员：userAction等等\n\n声明userAction需要userService即可，\n\nSpring将通过你给它提供的通道主动把userService送上门来，因此UserAction的代码示例类似如下所示：\n```\npackage org.leadfar.web;\npublic class UserAction{\n     private UserService userService;\n     public String login(){\n          userService.valifyUser(xxx);\n     }\n     public void setUserService(UserService userService){ \n          this.userService = userService;\n     }\n}\n```\n在这段代码里面，你无需自己创建UserService对象（Spring作为背后无形的手，把UserService对象通过你定义的setUserService()方法把它主动送给了你，这就叫依赖注入！）\n\nSpring依赖注入的实现技术是：**动态代理**\n\n### AOP:Aspect Oriented Programming,面向切面编程\n你只要做你关注的事情，其他的事情一概不管，让AOP帮你去做\n\n你可以灵活组合各种杂七杂八的事情交给AOP去做，而不会干扰你关注的事情。\n\n从Spring的角度看，AOP最大的用途就在于提供了事务管理的能力。\n\n事务管理就是一个关注点，你的正事就是去访问数据库，而你不想管事务（太烦）\n\n所以，Spring在你访问数据库之前，自动帮你开启事务，当你访问数据库结束之后，自动帮你提交/回滚事务！\n\n## ICO 和 AOP的原理\n### IoC的实现形式有两种：\n1. 依赖查找：容器提供回调接口和上下文环境给组件。EJB和Apache Avalon都是使用这种方式。     \n2. 依赖注入：组件不做定位查询，只是提供普通的Java方法让容器去决定依赖关系。\n容器全权负责组件的装配，它会把符合依赖关系的对象通过JavaBean属性或者构造子传递给需要的对象。\n\n通过JavaBean属性注射依赖关系的做法称为设值方法注入（Setter Injection）；\n\n将依赖关系作为构造子参数传入的做法称为构造子注入（Constructor Injection）。\n\n### AP实现有多种方案，主要包括：\n1. AspectJ (TM)：创建于Xerox PARC. 有近十年历史，技术成熟。但其过于复杂；破坏封装；而且需要专门的Java编译器，易用性较差。\n2. 动态代理AOP：使用JDK提供的动态代理API或字节码Bytecode处理技术来实现。基于动态代理API的具体项目有： JBoss 4.0 JBoss 4.0服务器。\n3. 基于字节码的AOP，例如：Aspectwerkz、CGlib、Spring等。\n## 后期准备补充\n用过spring的朋友都知道spring的强大和高深，都觉得深不可测，\n\n其实当你真正花些时间读一读源码就知道它的一些技术实现其实是建立在一些最基本的技术之上而已；\n例如：\n1. AOP(面向方面编程)的实现是建立在CGLib提供的类代理和jdk提供的接口代理\n2. IOC(控制反转)的实现建立在工厂模式、Java反射机制和jdk的操作XML的DOM解析方式.\n## 参考\n1. https://www.cnblogs.com/damowang/p/4305107.html\n2. http://blog.csdn.net/linxijun120903/article/details/56487073","source":"_posts/Spring - IOC和AOP的原理.md","raw":"---\ntitle: Spring - IOC和AOP的原理\nkeywords: [ioc,aop,ioc aop原理]\ndate: 2017/11/20 23:11\ntags: [spring]\ncategories: java\n---\n## 简单理解IOC和AOP\n### IOC：Inversion of Control，依赖倒置\n#### 生活场景助记\n\n如有有天你想喝一瓶矿泉水，你可以去小区便利店，告诉老板你要买矿泉水，然后老板卖给你。\n\n但是你可能需要想这下雨天怎么去小卖部？是否要带伞？去了之后是否有我想要的水等一系列问题。\n\n解决这个问题：\n1. 使用外卖！到平台注册，告诉平台你需要什么水。\n2. 平台给你送到家，你只管付钱拿到水之后直接喝，不用考虑上述问题。\n\n\n是不是和Spring的做法很类似呢？Spring就是小卖部，你就是A对象，水就是B对象\n第一：在Spring中声明一个类：A\n第二：告诉Spring，A需要B\n<!--more-->\n假设A是UserAction类，而B是UserService类\n```\n<bean id=\"userService\" class=\"org.leadfar.service.UserService\"/>\n<bean id=\"documentService\" class=\"org.leadfar.service.DocumentService\"/>\n<bean id=\"orgService\" class=\"org.leadfar.service.OrgService\"/>\n\n<bean id=\"userAction\" class=\"org.leadfar.web.UserAction\">\n     <property name=\"userService\" ref=\"userService\"/>\n</bean>\n```\n在Spring这个商店（工厂）中，有很多对象/服务：userService,documentService,orgService\n\n也有很多会员：userAction等等\n\n声明userAction需要userService即可，\n\nSpring将通过你给它提供的通道主动把userService送上门来，因此UserAction的代码示例类似如下所示：\n```\npackage org.leadfar.web;\npublic class UserAction{\n     private UserService userService;\n     public String login(){\n          userService.valifyUser(xxx);\n     }\n     public void setUserService(UserService userService){ \n          this.userService = userService;\n     }\n}\n```\n在这段代码里面，你无需自己创建UserService对象（Spring作为背后无形的手，把UserService对象通过你定义的setUserService()方法把它主动送给了你，这就叫依赖注入！）\n\nSpring依赖注入的实现技术是：**动态代理**\n\n### AOP:Aspect Oriented Programming,面向切面编程\n你只要做你关注的事情，其他的事情一概不管，让AOP帮你去做\n\n你可以灵活组合各种杂七杂八的事情交给AOP去做，而不会干扰你关注的事情。\n\n从Spring的角度看，AOP最大的用途就在于提供了事务管理的能力。\n\n事务管理就是一个关注点，你的正事就是去访问数据库，而你不想管事务（太烦）\n\n所以，Spring在你访问数据库之前，自动帮你开启事务，当你访问数据库结束之后，自动帮你提交/回滚事务！\n\n## ICO 和 AOP的原理\n### IoC的实现形式有两种：\n1. 依赖查找：容器提供回调接口和上下文环境给组件。EJB和Apache Avalon都是使用这种方式。     \n2. 依赖注入：组件不做定位查询，只是提供普通的Java方法让容器去决定依赖关系。\n容器全权负责组件的装配，它会把符合依赖关系的对象通过JavaBean属性或者构造子传递给需要的对象。\n\n通过JavaBean属性注射依赖关系的做法称为设值方法注入（Setter Injection）；\n\n将依赖关系作为构造子参数传入的做法称为构造子注入（Constructor Injection）。\n\n### AP实现有多种方案，主要包括：\n1. AspectJ (TM)：创建于Xerox PARC. 有近十年历史，技术成熟。但其过于复杂；破坏封装；而且需要专门的Java编译器，易用性较差。\n2. 动态代理AOP：使用JDK提供的动态代理API或字节码Bytecode处理技术来实现。基于动态代理API的具体项目有： JBoss 4.0 JBoss 4.0服务器。\n3. 基于字节码的AOP，例如：Aspectwerkz、CGlib、Spring等。\n## 后期准备补充\n用过spring的朋友都知道spring的强大和高深，都觉得深不可测，\n\n其实当你真正花些时间读一读源码就知道它的一些技术实现其实是建立在一些最基本的技术之上而已；\n例如：\n1. AOP(面向方面编程)的实现是建立在CGLib提供的类代理和jdk提供的接口代理\n2. IOC(控制反转)的实现建立在工厂模式、Java反射机制和jdk的操作XML的DOM解析方式.\n## 参考\n1. https://www.cnblogs.com/damowang/p/4305107.html\n2. http://blog.csdn.net/linxijun120903/article/details/56487073","slug":"Spring - IOC和AOP的原理","published":1,"updated":"2017-11-20T16:01:46.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdry005lolej66jialz6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"简单理解IOC和AOP\"><a href=\"#简单理解IOC和AOP\" class=\"headerlink\" title=\"简单理解IOC和AOP\"></a>简单理解IOC和AOP</h2><h3 id=\"IOC：Inversion-of-Control，依赖倒置\"><a href=\"#IOC：Inversion-of-Control，依赖倒置\" class=\"headerlink\" title=\"IOC：Inversion of Control，依赖倒置\"></a>IOC：Inversion of Control，依赖倒置</h3><h4 id=\"生活场景助记\"><a href=\"#生活场景助记\" class=\"headerlink\" title=\"生活场景助记\"></a>生活场景助记</h4><p>如有有天你想喝一瓶矿泉水，你可以去小区便利店，告诉老板你要买矿泉水，然后老板卖给你。</p><p>但是你可能需要想这下雨天怎么去小卖部？是否要带伞？去了之后是否有我想要的水等一系列问题。</p><p>解决这个问题：</p><ol><li>使用外卖！到平台注册，告诉平台你需要什么水。</li><li>平台给你送到家，你只管付钱拿到水之后直接喝，不用考虑上述问题。</li></ol><p>是不是和Spring的做法很类似呢？Spring就是小卖部，你就是A对象，水就是B对象<br>第一：在Spring中声明一个类：A<br>第二：告诉Spring，A需要B<br><a id=\"more\"></a><br>假设A是UserAction类，而B是UserService类<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=&quot;userService&quot; class=&quot;org.leadfar.service.UserService&quot;/&gt;</span><br><span class=\"line\">&lt;bean id=&quot;documentService&quot; class=&quot;org.leadfar.service.DocumentService&quot;/&gt;</span><br><span class=\"line\">&lt;bean id=&quot;orgService&quot; class=&quot;org.leadfar.service.OrgService&quot;/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;bean id=&quot;userAction&quot; class=&quot;org.leadfar.web.UserAction&quot;&gt;</span><br><span class=\"line\">     &lt;property name=&quot;userService&quot; ref=&quot;userService&quot;/&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure><p></p><p>在Spring这个商店（工厂）中，有很多对象/服务：userService,documentService,orgService</p><p>也有很多会员：userAction等等</p><p>声明userAction需要userService即可，</p><p>Spring将通过你给它提供的通道主动把userService送上门来，因此UserAction的代码示例类似如下所示：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package org.leadfar.web;</span><br><span class=\"line\">public class UserAction&#123;</span><br><span class=\"line\">     private UserService userService;</span><br><span class=\"line\">     public String login()&#123;</span><br><span class=\"line\">          userService.valifyUser(xxx);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     public void setUserService(UserService userService)&#123; </span><br><span class=\"line\">          this.userService = userService;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>在这段代码里面，你无需自己创建UserService对象（Spring作为背后无形的手，把UserService对象通过你定义的setUserService()方法把它主动送给了你，这就叫依赖注入！）</p><p>Spring依赖注入的实现技术是：<strong>动态代理</strong></p><h3 id=\"AOP-Aspect-Oriented-Programming-面向切面编程\"><a href=\"#AOP-Aspect-Oriented-Programming-面向切面编程\" class=\"headerlink\" title=\"AOP:Aspect Oriented Programming,面向切面编程\"></a>AOP:Aspect Oriented Programming,面向切面编程</h3><p>你只要做你关注的事情，其他的事情一概不管，让AOP帮你去做</p><p>你可以灵活组合各种杂七杂八的事情交给AOP去做，而不会干扰你关注的事情。</p><p>从Spring的角度看，AOP最大的用途就在于提供了事务管理的能力。</p><p>事务管理就是一个关注点，你的正事就是去访问数据库，而你不想管事务（太烦）</p><p>所以，Spring在你访问数据库之前，自动帮你开启事务，当你访问数据库结束之后，自动帮你提交/回滚事务！</p><h2 id=\"ICO-和-AOP的原理\"><a href=\"#ICO-和-AOP的原理\" class=\"headerlink\" title=\"ICO 和 AOP的原理\"></a>ICO 和 AOP的原理</h2><h3 id=\"IoC的实现形式有两种：\"><a href=\"#IoC的实现形式有两种：\" class=\"headerlink\" title=\"IoC的实现形式有两种：\"></a>IoC的实现形式有两种：</h3><ol><li>依赖查找：容器提供回调接口和上下文环境给组件。EJB和Apache Avalon都是使用这种方式。</li><li>依赖注入：组件不做定位查询，只是提供普通的Java方法让容器去决定依赖关系。<br>容器全权负责组件的装配，它会把符合依赖关系的对象通过JavaBean属性或者构造子传递给需要的对象。</li></ol><p>通过JavaBean属性注射依赖关系的做法称为设值方法注入（Setter Injection）；</p><p>将依赖关系作为构造子参数传入的做法称为构造子注入（Constructor Injection）。</p><h3 id=\"AP实现有多种方案，主要包括：\"><a href=\"#AP实现有多种方案，主要包括：\" class=\"headerlink\" title=\"AP实现有多种方案，主要包括：\"></a>AP实现有多种方案，主要包括：</h3><ol><li>AspectJ (TM)：创建于Xerox PARC. 有近十年历史，技术成熟。但其过于复杂；破坏封装；而且需要专门的Java编译器，易用性较差。</li><li>动态代理AOP：使用JDK提供的动态代理API或字节码Bytecode处理技术来实现。基于动态代理API的具体项目有： JBoss 4.0 JBoss 4.0服务器。</li><li>基于字节码的AOP，例如：Aspectwerkz、CGlib、Spring等。<h2 id=\"后期准备补充\"><a href=\"#后期准备补充\" class=\"headerlink\" title=\"后期准备补充\"></a>后期准备补充</h2>用过spring的朋友都知道spring的强大和高深，都觉得深不可测，</li></ol><p>其实当你真正花些时间读一读源码就知道它的一些技术实现其实是建立在一些最基本的技术之上而已；<br>例如：</p><ol><li>AOP(面向方面编程)的实现是建立在CGLib提供的类代理和jdk提供的接口代理</li><li>IOC(控制反转)的实现建立在工厂模式、Java反射机制和jdk的操作XML的DOM解析方式.<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2></li><li><a href=\"https://www.cnblogs.com/damowang/p/4305107.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/damowang/p/4305107.html</a></li><li><a href=\"http://blog.csdn.net/linxijun120903/article/details/56487073\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/linxijun120903/article/details/56487073</a></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"简单理解IOC和AOP\"><a href=\"#简单理解IOC和AOP\" class=\"headerlink\" title=\"简单理解IOC和AOP\"></a>简单理解IOC和AOP</h2><h3 id=\"IOC：Inversion-of-Control，依赖倒置\"><a href=\"#IOC：Inversion-of-Control，依赖倒置\" class=\"headerlink\" title=\"IOC：Inversion of Control，依赖倒置\"></a>IOC：Inversion of Control，依赖倒置</h3><h4 id=\"生活场景助记\"><a href=\"#生活场景助记\" class=\"headerlink\" title=\"生活场景助记\"></a>生活场景助记</h4><p>如有有天你想喝一瓶矿泉水，你可以去小区便利店，告诉老板你要买矿泉水，然后老板卖给你。</p><p>但是你可能需要想这下雨天怎么去小卖部？是否要带伞？去了之后是否有我想要的水等一系列问题。</p><p>解决这个问题：</p><ol><li>使用外卖！到平台注册，告诉平台你需要什么水。</li><li>平台给你送到家，你只管付钱拿到水之后直接喝，不用考虑上述问题。</li></ol><p>是不是和Spring的做法很类似呢？Spring就是小卖部，你就是A对象，水就是B对象<br>第一：在Spring中声明一个类：A<br>第二：告诉Spring，A需要B<br>","more":"<br>假设A是UserAction类，而B是UserService类<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=&quot;userService&quot; class=&quot;org.leadfar.service.UserService&quot;/&gt;</span><br><span class=\"line\">&lt;bean id=&quot;documentService&quot; class=&quot;org.leadfar.service.DocumentService&quot;/&gt;</span><br><span class=\"line\">&lt;bean id=&quot;orgService&quot; class=&quot;org.leadfar.service.OrgService&quot;/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;bean id=&quot;userAction&quot; class=&quot;org.leadfar.web.UserAction&quot;&gt;</span><br><span class=\"line\">     &lt;property name=&quot;userService&quot; ref=&quot;userService&quot;/&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure><p></p><p>在Spring这个商店（工厂）中，有很多对象/服务：userService,documentService,orgService</p><p>也有很多会员：userAction等等</p><p>声明userAction需要userService即可，</p><p>Spring将通过你给它提供的通道主动把userService送上门来，因此UserAction的代码示例类似如下所示：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package org.leadfar.web;</span><br><span class=\"line\">public class UserAction&#123;</span><br><span class=\"line\">     private UserService userService;</span><br><span class=\"line\">     public String login()&#123;</span><br><span class=\"line\">          userService.valifyUser(xxx);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     public void setUserService(UserService userService)&#123; </span><br><span class=\"line\">          this.userService = userService;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>在这段代码里面，你无需自己创建UserService对象（Spring作为背后无形的手，把UserService对象通过你定义的setUserService()方法把它主动送给了你，这就叫依赖注入！）</p><p>Spring依赖注入的实现技术是：<strong>动态代理</strong></p><h3 id=\"AOP-Aspect-Oriented-Programming-面向切面编程\"><a href=\"#AOP-Aspect-Oriented-Programming-面向切面编程\" class=\"headerlink\" title=\"AOP:Aspect Oriented Programming,面向切面编程\"></a>AOP:Aspect Oriented Programming,面向切面编程</h3><p>你只要做你关注的事情，其他的事情一概不管，让AOP帮你去做</p><p>你可以灵活组合各种杂七杂八的事情交给AOP去做，而不会干扰你关注的事情。</p><p>从Spring的角度看，AOP最大的用途就在于提供了事务管理的能力。</p><p>事务管理就是一个关注点，你的正事就是去访问数据库，而你不想管事务（太烦）</p><p>所以，Spring在你访问数据库之前，自动帮你开启事务，当你访问数据库结束之后，自动帮你提交/回滚事务！</p><h2 id=\"ICO-和-AOP的原理\"><a href=\"#ICO-和-AOP的原理\" class=\"headerlink\" title=\"ICO 和 AOP的原理\"></a>ICO 和 AOP的原理</h2><h3 id=\"IoC的实现形式有两种：\"><a href=\"#IoC的实现形式有两种：\" class=\"headerlink\" title=\"IoC的实现形式有两种：\"></a>IoC的实现形式有两种：</h3><ol><li>依赖查找：容器提供回调接口和上下文环境给组件。EJB和Apache Avalon都是使用这种方式。</li><li>依赖注入：组件不做定位查询，只是提供普通的Java方法让容器去决定依赖关系。<br>容器全权负责组件的装配，它会把符合依赖关系的对象通过JavaBean属性或者构造子传递给需要的对象。</li></ol><p>通过JavaBean属性注射依赖关系的做法称为设值方法注入（Setter Injection）；</p><p>将依赖关系作为构造子参数传入的做法称为构造子注入（Constructor Injection）。</p><h3 id=\"AP实现有多种方案，主要包括：\"><a href=\"#AP实现有多种方案，主要包括：\" class=\"headerlink\" title=\"AP实现有多种方案，主要包括：\"></a>AP实现有多种方案，主要包括：</h3><ol><li>AspectJ (TM)：创建于Xerox PARC. 有近十年历史，技术成熟。但其过于复杂；破坏封装；而且需要专门的Java编译器，易用性较差。</li><li>动态代理AOP：使用JDK提供的动态代理API或字节码Bytecode处理技术来实现。基于动态代理API的具体项目有： JBoss 4.0 JBoss 4.0服务器。</li><li>基于字节码的AOP，例如：Aspectwerkz、CGlib、Spring等。<h2 id=\"后期准备补充\"><a href=\"#后期准备补充\" class=\"headerlink\" title=\"后期准备补充\"></a>后期准备补充</h2>用过spring的朋友都知道spring的强大和高深，都觉得深不可测，</li></ol><p>其实当你真正花些时间读一读源码就知道它的一些技术实现其实是建立在一些最基本的技术之上而已；<br>例如：</p><ol><li>AOP(面向方面编程)的实现是建立在CGLib提供的类代理和jdk提供的接口代理</li><li>IOC(控制反转)的实现建立在工厂模式、Java反射机制和jdk的操作XML的DOM解析方式.<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2></li><li><a href=\"https://www.cnblogs.com/damowang/p/4305107.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/damowang/p/4305107.html</a></li><li><a href=\"http://blog.csdn.net/linxijun120903/article/details/56487073\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/linxijun120903/article/details/56487073</a></li></ol><!-- rebuild by neat -->"},{"title":"Spring Boot CLI 安装（windows）","keywords":["Spring Boot CLI 安装","SpringBootCLI","windows"],"date":"2017-07-12T16:35:00.000Z","_content":"SpringBootCLI是一个命令行工具，可用于快速搭建基于spring的原型。\n\n它支持运行Groovy脚本，这也就意味着你可以使用类似Java的语法，但不用写很多的模板代码。\n\nSpring Boot不一定非要配合CLI使用，但它绝对是Spring应用取得进展的最快方式.\n\n下载分发包\n---\n1. 地址:<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started-installing-the-cli\" target=\"blank\">getting-started-installing-the-cli<a/>\n2. 下载：spring-boot-cli-x.x.x.RELEASE-bin.zip (例如：spring-boot-cli-1.5.4.RELEASE-bin.zip)\n3. 解压\n4. 设置环境变量：C:\\hisenwork\\soft\\spring-1.5.4.RELEASE\\bin （在path中添加）\n5. cmd测试：spring --version\n```\nspring --version\nSpring CLI v1.5.4.RELEASE\n```\n\n运行一个简单程序\n---\n<!--more-->\n文件名称：HelloController.groovy\n\n文件内容：\n```\n@RestController\nclass HelloController{\n\t@RequestMapping(\"/\")\n\tdef hello(){\n\t\treturn \"Hello World\"\n\t}\n}\n```\n运行程序：cmd进入文件所在文件夹，执行:spring run HelloController.groovy\n\n提醒：Resolving dependencies第一次初始化时间会久一点，耐心等待\n```\nspring run HelloController.groovy\n\nResolving dependencies..........................\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.5.4.RELEASE)\n```\n之后在浏览器中输入：http://localhost:8080/\n\n就能看到：Hello World","source":"_posts/Spring Boot CLI 安装（windows）.md","raw":"---\ntitle: Spring Boot CLI 安装（windows）\nkeywords: [Spring Boot CLI 安装,SpringBootCLI,windows]\ndate: 2017/7/13 0:35\ntags: [java]\ncategories: java\n---\nSpringBootCLI是一个命令行工具，可用于快速搭建基于spring的原型。\n\n它支持运行Groovy脚本，这也就意味着你可以使用类似Java的语法，但不用写很多的模板代码。\n\nSpring Boot不一定非要配合CLI使用，但它绝对是Spring应用取得进展的最快方式.\n\n下载分发包\n---\n1. 地址:<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started-installing-the-cli\" target=\"blank\">getting-started-installing-the-cli<a/>\n2. 下载：spring-boot-cli-x.x.x.RELEASE-bin.zip (例如：spring-boot-cli-1.5.4.RELEASE-bin.zip)\n3. 解压\n4. 设置环境变量：C:\\hisenwork\\soft\\spring-1.5.4.RELEASE\\bin （在path中添加）\n5. cmd测试：spring --version\n```\nspring --version\nSpring CLI v1.5.4.RELEASE\n```\n\n运行一个简单程序\n---\n<!--more-->\n文件名称：HelloController.groovy\n\n文件内容：\n```\n@RestController\nclass HelloController{\n\t@RequestMapping(\"/\")\n\tdef hello(){\n\t\treturn \"Hello World\"\n\t}\n}\n```\n运行程序：cmd进入文件所在文件夹，执行:spring run HelloController.groovy\n\n提醒：Resolving dependencies第一次初始化时间会久一点，耐心等待\n```\nspring run HelloController.groovy\n\nResolving dependencies..........................\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.5.4.RELEASE)\n```\n之后在浏览器中输入：http://localhost:8080/\n\n就能看到：Hello World","slug":"Spring Boot CLI 安装（windows）","published":1,"updated":"2017-07-12T16:47:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrz005oolejx8ggr1bk","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>SpringBootCLI是一个命令行工具，可用于快速搭建基于spring的原型。</p><p>它支持运行Groovy脚本，这也就意味着你可以使用类似Java的语法，但不用写很多的模板代码。</p><p>Spring Boot不一定非要配合CLI使用，但它绝对是Spring应用取得进展的最快方式.</p><h2 id=\"下载分发包\"><a href=\"#下载分发包\" class=\"headerlink\" title=\"下载分发包\"></a>下载分发包</h2><ol><li>地址:<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started-installing-the-cli\" target=\"blank\">getting-started-installing-the-cli<a></a></a></li><li>下载：spring-boot-cli-x.x.x.RELEASE-bin.zip (例如：spring-boot-cli-1.5.4.RELEASE-bin.zip)</li><li>解压</li><li>设置环境变量：C:\\hisenwork\\soft\\spring-1.5.4.RELEASE\\bin （在path中添加）</li><li>cmd测试：spring –version<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spring --version</span><br><span class=\"line\">Spring CLI v1.5.4.RELEASE</span><br></pre></td></tr></table></figure></li></ol><h2 id=\"运行一个简单程序\"><a href=\"#运行一个简单程序\" class=\"headerlink\" title=\"运行一个简单程序\"></a>运行一个简单程序</h2><a id=\"more\"></a><p>文件名称：HelloController.groovy</p><p>文件内容：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@RestController</span><br><span class=\"line\">class HelloController&#123;</span><br><span class=\"line\">\t@RequestMapping(&quot;/&quot;)</span><br><span class=\"line\">\tdef hello()&#123;</span><br><span class=\"line\">\t\treturn &quot;Hello World&quot;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>运行程序：cmd进入文件所在文件夹，执行:spring run HelloController.groovy</p><p>提醒：Resolving dependencies第一次初始化时间会久一点，耐心等待<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spring run HelloController.groovy</span><br><span class=\"line\"></span><br><span class=\"line\">Resolving dependencies..........................</span><br><span class=\"line\"></span><br><span class=\"line\">  .   ____          _            __ _ _</span><br><span class=\"line\"> /\\\\ / ___&apos;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\</span><br><span class=\"line\">( ( )\\___ | &apos;_ | &apos;_| | &apos;_ \\/ _` | \\ \\ \\ \\</span><br><span class=\"line\"> \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class=\"line\">  &apos;  |____| .__|_| |_|_| |_\\__, | / / / /</span><br><span class=\"line\"> =========|_|==============|___/=/_/_/_/</span><br><span class=\"line\"> :: Spring Boot ::        (v1.5.4.RELEASE)</span><br></pre></td></tr></table></figure><p></p><p>之后在浏览器中输入：http://localhost:8080/</p><p>就能看到：Hello World</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>SpringBootCLI是一个命令行工具，可用于快速搭建基于spring的原型。</p><p>它支持运行Groovy脚本，这也就意味着你可以使用类似Java的语法，但不用写很多的模板代码。</p><p>Spring Boot不一定非要配合CLI使用，但它绝对是Spring应用取得进展的最快方式.</p><h2 id=\"下载分发包\"><a href=\"#下载分发包\" class=\"headerlink\" title=\"下载分发包\"></a>下载分发包</h2><ol><li>地址:<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started-installing-the-cli\" target=\"blank\">getting-started-installing-the-cli<a></a></a></li><li>下载：spring-boot-cli-x.x.x.RELEASE-bin.zip (例如：spring-boot-cli-1.5.4.RELEASE-bin.zip)</li><li>解压</li><li>设置环境变量：C:\\hisenwork\\soft\\spring-1.5.4.RELEASE\\bin （在path中添加）</li><li>cmd测试：spring –version<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spring --version</span><br><span class=\"line\">Spring CLI v1.5.4.RELEASE</span><br></pre></td></tr></table></figure></li></ol><h2 id=\"运行一个简单程序\"><a href=\"#运行一个简单程序\" class=\"headerlink\" title=\"运行一个简单程序\"></a>运行一个简单程序</h2>","more":"<p>文件名称：HelloController.groovy</p><p>文件内容：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@RestController</span><br><span class=\"line\">class HelloController&#123;</span><br><span class=\"line\">\t@RequestMapping(&quot;/&quot;)</span><br><span class=\"line\">\tdef hello()&#123;</span><br><span class=\"line\">\t\treturn &quot;Hello World&quot;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>运行程序：cmd进入文件所在文件夹，执行:spring run HelloController.groovy</p><p>提醒：Resolving dependencies第一次初始化时间会久一点，耐心等待<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spring run HelloController.groovy</span><br><span class=\"line\"></span><br><span class=\"line\">Resolving dependencies..........................</span><br><span class=\"line\"></span><br><span class=\"line\">  .   ____          _            __ _ _</span><br><span class=\"line\"> /\\\\ / ___&apos;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\</span><br><span class=\"line\">( ( )\\___ | &apos;_ | &apos;_| | &apos;_ \\/ _` | \\ \\ \\ \\</span><br><span class=\"line\"> \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class=\"line\">  &apos;  |____| .__|_| |_|_| |_\\__, | / / / /</span><br><span class=\"line\"> =========|_|==============|___/=/_/_/_/</span><br><span class=\"line\"> :: Spring Boot ::        (v1.5.4.RELEASE)</span><br></pre></td></tr></table></figure><p></p><p>之后在浏览器中输入：http://localhost:8080/</p><p>就能看到：Hello World</p><!-- rebuild by neat -->"},{"title":"SpringMVC把jsp改为Thymeleaf模版引擎","keywords":["SpringMVC把jsp改为Thymeleaf模版引擎","springmvc","jsp","Thymeleaf"],"date":"2017-08-01T03:12:00.000Z","_content":"Thymeleaf简介\n---\n前面的例子我们使用的视图技术主要是JSP。JSP的优点是它是Java EE容器的一部分，几乎所有java EE服务器都支持JSP。缺点就是它在视图表现方面的功能很少，假如我们想迭代一个数组之类的，只能使用<% %>来包括Java语句进行。虽然有标准标签库（JSTL）的补足，但是使用仍然不太方便。另外JSP只能在Java EE容器中使用，如果我们希望渲染电子邮件之类的，JSP就无能为力了。\n\nJava生态圈广泛，自然有很多视图框架，除了JSP之外，还有Freemarker、Velocity、Thymeleaf等很多框架。Thymeleaf的优点是它是基于HTML的，即使视图没有渲染成功，也是一个标准的HTML页面。因此它的可读性很不错，也可以作为设计原型来使用。而且它是完全独立于java ee容器的，意味着我们可以在任何需要渲染HTML的地方使用Thymeleaf。\n\nThymeleaf也提供了spring的支持，我们可以非常方便的在Spring配置文件中声明Thymeleaf Beans，然后用它们渲染视图。\n\n改造 - 由jsp到Thymeleaf\n---\n1. 引入依赖\n```\n    <!--thymeleaf模版 spring4.x-->\n    <dependency>\n      <groupId>org.thymeleaf</groupId>\n      <artifactId>thymeleaf-spring4</artifactId>\n      <version>3.0.5.RELEASE</version>\n    </dependency>\n```\n2. 配置ViewResolver(在spring的xml文件里)\n<!--more-->\n```\n<!-- 配置ViewResolver 使用：thymeleaf 模版引擎-->\n  <bean id=\"templateResolver\"\n    class=\"org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver\">\n    <property name=\"prefix\" value=\"/WEB-INF/templates/\"/>\n    <property name=\"suffix\" value=\".html\"/>\n    <property name=\"templateMode\" value=\"HTML5\"/>\n    <!-- 缓存-->\n    <property name=\"cacheable\" value=\"false\"/>\n  </bean>\n  <bean id=\"templateEngine\"\n    class=\"org.thymeleaf.spring4.SpringTemplateEngine\">\n    <property name=\"templateResolver\" ref=\"templateResolver\"/>\n  </bean>\n  <bean class=\"org.thymeleaf.spring4.view.ThymeleafViewResolver\">\n    <property name=\"templateEngine\" ref=\"templateEngine\"/>\n    <property name=\"order\" value=\"1\"/>\n    <property name=\"characterEncoding\" value=\"UTF-8\"/>\n  </bean>\n```\n3. 接下来就可以直接使用了，跟之前的jsp没有什么不同\n```\n  @RequestMapping(value = \"/listpageplug/{start}\", method = RequestMethod.GET)\n  private String listPagePlug(@PathVariable(\"start\") String start, Model model) {\n    PageHelper.startPage(Integer.valueOf(start), 20);\n    List<Book> readingList = bookService.getListPlug();\n    model.addAttribute(\"books\", readingList);\n    return \"readingList\";\n  }\n```\n\n到这里就改造完了，接下来就是Thymeleaf的各种用法了\n\n这里举一个循环遍历的例子,后台返回了books对象集合\n```\n        <!--判断是否为空-->\n        <tbody th:unless=\"${#lists.isEmpty(books)}\">\n          <!--循环-->\n          <tr th:each=\"book : ${books}\">\n            <td th:text=\"${book.bookId}\"></td>\n            <td th:text=\"${book.name}\"></td>\n            <td th:text=\"${book.number}\"></td>\n            <td>\n              <a href=\"<%=appPath%>/book/detail/${book.bookId}\">详情</a> |\n              <a href=\"<%=appPath%>/book/del/${book.bookId}\">删除</a>\n            </td>\n          </tr>\n        </tbody>\n```\n参考\n---\n1. <a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html#integrating-thymeleaf-with-spring\" target=\"_blank\">thymeleaf官方指南</a>\n2. <a href=\"http://www.tianmaying.com/tutorial/using-thymeleaf\" target=\"_blank\">新一代Java模板引擎Thymeleaf</a>\n3. <a href=\"http://www.webinno.cn/blog/article/view/131\" target=\"_blank\">Thymeleaf基本知识</a>\n4. <a href=\"http://v8en.com/news/list/47/0\" target=\"_blank\">thymeleaf总结文章</a>\n5. <a href=\"http://www.cnblogs.com/lazio10000/p/5603955.html\" target=\"_blank\">Thymeleaf 模板的使用</a>\n6. <a href=\"http://www.blogjava.net/bjwulin/archive/2013/02/07/395234.html\" target=\"_blank\">thymeleaf 学习笔记</a>","source":"_posts/SpringMVC把jsp改为Thymeleaf模版引擎.md","raw":"---\ntitle: SpringMVC把jsp改为Thymeleaf模版引擎\nkeywords: [SpringMVC把jsp改为Thymeleaf模版引擎,springmvc,jsp,Thymeleaf]\ndate: 2017/8/1 11:12\ntags: [java,spring]\ncategories: java\n---\nThymeleaf简介\n---\n前面的例子我们使用的视图技术主要是JSP。JSP的优点是它是Java EE容器的一部分，几乎所有java EE服务器都支持JSP。缺点就是它在视图表现方面的功能很少，假如我们想迭代一个数组之类的，只能使用<% %>来包括Java语句进行。虽然有标准标签库（JSTL）的补足，但是使用仍然不太方便。另外JSP只能在Java EE容器中使用，如果我们希望渲染电子邮件之类的，JSP就无能为力了。\n\nJava生态圈广泛，自然有很多视图框架，除了JSP之外，还有Freemarker、Velocity、Thymeleaf等很多框架。Thymeleaf的优点是它是基于HTML的，即使视图没有渲染成功，也是一个标准的HTML页面。因此它的可读性很不错，也可以作为设计原型来使用。而且它是完全独立于java ee容器的，意味着我们可以在任何需要渲染HTML的地方使用Thymeleaf。\n\nThymeleaf也提供了spring的支持，我们可以非常方便的在Spring配置文件中声明Thymeleaf Beans，然后用它们渲染视图。\n\n改造 - 由jsp到Thymeleaf\n---\n1. 引入依赖\n```\n    <!--thymeleaf模版 spring4.x-->\n    <dependency>\n      <groupId>org.thymeleaf</groupId>\n      <artifactId>thymeleaf-spring4</artifactId>\n      <version>3.0.5.RELEASE</version>\n    </dependency>\n```\n2. 配置ViewResolver(在spring的xml文件里)\n<!--more-->\n```\n<!-- 配置ViewResolver 使用：thymeleaf 模版引擎-->\n  <bean id=\"templateResolver\"\n    class=\"org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver\">\n    <property name=\"prefix\" value=\"/WEB-INF/templates/\"/>\n    <property name=\"suffix\" value=\".html\"/>\n    <property name=\"templateMode\" value=\"HTML5\"/>\n    <!-- 缓存-->\n    <property name=\"cacheable\" value=\"false\"/>\n  </bean>\n  <bean id=\"templateEngine\"\n    class=\"org.thymeleaf.spring4.SpringTemplateEngine\">\n    <property name=\"templateResolver\" ref=\"templateResolver\"/>\n  </bean>\n  <bean class=\"org.thymeleaf.spring4.view.ThymeleafViewResolver\">\n    <property name=\"templateEngine\" ref=\"templateEngine\"/>\n    <property name=\"order\" value=\"1\"/>\n    <property name=\"characterEncoding\" value=\"UTF-8\"/>\n  </bean>\n```\n3. 接下来就可以直接使用了，跟之前的jsp没有什么不同\n```\n  @RequestMapping(value = \"/listpageplug/{start}\", method = RequestMethod.GET)\n  private String listPagePlug(@PathVariable(\"start\") String start, Model model) {\n    PageHelper.startPage(Integer.valueOf(start), 20);\n    List<Book> readingList = bookService.getListPlug();\n    model.addAttribute(\"books\", readingList);\n    return \"readingList\";\n  }\n```\n\n到这里就改造完了，接下来就是Thymeleaf的各种用法了\n\n这里举一个循环遍历的例子,后台返回了books对象集合\n```\n        <!--判断是否为空-->\n        <tbody th:unless=\"${#lists.isEmpty(books)}\">\n          <!--循环-->\n          <tr th:each=\"book : ${books}\">\n            <td th:text=\"${book.bookId}\"></td>\n            <td th:text=\"${book.name}\"></td>\n            <td th:text=\"${book.number}\"></td>\n            <td>\n              <a href=\"<%=appPath%>/book/detail/${book.bookId}\">详情</a> |\n              <a href=\"<%=appPath%>/book/del/${book.bookId}\">删除</a>\n            </td>\n          </tr>\n        </tbody>\n```\n参考\n---\n1. <a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html#integrating-thymeleaf-with-spring\" target=\"_blank\">thymeleaf官方指南</a>\n2. <a href=\"http://www.tianmaying.com/tutorial/using-thymeleaf\" target=\"_blank\">新一代Java模板引擎Thymeleaf</a>\n3. <a href=\"http://www.webinno.cn/blog/article/view/131\" target=\"_blank\">Thymeleaf基本知识</a>\n4. <a href=\"http://v8en.com/news/list/47/0\" target=\"_blank\">thymeleaf总结文章</a>\n5. <a href=\"http://www.cnblogs.com/lazio10000/p/5603955.html\" target=\"_blank\">Thymeleaf 模板的使用</a>\n6. <a href=\"http://www.blogjava.net/bjwulin/archive/2013/02/07/395234.html\" target=\"_blank\">thymeleaf 学习笔记</a>","slug":"SpringMVC把jsp改为Thymeleaf模版引擎","published":1,"updated":"2017-08-01T06:31:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdrz005rolejg8c3g9if","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"Thymeleaf简介\"><a href=\"#Thymeleaf简介\" class=\"headerlink\" title=\"Thymeleaf简介\"></a>Thymeleaf简介</h2><p>前面的例子我们使用的视图技术主要是JSP。JSP的优点是它是Java EE容器的一部分，几乎所有java EE服务器都支持JSP。缺点就是它在视图表现方面的功能很少，假如我们想迭代一个数组之类的，只能使用&lt;% %&gt;来包括Java语句进行。虽然有标准标签库（JSTL）的补足，但是使用仍然不太方便。另外JSP只能在Java EE容器中使用，如果我们希望渲染电子邮件之类的，JSP就无能为力了。</p><p>Java生态圈广泛，自然有很多视图框架，除了JSP之外，还有Freemarker、Velocity、Thymeleaf等很多框架。Thymeleaf的优点是它是基于HTML的，即使视图没有渲染成功，也是一个标准的HTML页面。因此它的可读性很不错，也可以作为设计原型来使用。而且它是完全独立于java ee容器的，意味着我们可以在任何需要渲染HTML的地方使用Thymeleaf。</p><p>Thymeleaf也提供了spring的支持，我们可以非常方便的在Spring配置文件中声明Thymeleaf Beans，然后用它们渲染视图。</p><h2 id=\"改造-由jsp到Thymeleaf\"><a href=\"#改造-由jsp到Thymeleaf\" class=\"headerlink\" title=\"改造 - 由jsp到Thymeleaf\"></a>改造 - 由jsp到Thymeleaf</h2><ol><li><p>引入依赖</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--thymeleaf模版 spring4.x--&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li><li><p>配置ViewResolver(在spring的xml文件里)</p><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 配置ViewResolver 使用：thymeleaf 模版引擎--&gt;</span><br><span class=\"line\">  &lt;bean id=&quot;templateResolver&quot;</span><br><span class=\"line\">    class=&quot;org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver&quot;&gt;</span><br><span class=\"line\">    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot;/&gt;</span><br><span class=\"line\">    &lt;!-- 缓存--&gt;</span><br><span class=\"line\">    &lt;property name=&quot;cacheable&quot; value=&quot;false&quot;/&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br><span class=\"line\">  &lt;bean id=&quot;templateEngine&quot;</span><br><span class=\"line\">    class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;&gt;</span><br><span class=\"line\">    &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot;/&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br><span class=\"line\">  &lt;bean class=&quot;org.thymeleaf.spring4.view.ThymeleafViewResolver&quot;&gt;</span><br><span class=\"line\">    &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;order&quot; value=&quot;1&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br></pre></td></tr></table></figure></li><li><p>接下来就可以直接使用了，跟之前的jsp没有什么不同</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@RequestMapping(value = &quot;/listpageplug/&#123;start&#125;&quot;, method = RequestMethod.GET)</span><br><span class=\"line\">private String listPagePlug(@PathVariable(&quot;start&quot;) String start, Model model) &#123;</span><br><span class=\"line\">  PageHelper.startPage(Integer.valueOf(start), 20);</span><br><span class=\"line\">  List&lt;Book&gt; readingList = bookService.getListPlug();</span><br><span class=\"line\">  model.addAttribute(&quot;books&quot;, readingList);</span><br><span class=\"line\">  return &quot;readingList&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>到这里就改造完了，接下来就是Thymeleaf的各种用法了</p><p>这里举一个循环遍历的例子,后台返回了books对象集合<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--判断是否为空--&gt;</span><br><span class=\"line\">&lt;tbody th:unless=&quot;$&#123;#lists.isEmpty(books)&#125;&quot;&gt;</span><br><span class=\"line\">  &lt;!--循环--&gt;</span><br><span class=\"line\">  &lt;tr th:each=&quot;book : $&#123;books&#125;&quot;&gt;</span><br><span class=\"line\">    &lt;td th:text=&quot;$&#123;book.bookId&#125;&quot;&gt;&lt;/td&gt;</span><br><span class=\"line\">    &lt;td th:text=&quot;$&#123;book.name&#125;&quot;&gt;&lt;/td&gt;</span><br><span class=\"line\">    &lt;td th:text=&quot;$&#123;book.number&#125;&quot;&gt;&lt;/td&gt;</span><br><span class=\"line\">    &lt;td&gt;</span><br><span class=\"line\">      &lt;a href=&quot;&lt;%=appPath%&gt;/book/detail/$&#123;book.bookId&#125;&quot;&gt;详情&lt;/a&gt; |</span><br><span class=\"line\">      &lt;a href=&quot;&lt;%=appPath%&gt;/book/del/$&#123;book.bookId&#125;&quot;&gt;删除&lt;/a&gt;</span><br><span class=\"line\">    &lt;/td&gt;</span><br><span class=\"line\">  &lt;/tr&gt;</span><br><span class=\"line\">&lt;/tbody&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ol><li><a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html#integrating-thymeleaf-with-spring\" target=\"_blank\">thymeleaf官方指南</a></li><li><a href=\"http://www.tianmaying.com/tutorial/using-thymeleaf\" target=\"_blank\">新一代Java模板引擎Thymeleaf</a></li><li><a href=\"http://www.webinno.cn/blog/article/view/131\" target=\"_blank\">Thymeleaf基本知识</a></li><li><a href=\"http://v8en.com/news/list/47/0\" target=\"_blank\">thymeleaf总结文章</a></li><li><a href=\"http://www.cnblogs.com/lazio10000/p/5603955.html\" target=\"_blank\">Thymeleaf 模板的使用</a></li><li><a href=\"http://www.blogjava.net/bjwulin/archive/2013/02/07/395234.html\" target=\"_blank\">thymeleaf 学习笔记</a></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"Thymeleaf简介\"><a href=\"#Thymeleaf简介\" class=\"headerlink\" title=\"Thymeleaf简介\"></a>Thymeleaf简介</h2><p>前面的例子我们使用的视图技术主要是JSP。JSP的优点是它是Java EE容器的一部分，几乎所有java EE服务器都支持JSP。缺点就是它在视图表现方面的功能很少，假如我们想迭代一个数组之类的，只能使用&lt;% %&gt;来包括Java语句进行。虽然有标准标签库（JSTL）的补足，但是使用仍然不太方便。另外JSP只能在Java EE容器中使用，如果我们希望渲染电子邮件之类的，JSP就无能为力了。</p><p>Java生态圈广泛，自然有很多视图框架，除了JSP之外，还有Freemarker、Velocity、Thymeleaf等很多框架。Thymeleaf的优点是它是基于HTML的，即使视图没有渲染成功，也是一个标准的HTML页面。因此它的可读性很不错，也可以作为设计原型来使用。而且它是完全独立于java ee容器的，意味着我们可以在任何需要渲染HTML的地方使用Thymeleaf。</p><p>Thymeleaf也提供了spring的支持，我们可以非常方便的在Spring配置文件中声明Thymeleaf Beans，然后用它们渲染视图。</p><h2 id=\"改造-由jsp到Thymeleaf\"><a href=\"#改造-由jsp到Thymeleaf\" class=\"headerlink\" title=\"改造 - 由jsp到Thymeleaf\"></a>改造 - 由jsp到Thymeleaf</h2><ol><li><p>引入依赖</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--thymeleaf模版 spring4.x--&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li><li><p>配置ViewResolver(在spring的xml文件里)</p>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 配置ViewResolver 使用：thymeleaf 模版引擎--&gt;</span><br><span class=\"line\">  &lt;bean id=&quot;templateResolver&quot;</span><br><span class=\"line\">    class=&quot;org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver&quot;&gt;</span><br><span class=\"line\">    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot;/&gt;</span><br><span class=\"line\">    &lt;!-- 缓存--&gt;</span><br><span class=\"line\">    &lt;property name=&quot;cacheable&quot; value=&quot;false&quot;/&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br><span class=\"line\">  &lt;bean id=&quot;templateEngine&quot;</span><br><span class=\"line\">    class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;&gt;</span><br><span class=\"line\">    &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot;/&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br><span class=\"line\">  &lt;bean class=&quot;org.thymeleaf.spring4.view.ThymeleafViewResolver&quot;&gt;</span><br><span class=\"line\">    &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;order&quot; value=&quot;1&quot;/&gt;</span><br><span class=\"line\">    &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br></pre></td></tr></table></figure></li><li><p>接下来就可以直接使用了，跟之前的jsp没有什么不同</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@RequestMapping(value = &quot;/listpageplug/&#123;start&#125;&quot;, method = RequestMethod.GET)</span><br><span class=\"line\">private String listPagePlug(@PathVariable(&quot;start&quot;) String start, Model model) &#123;</span><br><span class=\"line\">  PageHelper.startPage(Integer.valueOf(start), 20);</span><br><span class=\"line\">  List&lt;Book&gt; readingList = bookService.getListPlug();</span><br><span class=\"line\">  model.addAttribute(&quot;books&quot;, readingList);</span><br><span class=\"line\">  return &quot;readingList&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>到这里就改造完了，接下来就是Thymeleaf的各种用法了</p><p>这里举一个循环遍历的例子,后台返回了books对象集合<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--判断是否为空--&gt;</span><br><span class=\"line\">&lt;tbody th:unless=&quot;$&#123;#lists.isEmpty(books)&#125;&quot;&gt;</span><br><span class=\"line\">  &lt;!--循环--&gt;</span><br><span class=\"line\">  &lt;tr th:each=&quot;book : $&#123;books&#125;&quot;&gt;</span><br><span class=\"line\">    &lt;td th:text=&quot;$&#123;book.bookId&#125;&quot;&gt;&lt;/td&gt;</span><br><span class=\"line\">    &lt;td th:text=&quot;$&#123;book.name&#125;&quot;&gt;&lt;/td&gt;</span><br><span class=\"line\">    &lt;td th:text=&quot;$&#123;book.number&#125;&quot;&gt;&lt;/td&gt;</span><br><span class=\"line\">    &lt;td&gt;</span><br><span class=\"line\">      &lt;a href=&quot;&lt;%=appPath%&gt;/book/detail/$&#123;book.bookId&#125;&quot;&gt;详情&lt;/a&gt; |</span><br><span class=\"line\">      &lt;a href=&quot;&lt;%=appPath%&gt;/book/del/$&#123;book.bookId&#125;&quot;&gt;删除&lt;/a&gt;</span><br><span class=\"line\">    &lt;/td&gt;</span><br><span class=\"line\">  &lt;/tr&gt;</span><br><span class=\"line\">&lt;/tbody&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ol><li><a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html#integrating-thymeleaf-with-spring\" target=\"_blank\">thymeleaf官方指南</a></li><li><a href=\"http://www.tianmaying.com/tutorial/using-thymeleaf\" target=\"_blank\">新一代Java模板引擎Thymeleaf</a></li><li><a href=\"http://www.webinno.cn/blog/article/view/131\" target=\"_blank\">Thymeleaf基本知识</a></li><li><a href=\"http://v8en.com/news/list/47/0\" target=\"_blank\">thymeleaf总结文章</a></li><li><a href=\"http://www.cnblogs.com/lazio10000/p/5603955.html\" target=\"_blank\">Thymeleaf 模板的使用</a></li><li><a href=\"http://www.blogjava.net/bjwulin/archive/2013/02/07/395234.html\" target=\"_blank\">thymeleaf 学习笔记</a></li></ol><!-- rebuild by neat -->"},{"title":"String 和 StringBuilder、StringBuffer的区别","date":"2017-02-08T13:07:59.000Z","_content":"String和StringBuilder、StringBuffer的区别？ \n---\n答：Java平台提供了两种类型的字符串：String和StringBuffer/StringBuilder，\n\n它们可以储存和操作字符串。其中String是只读字符串，\n\n也就意味着String引用的字符串内容是不能被改变的。\n\n而StringBuffer/StringBuilder类表示的字符串对象可以直接进行修改。\n\nStringBuilder是Java 5中引入的，它和StringBuffer的方法完全相同，\n\n区别在于它是在单线程环境下使用的，因为它的所有方面都没有被synchronized修饰，\n\n因此它的效率也比StringBuffer要高。\n\n**简而言之：**\n\nString：不能被修改\n\nStringBuffer：可以随意修改，有synchronized修饰，是线程安全的，效率略低\n\nStringBuilder：可以随意修改，无synchronized修饰，不是线程安全的，效率高\n\n<!--more-->\n\n**面试题1：说出程序的输出结果**\n---\n```\nclassStringEqualTest {\n \n\tpublicstaticvoidmain(String[] args) {\n\t\tString s1 = \"Programming\";\n\t\tString s2 = new String(\"Programming\");\n\t\tString s3 = \"Program\" + \"ming\";\n\t\tSystem.out.println(s1 == s2);//false\n\t\tSystem.out.println(s1 == s3);//true\n\t\tSystem.out.println(s1 == s1.intern());//true\n\t}\n}\n```\n存在于.class文件中的常量池，在运行期被JVM装载，并且可以扩充。\n\nString的intern()方法就是扩充常量池的一个方法；\n\n当一个String实例str调用intern()方法时，\n\nJava查找常量池中是否有相同Unicode的字符串常量，\n\n如果有，则返回其的引用， \n\n如果没有，则在常量池中增加一个Unicode等于str的字符串并返回它的引用\n\n**面试题2**\n---\n什么情况下用+运算符进行字符串连接比调用StringBuffer/StringBuilder对象的append方法连接字符串性能更好？\n\n答：\n\n如果使用少量的字符串操作，使用 (+运算符)连接字符串； \n\n如果频繁的对大量字符串进行操作，则使用 \n\n1：全局变量或者需要多线程支持则使用StringBuffer； \n\n2：局部变量或者单线程不涉及线程安全则使有StringBuilder。","source":"_posts/String-和-StringBuilder、StringBuffer的区别.md","raw":"---\ntitle: String 和 StringBuilder、StringBuffer的区别\ndate: 2017-02-08 21:07:59\ntags: [java,StringBuilder,StringBuffer的区别]\n---\nString和StringBuilder、StringBuffer的区别？ \n---\n答：Java平台提供了两种类型的字符串：String和StringBuffer/StringBuilder，\n\n它们可以储存和操作字符串。其中String是只读字符串，\n\n也就意味着String引用的字符串内容是不能被改变的。\n\n而StringBuffer/StringBuilder类表示的字符串对象可以直接进行修改。\n\nStringBuilder是Java 5中引入的，它和StringBuffer的方法完全相同，\n\n区别在于它是在单线程环境下使用的，因为它的所有方面都没有被synchronized修饰，\n\n因此它的效率也比StringBuffer要高。\n\n**简而言之：**\n\nString：不能被修改\n\nStringBuffer：可以随意修改，有synchronized修饰，是线程安全的，效率略低\n\nStringBuilder：可以随意修改，无synchronized修饰，不是线程安全的，效率高\n\n<!--more-->\n\n**面试题1：说出程序的输出结果**\n---\n```\nclassStringEqualTest {\n \n\tpublicstaticvoidmain(String[] args) {\n\t\tString s1 = \"Programming\";\n\t\tString s2 = new String(\"Programming\");\n\t\tString s3 = \"Program\" + \"ming\";\n\t\tSystem.out.println(s1 == s2);//false\n\t\tSystem.out.println(s1 == s3);//true\n\t\tSystem.out.println(s1 == s1.intern());//true\n\t}\n}\n```\n存在于.class文件中的常量池，在运行期被JVM装载，并且可以扩充。\n\nString的intern()方法就是扩充常量池的一个方法；\n\n当一个String实例str调用intern()方法时，\n\nJava查找常量池中是否有相同Unicode的字符串常量，\n\n如果有，则返回其的引用， \n\n如果没有，则在常量池中增加一个Unicode等于str的字符串并返回它的引用\n\n**面试题2**\n---\n什么情况下用+运算符进行字符串连接比调用StringBuffer/StringBuilder对象的append方法连接字符串性能更好？\n\n答：\n\n如果使用少量的字符串操作，使用 (+运算符)连接字符串； \n\n如果频繁的对大量字符串进行操作，则使用 \n\n1：全局变量或者需要多线程支持则使用StringBuffer； \n\n2：局部变量或者单线程不涉及线程安全则使有StringBuilder。","slug":"String-和-StringBuilder、StringBuffer的区别","published":1,"updated":"2017-02-10T07:07:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds0005volejtukgm4qn","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"String和StringBuilder、StringBuffer的区别？\"><a href=\"#String和StringBuilder、StringBuffer的区别？\" class=\"headerlink\" title=\"String和StringBuilder、StringBuffer的区别？ \"></a>String和StringBuilder、StringBuffer的区别？</h2><p>答：Java平台提供了两种类型的字符串：String和StringBuffer/StringBuilder，</p><p>它们可以储存和操作字符串。其中String是只读字符串，</p><p>也就意味着String引用的字符串内容是不能被改变的。</p><p>而StringBuffer/StringBuilder类表示的字符串对象可以直接进行修改。</p><p>StringBuilder是Java 5中引入的，它和StringBuffer的方法完全相同，</p><p>区别在于它是在单线程环境下使用的，因为它的所有方面都没有被synchronized修饰，</p><p>因此它的效率也比StringBuffer要高。</p><p><strong>简而言之：</strong></p><p>String：不能被修改</p><p>StringBuffer：可以随意修改，有synchronized修饰，是线程安全的，效率略低</p><p>StringBuilder：可以随意修改，无synchronized修饰，不是线程安全的，效率高</p><a id=\"more\"></a><h2 id=\"面试题1：说出程序的输出结果\"><a href=\"#面试题1：说出程序的输出结果\" class=\"headerlink\" title=\"面试题1：说出程序的输出结果\"></a><strong>面试题1：说出程序的输出结果</strong></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classStringEqualTest &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">\tpublicstaticvoidmain(String[] args) &#123;</span><br><span class=\"line\">\t\tString s1 = &quot;Programming&quot;;</span><br><span class=\"line\">\t\tString s2 = new String(&quot;Programming&quot;);</span><br><span class=\"line\">\t\tString s3 = &quot;Program&quot; + &quot;ming&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(s1 == s2);//false</span><br><span class=\"line\">\t\tSystem.out.println(s1 == s3);//true</span><br><span class=\"line\">\t\tSystem.out.println(s1 == s1.intern());//true</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>存在于.class文件中的常量池，在运行期被JVM装载，并且可以扩充。</p><p>String的intern()方法就是扩充常量池的一个方法；</p><p>当一个String实例str调用intern()方法时，</p><p>Java查找常量池中是否有相同Unicode的字符串常量，</p><p>如果有，则返回其的引用，</p><p>如果没有，则在常量池中增加一个Unicode等于str的字符串并返回它的引用</p><h2 id=\"面试题2\"><a href=\"#面试题2\" class=\"headerlink\" title=\"面试题2\"></a><strong>面试题2</strong></h2><p>什么情况下用+运算符进行字符串连接比调用StringBuffer/StringBuilder对象的append方法连接字符串性能更好？</p><p>答：</p><p>如果使用少量的字符串操作，使用 (+运算符)连接字符串；</p><p>如果频繁的对大量字符串进行操作，则使用</p><p>1：全局变量或者需要多线程支持则使用StringBuffer；</p><p>2：局部变量或者单线程不涉及线程安全则使有StringBuilder。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"String和StringBuilder、StringBuffer的区别？\"><a href=\"#String和StringBuilder、StringBuffer的区别？\" class=\"headerlink\" title=\"String和StringBuilder、StringBuffer的区别？ \"></a>String和StringBuilder、StringBuffer的区别？</h2><p>答：Java平台提供了两种类型的字符串：String和StringBuffer/StringBuilder，</p><p>它们可以储存和操作字符串。其中String是只读字符串，</p><p>也就意味着String引用的字符串内容是不能被改变的。</p><p>而StringBuffer/StringBuilder类表示的字符串对象可以直接进行修改。</p><p>StringBuilder是Java 5中引入的，它和StringBuffer的方法完全相同，</p><p>区别在于它是在单线程环境下使用的，因为它的所有方面都没有被synchronized修饰，</p><p>因此它的效率也比StringBuffer要高。</p><p><strong>简而言之：</strong></p><p>String：不能被修改</p><p>StringBuffer：可以随意修改，有synchronized修饰，是线程安全的，效率略低</p><p>StringBuilder：可以随意修改，无synchronized修饰，不是线程安全的，效率高</p>","more":"<h2 id=\"面试题1：说出程序的输出结果\"><a href=\"#面试题1：说出程序的输出结果\" class=\"headerlink\" title=\"面试题1：说出程序的输出结果\"></a><strong>面试题1：说出程序的输出结果</strong></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classStringEqualTest &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">\tpublicstaticvoidmain(String[] args) &#123;</span><br><span class=\"line\">\t\tString s1 = &quot;Programming&quot;;</span><br><span class=\"line\">\t\tString s2 = new String(&quot;Programming&quot;);</span><br><span class=\"line\">\t\tString s3 = &quot;Program&quot; + &quot;ming&quot;;</span><br><span class=\"line\">\t\tSystem.out.println(s1 == s2);//false</span><br><span class=\"line\">\t\tSystem.out.println(s1 == s3);//true</span><br><span class=\"line\">\t\tSystem.out.println(s1 == s1.intern());//true</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>存在于.class文件中的常量池，在运行期被JVM装载，并且可以扩充。</p><p>String的intern()方法就是扩充常量池的一个方法；</p><p>当一个String实例str调用intern()方法时，</p><p>Java查找常量池中是否有相同Unicode的字符串常量，</p><p>如果有，则返回其的引用，</p><p>如果没有，则在常量池中增加一个Unicode等于str的字符串并返回它的引用</p><h2 id=\"面试题2\"><a href=\"#面试题2\" class=\"headerlink\" title=\"面试题2\"></a><strong>面试题2</strong></h2><p>什么情况下用+运算符进行字符串连接比调用StringBuffer/StringBuilder对象的append方法连接字符串性能更好？</p><p>答：</p><p>如果使用少量的字符串操作，使用 (+运算符)连接字符串；</p><p>如果频繁的对大量字符串进行操作，则使用</p><p>1：全局变量或者需要多线程支持则使用StringBuffer；</p><p>2：局部变量或者单线程不涉及线程安全则使有StringBuilder。</p><!-- rebuild by neat -->"},{"title":"Test Java Code","date":"2017-01-19T16:00:15.000Z","_content":"\n这里我只是贴一段代码测试一下\n\n```+java\npackage com.hisen.interview;\n\n/**\n * 变量不能被重写\n * \n * @author hisenyuan 2017年1月18日 下午10:33:33\n */\npublic class AboutExtends {\n\tpublic static class A {\n\t\tpublic int a = 0;\n\n\t\tpublic void fun() {\n\t\t\tSystem.out.println(\"A\");\n\t\t}\n\n\t\tstatic {\n\t\t\tSystem.out.println(\"Astatic\");\n\t\t}\n\t\t{\n\t\t\tSystem.out.println(\"I'm A class\");\n\t\t}\n\t}\n\n\tpublic static class B extends A {\n\t\tpublic int a = 1;\n\n\t\tpublic void fun() {\n\t\t\tSystem.out.println(\"B\");\n\t\t}\n\n\t\tstatic {\n\t\t\tSystem.out.println(\"Bstatic\");\n\t\t}\n\t\t{\n\t\t\tSystem.out.println(\"I'm B class\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\t// 里面的static块方法，new了就会执行\n\t\t// new new B()两个都执行，new new A()执行A的\n\t\t//static代码块在{}代码块后面执行\n\t\tA classA = new B();\n\t\tSystem.out.println(classA.a);\n\t\tclassA.fun();\n\t\t// 输出信息\n\t\t// Astatic\n\t\t// Bstatic\n\t\t// I'm A class\n\t\t// I'm B class\n\t\t// 1\n\t\t// B\n\t\t\n\t\t// 多态记忆口诀\n\t\t// 变量多态看左边\n\t\t// 方法多态看右边\n\t\t// 静态多态看左边\n\t}\n}\n\n```","source":"_posts/Test-Java-Code.md","raw":"---\ntitle: Test Java Code\ndate: 2017-01-20 00:00:15\ntags: java\n---\n\n这里我只是贴一段代码测试一下\n\n```+java\npackage com.hisen.interview;\n\n/**\n * 变量不能被重写\n * \n * @author hisenyuan 2017年1月18日 下午10:33:33\n */\npublic class AboutExtends {\n\tpublic static class A {\n\t\tpublic int a = 0;\n\n\t\tpublic void fun() {\n\t\t\tSystem.out.println(\"A\");\n\t\t}\n\n\t\tstatic {\n\t\t\tSystem.out.println(\"Astatic\");\n\t\t}\n\t\t{\n\t\t\tSystem.out.println(\"I'm A class\");\n\t\t}\n\t}\n\n\tpublic static class B extends A {\n\t\tpublic int a = 1;\n\n\t\tpublic void fun() {\n\t\t\tSystem.out.println(\"B\");\n\t\t}\n\n\t\tstatic {\n\t\t\tSystem.out.println(\"Bstatic\");\n\t\t}\n\t\t{\n\t\t\tSystem.out.println(\"I'm B class\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\t// 里面的static块方法，new了就会执行\n\t\t// new new B()两个都执行，new new A()执行A的\n\t\t//static代码块在{}代码块后面执行\n\t\tA classA = new B();\n\t\tSystem.out.println(classA.a);\n\t\tclassA.fun();\n\t\t// 输出信息\n\t\t// Astatic\n\t\t// Bstatic\n\t\t// I'm A class\n\t\t// I'm B class\n\t\t// 1\n\t\t// B\n\t\t\n\t\t// 多态记忆口诀\n\t\t// 变量多态看左边\n\t\t// 方法多态看右边\n\t\t// 静态多态看左边\n\t}\n}\n\n```","slug":"Test-Java-Code","published":1,"updated":"2017-01-19T16:06:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds1005yolejphjc4p82","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这里我只是贴一段代码测试一下</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 变量不能被重写</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @author hisenyuan 2017年1月18日 下午10:33:33</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class AboutExtends &#123;</span><br><span class=\"line\">\tpublic static class A &#123;</span><br><span class=\"line\">\t\tpublic int a = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tpublic void fun() &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;A&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tstatic &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;Astatic&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;I&apos;m A class&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static class B extends A &#123;</span><br><span class=\"line\">\t\tpublic int a = 1;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tpublic void fun() &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;B&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tstatic &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;Bstatic&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;I&apos;m B class&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) &#123;</span><br><span class=\"line\">\t\t// 里面的static块方法，new了就会执行</span><br><span class=\"line\">\t\t// new new B()两个都执行，new new A()执行A的</span><br><span class=\"line\">\t\t//static代码块在&#123;&#125;代码块后面执行</span><br><span class=\"line\">\t\tA classA = new B();</span><br><span class=\"line\">\t\tSystem.out.println(classA.a);</span><br><span class=\"line\">\t\tclassA.fun();</span><br><span class=\"line\">\t\t// 输出信息</span><br><span class=\"line\">\t\t// Astatic</span><br><span class=\"line\">\t\t// Bstatic</span><br><span class=\"line\">\t\t// I&apos;m A class</span><br><span class=\"line\">\t\t// I&apos;m B class</span><br><span class=\"line\">\t\t// 1</span><br><span class=\"line\">\t\t// B</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t// 多态记忆口诀</span><br><span class=\"line\">\t\t// 变量多态看左边</span><br><span class=\"line\">\t\t// 方法多态看右边</span><br><span class=\"line\">\t\t// 静态多态看左边</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这里我只是贴一段代码测试一下</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 变量不能被重写</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @author hisenyuan 2017年1月18日 下午10:33:33</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class AboutExtends &#123;</span><br><span class=\"line\">\tpublic static class A &#123;</span><br><span class=\"line\">\t\tpublic int a = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tpublic void fun() &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;A&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tstatic &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;Astatic&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;I&apos;m A class&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static class B extends A &#123;</span><br><span class=\"line\">\t\tpublic int a = 1;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tpublic void fun() &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;B&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tstatic &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;Bstatic&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(&quot;I&apos;m B class&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) &#123;</span><br><span class=\"line\">\t\t// 里面的static块方法，new了就会执行</span><br><span class=\"line\">\t\t// new new B()两个都执行，new new A()执行A的</span><br><span class=\"line\">\t\t//static代码块在&#123;&#125;代码块后面执行</span><br><span class=\"line\">\t\tA classA = new B();</span><br><span class=\"line\">\t\tSystem.out.println(classA.a);</span><br><span class=\"line\">\t\tclassA.fun();</span><br><span class=\"line\">\t\t// 输出信息</span><br><span class=\"line\">\t\t// Astatic</span><br><span class=\"line\">\t\t// Bstatic</span><br><span class=\"line\">\t\t// I&apos;m A class</span><br><span class=\"line\">\t\t// I&apos;m B class</span><br><span class=\"line\">\t\t// 1</span><br><span class=\"line\">\t\t// B</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t// 多态记忆口诀</span><br><span class=\"line\">\t\t// 变量多态看左边</span><br><span class=\"line\">\t\t// 方法多态看右边</span><br><span class=\"line\">\t\t// 静态多态看左边</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Ubuntu 16 安装IDEA 并且设置快捷启动","keywords":["idea"],"date":"2017-03-03T16:23:00.000Z","_content":"\n安装简单，下载官网的文件(with java的比较方便)\n\n解压之后在bin目录下执行\n```\nsudo sh idea.sh\n```\n就会进入安装程序，接下来会跳出图形界面，跟windows差不多的步骤\n\n没有激活码可以看之前的文章\n\n关键的一个是我发现网上说的建立桌面快捷方式不行\n\n就这样弄个方便的\n```\ncd ~\nln -s /idea home/bin/idea.sh idea\n#接下来执行 idea & 就可以打开，如果提示权限不够\n#就执行 sudo idea &\nsudo idea &\n#后面的 & 代表后台运行的意思，不影响控制台\n```\n","source":"_posts/Ubuntu 16 安装IDEA 并且设置快捷启动.md","raw":"---\ntitle: Ubuntu 16 安装IDEA 并且设置快捷启动\nkeywords: [idea]\ndate: 2017/3/4 0:23\ntags: [idea,java]\ncategories: java\n---\n\n安装简单，下载官网的文件(with java的比较方便)\n\n解压之后在bin目录下执行\n```\nsudo sh idea.sh\n```\n就会进入安装程序，接下来会跳出图形界面，跟windows差不多的步骤\n\n没有激活码可以看之前的文章\n\n关键的一个是我发现网上说的建立桌面快捷方式不行\n\n就这样弄个方便的\n```\ncd ~\nln -s /idea home/bin/idea.sh idea\n#接下来执行 idea & 就可以打开，如果提示权限不够\n#就执行 sudo idea &\nsudo idea &\n#后面的 & 代表后台运行的意思，不影响控制台\n```\n","slug":"Ubuntu 16 安装IDEA 并且设置快捷启动","published":1,"updated":"2017-03-03T16:34:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds30062olejukrx5l58","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>安装简单，下载官网的文件(with java的比较方便)</p><p>解压之后在bin目录下执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sh idea.sh</span><br></pre></td></tr></table></figure><p></p><p>就会进入安装程序，接下来会跳出图形界面，跟windows差不多的步骤</p><p>没有激活码可以看之前的文章</p><p>关键的一个是我发现网上说的建立桌面快捷方式不行</p><p>就这样弄个方便的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~</span><br><span class=\"line\">ln -s /idea home/bin/idea.sh idea</span><br><span class=\"line\">#接下来执行 idea &amp; 就可以打开，如果提示权限不够</span><br><span class=\"line\">#就执行 sudo idea &amp;</span><br><span class=\"line\">sudo idea &amp;</span><br><span class=\"line\">#后面的 &amp; 代表后台运行的意思，不影响控制台</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>安装简单，下载官网的文件(with java的比较方便)</p><p>解压之后在bin目录下执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sh idea.sh</span><br></pre></td></tr></table></figure><p></p><p>就会进入安装程序，接下来会跳出图形界面，跟windows差不多的步骤</p><p>没有激活码可以看之前的文章</p><p>关键的一个是我发现网上说的建立桌面快捷方式不行</p><p>就这样弄个方便的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~</span><br><span class=\"line\">ln -s /idea home/bin/idea.sh idea</span><br><span class=\"line\">#接下来执行 idea &amp; 就可以打开，如果提示权限不够</span><br><span class=\"line\">#就执行 sudo idea &amp;</span><br><span class=\"line\">sudo idea &amp;</span><br><span class=\"line\">#后面的 &amp; 代表后台运行的意思，不影响控制台</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Ubuntu 16 LTS 关闭图形界面","keywords":["Ubuntu关闭图形界面","Ubuntu 16 LTS 关闭图形界面"],"date":"2017-02-18T08:06:24.000Z","_content":"有两个方法。\n\n第一个方法\n---\n到了图形化界面，打开terminal(终端)执行\n```\nsudo init 3\n```\n就会跳转到命令行界面，并且只有命令行\n\n就是一个全屏的terminal。\n\n\n第二个方法\n---\n在安装ubuntu的时候，有选择是否安装图形化界面的选项，选择不安装，那么系统将不带有图形化界面而默认进入命令行界面。\n\n第三个方法\n---\n[http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/](http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/ \"Oracle VM VirtualBox命令行打开虚拟机并且后台运行\")\n\n第四个方法\n---\n直接安装Ubuntu Server，目前我就是这样\n\n不过装了之后还是推荐第三个方法！！！","source":"_posts/Ubuntu-16-LTS-关闭图形界面.md","raw":"---\ntitle: Ubuntu 16 LTS 关闭图形界面\nkeywords: [Ubuntu关闭图形界面,Ubuntu 16 LTS 关闭图形界面]\ntags: [linux,Ubuntu]\ndate: 2017-02-18 16:06:24\ncategories: linux\n---\n有两个方法。\n\n第一个方法\n---\n到了图形化界面，打开terminal(终端)执行\n```\nsudo init 3\n```\n就会跳转到命令行界面，并且只有命令行\n\n就是一个全屏的terminal。\n\n\n第二个方法\n---\n在安装ubuntu的时候，有选择是否安装图形化界面的选项，选择不安装，那么系统将不带有图形化界面而默认进入命令行界面。\n\n第三个方法\n---\n[http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/](http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/ \"Oracle VM VirtualBox命令行打开虚拟机并且后台运行\")\n\n第四个方法\n---\n直接安装Ubuntu Server，目前我就是这样\n\n不过装了之后还是推荐第三个方法！！！","slug":"Ubuntu-16-LTS-关闭图形界面","published":1,"updated":"2017-02-20T09:19:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds40065olejn0frhrli","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有两个方法。</p><h2 id=\"第一个方法\"><a href=\"#第一个方法\" class=\"headerlink\" title=\"第一个方法\"></a>第一个方法</h2><p>到了图形化界面，打开terminal(终端)执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo init 3</span><br></pre></td></tr></table></figure><p></p><p>就会跳转到命令行界面，并且只有命令行</p><p>就是一个全屏的terminal。</p><h2 id=\"第二个方法\"><a href=\"#第二个方法\" class=\"headerlink\" title=\"第二个方法\"></a>第二个方法</h2><p>在安装ubuntu的时候，有选择是否安装图形化界面的选项，选择不安装，那么系统将不带有图形化界面而默认进入命令行界面。</p><h2 id=\"第三个方法\"><a href=\"#第三个方法\" class=\"headerlink\" title=\"第三个方法\"></a>第三个方法</h2><p><a href=\"http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/\" title=\"Oracle VM VirtualBox命令行打开虚拟机并且后台运行\">http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/</a></p><h2 id=\"第四个方法\"><a href=\"#第四个方法\" class=\"headerlink\" title=\"第四个方法\"></a>第四个方法</h2><p>直接安装Ubuntu Server，目前我就是这样</p><p>不过装了之后还是推荐第三个方法！！！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有两个方法。</p><h2 id=\"第一个方法\"><a href=\"#第一个方法\" class=\"headerlink\" title=\"第一个方法\"></a>第一个方法</h2><p>到了图形化界面，打开terminal(终端)执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo init 3</span><br></pre></td></tr></table></figure><p></p><p>就会跳转到命令行界面，并且只有命令行</p><p>就是一个全屏的terminal。</p><h2 id=\"第二个方法\"><a href=\"#第二个方法\" class=\"headerlink\" title=\"第二个方法\"></a>第二个方法</h2><p>在安装ubuntu的时候，有选择是否安装图形化界面的选项，选择不安装，那么系统将不带有图形化界面而默认进入命令行界面。</p><h2 id=\"第三个方法\"><a href=\"#第三个方法\" class=\"headerlink\" title=\"第三个方法\"></a>第三个方法</h2><p><a href=\"http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/\" title=\"Oracle VM VirtualBox命令行打开虚拟机并且后台运行\">http://hisen.me/20170219-Oracle-VM-VirtualBox%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E4%B8%94%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/</a></p><h2 id=\"第四个方法\"><a href=\"#第四个方法\" class=\"headerlink\" title=\"第四个方法\"></a>第四个方法</h2><p>直接安装Ubuntu Server，目前我就是这样</p><p>不过装了之后还是推荐第三个方法！！！</p><!-- rebuild by neat -->"},{"title":"Ubuntu 16 LTS 安装redis -  apt-get install redis-server","keywords":["redis"],"date":"2017-02-23T10:26:11.000Z","_content":"\n配置文件的路径： /etc/redis/redis.conf\n\nredis服务路径: /etc/init.d/redis-server\n\n默认是开机启动\n\n<!--more-->\n```\n#安装\nhisen@hisen-server:/$ sudo apt-get install redis-server\n#打开服务\nhisen@hisen-server:/$ service redis start\n==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===\nAuthentication is required to start 'redis-server.service'.\nAuthenticating as: hisen,,, (hisen)\nPassword: \n==== AUTHENTICATION COMPLETE ===\n#打开客户端\nhisen@hisen-server:/$ redis-cli\n#操作数据库\n127.0.0.1:6379> set hisen hisen.me\nOK\n#获取数据\n127.0.0.1:6379> get hisen\n\"hisen.me\"\n127.0.0.1:6379> \n#停止数据库\nhisen@hisen-server:/$ service redis stop\n==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===\nAuthentication is required to stop 'redis-server.service'.\nAuthenticating as: hisen,,, (hisen)\nPassword: \n==== AUTHENTICATION COMPLETE ===\nhisen@hisen-server:/$ \n```\n\n","source":"_posts/Ubuntu-16-LTS-安装redis-ape-get-install-redis-server.md","raw":"---\ntitle: Ubuntu 16 LTS 安装redis -  apt-get install redis-server\nkeywords: [redis]\ntags: [redis]\ndate: 2017-02-23 18:26:11\ncategories: linux\n---\n\n配置文件的路径： /etc/redis/redis.conf\n\nredis服务路径: /etc/init.d/redis-server\n\n默认是开机启动\n\n<!--more-->\n```\n#安装\nhisen@hisen-server:/$ sudo apt-get install redis-server\n#打开服务\nhisen@hisen-server:/$ service redis start\n==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===\nAuthentication is required to start 'redis-server.service'.\nAuthenticating as: hisen,,, (hisen)\nPassword: \n==== AUTHENTICATION COMPLETE ===\n#打开客户端\nhisen@hisen-server:/$ redis-cli\n#操作数据库\n127.0.0.1:6379> set hisen hisen.me\nOK\n#获取数据\n127.0.0.1:6379> get hisen\n\"hisen.me\"\n127.0.0.1:6379> \n#停止数据库\nhisen@hisen-server:/$ service redis stop\n==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===\nAuthentication is required to stop 'redis-server.service'.\nAuthenticating as: hisen,,, (hisen)\nPassword: \n==== AUTHENTICATION COMPLETE ===\nhisen@hisen-server:/$ \n```\n\n","slug":"Ubuntu-16-LTS-安装redis-ape-get-install-redis-server","published":1,"updated":"2017-02-24T02:15:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds50069olejpeou2i8a","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>配置文件的路径： /etc/redis/redis.conf</p><p>redis服务路径: /etc/init.d/redis-server</p><p>默认是开机启动</p><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#安装</span><br><span class=\"line\">hisen@hisen-server:/$ sudo apt-get install redis-server</span><br><span class=\"line\">#打开服务</span><br><span class=\"line\">hisen@hisen-server:/$ service redis start</span><br><span class=\"line\">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class=\"line\">Authentication is required to start &apos;redis-server.service&apos;.</span><br><span class=\"line\">Authenticating as: hisen,,, (hisen)</span><br><span class=\"line\">Password: </span><br><span class=\"line\">==== AUTHENTICATION COMPLETE ===</span><br><span class=\"line\">#打开客户端</span><br><span class=\"line\">hisen@hisen-server:/$ redis-cli</span><br><span class=\"line\">#操作数据库</span><br><span class=\"line\">127.0.0.1:6379&gt; set hisen hisen.me</span><br><span class=\"line\">OK</span><br><span class=\"line\">#获取数据</span><br><span class=\"line\">127.0.0.1:6379&gt; get hisen</span><br><span class=\"line\">&quot;hisen.me&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\">#停止数据库</span><br><span class=\"line\">hisen@hisen-server:/$ service redis stop</span><br><span class=\"line\">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class=\"line\">Authentication is required to stop &apos;redis-server.service&apos;.</span><br><span class=\"line\">Authenticating as: hisen,,, (hisen)</span><br><span class=\"line\">Password: </span><br><span class=\"line\">==== AUTHENTICATION COMPLETE ===</span><br><span class=\"line\">hisen@hisen-server:/$</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>配置文件的路径： /etc/redis/redis.conf</p><p>redis服务路径: /etc/init.d/redis-server</p><p>默认是开机启动</p>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#安装</span><br><span class=\"line\">hisen@hisen-server:/$ sudo apt-get install redis-server</span><br><span class=\"line\">#打开服务</span><br><span class=\"line\">hisen@hisen-server:/$ service redis start</span><br><span class=\"line\">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class=\"line\">Authentication is required to start &apos;redis-server.service&apos;.</span><br><span class=\"line\">Authenticating as: hisen,,, (hisen)</span><br><span class=\"line\">Password: </span><br><span class=\"line\">==== AUTHENTICATION COMPLETE ===</span><br><span class=\"line\">#打开客户端</span><br><span class=\"line\">hisen@hisen-server:/$ redis-cli</span><br><span class=\"line\">#操作数据库</span><br><span class=\"line\">127.0.0.1:6379&gt; set hisen hisen.me</span><br><span class=\"line\">OK</span><br><span class=\"line\">#获取数据</span><br><span class=\"line\">127.0.0.1:6379&gt; get hisen</span><br><span class=\"line\">&quot;hisen.me&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\">#停止数据库</span><br><span class=\"line\">hisen@hisen-server:/$ service redis stop</span><br><span class=\"line\">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class=\"line\">Authentication is required to stop &apos;redis-server.service&apos;.</span><br><span class=\"line\">Authenticating as: hisen,,, (hisen)</span><br><span class=\"line\">Password: </span><br><span class=\"line\">==== AUTHENTICATION COMPLETE ===</span><br><span class=\"line\">hisen@hisen-server:/$</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Ubuntu 16 换阿里云源","keywords":["ubuntu","阿里云"],"date":"2017-02-18T07:27:58.000Z","_content":"1. sudo vi /etc/apt/sources.list\n2. 删除里面所有的内容，添加下面的内容\n3. sudo apt-get update\n\n三步完成之后即可！\n\n<!--more-->\n\n```\ndeb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\n```","source":"_posts/Ubuntu-16-换阿里云源.md","raw":"---\ntitle: Ubuntu 16 换阿里云源\nkeywords: [ubuntu,阿里云]\ntags: [ubuntu,阿里云]\ndate: 2017-02-18 15:27:58\ncategories: linux\n---\n1. sudo vi /etc/apt/sources.list\n2. 删除里面所有的内容，添加下面的内容\n3. sudo apt-get update\n\n三步完成之后即可！\n\n<!--more-->\n\n```\ndeb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse\n```","slug":"Ubuntu-16-换阿里云源","published":1,"updated":"2017-02-18T07:56:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds6006bolejeghd1yk3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><ol><li>sudo vi /etc/apt/sources.list</li><li>删除里面所有的内容，添加下面的内容</li><li>sudo apt-get update</li></ol><p>三步完成之后即可！</p><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><ol><li>sudo vi /etc/apt/sources.list</li><li>删除里面所有的内容，添加下面的内容</li><li>sudo apt-get update</li></ol><p>三步完成之后即可！</p>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Ubuntu 16 LTS 安装zookeeper并开机启动","keywords":["安装zookeeper并开机启动","Ubuntu安装zookeeper"],"date":"2017-02-24T02:03:24.000Z","_content":"\n# 一、安装\n```\nsudo apt-get install zookeeper\n```\n默认信息\n```\n#安装路径\n/usr/share/zookeeper\n#配置文件\n/etc/zookeeper/conf/zoo.cfg\n```\n# 二、启动服务端\n<!--more-->\n```\nhisen@hisen-server:/usr/share/zookeeper/bin$ sudo sh zkServer.sh\n```\n如果报错\n```\nzkServer.sh: 81: /home/xxx/zookeeper-3.4.6/bin/zkEnv.sh: Syntax error: \"(\" unexpected (expecting \"fi\")\n网上找了一圈原因，大概意思就是脚本里面用到的shell版本与系统当前使用的shell版本不兼容，导致异常。\n查看当前ubuntu系统的shell，默认是使用dash，但是脚本里面是使用的bash，问题就在这里了。\n解决步骤：\n修改当前系统的shell版本：\ndpkg-reconfigure dash\nTab 移动到NO 回车即可(选择否)\n```\n# 三、验证是否成功\n```\nhisen@hisen-server:/usr/share/zookeeper/bin$ sudozkCli.sh -server localhost:2181\nWatchedEvent state:SyncConnected type:None path:null\n[zk: localhost:2181(CONNECTED) 0]\n```\n出现上面的信息说明成功了\n# 四、设置开机启动\n1.创建配置文件\n```\nsudo vi /etc/init.d/zookeeper\n```\n添加以下信息，注意自己的相关路径是否相同，不同修改之\n```\n#!/bin/sh\n#Configurations injected by install_server below....\nEXEC=/usr/share/zookeeper/bin/zkServer.sh\nZOO_LOG_DIR=\"/var/zookeeper\"\nJAVA_HOME=/usr/hisen/soft/jdk8 \nPATH=${JAVA_HOME}/bin:$PATH\n###############\n# SysV Init Information\n# chkconfig: - 58 74\n# description: zookeeper is the zookeeper daemon.\n### BEGIN INIT INFO\n# Provides: zookeeper\n# Required-Start: $network $local_fs $remote_fs\n# Required-Stop: $network $local_fs $remote_fs\n# Default-Start: 2 3 4 5\n# Default-Stop: 0 1 6\n# Should-Start: $syslog $named\n# Should-Stop: $syslog $named\n# Short-Description: start and stop zookeeper\n# Description: zookeeper daemon\n### END INIT INFO\ncase $1 in\n          start)  /usr/share/zookeeper/bin/zkServer.sh start;;\n          stop)   /usr/share/zookeeper/bin/zkServer.sh stop;;\n          status) /usr/share/zookeeper/bin/zkServer.sh status;;\n          restart) /usr/share/zookeeper/bin/zkServer.sh restart;;\n          *)  echo \"require start|stop|status|restart\"  ;;\nesac\n```\n2.授权\n```\nsudo chmod +x zookeeper\n```\n3.安装开机启动管理软件(一般自带)\n```\nsudo apt-get install rcconf\n```\n4.进入管理界面\n```\nsudo rcconf\n```\n↑ ↓ 移动光标，空格键选中zookeeper\n\nTab 使光标移动到OK 回车即可","source":"_posts/Ubuntu-16-LTS-安装zookeeper并开机启动.md","raw":"---\ntitle: Ubuntu 16 LTS 安装zookeeper并开机启动\nkeywords: [安装zookeeper并开机启动,Ubuntu安装zookeeper]\ntags: [zookeeper]\ndate: 2017-02-24 10:03:24\ncategories: linux\n---\n\n# 一、安装\n```\nsudo apt-get install zookeeper\n```\n默认信息\n```\n#安装路径\n/usr/share/zookeeper\n#配置文件\n/etc/zookeeper/conf/zoo.cfg\n```\n# 二、启动服务端\n<!--more-->\n```\nhisen@hisen-server:/usr/share/zookeeper/bin$ sudo sh zkServer.sh\n```\n如果报错\n```\nzkServer.sh: 81: /home/xxx/zookeeper-3.4.6/bin/zkEnv.sh: Syntax error: \"(\" unexpected (expecting \"fi\")\n网上找了一圈原因，大概意思就是脚本里面用到的shell版本与系统当前使用的shell版本不兼容，导致异常。\n查看当前ubuntu系统的shell，默认是使用dash，但是脚本里面是使用的bash，问题就在这里了。\n解决步骤：\n修改当前系统的shell版本：\ndpkg-reconfigure dash\nTab 移动到NO 回车即可(选择否)\n```\n# 三、验证是否成功\n```\nhisen@hisen-server:/usr/share/zookeeper/bin$ sudozkCli.sh -server localhost:2181\nWatchedEvent state:SyncConnected type:None path:null\n[zk: localhost:2181(CONNECTED) 0]\n```\n出现上面的信息说明成功了\n# 四、设置开机启动\n1.创建配置文件\n```\nsudo vi /etc/init.d/zookeeper\n```\n添加以下信息，注意自己的相关路径是否相同，不同修改之\n```\n#!/bin/sh\n#Configurations injected by install_server below....\nEXEC=/usr/share/zookeeper/bin/zkServer.sh\nZOO_LOG_DIR=\"/var/zookeeper\"\nJAVA_HOME=/usr/hisen/soft/jdk8 \nPATH=${JAVA_HOME}/bin:$PATH\n###############\n# SysV Init Information\n# chkconfig: - 58 74\n# description: zookeeper is the zookeeper daemon.\n### BEGIN INIT INFO\n# Provides: zookeeper\n# Required-Start: $network $local_fs $remote_fs\n# Required-Stop: $network $local_fs $remote_fs\n# Default-Start: 2 3 4 5\n# Default-Stop: 0 1 6\n# Should-Start: $syslog $named\n# Should-Stop: $syslog $named\n# Short-Description: start and stop zookeeper\n# Description: zookeeper daemon\n### END INIT INFO\ncase $1 in\n          start)  /usr/share/zookeeper/bin/zkServer.sh start;;\n          stop)   /usr/share/zookeeper/bin/zkServer.sh stop;;\n          status) /usr/share/zookeeper/bin/zkServer.sh status;;\n          restart) /usr/share/zookeeper/bin/zkServer.sh restart;;\n          *)  echo \"require start|stop|status|restart\"  ;;\nesac\n```\n2.授权\n```\nsudo chmod +x zookeeper\n```\n3.安装开机启动管理软件(一般自带)\n```\nsudo apt-get install rcconf\n```\n4.进入管理界面\n```\nsudo rcconf\n```\n↑ ↓ 移动光标，空格键选中zookeeper\n\nTab 使光标移动到OK 回车即可","slug":"Ubuntu-16-LTS-安装zookeeper并开机启动","published":1,"updated":"2017-02-24T02:13:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds7006eoleja73yz1sw","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h1 id=\"一、安装\"><a href=\"#一、安装\" class=\"headerlink\" title=\"一、安装\"></a>一、安装</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install zookeeper</span><br></pre></td></tr></table></figure><p>默认信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#安装路径</span><br><span class=\"line\">/usr/share/zookeeper</span><br><span class=\"line\">#配置文件</span><br><span class=\"line\">/etc/zookeeper/conf/zoo.cfg</span><br></pre></td></tr></table></figure><p></p><h1 id=\"二、启动服务端\"><a href=\"#二、启动服务端\" class=\"headerlink\" title=\"二、启动服务端\"></a>二、启动服务端</h1><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:/usr/share/zookeeper/bin$ sudo sh zkServer.sh</span><br></pre></td></tr></table></figure><p>如果报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">zkServer.sh: 81: /home/xxx/zookeeper-3.4.6/bin/zkEnv.sh: Syntax error: &quot;(&quot; unexpected (expecting &quot;fi&quot;)</span><br><span class=\"line\">网上找了一圈原因，大概意思就是脚本里面用到的shell版本与系统当前使用的shell版本不兼容，导致异常。</span><br><span class=\"line\">查看当前ubuntu系统的shell，默认是使用dash，但是脚本里面是使用的bash，问题就在这里了。</span><br><span class=\"line\">解决步骤：</span><br><span class=\"line\">修改当前系统的shell版本：</span><br><span class=\"line\">dpkg-reconfigure dash</span><br><span class=\"line\">Tab 移动到NO 回车即可(选择否)</span><br></pre></td></tr></table></figure><p></p><h1 id=\"三、验证是否成功\"><a href=\"#三、验证是否成功\" class=\"headerlink\" title=\"三、验证是否成功\"></a>三、验证是否成功</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:/usr/share/zookeeper/bin$ sudozkCli.sh -server localhost:2181</span><br><span class=\"line\">WatchedEvent state:SyncConnected type:None path:null</span><br><span class=\"line\">[zk: localhost:2181(CONNECTED) 0]</span><br></pre></td></tr></table></figure><p>出现上面的信息说明成功了</p><h1 id=\"四、设置开机启动\"><a href=\"#四、设置开机启动\" class=\"headerlink\" title=\"四、设置开机启动\"></a>四、设置开机启动</h1><p>1.创建配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/init.d/zookeeper</span><br></pre></td></tr></table></figure><p></p><p>添加以下信息，注意自己的相关路径是否相同，不同修改之<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/sh</span><br><span class=\"line\">#Configurations injected by install_server below....</span><br><span class=\"line\">EXEC=/usr/share/zookeeper/bin/zkServer.sh</span><br><span class=\"line\">ZOO_LOG_DIR=&quot;/var/zookeeper&quot;</span><br><span class=\"line\">JAVA_HOME=/usr/hisen/soft/jdk8 </span><br><span class=\"line\">PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br><span class=\"line\">###############</span><br><span class=\"line\"># SysV Init Information</span><br><span class=\"line\"># chkconfig: - 58 74</span><br><span class=\"line\"># description: zookeeper is the zookeeper daemon.</span><br><span class=\"line\">### BEGIN INIT INFO</span><br><span class=\"line\"># Provides: zookeeper</span><br><span class=\"line\"># Required-Start: $network $local_fs $remote_fs</span><br><span class=\"line\"># Required-Stop: $network $local_fs $remote_fs</span><br><span class=\"line\"># Default-Start: 2 3 4 5</span><br><span class=\"line\"># Default-Stop: 0 1 6</span><br><span class=\"line\"># Should-Start: $syslog $named</span><br><span class=\"line\"># Should-Stop: $syslog $named</span><br><span class=\"line\"># Short-Description: start and stop zookeeper</span><br><span class=\"line\"># Description: zookeeper daemon</span><br><span class=\"line\">### END INIT INFO</span><br><span class=\"line\">case $1 in</span><br><span class=\"line\">          start)  /usr/share/zookeeper/bin/zkServer.sh start;;</span><br><span class=\"line\">          stop)   /usr/share/zookeeper/bin/zkServer.sh stop;;</span><br><span class=\"line\">          status) /usr/share/zookeeper/bin/zkServer.sh status;;</span><br><span class=\"line\">          restart) /usr/share/zookeeper/bin/zkServer.sh restart;;</span><br><span class=\"line\">          *)  echo &quot;require start|stop|status|restart&quot;  ;;</span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure><p></p><p>2.授权<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chmod +x zookeeper</span><br></pre></td></tr></table></figure><p></p><p>3.安装开机启动管理软件(一般自带)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install rcconf</span><br></pre></td></tr></table></figure><p></p><p>4.进入管理界面<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rcconf</span><br></pre></td></tr></table></figure><p></p><p>↑ ↓ 移动光标，空格键选中zookeeper</p><p>Tab 使光标移动到OK 回车即可</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h1 id=\"一、安装\"><a href=\"#一、安装\" class=\"headerlink\" title=\"一、安装\"></a>一、安装</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install zookeeper</span><br></pre></td></tr></table></figure><p>默认信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#安装路径</span><br><span class=\"line\">/usr/share/zookeeper</span><br><span class=\"line\">#配置文件</span><br><span class=\"line\">/etc/zookeeper/conf/zoo.cfg</span><br></pre></td></tr></table></figure><p></p><h1 id=\"二、启动服务端\"><a href=\"#二、启动服务端\" class=\"headerlink\" title=\"二、启动服务端\"></a>二、启动服务端</h1>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:/usr/share/zookeeper/bin$ sudo sh zkServer.sh</span><br></pre></td></tr></table></figure><p>如果报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">zkServer.sh: 81: /home/xxx/zookeeper-3.4.6/bin/zkEnv.sh: Syntax error: &quot;(&quot; unexpected (expecting &quot;fi&quot;)</span><br><span class=\"line\">网上找了一圈原因，大概意思就是脚本里面用到的shell版本与系统当前使用的shell版本不兼容，导致异常。</span><br><span class=\"line\">查看当前ubuntu系统的shell，默认是使用dash，但是脚本里面是使用的bash，问题就在这里了。</span><br><span class=\"line\">解决步骤：</span><br><span class=\"line\">修改当前系统的shell版本：</span><br><span class=\"line\">dpkg-reconfigure dash</span><br><span class=\"line\">Tab 移动到NO 回车即可(选择否)</span><br></pre></td></tr></table></figure><p></p><h1 id=\"三、验证是否成功\"><a href=\"#三、验证是否成功\" class=\"headerlink\" title=\"三、验证是否成功\"></a>三、验证是否成功</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:/usr/share/zookeeper/bin$ sudozkCli.sh -server localhost:2181</span><br><span class=\"line\">WatchedEvent state:SyncConnected type:None path:null</span><br><span class=\"line\">[zk: localhost:2181(CONNECTED) 0]</span><br></pre></td></tr></table></figure><p>出现上面的信息说明成功了</p><h1 id=\"四、设置开机启动\"><a href=\"#四、设置开机启动\" class=\"headerlink\" title=\"四、设置开机启动\"></a>四、设置开机启动</h1><p>1.创建配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/init.d/zookeeper</span><br></pre></td></tr></table></figure><p></p><p>添加以下信息，注意自己的相关路径是否相同，不同修改之<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/sh</span><br><span class=\"line\">#Configurations injected by install_server below....</span><br><span class=\"line\">EXEC=/usr/share/zookeeper/bin/zkServer.sh</span><br><span class=\"line\">ZOO_LOG_DIR=&quot;/var/zookeeper&quot;</span><br><span class=\"line\">JAVA_HOME=/usr/hisen/soft/jdk8 </span><br><span class=\"line\">PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br><span class=\"line\">###############</span><br><span class=\"line\"># SysV Init Information</span><br><span class=\"line\"># chkconfig: - 58 74</span><br><span class=\"line\"># description: zookeeper is the zookeeper daemon.</span><br><span class=\"line\">### BEGIN INIT INFO</span><br><span class=\"line\"># Provides: zookeeper</span><br><span class=\"line\"># Required-Start: $network $local_fs $remote_fs</span><br><span class=\"line\"># Required-Stop: $network $local_fs $remote_fs</span><br><span class=\"line\"># Default-Start: 2 3 4 5</span><br><span class=\"line\"># Default-Stop: 0 1 6</span><br><span class=\"line\"># Should-Start: $syslog $named</span><br><span class=\"line\"># Should-Stop: $syslog $named</span><br><span class=\"line\"># Short-Description: start and stop zookeeper</span><br><span class=\"line\"># Description: zookeeper daemon</span><br><span class=\"line\">### END INIT INFO</span><br><span class=\"line\">case $1 in</span><br><span class=\"line\">          start)  /usr/share/zookeeper/bin/zkServer.sh start;;</span><br><span class=\"line\">          stop)   /usr/share/zookeeper/bin/zkServer.sh stop;;</span><br><span class=\"line\">          status) /usr/share/zookeeper/bin/zkServer.sh status;;</span><br><span class=\"line\">          restart) /usr/share/zookeeper/bin/zkServer.sh restart;;</span><br><span class=\"line\">          *)  echo &quot;require start|stop|status|restart&quot;  ;;</span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure><p></p><p>2.授权<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chmod +x zookeeper</span><br></pre></td></tr></table></figure><p></p><p>3.安装开机启动管理软件(一般自带)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install rcconf</span><br></pre></td></tr></table></figure><p></p><p>4.进入管理界面<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rcconf</span><br></pre></td></tr></table></figure><p></p><p>↑ ↓ 移动光标，空格键选中zookeeper</p><p>Tab 使光标移动到OK 回车即可</p><!-- rebuild by neat -->"},{"title":"Ubuntu16.04使用阿里云镜像安装Mongodb &　配置","keywords":[],"date":"2017-02-19T14:36:25.000Z","_content":"\n一、使用阿里云镜像安装Mongodb\n---\n1 > 添加 MongoDB 公共GPG钥匙\n```\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927\n```\n2 > 创建列表文件\n\n这里把官网repo.mongodb.org\n\n换成了mirrors.aliyun.com\n```\necho \"deb http://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.2 multiverse\" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list\n```\n<!--more-->\n3 > 重新加载本地包数据库\n```\nsudo apt-get update\n```\n4 > 安装MongoDB\n```\nsudo apt-get install -y mongodb-org\n```\n5 > 启动MongoDB\n```\nsudo service mongod start\n```\n6 > 打开MongoDB客户端\n```\nsudo mongo\n```\n7 > 关闭MongoDB\n```\nsudo service mongod stop\n```\n\n展示一下\n```\nhisen@hisen-server:~$ sudo service mongod start\nhisen@hisen-server:~$ mongo\nMongoDB shell version: 3.2.12\nconnecting to: test\n> 1 + 1\n2\n> \n```\n安装成功\n\nMongoDB默认的数据文件和日志文件分别存储在下面的位置\n \n数据文件：/var/lib/mongodb \n\n日志文件：/var/log/mongodb \n\n你可以修改/etc/mongod.conf 文件来改变相应的存储位置。\n\n如果你想改变运行MongoDB的用户\n\n你必须把 /var/lib/mongodb \n\n和 /var/log/mongodb 2个目录的访问权限付给该用户\n\n二、配置MongoDB\n---\n1允许远程访问\n\n绑定ip\n```\n$ sudo vim /etc/mongod.conf\n```\n打开配置文件，添加需要增加的\n\n不建议采用注释掉  bindIP 的方案，非常容易受到攻击\n```\n# network interfaces  \nnet:  \n  port: 27017  \n  bindIp: 0.0.0.0\n```\n接受所有ip\n\n重启\n```\n$ sudo service mongod restart\n```\n\n2.配置防火墙 （不配置也行）\nUbuntu16.04 桌面版默认没有安装好 ipTable，用如下命令安装\n```\nsudo apt-get update\nsudo apt-get upgrade\nsudo apt-get install iptables-persistent\n```\n安装过程中，弹窗选择YES\n\n安装完成后：\n```\nsudo iptables -A INPUT -p tcp --dport 27017 -j ACCEPT\n```","source":"_posts/Ubuntu16-04使用阿里云镜像安装Mongodb-配置.md","raw":"---\ntitle: Ubuntu16.04使用阿里云镜像安装Mongodb &　配置\nkeywords: []\ntags: []\ndate: 2017-02-19 22:36:25\ncategories:\n---\n\n一、使用阿里云镜像安装Mongodb\n---\n1 > 添加 MongoDB 公共GPG钥匙\n```\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927\n```\n2 > 创建列表文件\n\n这里把官网repo.mongodb.org\n\n换成了mirrors.aliyun.com\n```\necho \"deb http://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.2 multiverse\" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list\n```\n<!--more-->\n3 > 重新加载本地包数据库\n```\nsudo apt-get update\n```\n4 > 安装MongoDB\n```\nsudo apt-get install -y mongodb-org\n```\n5 > 启动MongoDB\n```\nsudo service mongod start\n```\n6 > 打开MongoDB客户端\n```\nsudo mongo\n```\n7 > 关闭MongoDB\n```\nsudo service mongod stop\n```\n\n展示一下\n```\nhisen@hisen-server:~$ sudo service mongod start\nhisen@hisen-server:~$ mongo\nMongoDB shell version: 3.2.12\nconnecting to: test\n> 1 + 1\n2\n> \n```\n安装成功\n\nMongoDB默认的数据文件和日志文件分别存储在下面的位置\n \n数据文件：/var/lib/mongodb \n\n日志文件：/var/log/mongodb \n\n你可以修改/etc/mongod.conf 文件来改变相应的存储位置。\n\n如果你想改变运行MongoDB的用户\n\n你必须把 /var/lib/mongodb \n\n和 /var/log/mongodb 2个目录的访问权限付给该用户\n\n二、配置MongoDB\n---\n1允许远程访问\n\n绑定ip\n```\n$ sudo vim /etc/mongod.conf\n```\n打开配置文件，添加需要增加的\n\n不建议采用注释掉  bindIP 的方案，非常容易受到攻击\n```\n# network interfaces  \nnet:  \n  port: 27017  \n  bindIp: 0.0.0.0\n```\n接受所有ip\n\n重启\n```\n$ sudo service mongod restart\n```\n\n2.配置防火墙 （不配置也行）\nUbuntu16.04 桌面版默认没有安装好 ipTable，用如下命令安装\n```\nsudo apt-get update\nsudo apt-get upgrade\nsudo apt-get install iptables-persistent\n```\n安装过程中，弹窗选择YES\n\n安装完成后：\n```\nsudo iptables -A INPUT -p tcp --dport 27017 -j ACCEPT\n```","slug":"Ubuntu16-04使用阿里云镜像安装Mongodb-配置","published":1,"updated":"2017-02-20T03:26:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds8006iolejlytn2ybk","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、使用阿里云镜像安装Mongodb\"><a href=\"#一、使用阿里云镜像安装Mongodb\" class=\"headerlink\" title=\"一、使用阿里云镜像安装Mongodb\"></a>一、使用阿里云镜像安装Mongodb</h2><p>1 &gt; 添加 MongoDB 公共GPG钥匙<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927</span><br></pre></td></tr></table></figure><p></p><p>2 &gt; 创建列表文件</p><p>这里把官网repo.mongodb.org</p><p>换成了mirrors.aliyun.com<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;deb http://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.2 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list</span><br></pre></td></tr></table></figure><p></p><a id=\"more\"></a><p>3 &gt; 重新加载本地包数据库<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure><p></p><p>4 &gt; 安装MongoDB<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install -y mongodb-org</span><br></pre></td></tr></table></figure><p></p><p>5 &gt; 启动MongoDB<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service mongod start</span><br></pre></td></tr></table></figure><p></p><p>6 &gt; 打开MongoDB客户端<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mongo</span><br></pre></td></tr></table></figure><p></p><p>7 &gt; 关闭MongoDB<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service mongod stop</span><br></pre></td></tr></table></figure><p></p><p>展示一下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:~$ sudo service mongod start</span><br><span class=\"line\">hisen@hisen-server:~$ mongo</span><br><span class=\"line\">MongoDB shell version: 3.2.12</span><br><span class=\"line\">connecting to: test</span><br><span class=\"line\">&gt; 1 + 1</span><br><span class=\"line\">2</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure><p></p><p>安装成功</p><p>MongoDB默认的数据文件和日志文件分别存储在下面的位置</p><p>数据文件：/var/lib/mongodb</p><p>日志文件：/var/log/mongodb</p><p>你可以修改/etc/mongod.conf 文件来改变相应的存储位置。</p><p>如果你想改变运行MongoDB的用户</p><p>你必须把 /var/lib/mongodb</p><p>和 /var/log/mongodb 2个目录的访问权限付给该用户</p><h2 id=\"二、配置MongoDB\"><a href=\"#二、配置MongoDB\" class=\"headerlink\" title=\"二、配置MongoDB\"></a>二、配置MongoDB</h2><p>1允许远程访问</p><p>绑定ip<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo vim /etc/mongod.conf</span><br></pre></td></tr></table></figure><p></p><p>打开配置文件，添加需要增加的</p><p>不建议采用注释掉 bindIP 的方案，非常容易受到攻击<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># network interfaces  </span><br><span class=\"line\">net:  </span><br><span class=\"line\">  port: 27017  </span><br><span class=\"line\">  bindIp: 0.0.0.0</span><br></pre></td></tr></table></figure><p></p><p>接受所有ip</p><p>重启<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo service mongod restart</span><br></pre></td></tr></table></figure><p></p><p>2.配置防火墙 （不配置也行）<br>Ubuntu16.04 桌面版默认没有安装好 ipTable，用如下命令安装<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get upgrade</span><br><span class=\"line\">sudo apt-get install iptables-persistent</span><br></pre></td></tr></table></figure><p></p><p>安装过程中，弹窗选择YES</p><p>安装完成后：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo iptables -A INPUT -p tcp --dport 27017 -j ACCEPT</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、使用阿里云镜像安装Mongodb\"><a href=\"#一、使用阿里云镜像安装Mongodb\" class=\"headerlink\" title=\"一、使用阿里云镜像安装Mongodb\"></a>一、使用阿里云镜像安装Mongodb</h2><p>1 &gt; 添加 MongoDB 公共GPG钥匙<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927</span><br></pre></td></tr></table></figure><p></p><p>2 &gt; 创建列表文件</p><p>这里把官网repo.mongodb.org</p><p>换成了mirrors.aliyun.com<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;deb http://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.2 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list</span><br></pre></td></tr></table></figure><p></p>","more":"<p>3 &gt; 重新加载本地包数据库<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure><p></p><p>4 &gt; 安装MongoDB<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install -y mongodb-org</span><br></pre></td></tr></table></figure><p></p><p>5 &gt; 启动MongoDB<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service mongod start</span><br></pre></td></tr></table></figure><p></p><p>6 &gt; 打开MongoDB客户端<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mongo</span><br></pre></td></tr></table></figure><p></p><p>7 &gt; 关闭MongoDB<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service mongod stop</span><br></pre></td></tr></table></figure><p></p><p>展示一下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:~$ sudo service mongod start</span><br><span class=\"line\">hisen@hisen-server:~$ mongo</span><br><span class=\"line\">MongoDB shell version: 3.2.12</span><br><span class=\"line\">connecting to: test</span><br><span class=\"line\">&gt; 1 + 1</span><br><span class=\"line\">2</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure><p></p><p>安装成功</p><p>MongoDB默认的数据文件和日志文件分别存储在下面的位置</p><p>数据文件：/var/lib/mongodb</p><p>日志文件：/var/log/mongodb</p><p>你可以修改/etc/mongod.conf 文件来改变相应的存储位置。</p><p>如果你想改变运行MongoDB的用户</p><p>你必须把 /var/lib/mongodb</p><p>和 /var/log/mongodb 2个目录的访问权限付给该用户</p><h2 id=\"二、配置MongoDB\"><a href=\"#二、配置MongoDB\" class=\"headerlink\" title=\"二、配置MongoDB\"></a>二、配置MongoDB</h2><p>1允许远程访问</p><p>绑定ip<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo vim /etc/mongod.conf</span><br></pre></td></tr></table></figure><p></p><p>打开配置文件，添加需要增加的</p><p>不建议采用注释掉 bindIP 的方案，非常容易受到攻击<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># network interfaces  </span><br><span class=\"line\">net:  </span><br><span class=\"line\">  port: 27017  </span><br><span class=\"line\">  bindIp: 0.0.0.0</span><br></pre></td></tr></table></figure><p></p><p>接受所有ip</p><p>重启<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo service mongod restart</span><br></pre></td></tr></table></figure><p></p><p>2.配置防火墙 （不配置也行）<br>Ubuntu16.04 桌面版默认没有安装好 ipTable，用如下命令安装<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get upgrade</span><br><span class=\"line\">sudo apt-get install iptables-persistent</span><br></pre></td></tr></table></figure><p></p><p>安装过程中，弹窗选择YES</p><p>安装完成后：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo iptables -A INPUT -p tcp --dport 27017 -j ACCEPT</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Linux-Ubuntu安装:JDK & Tomcat & Maven - 简单教程","keywords":["Linux-Ubuntu安装:JDK & Tomcat & Maven"],"date":"2017-02-18T07:04:57.000Z","_content":"\n在网速搜索很多教程，感觉写的都太难了我去\n\n准备工作：\n1. 下载JDK，并解压(选择适合自己的版本：<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\">地址</a>)\n2. 下载Tomcat，并解压(选择适合自己的版本：<a href=\"http://tomcat.apache.org/download-80.cgi\" target=\"_blank\">地址</a>)\n3. 下载Maven，并解压(选择适合自己的版本：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">地址</a>)\n\n目录约定：\n1. java路径：/usr/hisen/soft/java/jdk8\n2. tomcat路径：/usr/hisen/soft/tomcat/tomcat8\n3. maven路径：/usr/hisen/soft/maven/maven-3.5.0\n\n说明以上路径都是解压之后的，请解压之后自行重命名文件夹等工作\n\n<!--more-->\n\n下面开始配置环境变量：\n```\nsudo vi /etc/profile\n```\n底部添加：\n```\n#java的环境变量配置\nexport JAVA_HOME=/usr/hisen/soft/java/jdk8\nexport JRE_HOME=$JAVA_HOME/jre\nexport CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib\nexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\n\n#tomcat的环境变量配置\nexport CATALINA_HOME=/usr/hisen/soft/tomcat/tomcat8\nexport CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib\nexport PATH=$PATH:$CATALINA_HOME/bin\n\n#maven环境变量\nexport MAVEN_HOME=/usr/hisen/soft/maven/maven-3.5.0\nexport MAVEN_OPTS=\"-Xms256m -Xmx512m\"\nexport PATH=${MAVEN_HOME}/bin:$PATH\n```\n让刚刚的配置生效：\n```\nsource /etc/profile\n```\n查看maven\n```\nmvn -v\n```\n查看java版本\n```\njava -version\n```\n如果还是默认的OpenJDK\n```\nsudo update-alternatives --install /usr/bin/java java /usr/hisen/soft/java/jdk8/bin/java 300  \nsudo update-alternatives --install /usr/bin/javac javac /usr/hisen/soft/java/jdk8/bin/javac 300\n\n#选择默认JDK即可\nsudo update-alternatives --config java\n```\n进入tomcat的bin目录\n```\nsudo vi catalina.sh\n```\n顶部添加\n```\n#让tomcat知道java在哪里\nJAVA_HOME=/usr/hisen/soft/java/jdk8\nJRE_HOME=$JAVA_HOME/jre\n```\n\n之后进入在tomcat bin目录执行\n```\nhisen@hisen:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh\nUsing CATALINA_BASE:   /usr/hisen/soft/tomcat/tomcat8\nUsing CATALINA_HOME:   /usr/hisen/soft/tomcat/tomcat8\nUsing CATALINA_TMPDIR: /usr/hisen/soft/tomcat/tomcat8/temp\nUsing JRE_HOME:        /usr/hisen/soft/java/jdk8/jre\nUsing CLASSPATH:       /usr/hisen/soft/tomcat/tomcat8/bin/bootstrap.jar:/usr/hisen/soft/tomcat/tomcat8/bin/tomcat-juli.jar\nTomcat started.\n```\n这样就启动了tomcat！！！！\n---\n\n注意\n---\n如果没有在 catalina.sh 添加java路径，会报错\n```\nhisen@hisen-VirtualBox:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh\nNeither the JAVA_HOME nor the JRE_HOME environment variable is defined\nAt least one of these environment variable is needed to run this program\n```","source":"_posts/Ubuntu安装JDK8-Tomcat-简单教程.md","raw":"---\ntitle: Linux-Ubuntu安装:JDK & Tomcat & Maven - 简单教程\nkeywords: [Linux-Ubuntu安装:JDK & Tomcat & Maven]\ntags: [linux]\ndate: 2017-02-18 15:04:57\ncategories: linux\n---\n\n在网速搜索很多教程，感觉写的都太难了我去\n\n准备工作：\n1. 下载JDK，并解压(选择适合自己的版本：<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\">地址</a>)\n2. 下载Tomcat，并解压(选择适合自己的版本：<a href=\"http://tomcat.apache.org/download-80.cgi\" target=\"_blank\">地址</a>)\n3. 下载Maven，并解压(选择适合自己的版本：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">地址</a>)\n\n目录约定：\n1. java路径：/usr/hisen/soft/java/jdk8\n2. tomcat路径：/usr/hisen/soft/tomcat/tomcat8\n3. maven路径：/usr/hisen/soft/maven/maven-3.5.0\n\n说明以上路径都是解压之后的，请解压之后自行重命名文件夹等工作\n\n<!--more-->\n\n下面开始配置环境变量：\n```\nsudo vi /etc/profile\n```\n底部添加：\n```\n#java的环境变量配置\nexport JAVA_HOME=/usr/hisen/soft/java/jdk8\nexport JRE_HOME=$JAVA_HOME/jre\nexport CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib\nexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\n\n#tomcat的环境变量配置\nexport CATALINA_HOME=/usr/hisen/soft/tomcat/tomcat8\nexport CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib\nexport PATH=$PATH:$CATALINA_HOME/bin\n\n#maven环境变量\nexport MAVEN_HOME=/usr/hisen/soft/maven/maven-3.5.0\nexport MAVEN_OPTS=\"-Xms256m -Xmx512m\"\nexport PATH=${MAVEN_HOME}/bin:$PATH\n```\n让刚刚的配置生效：\n```\nsource /etc/profile\n```\n查看maven\n```\nmvn -v\n```\n查看java版本\n```\njava -version\n```\n如果还是默认的OpenJDK\n```\nsudo update-alternatives --install /usr/bin/java java /usr/hisen/soft/java/jdk8/bin/java 300  \nsudo update-alternatives --install /usr/bin/javac javac /usr/hisen/soft/java/jdk8/bin/javac 300\n\n#选择默认JDK即可\nsudo update-alternatives --config java\n```\n进入tomcat的bin目录\n```\nsudo vi catalina.sh\n```\n顶部添加\n```\n#让tomcat知道java在哪里\nJAVA_HOME=/usr/hisen/soft/java/jdk8\nJRE_HOME=$JAVA_HOME/jre\n```\n\n之后进入在tomcat bin目录执行\n```\nhisen@hisen:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh\nUsing CATALINA_BASE:   /usr/hisen/soft/tomcat/tomcat8\nUsing CATALINA_HOME:   /usr/hisen/soft/tomcat/tomcat8\nUsing CATALINA_TMPDIR: /usr/hisen/soft/tomcat/tomcat8/temp\nUsing JRE_HOME:        /usr/hisen/soft/java/jdk8/jre\nUsing CLASSPATH:       /usr/hisen/soft/tomcat/tomcat8/bin/bootstrap.jar:/usr/hisen/soft/tomcat/tomcat8/bin/tomcat-juli.jar\nTomcat started.\n```\n这样就启动了tomcat！！！！\n---\n\n注意\n---\n如果没有在 catalina.sh 添加java路径，会报错\n```\nhisen@hisen-VirtualBox:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh\nNeither the JAVA_HOME nor the JRE_HOME environment variable is defined\nAt least one of these environment variable is needed to run this program\n```","slug":"Ubuntu安装JDK8-Tomcat-简单教程","published":1,"updated":"2017-07-01T17:15:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskds9006lolejjyfiq3ih","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在网速搜索很多教程，感觉写的都太难了我去</p><p>准备工作：</p><ol><li>下载JDK，并解压(选择适合自己的版本：<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\">地址</a>)</li><li>下载Tomcat，并解压(选择适合自己的版本：<a href=\"http://tomcat.apache.org/download-80.cgi\" target=\"_blank\">地址</a>)</li><li>下载Maven，并解压(选择适合自己的版本：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">地址</a>)</li></ol><p>目录约定：</p><ol><li>java路径：/usr/hisen/soft/java/jdk8</li><li>tomcat路径：/usr/hisen/soft/tomcat/tomcat8</li><li>maven路径：/usr/hisen/soft/maven/maven-3.5.0</li></ol><p>说明以上路径都是解压之后的，请解压之后自行重命名文件夹等工作</p><a id=\"more\"></a><p>下面开始配置环境变量：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/profile</span><br></pre></td></tr></table></figure><p></p><p>底部添加：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#java的环境变量配置</span><br><span class=\"line\">export JAVA_HOME=/usr/hisen/soft/java/jdk8</span><br><span class=\"line\">export JRE_HOME=$JAVA_HOME/jre</span><br><span class=\"line\">export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br><span class=\"line\">export PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class=\"line\"></span><br><span class=\"line\">#tomcat的环境变量配置</span><br><span class=\"line\">export CATALINA_HOME=/usr/hisen/soft/tomcat/tomcat8</span><br><span class=\"line\">export CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib</span><br><span class=\"line\">export PATH=$PATH:$CATALINA_HOME/bin</span><br><span class=\"line\"></span><br><span class=\"line\">#maven环境变量</span><br><span class=\"line\">export MAVEN_HOME=/usr/hisen/soft/maven/maven-3.5.0</span><br><span class=\"line\">export MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;</span><br><span class=\"line\">export PATH=$&#123;MAVEN_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p></p><p>让刚刚的配置生效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure><p></p><p>查看maven<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -v</span><br></pre></td></tr></table></figure><p></p><p>查看java版本<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -version</span><br></pre></td></tr></table></figure><p></p><p>如果还是默认的OpenJDK<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo update-alternatives --install /usr/bin/java java /usr/hisen/soft/java/jdk8/bin/java 300  </span><br><span class=\"line\">sudo update-alternatives --install /usr/bin/javac javac /usr/hisen/soft/java/jdk8/bin/javac 300</span><br><span class=\"line\"></span><br><span class=\"line\">#选择默认JDK即可</span><br><span class=\"line\">sudo update-alternatives --config java</span><br></pre></td></tr></table></figure><p></p><p>进入tomcat的bin目录<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi catalina.sh</span><br></pre></td></tr></table></figure><p></p><p>顶部添加<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#让tomcat知道java在哪里</span><br><span class=\"line\">JAVA_HOME=/usr/hisen/soft/java/jdk8</span><br><span class=\"line\">JRE_HOME=$JAVA_HOME/jre</span><br></pre></td></tr></table></figure><p></p><p>之后进入在tomcat bin目录执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh</span><br><span class=\"line\">Using CATALINA_BASE:   /usr/hisen/soft/tomcat/tomcat8</span><br><span class=\"line\">Using CATALINA_HOME:   /usr/hisen/soft/tomcat/tomcat8</span><br><span class=\"line\">Using CATALINA_TMPDIR: /usr/hisen/soft/tomcat/tomcat8/temp</span><br><span class=\"line\">Using JRE_HOME:        /usr/hisen/soft/java/jdk8/jre</span><br><span class=\"line\">Using CLASSPATH:       /usr/hisen/soft/tomcat/tomcat8/bin/bootstrap.jar:/usr/hisen/soft/tomcat/tomcat8/bin/tomcat-juli.jar</span><br><span class=\"line\">Tomcat started.</span><br></pre></td></tr></table></figure><p></p><h2 id=\"这样就启动了tomcat！！！！\"><a href=\"#这样就启动了tomcat！！！！\" class=\"headerlink\" title=\"这样就启动了tomcat！！！！\"></a>这样就启动了tomcat！！！！</h2><h2 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h2><p>如果没有在 catalina.sh 添加java路径，会报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-VirtualBox:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh</span><br><span class=\"line\">Neither the JAVA_HOME nor the JRE_HOME environment variable is defined</span><br><span class=\"line\">At least one of these environment variable is needed to run this program</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在网速搜索很多教程，感觉写的都太难了我去</p><p>准备工作：</p><ol><li>下载JDK，并解压(选择适合自己的版本：<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\">地址</a>)</li><li>下载Tomcat，并解压(选择适合自己的版本：<a href=\"http://tomcat.apache.org/download-80.cgi\" target=\"_blank\">地址</a>)</li><li>下载Maven，并解压(选择适合自己的版本：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">地址</a>)</li></ol><p>目录约定：</p><ol><li>java路径：/usr/hisen/soft/java/jdk8</li><li>tomcat路径：/usr/hisen/soft/tomcat/tomcat8</li><li>maven路径：/usr/hisen/soft/maven/maven-3.5.0</li></ol><p>说明以上路径都是解压之后的，请解压之后自行重命名文件夹等工作</p>","more":"<p>下面开始配置环境变量：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/profile</span><br></pre></td></tr></table></figure><p></p><p>底部添加：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#java的环境变量配置</span><br><span class=\"line\">export JAVA_HOME=/usr/hisen/soft/java/jdk8</span><br><span class=\"line\">export JRE_HOME=$JAVA_HOME/jre</span><br><span class=\"line\">export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br><span class=\"line\">export PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class=\"line\"></span><br><span class=\"line\">#tomcat的环境变量配置</span><br><span class=\"line\">export CATALINA_HOME=/usr/hisen/soft/tomcat/tomcat8</span><br><span class=\"line\">export CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib</span><br><span class=\"line\">export PATH=$PATH:$CATALINA_HOME/bin</span><br><span class=\"line\"></span><br><span class=\"line\">#maven环境变量</span><br><span class=\"line\">export MAVEN_HOME=/usr/hisen/soft/maven/maven-3.5.0</span><br><span class=\"line\">export MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;</span><br><span class=\"line\">export PATH=$&#123;MAVEN_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p></p><p>让刚刚的配置生效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure><p></p><p>查看maven<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -v</span><br></pre></td></tr></table></figure><p></p><p>查看java版本<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -version</span><br></pre></td></tr></table></figure><p></p><p>如果还是默认的OpenJDK<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo update-alternatives --install /usr/bin/java java /usr/hisen/soft/java/jdk8/bin/java 300  </span><br><span class=\"line\">sudo update-alternatives --install /usr/bin/javac javac /usr/hisen/soft/java/jdk8/bin/javac 300</span><br><span class=\"line\"></span><br><span class=\"line\">#选择默认JDK即可</span><br><span class=\"line\">sudo update-alternatives --config java</span><br></pre></td></tr></table></figure><p></p><p>进入tomcat的bin目录<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi catalina.sh</span><br></pre></td></tr></table></figure><p></p><p>顶部添加<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#让tomcat知道java在哪里</span><br><span class=\"line\">JAVA_HOME=/usr/hisen/soft/java/jdk8</span><br><span class=\"line\">JRE_HOME=$JAVA_HOME/jre</span><br></pre></td></tr></table></figure><p></p><p>之后进入在tomcat bin目录执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh</span><br><span class=\"line\">Using CATALINA_BASE:   /usr/hisen/soft/tomcat/tomcat8</span><br><span class=\"line\">Using CATALINA_HOME:   /usr/hisen/soft/tomcat/tomcat8</span><br><span class=\"line\">Using CATALINA_TMPDIR: /usr/hisen/soft/tomcat/tomcat8/temp</span><br><span class=\"line\">Using JRE_HOME:        /usr/hisen/soft/java/jdk8/jre</span><br><span class=\"line\">Using CLASSPATH:       /usr/hisen/soft/tomcat/tomcat8/bin/bootstrap.jar:/usr/hisen/soft/tomcat/tomcat8/bin/tomcat-juli.jar</span><br><span class=\"line\">Tomcat started.</span><br></pre></td></tr></table></figure><p></p><h2 id=\"这样就启动了tomcat！！！！\"><a href=\"#这样就启动了tomcat！！！！\" class=\"headerlink\" title=\"这样就启动了tomcat！！！！\"></a>这样就启动了tomcat！！！！</h2><h2 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h2><p>如果没有在 catalina.sh 添加java路径，会报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-VirtualBox:/usr/hisen/soft/tomcat/tomcat8/bin$ sudo sh startup.sh</span><br><span class=\"line\">Neither the JAVA_HOME nor the JRE_HOME environment variable is defined</span><br><span class=\"line\">At least one of these environment variable is needed to run this program</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Ubuntu虚拟机安装MySQL并且开启root远程访问","keywords":["ubuntu mysql 远程访问","buntu虚拟机安装MySQL并且开启root远程访问"],"date":"2017-03-10T16:44:00.000Z","_content":"安装mysql很简单，关键是开启这个远程很坑！！！\n\n一、安装\n---\n\n1.安装\n```\nsudo apt-get install mysql-server\n```\n等待完成即可，过程中需要设置密码\n\n2.查看是否成功\n```\nsudo netstat -tap | grep mysql\n```\n3.登陆mysql\n```\nmysql -u root -p\n```\n这条命令回车之后需要输入mysql密码\n\n二、开启远程访问\n---\n```\n$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf\n#找到bind-address=127.0.0.1直接注释\n$ mysql -u root -p -h\n#登陆mysql\nmysql> use mysql;\n#使用mysql这个库\nmysql> GRANT ALL PRIVILEGES ON *.* TO root@\"%\" IDENTIFIED BY \"hisen\";\n#把root用户改成可以在任何ip上登陆，并且密码为：hisen\nmysql> flush privileges;\n#刷新\n```\n重启：service mysql restart\n\n接下来就可以在navicat里面连接了\n\n三、注意事项\n---\n因为在网上找的很多教程，都是说改这个配置文件：这个是错误的\n```\n/etc/mysql/my.cf\n```\n如果是通过apt-get方式安装的，默认的是第二步那个配置文件","source":"_posts/Ubuntu安装MySQL并且开启root远程访问.md","raw":"---\ntitle: Ubuntu虚拟机安装MySQL并且开启root远程访问\nkeywords: [ubuntu mysql 远程访问,buntu虚拟机安装MySQL并且开启root远程访问]\ndate: 2017/3/11 0:44\ntags: [mysql]\ncategories: sql\n---\n安装mysql很简单，关键是开启这个远程很坑！！！\n\n一、安装\n---\n\n1.安装\n```\nsudo apt-get install mysql-server\n```\n等待完成即可，过程中需要设置密码\n\n2.查看是否成功\n```\nsudo netstat -tap | grep mysql\n```\n3.登陆mysql\n```\nmysql -u root -p\n```\n这条命令回车之后需要输入mysql密码\n\n二、开启远程访问\n---\n```\n$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf\n#找到bind-address=127.0.0.1直接注释\n$ mysql -u root -p -h\n#登陆mysql\nmysql> use mysql;\n#使用mysql这个库\nmysql> GRANT ALL PRIVILEGES ON *.* TO root@\"%\" IDENTIFIED BY \"hisen\";\n#把root用户改成可以在任何ip上登陆，并且密码为：hisen\nmysql> flush privileges;\n#刷新\n```\n重启：service mysql restart\n\n接下来就可以在navicat里面连接了\n\n三、注意事项\n---\n因为在网上找的很多教程，都是说改这个配置文件：这个是错误的\n```\n/etc/mysql/my.cf\n```\n如果是通过apt-get方式安装的，默认的是第二步那个配置文件","slug":"Ubuntu安装MySQL并且开启root远程访问","published":1,"updated":"2017-03-10T17:18:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsb006polejn8164rd5","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>安装mysql很简单，关键是开启这个远程很坑！！！</p><h2 id=\"一、安装\"><a href=\"#一、安装\" class=\"headerlink\" title=\"一、安装\"></a>一、安装</h2><p>1.安装<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install mysql-server</span><br></pre></td></tr></table></figure><p></p><p>等待完成即可，过程中需要设置密码</p><p>2.查看是否成功<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo netstat -tap | grep mysql</span><br></pre></td></tr></table></figure><p></p><p>3.登陆mysql<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p</span><br></pre></td></tr></table></figure><p></p><p>这条命令回车之后需要输入mysql密码</p><h2 id=\"二、开启远程访问\"><a href=\"#二、开启远程访问\" class=\"headerlink\" title=\"二、开启远程访问\"></a>二、开启远程访问</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span><br><span class=\"line\">#找到bind-address=127.0.0.1直接注释</span><br><span class=\"line\">$ mysql -u root -p -h</span><br><span class=\"line\">#登陆mysql</span><br><span class=\"line\">mysql&gt; use mysql;</span><br><span class=\"line\">#使用mysql这个库</span><br><span class=\"line\">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO root@&quot;%&quot; IDENTIFIED BY &quot;hisen&quot;;</span><br><span class=\"line\">#把root用户改成可以在任何ip上登陆，并且密码为：hisen</span><br><span class=\"line\">mysql&gt; flush privileges;</span><br><span class=\"line\">#刷新</span><br></pre></td></tr></table></figure><p>重启：service mysql restart</p><p>接下来就可以在navicat里面连接了</p><h2 id=\"三、注意事项\"><a href=\"#三、注意事项\" class=\"headerlink\" title=\"三、注意事项\"></a>三、注意事项</h2><p>因为在网上找的很多教程，都是说改这个配置文件：这个是错误的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/mysql/my.cf</span><br></pre></td></tr></table></figure><p></p><p>如果是通过apt-get方式安装的，默认的是第二步那个配置文件</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>安装mysql很简单，关键是开启这个远程很坑！！！</p><h2 id=\"一、安装\"><a href=\"#一、安装\" class=\"headerlink\" title=\"一、安装\"></a>一、安装</h2><p>1.安装<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install mysql-server</span><br></pre></td></tr></table></figure><p></p><p>等待完成即可，过程中需要设置密码</p><p>2.查看是否成功<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo netstat -tap | grep mysql</span><br></pre></td></tr></table></figure><p></p><p>3.登陆mysql<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p</span><br></pre></td></tr></table></figure><p></p><p>这条命令回车之后需要输入mysql密码</p><h2 id=\"二、开启远程访问\"><a href=\"#二、开启远程访问\" class=\"headerlink\" title=\"二、开启远程访问\"></a>二、开启远程访问</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span><br><span class=\"line\">#找到bind-address=127.0.0.1直接注释</span><br><span class=\"line\">$ mysql -u root -p -h</span><br><span class=\"line\">#登陆mysql</span><br><span class=\"line\">mysql&gt; use mysql;</span><br><span class=\"line\">#使用mysql这个库</span><br><span class=\"line\">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO root@&quot;%&quot; IDENTIFIED BY &quot;hisen&quot;;</span><br><span class=\"line\">#把root用户改成可以在任何ip上登陆，并且密码为：hisen</span><br><span class=\"line\">mysql&gt; flush privileges;</span><br><span class=\"line\">#刷新</span><br></pre></td></tr></table></figure><p>重启：service mysql restart</p><p>接下来就可以在navicat里面连接了</p><h2 id=\"三、注意事项\"><a href=\"#三、注意事项\" class=\"headerlink\" title=\"三、注意事项\"></a>三、注意事项</h2><p>因为在网上找的很多教程，都是说改这个配置文件：这个是错误的<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/mysql/my.cf</span><br></pre></td></tr></table></figure><p></p><p>如果是通过apt-get方式安装的，默认的是第二步那个配置文件</p><!-- rebuild by neat -->"},{"title":"Ubuntu安装nginx","keywords":["Ubuntu安装nginx"],"date":"2017-03-21T11:28:00.000Z","_content":"Nginx (\"engine x\") 是一个高性能的 HTTP 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP 代理服务器。\n \nNginx 是由 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，\n \n第一个公开版本0.1.0发布于2004年10月4日。其将源代码以类BSD许可证的形式发布，\n \n因它的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗而闻名。\n\n说明：这只是一个初步的安装，后续进一步实践\n\n安装Nginx依赖库\n---\n```\n#安装gcc g++的依赖库\nsudo apt-get install build-essential\nsudo apt-get install libtool\n#安装 pcre依赖库\nsudo apt-get update\nsudo apt-get install libpcre3 libpcre3-dev\n#安装 zlib依赖库（http://www.zlib.net）\nsudo apt-get install zlib1g-dev\n#安装 ssl依赖库\nsudo apt-get install openssl\n#下载最新版本：\nwget http://nginx.org/download/nginx-1.9.9.tar.gz\n#解压\ntar -zxvf nginx-1.9.9.tar.gz\n#进入解压目录：\ncd nginx-1.9.9\n#配置：\nsudo ./configure --prefix=/usr/local/nginx \n#编辑nginx：\nsudo make\n#注意：这里可能会报错，提示“pcre.h No such file or directory”,具体详见：http://stackoverflow.com/questions/22555561/error-building-fatal-error-pcre-h-no-such-file-or-directory\n#需要安装 libpcre3-dev,命令为：sudo apt-get install libpcre3-dev\n#安装nginx：\nsudo make install\n#启动nginx：\nsudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过 -h查看帮助命令。\n#查看nginx进程：\nps -ef|grep nginx\n```\nNginx常用命令\n---\n<!--more-->\n```\n#启动\nsudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n#进入目录\ncd /usr/local/nginx/\n#关闭\nsudo ./sbin/nginx -s quit\n#Nginx重新加载配置\nsudo ./sbin/nginx -s reload\n#指定配置文件\nsudo ./sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n#查看版本\nsudo ./sbin/nginx -v\n#显示帮助\nsudo ./sbin/nginx -h\n```\n安装之后就直接监听80端口，浏览器打开127.0.0.1即可访问出现如下页面：\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdup21igsjj20g007ijrq.jpg\" />","source":"_posts/Ubuntu安装nginx.md","raw":"---\ntitle: Ubuntu安装nginx\nkeywords: [Ubuntu安装nginx]\ndate: 2017/3/21 19:28\ntags: [nginx]\ncategories: 软件\n---\nNginx (\"engine x\") 是一个高性能的 HTTP 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP 代理服务器。\n \nNginx 是由 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，\n \n第一个公开版本0.1.0发布于2004年10月4日。其将源代码以类BSD许可证的形式发布，\n \n因它的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗而闻名。\n\n说明：这只是一个初步的安装，后续进一步实践\n\n安装Nginx依赖库\n---\n```\n#安装gcc g++的依赖库\nsudo apt-get install build-essential\nsudo apt-get install libtool\n#安装 pcre依赖库\nsudo apt-get update\nsudo apt-get install libpcre3 libpcre3-dev\n#安装 zlib依赖库（http://www.zlib.net）\nsudo apt-get install zlib1g-dev\n#安装 ssl依赖库\nsudo apt-get install openssl\n#下载最新版本：\nwget http://nginx.org/download/nginx-1.9.9.tar.gz\n#解压\ntar -zxvf nginx-1.9.9.tar.gz\n#进入解压目录：\ncd nginx-1.9.9\n#配置：\nsudo ./configure --prefix=/usr/local/nginx \n#编辑nginx：\nsudo make\n#注意：这里可能会报错，提示“pcre.h No such file or directory”,具体详见：http://stackoverflow.com/questions/22555561/error-building-fatal-error-pcre-h-no-such-file-or-directory\n#需要安装 libpcre3-dev,命令为：sudo apt-get install libpcre3-dev\n#安装nginx：\nsudo make install\n#启动nginx：\nsudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过 -h查看帮助命令。\n#查看nginx进程：\nps -ef|grep nginx\n```\nNginx常用命令\n---\n<!--more-->\n```\n#启动\nsudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n#进入目录\ncd /usr/local/nginx/\n#关闭\nsudo ./sbin/nginx -s quit\n#Nginx重新加载配置\nsudo ./sbin/nginx -s reload\n#指定配置文件\nsudo ./sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n#查看版本\nsudo ./sbin/nginx -v\n#显示帮助\nsudo ./sbin/nginx -h\n```\n安装之后就直接监听80端口，浏览器打开127.0.0.1即可访问出现如下页面：\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdup21igsjj20g007ijrq.jpg\" />","slug":"Ubuntu安装nginx","published":1,"updated":"2017-03-21T11:40:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsd006solej4fe1b4e3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Nginx (“engine x”) 是一个高性能的 HTTP 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP 代理服务器。</p><p>Nginx 是由 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，</p><p>第一个公开版本0.1.0发布于2004年10月4日。其将源代码以类BSD许可证的形式发布，</p><p>因它的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗而闻名。</p><p>说明：这只是一个初步的安装，后续进一步实践</p><h2 id=\"安装Nginx依赖库\"><a href=\"#安装Nginx依赖库\" class=\"headerlink\" title=\"安装Nginx依赖库\"></a>安装Nginx依赖库</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#安装gcc g++的依赖库</span><br><span class=\"line\">sudo apt-get install build-essential</span><br><span class=\"line\">sudo apt-get install libtool</span><br><span class=\"line\">#安装 pcre依赖库</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install libpcre3 libpcre3-dev</span><br><span class=\"line\">#安装 zlib依赖库（http://www.zlib.net）</span><br><span class=\"line\">sudo apt-get install zlib1g-dev</span><br><span class=\"line\">#安装 ssl依赖库</span><br><span class=\"line\">sudo apt-get install openssl</span><br><span class=\"line\">#下载最新版本：</span><br><span class=\"line\">wget http://nginx.org/download/nginx-1.9.9.tar.gz</span><br><span class=\"line\">#解压</span><br><span class=\"line\">tar -zxvf nginx-1.9.9.tar.gz</span><br><span class=\"line\">#进入解压目录：</span><br><span class=\"line\">cd nginx-1.9.9</span><br><span class=\"line\">#配置：</span><br><span class=\"line\">sudo ./configure --prefix=/usr/local/nginx </span><br><span class=\"line\">#编辑nginx：</span><br><span class=\"line\">sudo make</span><br><span class=\"line\">#注意：这里可能会报错，提示“pcre.h No such file or directory”,具体详见：http://stackoverflow.com/questions/22555561/error-building-fatal-error-pcre-h-no-such-file-or-directory</span><br><span class=\"line\">#需要安装 libpcre3-dev,命令为：sudo apt-get install libpcre3-dev</span><br><span class=\"line\">#安装nginx：</span><br><span class=\"line\">sudo make install</span><br><span class=\"line\">#启动nginx：</span><br><span class=\"line\">sudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class=\"line\">#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过 -h查看帮助命令。</span><br><span class=\"line\">#查看nginx进程：</span><br><span class=\"line\">ps -ef|grep nginx</span><br></pre></td></tr></table></figure><h2 id=\"Nginx常用命令\"><a href=\"#Nginx常用命令\" class=\"headerlink\" title=\"Nginx常用命令\"></a>Nginx常用命令</h2><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#启动</span><br><span class=\"line\">sudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class=\"line\">#进入目录</span><br><span class=\"line\">cd /usr/local/nginx/</span><br><span class=\"line\">#关闭</span><br><span class=\"line\">sudo ./sbin/nginx -s quit</span><br><span class=\"line\">#Nginx重新加载配置</span><br><span class=\"line\">sudo ./sbin/nginx -s reload</span><br><span class=\"line\">#指定配置文件</span><br><span class=\"line\">sudo ./sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class=\"line\">#查看版本</span><br><span class=\"line\">sudo ./sbin/nginx -v</span><br><span class=\"line\">#显示帮助</span><br><span class=\"line\">sudo ./sbin/nginx -h</span><br></pre></td></tr></table></figure><p>安装之后就直接监听80端口，浏览器打开127.0.0.1即可访问出现如下页面：<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdup21igsjj20g007ijrq.jpg\"></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Nginx (“engine x”) 是一个高性能的 HTTP 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP 代理服务器。</p><p>Nginx 是由 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，</p><p>第一个公开版本0.1.0发布于2004年10月4日。其将源代码以类BSD许可证的形式发布，</p><p>因它的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗而闻名。</p><p>说明：这只是一个初步的安装，后续进一步实践</p><h2 id=\"安装Nginx依赖库\"><a href=\"#安装Nginx依赖库\" class=\"headerlink\" title=\"安装Nginx依赖库\"></a>安装Nginx依赖库</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#安装gcc g++的依赖库</span><br><span class=\"line\">sudo apt-get install build-essential</span><br><span class=\"line\">sudo apt-get install libtool</span><br><span class=\"line\">#安装 pcre依赖库</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install libpcre3 libpcre3-dev</span><br><span class=\"line\">#安装 zlib依赖库（http://www.zlib.net）</span><br><span class=\"line\">sudo apt-get install zlib1g-dev</span><br><span class=\"line\">#安装 ssl依赖库</span><br><span class=\"line\">sudo apt-get install openssl</span><br><span class=\"line\">#下载最新版本：</span><br><span class=\"line\">wget http://nginx.org/download/nginx-1.9.9.tar.gz</span><br><span class=\"line\">#解压</span><br><span class=\"line\">tar -zxvf nginx-1.9.9.tar.gz</span><br><span class=\"line\">#进入解压目录：</span><br><span class=\"line\">cd nginx-1.9.9</span><br><span class=\"line\">#配置：</span><br><span class=\"line\">sudo ./configure --prefix=/usr/local/nginx </span><br><span class=\"line\">#编辑nginx：</span><br><span class=\"line\">sudo make</span><br><span class=\"line\">#注意：这里可能会报错，提示“pcre.h No such file or directory”,具体详见：http://stackoverflow.com/questions/22555561/error-building-fatal-error-pcre-h-no-such-file-or-directory</span><br><span class=\"line\">#需要安装 libpcre3-dev,命令为：sudo apt-get install libpcre3-dev</span><br><span class=\"line\">#安装nginx：</span><br><span class=\"line\">sudo make install</span><br><span class=\"line\">#启动nginx：</span><br><span class=\"line\">sudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class=\"line\">#注意：-c 指定配置文件的路径，不加的话，nginx会自动加载默认路径的配置文件，可以通过 -h查看帮助命令。</span><br><span class=\"line\">#查看nginx进程：</span><br><span class=\"line\">ps -ef|grep nginx</span><br></pre></td></tr></table></figure><h2 id=\"Nginx常用命令\"><a href=\"#Nginx常用命令\" class=\"headerlink\" title=\"Nginx常用命令\"></a>Nginx常用命令</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#启动</span><br><span class=\"line\">sudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class=\"line\">#进入目录</span><br><span class=\"line\">cd /usr/local/nginx/</span><br><span class=\"line\">#关闭</span><br><span class=\"line\">sudo ./sbin/nginx -s quit</span><br><span class=\"line\">#Nginx重新加载配置</span><br><span class=\"line\">sudo ./sbin/nginx -s reload</span><br><span class=\"line\">#指定配置文件</span><br><span class=\"line\">sudo ./sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class=\"line\">#查看版本</span><br><span class=\"line\">sudo ./sbin/nginx -v</span><br><span class=\"line\">#显示帮助</span><br><span class=\"line\">sudo ./sbin/nginx -h</span><br></pre></td></tr></table></figure><p>安装之后就直接监听80端口，浏览器打开127.0.0.1即可访问出现如下页面：<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6ly1fdup21igsjj20g007ijrq.jpg\"></p><!-- rebuild by neat -->"},{"title":"Ubuntu安装RocketMQ - Quick Start","keywords":["安装RocketMQ","ubuntu安装RocketMQ","linux安装RocketMQ"],"date":"2017-07-01T17:19:00.000Z","_content":"安装需求：\n---\n1. 64位的系统 Linux/Unix/Mac\n2. 64bit JDK 1.8+;\n3. Maven 3.2.x;\n4. Git （一般自带）\n\n如果还未安装jdk、maven建议查看教程:<a herf=\"/20170218-Ubuntu安装JDK8-Tomcat-简单教程/\" target=\"_blank\">点击查看</a>\n\nClone & Build\n---\n```\ngit clone -b develop https://github.com/apache/incubator-rocketmq.git\ncd incubator-rocketmq\nmvn -Prelease-all -DskipTests clean install -U\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Apache RocketMQ 4.2.0-incubating-SNAPSHOT .......... SUCCESS [01:07 min]\n[INFO] rocketmq-remoting 4.2.0-incubating-SNAPSHOT ........ SUCCESS [ 15.749 s]\n[INFO] rocketmq-common 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 10.243 s]\n[INFO] rocketmq-client 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 11.638 s]\n[INFO] rocketmq-store 4.2.0-incubating-SNAPSHOT ........... SUCCESS [ 13.108 s]\n[INFO] rocketmq-srvutil 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.051 s]\n[INFO] rocketmq-filter 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  3.917 s]\n[INFO] rocketmq-broker 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  8.726 s]\n[INFO] rocketmq-tools 4.2.0-incubating-SNAPSHOT ........... SUCCESS [  6.002 s]\n[INFO] rocketmq-namesrv 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.726 s]\n[INFO] rocketmq-logappender 4.2.0-incubating-SNAPSHOT ..... SUCCESS [  3.514 s]\n[INFO] rocketmq-openmessaging 4.2.0-incubating-SNAPSHOT ... SUCCESS [  2.668 s]\n[INFO] rocketmq-example 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.390 s]\n[INFO] rocketmq-filtersrv 4.2.0-incubating-SNAPSHOT ....... SUCCESS [  2.145 s]\n[INFO] rocketmq-test 4.2.0-incubating-SNAPSHOT ............ SUCCESS [  5.428 s]\n[INFO] rocketmq-distribution 4.2.0-incubating-SNAPSHOT .... SUCCESS [ 27.002 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 03:07 min\n[INFO] Finished at: 2017-07-02T01:35:40+08:00\n[INFO] Final Memory: 60M/247M\n[INFO] ------------------------------------------------------------------------\ncd distribution/target/apache-rocketmq\n```\nStart Name Server\n```\nnohup sh bin/mqnamesrv &\ntail -f ~/logs/rocketmqlogs/namesrv.log\nThe Name Server boot success...\n```\nStart Broker\n```\nnohup sh bin/mqbroker -n localhost:9876 &\ntail -f ~/logs/rocketmqlogs/broker.log \nThe broker[%s, 172.30.30.233:10911] boot success...\n```\nSend & Receive Messages\n```\nBefore sending/receiving messages, we need to tell clients the location of name servers. RocketMQ provides multiple ways to achieve this. For simplicity, we use environment variable NAMESRV_ADDR\nexport NAMESRV_ADDR=localhost:9876\nsh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer\nSendResult [sendStatus=SEND_OK, msgId= ...\n\nsh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer \nConsumeMessageThread_%d Receive New Messages: [MessageExt...\n```\nShutdown Servers\n```\nsh bin/mqshutdown broker\nThe mqbroker(36695) is running...\nSend shutdown request to mqbroker(36695) OK\n\nsh bin/mqshutdown namesrv\nThe mqnamesrv(36664) is running...\nSend shutdown request to mqnamesrv(36664) OK\n```","source":"_posts/Ubuntu安装RocketMQ - Quick Start.md","raw":"---\ntitle: Ubuntu安装RocketMQ - Quick Start\nkeywords: [安装RocketMQ,ubuntu安装RocketMQ,linux安装RocketMQ]\ndate: 2017/7/2 1:19\ntags: [linux,rocketmq]\ncategories: linux\n---\n安装需求：\n---\n1. 64位的系统 Linux/Unix/Mac\n2. 64bit JDK 1.8+;\n3. Maven 3.2.x;\n4. Git （一般自带）\n\n如果还未安装jdk、maven建议查看教程:<a herf=\"/20170218-Ubuntu安装JDK8-Tomcat-简单教程/\" target=\"_blank\">点击查看</a>\n\nClone & Build\n---\n```\ngit clone -b develop https://github.com/apache/incubator-rocketmq.git\ncd incubator-rocketmq\nmvn -Prelease-all -DskipTests clean install -U\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Apache RocketMQ 4.2.0-incubating-SNAPSHOT .......... SUCCESS [01:07 min]\n[INFO] rocketmq-remoting 4.2.0-incubating-SNAPSHOT ........ SUCCESS [ 15.749 s]\n[INFO] rocketmq-common 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 10.243 s]\n[INFO] rocketmq-client 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 11.638 s]\n[INFO] rocketmq-store 4.2.0-incubating-SNAPSHOT ........... SUCCESS [ 13.108 s]\n[INFO] rocketmq-srvutil 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.051 s]\n[INFO] rocketmq-filter 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  3.917 s]\n[INFO] rocketmq-broker 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  8.726 s]\n[INFO] rocketmq-tools 4.2.0-incubating-SNAPSHOT ........... SUCCESS [  6.002 s]\n[INFO] rocketmq-namesrv 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.726 s]\n[INFO] rocketmq-logappender 4.2.0-incubating-SNAPSHOT ..... SUCCESS [  3.514 s]\n[INFO] rocketmq-openmessaging 4.2.0-incubating-SNAPSHOT ... SUCCESS [  2.668 s]\n[INFO] rocketmq-example 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.390 s]\n[INFO] rocketmq-filtersrv 4.2.0-incubating-SNAPSHOT ....... SUCCESS [  2.145 s]\n[INFO] rocketmq-test 4.2.0-incubating-SNAPSHOT ............ SUCCESS [  5.428 s]\n[INFO] rocketmq-distribution 4.2.0-incubating-SNAPSHOT .... SUCCESS [ 27.002 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 03:07 min\n[INFO] Finished at: 2017-07-02T01:35:40+08:00\n[INFO] Final Memory: 60M/247M\n[INFO] ------------------------------------------------------------------------\ncd distribution/target/apache-rocketmq\n```\nStart Name Server\n```\nnohup sh bin/mqnamesrv &\ntail -f ~/logs/rocketmqlogs/namesrv.log\nThe Name Server boot success...\n```\nStart Broker\n```\nnohup sh bin/mqbroker -n localhost:9876 &\ntail -f ~/logs/rocketmqlogs/broker.log \nThe broker[%s, 172.30.30.233:10911] boot success...\n```\nSend & Receive Messages\n```\nBefore sending/receiving messages, we need to tell clients the location of name servers. RocketMQ provides multiple ways to achieve this. For simplicity, we use environment variable NAMESRV_ADDR\nexport NAMESRV_ADDR=localhost:9876\nsh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer\nSendResult [sendStatus=SEND_OK, msgId= ...\n\nsh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer \nConsumeMessageThread_%d Receive New Messages: [MessageExt...\n```\nShutdown Servers\n```\nsh bin/mqshutdown broker\nThe mqbroker(36695) is running...\nSend shutdown request to mqbroker(36695) OK\n\nsh bin/mqshutdown namesrv\nThe mqnamesrv(36664) is running...\nSend shutdown request to mqnamesrv(36664) OK\n```","slug":"Ubuntu安装RocketMQ - Quick Start","published":1,"updated":"2017-07-01T17:36:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdse006volejxupcf5p9","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"安装需求：\"><a href=\"#安装需求：\" class=\"headerlink\" title=\"安装需求：\"></a>安装需求：</h2><ol><li>64位的系统 Linux/Unix/Mac</li><li>64bit JDK 1.8+;</li><li>Maven 3.2.x;</li><li>Git （一般自带）</li></ol><p>如果还未安装jdk、maven建议查看教程:<a herf=\"/20170218-Ubuntu安装JDK8-Tomcat-简单教程/\" target=\"_blank\">点击查看</a></p><h2 id=\"Clone-amp-Build\"><a href=\"#Clone-amp-Build\" class=\"headerlink\" title=\"Clone &amp; Build\"></a>Clone &amp; Build</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone -b develop https://github.com/apache/incubator-rocketmq.git</span><br><span class=\"line\">cd incubator-rocketmq</span><br><span class=\"line\">mvn -Prelease-all -DskipTests clean install -U</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] Reactor Summary:</span><br><span class=\"line\">[INFO] </span><br><span class=\"line\">[INFO] Apache RocketMQ 4.2.0-incubating-SNAPSHOT .......... SUCCESS [01:07 min]</span><br><span class=\"line\">[INFO] rocketmq-remoting 4.2.0-incubating-SNAPSHOT ........ SUCCESS [ 15.749 s]</span><br><span class=\"line\">[INFO] rocketmq-common 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 10.243 s]</span><br><span class=\"line\">[INFO] rocketmq-client 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 11.638 s]</span><br><span class=\"line\">[INFO] rocketmq-store 4.2.0-incubating-SNAPSHOT ........... SUCCESS [ 13.108 s]</span><br><span class=\"line\">[INFO] rocketmq-srvutil 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.051 s]</span><br><span class=\"line\">[INFO] rocketmq-filter 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  3.917 s]</span><br><span class=\"line\">[INFO] rocketmq-broker 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  8.726 s]</span><br><span class=\"line\">[INFO] rocketmq-tools 4.2.0-incubating-SNAPSHOT ........... SUCCESS [  6.002 s]</span><br><span class=\"line\">[INFO] rocketmq-namesrv 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.726 s]</span><br><span class=\"line\">[INFO] rocketmq-logappender 4.2.0-incubating-SNAPSHOT ..... SUCCESS [  3.514 s]</span><br><span class=\"line\">[INFO] rocketmq-openmessaging 4.2.0-incubating-SNAPSHOT ... SUCCESS [  2.668 s]</span><br><span class=\"line\">[INFO] rocketmq-example 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.390 s]</span><br><span class=\"line\">[INFO] rocketmq-filtersrv 4.2.0-incubating-SNAPSHOT ....... SUCCESS [  2.145 s]</span><br><span class=\"line\">[INFO] rocketmq-test 4.2.0-incubating-SNAPSHOT ............ SUCCESS [  5.428 s]</span><br><span class=\"line\">[INFO] rocketmq-distribution 4.2.0-incubating-SNAPSHOT .... SUCCESS [ 27.002 s]</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] BUILD SUCCESS</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] Total time: 03:07 min</span><br><span class=\"line\">[INFO] Finished at: 2017-07-02T01:35:40+08:00</span><br><span class=\"line\">[INFO] Final Memory: 60M/247M</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">cd distribution/target/apache-rocketmq</span><br></pre></td></tr></table></figure><p>Start Name Server<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nohup sh bin/mqnamesrv &amp;</span><br><span class=\"line\">tail -f ~/logs/rocketmqlogs/namesrv.log</span><br><span class=\"line\">The Name Server boot success...</span><br></pre></td></tr></table></figure><p></p><p>Start Broker<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nohup sh bin/mqbroker -n localhost:9876 &amp;</span><br><span class=\"line\">tail -f ~/logs/rocketmqlogs/broker.log </span><br><span class=\"line\">The broker[%s, 172.30.30.233:10911] boot success...</span><br></pre></td></tr></table></figure><p></p><p>Send &amp; Receive Messages<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Before sending/receiving messages, we need to tell clients the location of name servers. RocketMQ provides multiple ways to achieve this. For simplicity, we use environment variable NAMESRV_ADDR</span><br><span class=\"line\">export NAMESRV_ADDR=localhost:9876</span><br><span class=\"line\">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer</span><br><span class=\"line\">SendResult [sendStatus=SEND_OK, msgId= ...</span><br><span class=\"line\"></span><br><span class=\"line\">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer </span><br><span class=\"line\">ConsumeMessageThread_%d Receive New Messages: [MessageExt...</span><br></pre></td></tr></table></figure><p></p><p>Shutdown Servers<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh bin/mqshutdown broker</span><br><span class=\"line\">The mqbroker(36695) is running...</span><br><span class=\"line\">Send shutdown request to mqbroker(36695) OK</span><br><span class=\"line\"></span><br><span class=\"line\">sh bin/mqshutdown namesrv</span><br><span class=\"line\">The mqnamesrv(36664) is running...</span><br><span class=\"line\">Send shutdown request to mqnamesrv(36664) OK</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"安装需求：\"><a href=\"#安装需求：\" class=\"headerlink\" title=\"安装需求：\"></a>安装需求：</h2><ol><li>64位的系统 Linux/Unix/Mac</li><li>64bit JDK 1.8+;</li><li>Maven 3.2.x;</li><li>Git （一般自带）</li></ol><p>如果还未安装jdk、maven建议查看教程:<a herf=\"/20170218-Ubuntu安装JDK8-Tomcat-简单教程/\" target=\"_blank\">点击查看</a></p><h2 id=\"Clone-amp-Build\"><a href=\"#Clone-amp-Build\" class=\"headerlink\" title=\"Clone &amp; Build\"></a>Clone &amp; Build</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone -b develop https://github.com/apache/incubator-rocketmq.git</span><br><span class=\"line\">cd incubator-rocketmq</span><br><span class=\"line\">mvn -Prelease-all -DskipTests clean install -U</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] Reactor Summary:</span><br><span class=\"line\">[INFO] </span><br><span class=\"line\">[INFO] Apache RocketMQ 4.2.0-incubating-SNAPSHOT .......... SUCCESS [01:07 min]</span><br><span class=\"line\">[INFO] rocketmq-remoting 4.2.0-incubating-SNAPSHOT ........ SUCCESS [ 15.749 s]</span><br><span class=\"line\">[INFO] rocketmq-common 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 10.243 s]</span><br><span class=\"line\">[INFO] rocketmq-client 4.2.0-incubating-SNAPSHOT .......... SUCCESS [ 11.638 s]</span><br><span class=\"line\">[INFO] rocketmq-store 4.2.0-incubating-SNAPSHOT ........... SUCCESS [ 13.108 s]</span><br><span class=\"line\">[INFO] rocketmq-srvutil 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.051 s]</span><br><span class=\"line\">[INFO] rocketmq-filter 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  3.917 s]</span><br><span class=\"line\">[INFO] rocketmq-broker 4.2.0-incubating-SNAPSHOT .......... SUCCESS [  8.726 s]</span><br><span class=\"line\">[INFO] rocketmq-tools 4.2.0-incubating-SNAPSHOT ........... SUCCESS [  6.002 s]</span><br><span class=\"line\">[INFO] rocketmq-namesrv 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.726 s]</span><br><span class=\"line\">[INFO] rocketmq-logappender 4.2.0-incubating-SNAPSHOT ..... SUCCESS [  3.514 s]</span><br><span class=\"line\">[INFO] rocketmq-openmessaging 4.2.0-incubating-SNAPSHOT ... SUCCESS [  2.668 s]</span><br><span class=\"line\">[INFO] rocketmq-example 4.2.0-incubating-SNAPSHOT ......... SUCCESS [  2.390 s]</span><br><span class=\"line\">[INFO] rocketmq-filtersrv 4.2.0-incubating-SNAPSHOT ....... SUCCESS [  2.145 s]</span><br><span class=\"line\">[INFO] rocketmq-test 4.2.0-incubating-SNAPSHOT ............ SUCCESS [  5.428 s]</span><br><span class=\"line\">[INFO] rocketmq-distribution 4.2.0-incubating-SNAPSHOT .... SUCCESS [ 27.002 s]</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] BUILD SUCCESS</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] Total time: 03:07 min</span><br><span class=\"line\">[INFO] Finished at: 2017-07-02T01:35:40+08:00</span><br><span class=\"line\">[INFO] Final Memory: 60M/247M</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">cd distribution/target/apache-rocketmq</span><br></pre></td></tr></table></figure><p>Start Name Server<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nohup sh bin/mqnamesrv &amp;</span><br><span class=\"line\">tail -f ~/logs/rocketmqlogs/namesrv.log</span><br><span class=\"line\">The Name Server boot success...</span><br></pre></td></tr></table></figure><p></p><p>Start Broker<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nohup sh bin/mqbroker -n localhost:9876 &amp;</span><br><span class=\"line\">tail -f ~/logs/rocketmqlogs/broker.log </span><br><span class=\"line\">The broker[%s, 172.30.30.233:10911] boot success...</span><br></pre></td></tr></table></figure><p></p><p>Send &amp; Receive Messages<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Before sending/receiving messages, we need to tell clients the location of name servers. RocketMQ provides multiple ways to achieve this. For simplicity, we use environment variable NAMESRV_ADDR</span><br><span class=\"line\">export NAMESRV_ADDR=localhost:9876</span><br><span class=\"line\">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer</span><br><span class=\"line\">SendResult [sendStatus=SEND_OK, msgId= ...</span><br><span class=\"line\"></span><br><span class=\"line\">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer </span><br><span class=\"line\">ConsumeMessageThread_%d Receive New Messages: [MessageExt...</span><br></pre></td></tr></table></figure><p></p><p>Shutdown Servers<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh bin/mqshutdown broker</span><br><span class=\"line\">The mqbroker(36695) is running...</span><br><span class=\"line\">Send shutdown request to mqbroker(36695) OK</span><br><span class=\"line\"></span><br><span class=\"line\">sh bin/mqshutdown namesrv</span><br><span class=\"line\">The mqnamesrv(36664) is running...</span><br><span class=\"line\">Send shutdown request to mqnamesrv(36664) OK</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Unable to ping server at localhost 1099 - 出现的原因","keywords":["Unable to ping server at localhost 1099"],"date":"2017-03-30T12:05:00.000Z","_content":"之前老是出现\n```\nApplication Server was not connected before run configuration stop, \nreason: Unable to ping server at localhost:1099\n```\n我遇到这个问题一般是这些原因：\n\n1. 这个端口被占用，一般进程管理把所有java进程杀了可以解决\n2. 由于在IDEA中错误的给tomcat添加了参数,比如下面这个。去掉即可\n\n这是下VM option中加了：-URIEncoding=UTF-8\n```\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized option: -URIEncoding=UTF-8\n```","source":"_posts/Unable to ping server at localhost 1099 - 出现的原因.md","raw":"---\ntitle: Unable to ping server at localhost 1099 - 出现的原因\nkeywords: [Unable to ping server at localhost 1099]\ndate: 2017/3/30 20:05\ntags: [idea,java]\ncategories: idea\n---\n之前老是出现\n```\nApplication Server was not connected before run configuration stop, \nreason: Unable to ping server at localhost:1099\n```\n我遇到这个问题一般是这些原因：\n\n1. 这个端口被占用，一般进程管理把所有java进程杀了可以解决\n2. 由于在IDEA中错误的给tomcat添加了参数,比如下面这个。去掉即可\n\n这是下VM option中加了：-URIEncoding=UTF-8\n```\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized option: -URIEncoding=UTF-8\n```","slug":"Unable to ping server at localhost 1099 - 出现的原因","published":1,"updated":"2017-03-30T12:11:44.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsf006yoleje50cfhsi","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前老是出现<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Application Server was not connected before run configuration stop, </span><br><span class=\"line\">reason: Unable to ping server at localhost:1099</span><br></pre></td></tr></table></figure><p></p><p>我遇到这个问题一般是这些原因：</p><ol><li>这个端口被占用，一般进程管理把所有java进程杀了可以解决</li><li>由于在IDEA中错误的给tomcat添加了参数,比如下面这个。去掉即可</li></ol><p>这是下VM option中加了：-URIEncoding=UTF-8<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: Could not create the Java Virtual Machine.</span><br><span class=\"line\">Error: A fatal exception has occurred. Program will exit.</span><br><span class=\"line\">Unrecognized option: -URIEncoding=UTF-8</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前老是出现<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Application Server was not connected before run configuration stop, </span><br><span class=\"line\">reason: Unable to ping server at localhost:1099</span><br></pre></td></tr></table></figure><p></p><p>我遇到这个问题一般是这些原因：</p><ol><li>这个端口被占用，一般进程管理把所有java进程杀了可以解决</li><li>由于在IDEA中错误的给tomcat添加了参数,比如下面这个。去掉即可</li></ol><p>这是下VM option中加了：-URIEncoding=UTF-8<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: Could not create the Java Virtual Machine.</span><br><span class=\"line\">Error: A fatal exception has occurred. Program will exit.</span><br><span class=\"line\">Unrecognized option: -URIEncoding=UTF-8</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Windows10开机bat启动VirtualBox虚拟机并且后台运行","keywords":["bat开启VirtualBox虚拟机","bat打开VirtualBox虚拟机","Windows10开机启动VirtualBox虚拟机"],"date":"2017-02-20T01:51:57.000Z","_content":"\n1.制作启动脚本\n\n新建一个start.bat文件，内容如下\n```\n@echo off\n\necho 本命令可让us在后台运行\necho 启动之后可以关闭本窗口\n\n::进入虚拟机目录\ncd C:\\\"Program Files\"\\Oracle\\VirtualBox\n\n::执行相关命令 同时启动两台虚拟机\nVBoxManage startvm \"us\" --type headless\n::VBoxManage startvm \"ubuntu\" --type headless\n\n::执行完之后按回车退出窗口\npause\n```\n2.设置开机启动\n\n把start.bat文件复制到[启动]文件夹里面\n\n[启动]文件夹路径\n```\nC:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp\n```\n文件管理器地址栏显示大概是这样\n```\nWindows > [开始]菜单 > 程序 > 启动\n```\n放进去之后就可以开机启动了！\n\n启动之后Xshell连接即可","source":"_posts/Windows10开机启动VirtualBox虚拟机并且后台运行.md","raw":"---\ntitle: Windows10开机bat启动VirtualBox虚拟机并且后台运行\nkeywords: [bat开启VirtualBox虚拟机,bat打开VirtualBox虚拟机,Windows10开机启动VirtualBox虚拟机]\ntags: [VirtualBox,bat,linux]\ndate: 2017-02-20 09:51:57\ncategories: 软件\n---\n\n1.制作启动脚本\n\n新建一个start.bat文件，内容如下\n```\n@echo off\n\necho 本命令可让us在后台运行\necho 启动之后可以关闭本窗口\n\n::进入虚拟机目录\ncd C:\\\"Program Files\"\\Oracle\\VirtualBox\n\n::执行相关命令 同时启动两台虚拟机\nVBoxManage startvm \"us\" --type headless\n::VBoxManage startvm \"ubuntu\" --type headless\n\n::执行完之后按回车退出窗口\npause\n```\n2.设置开机启动\n\n把start.bat文件复制到[启动]文件夹里面\n\n[启动]文件夹路径\n```\nC:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp\n```\n文件管理器地址栏显示大概是这样\n```\nWindows > [开始]菜单 > 程序 > 启动\n```\n放进去之后就可以开机启动了！\n\n启动之后Xshell连接即可","slug":"Windows10开机启动VirtualBox虚拟机并且后台运行","published":1,"updated":"2017-02-20T09:17:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsg0072olejdmx13ps6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>1.制作启动脚本</p><p>新建一个start.bat文件，内容如下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo off</span><br><span class=\"line\"></span><br><span class=\"line\">echo 本命令可让us在后台运行</span><br><span class=\"line\">echo 启动之后可以关闭本窗口</span><br><span class=\"line\"></span><br><span class=\"line\">::进入虚拟机目录</span><br><span class=\"line\">cd C:\\&quot;Program Files&quot;\\Oracle\\VirtualBox</span><br><span class=\"line\"></span><br><span class=\"line\">::执行相关命令 同时启动两台虚拟机</span><br><span class=\"line\">VBoxManage startvm &quot;us&quot; --type headless</span><br><span class=\"line\">::VBoxManage startvm &quot;ubuntu&quot; --type headless</span><br><span class=\"line\"></span><br><span class=\"line\">::执行完之后按回车退出窗口</span><br><span class=\"line\">pause</span><br></pre></td></tr></table></figure><p></p><p>2.设置开机启动</p><p>把start.bat文件复制到[启动]文件夹里面</p><p>[启动]文件夹路径<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp</span><br></pre></td></tr></table></figure><p></p><p>文件管理器地址栏显示大概是这样<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Windows &gt; [开始]菜单 &gt; 程序 &gt; 启动</span><br></pre></td></tr></table></figure><p></p><p>放进去之后就可以开机启动了！</p><p>启动之后Xshell连接即可</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>1.制作启动脚本</p><p>新建一个start.bat文件，内容如下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo off</span><br><span class=\"line\"></span><br><span class=\"line\">echo 本命令可让us在后台运行</span><br><span class=\"line\">echo 启动之后可以关闭本窗口</span><br><span class=\"line\"></span><br><span class=\"line\">::进入虚拟机目录</span><br><span class=\"line\">cd C:\\&quot;Program Files&quot;\\Oracle\\VirtualBox</span><br><span class=\"line\"></span><br><span class=\"line\">::执行相关命令 同时启动两台虚拟机</span><br><span class=\"line\">VBoxManage startvm &quot;us&quot; --type headless</span><br><span class=\"line\">::VBoxManage startvm &quot;ubuntu&quot; --type headless</span><br><span class=\"line\"></span><br><span class=\"line\">::执行完之后按回车退出窗口</span><br><span class=\"line\">pause</span><br></pre></td></tr></table></figure><p></p><p>2.设置开机启动</p><p>把start.bat文件复制到[启动]文件夹里面</p><p>[启动]文件夹路径<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp</span><br></pre></td></tr></table></figure><p></p><p>文件管理器地址栏显示大概是这样<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Windows &gt; [开始]菜单 &gt; 程序 &gt; 启动</span><br></pre></td></tr></table></figure><p></p><p>放进去之后就可以开机启动了！</p><p>启动之后Xshell连接即可</p><!-- rebuild by neat -->"},{"title":"apt-get 常用命令","keywords":["apt-get 常用命令","apt-get","ubuntu"],"date":"2017-08-15T03:05:00.000Z","_content":"apt-get应该debian内核系列的系统都能用：\n\n比如：debian、ubuntu、deepin等\n```\napt-cache search package    #搜索包（相当于yum list | grep pkg）\napt-cache show package      #显示包的相关信息，如说明、大小、版本等\napt-cache showpg package    #显示包的相关信息，如Reverse Depends（反向依赖）、依赖等\napt-get install package       #安装包\napt-get reinstall package     #重新安装包\napt-get -f install package    #强制安装\napt-get remove package        #删除包（只是删掉数据和可执行文件，不删除配置文件）\napt-get remove --purge package       #删除包，包括删除配置文件等\napt-get autoremove --purge package   #删除包及其依赖的软件包+配置文件等\napt-get update          #更新源\napt-get upgrade         #更新已安装的包\napt-get dist-upgrade    #升级系统\napt-get dselect-upgrade        #使用 dselect 升级\napt-cache depends package      #了解使用依赖\napt-cache rdepends package     #查看该包被哪些包依赖\napt-get build-dep package   #安装相关的编译环境\napt-get source package      #下载该包的源代码\napt-get clean && apt-get autoclean  #清理下载文件的存档 && 只清理过时的包\napt-get check             #检查是否有损坏的依赖\ndpkg -S filename          #查找filename属于哪个软件包\napt-file search filename  #查找filename属于哪个软件包\napt-file list packagename #列出软件包的内容\napt-file update           #更新apt-file的数据库\n\ndpkg -l      #列出当前系统中所有的包.可以和参数less一起使用在分屏查看（类似于rpm -qa）\ndpkg -l |grep -i \"pkg\"   #查看系统中与\"pkg\"相关联的包（类似于rpm -qa | grep pkg）\ndpkg -s pkg  #查询一个已安装的包的详细信息（类似于rpm -qi）\ndpkg -L pkg  #查询一个已安装的软件包释放了哪些文件（类似于rpm -ql）\ndpkg -S file     #查询系统中某个文件属于哪个软件包（类似于rpm -qf）\ndpkg -c pkg.deb  #查询一个未安装的deb包将会释放哪些文件（类似于rpm -qpl）\ndpkg -I pkg.deb  #查看一个未安装的deb包的详细信息（类似于rpm -qpi）\ndpkg -i pkg.deb  #手动安装软件包（不能解决软依赖性问题，可以用apt-get -f install解决）\ndpkg -r pkg      #卸载软件包（不是完全的卸载，它的配置文件还存在）\ndpkg -P pkg      #全部卸载（不能解决依赖性的问题）\ndpkg-reconfigure pkg     #重新配置\ndpkg -x pkg.deb dir      #将一个deb包解开至dir目录\ndpkg --pending --remove  #移除多余的软件\n\n# 强制安装一个包(忽略依赖及其它问题)\ndpkg --force-all -i pkg.deb    #可以参考dpkg --force-help\n\n# 强制卸载一个包\ndpkg --force-all -P pkg.deb\n\naptitude update   #更新可用的包列表\naptitude upgrade  #升级可用的包\naptitude dist-upgrade     #将系统升级到新的发行版\naptitude install pkgname  #安装包\naptitude remove pkgname   #删除包\naptitude purge pkgname    #删除包及其配置文件\naptitude search string    #搜索包（相当于yum list | grep pkg，重要）\naptitude show pkgname     #显示包的详细信息 （相当于yum info pkg，重要）\naptitude clean            #删除下载的包文件\naptitude autoclean        #仅删除过期的包文件\napt-get install xrdp      #安装图形化\n```\n","source":"_posts/apt-get 常用命令.md","raw":"---\ntitle: apt-get 常用命令\nkeywords: [apt-get 常用命令,apt-get,ubuntu]\ndate: 2017/8/15 11:05\ntags: [linux]\ncategories: linux\n---\napt-get应该debian内核系列的系统都能用：\n\n比如：debian、ubuntu、deepin等\n```\napt-cache search package    #搜索包（相当于yum list | grep pkg）\napt-cache show package      #显示包的相关信息，如说明、大小、版本等\napt-cache showpg package    #显示包的相关信息，如Reverse Depends（反向依赖）、依赖等\napt-get install package       #安装包\napt-get reinstall package     #重新安装包\napt-get -f install package    #强制安装\napt-get remove package        #删除包（只是删掉数据和可执行文件，不删除配置文件）\napt-get remove --purge package       #删除包，包括删除配置文件等\napt-get autoremove --purge package   #删除包及其依赖的软件包+配置文件等\napt-get update          #更新源\napt-get upgrade         #更新已安装的包\napt-get dist-upgrade    #升级系统\napt-get dselect-upgrade        #使用 dselect 升级\napt-cache depends package      #了解使用依赖\napt-cache rdepends package     #查看该包被哪些包依赖\napt-get build-dep package   #安装相关的编译环境\napt-get source package      #下载该包的源代码\napt-get clean && apt-get autoclean  #清理下载文件的存档 && 只清理过时的包\napt-get check             #检查是否有损坏的依赖\ndpkg -S filename          #查找filename属于哪个软件包\napt-file search filename  #查找filename属于哪个软件包\napt-file list packagename #列出软件包的内容\napt-file update           #更新apt-file的数据库\n\ndpkg -l      #列出当前系统中所有的包.可以和参数less一起使用在分屏查看（类似于rpm -qa）\ndpkg -l |grep -i \"pkg\"   #查看系统中与\"pkg\"相关联的包（类似于rpm -qa | grep pkg）\ndpkg -s pkg  #查询一个已安装的包的详细信息（类似于rpm -qi）\ndpkg -L pkg  #查询一个已安装的软件包释放了哪些文件（类似于rpm -ql）\ndpkg -S file     #查询系统中某个文件属于哪个软件包（类似于rpm -qf）\ndpkg -c pkg.deb  #查询一个未安装的deb包将会释放哪些文件（类似于rpm -qpl）\ndpkg -I pkg.deb  #查看一个未安装的deb包的详细信息（类似于rpm -qpi）\ndpkg -i pkg.deb  #手动安装软件包（不能解决软依赖性问题，可以用apt-get -f install解决）\ndpkg -r pkg      #卸载软件包（不是完全的卸载，它的配置文件还存在）\ndpkg -P pkg      #全部卸载（不能解决依赖性的问题）\ndpkg-reconfigure pkg     #重新配置\ndpkg -x pkg.deb dir      #将一个deb包解开至dir目录\ndpkg --pending --remove  #移除多余的软件\n\n# 强制安装一个包(忽略依赖及其它问题)\ndpkg --force-all -i pkg.deb    #可以参考dpkg --force-help\n\n# 强制卸载一个包\ndpkg --force-all -P pkg.deb\n\naptitude update   #更新可用的包列表\naptitude upgrade  #升级可用的包\naptitude dist-upgrade     #将系统升级到新的发行版\naptitude install pkgname  #安装包\naptitude remove pkgname   #删除包\naptitude purge pkgname    #删除包及其配置文件\naptitude search string    #搜索包（相当于yum list | grep pkg，重要）\naptitude show pkgname     #显示包的详细信息 （相当于yum info pkg，重要）\naptitude clean            #删除下载的包文件\naptitude autoclean        #仅删除过期的包文件\napt-get install xrdp      #安装图形化\n```\n","slug":"apt-get 常用命令","published":1,"updated":"2017-08-15T03:07:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsh0075olej94icpywn","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>apt-get应该debian内核系列的系统都能用：</p><p>比如：debian、ubuntu、deepin等<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-cache search package    #搜索包（相当于yum list | grep pkg）</span><br><span class=\"line\">apt-cache show package      #显示包的相关信息，如说明、大小、版本等</span><br><span class=\"line\">apt-cache showpg package    #显示包的相关信息，如Reverse Depends（反向依赖）、依赖等</span><br><span class=\"line\">apt-get install package       #安装包</span><br><span class=\"line\">apt-get reinstall package     #重新安装包</span><br><span class=\"line\">apt-get -f install package    #强制安装</span><br><span class=\"line\">apt-get remove package        #删除包（只是删掉数据和可执行文件，不删除配置文件）</span><br><span class=\"line\">apt-get remove --purge package       #删除包，包括删除配置文件等</span><br><span class=\"line\">apt-get autoremove --purge package   #删除包及其依赖的软件包+配置文件等</span><br><span class=\"line\">apt-get update          #更新源</span><br><span class=\"line\">apt-get upgrade         #更新已安装的包</span><br><span class=\"line\">apt-get dist-upgrade    #升级系统</span><br><span class=\"line\">apt-get dselect-upgrade        #使用 dselect 升级</span><br><span class=\"line\">apt-cache depends package      #了解使用依赖</span><br><span class=\"line\">apt-cache rdepends package     #查看该包被哪些包依赖</span><br><span class=\"line\">apt-get build-dep package   #安装相关的编译环境</span><br><span class=\"line\">apt-get source package      #下载该包的源代码</span><br><span class=\"line\">apt-get clean &amp;&amp; apt-get autoclean  #清理下载文件的存档 &amp;&amp; 只清理过时的包</span><br><span class=\"line\">apt-get check             #检查是否有损坏的依赖</span><br><span class=\"line\">dpkg -S filename          #查找filename属于哪个软件包</span><br><span class=\"line\">apt-file search filename  #查找filename属于哪个软件包</span><br><span class=\"line\">apt-file list packagename #列出软件包的内容</span><br><span class=\"line\">apt-file update           #更新apt-file的数据库</span><br><span class=\"line\"></span><br><span class=\"line\">dpkg -l      #列出当前系统中所有的包.可以和参数less一起使用在分屏查看（类似于rpm -qa）</span><br><span class=\"line\">dpkg -l |grep -i &quot;pkg&quot;   #查看系统中与&quot;pkg&quot;相关联的包（类似于rpm -qa | grep pkg）</span><br><span class=\"line\">dpkg -s pkg  #查询一个已安装的包的详细信息（类似于rpm -qi）</span><br><span class=\"line\">dpkg -L pkg  #查询一个已安装的软件包释放了哪些文件（类似于rpm -ql）</span><br><span class=\"line\">dpkg -S file     #查询系统中某个文件属于哪个软件包（类似于rpm -qf）</span><br><span class=\"line\">dpkg -c pkg.deb  #查询一个未安装的deb包将会释放哪些文件（类似于rpm -qpl）</span><br><span class=\"line\">dpkg -I pkg.deb  #查看一个未安装的deb包的详细信息（类似于rpm -qpi）</span><br><span class=\"line\">dpkg -i pkg.deb  #手动安装软件包（不能解决软依赖性问题，可以用apt-get -f install解决）</span><br><span class=\"line\">dpkg -r pkg      #卸载软件包（不是完全的卸载，它的配置文件还存在）</span><br><span class=\"line\">dpkg -P pkg      #全部卸载（不能解决依赖性的问题）</span><br><span class=\"line\">dpkg-reconfigure pkg     #重新配置</span><br><span class=\"line\">dpkg -x pkg.deb dir      #将一个deb包解开至dir目录</span><br><span class=\"line\">dpkg --pending --remove  #移除多余的软件</span><br><span class=\"line\"></span><br><span class=\"line\"># 强制安装一个包(忽略依赖及其它问题)</span><br><span class=\"line\">dpkg --force-all -i pkg.deb    #可以参考dpkg --force-help</span><br><span class=\"line\"></span><br><span class=\"line\"># 强制卸载一个包</span><br><span class=\"line\">dpkg --force-all -P pkg.deb</span><br><span class=\"line\"></span><br><span class=\"line\">aptitude update   #更新可用的包列表</span><br><span class=\"line\">aptitude upgrade  #升级可用的包</span><br><span class=\"line\">aptitude dist-upgrade     #将系统升级到新的发行版</span><br><span class=\"line\">aptitude install pkgname  #安装包</span><br><span class=\"line\">aptitude remove pkgname   #删除包</span><br><span class=\"line\">aptitude purge pkgname    #删除包及其配置文件</span><br><span class=\"line\">aptitude search string    #搜索包（相当于yum list | grep pkg，重要）</span><br><span class=\"line\">aptitude show pkgname     #显示包的详细信息 （相当于yum info pkg，重要）</span><br><span class=\"line\">aptitude clean            #删除下载的包文件</span><br><span class=\"line\">aptitude autoclean        #仅删除过期的包文件</span><br><span class=\"line\">apt-get install xrdp      #安装图形化</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>apt-get应该debian内核系列的系统都能用：</p><p>比如：debian、ubuntu、deepin等<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-cache search package    #搜索包（相当于yum list | grep pkg）</span><br><span class=\"line\">apt-cache show package      #显示包的相关信息，如说明、大小、版本等</span><br><span class=\"line\">apt-cache showpg package    #显示包的相关信息，如Reverse Depends（反向依赖）、依赖等</span><br><span class=\"line\">apt-get install package       #安装包</span><br><span class=\"line\">apt-get reinstall package     #重新安装包</span><br><span class=\"line\">apt-get -f install package    #强制安装</span><br><span class=\"line\">apt-get remove package        #删除包（只是删掉数据和可执行文件，不删除配置文件）</span><br><span class=\"line\">apt-get remove --purge package       #删除包，包括删除配置文件等</span><br><span class=\"line\">apt-get autoremove --purge package   #删除包及其依赖的软件包+配置文件等</span><br><span class=\"line\">apt-get update          #更新源</span><br><span class=\"line\">apt-get upgrade         #更新已安装的包</span><br><span class=\"line\">apt-get dist-upgrade    #升级系统</span><br><span class=\"line\">apt-get dselect-upgrade        #使用 dselect 升级</span><br><span class=\"line\">apt-cache depends package      #了解使用依赖</span><br><span class=\"line\">apt-cache rdepends package     #查看该包被哪些包依赖</span><br><span class=\"line\">apt-get build-dep package   #安装相关的编译环境</span><br><span class=\"line\">apt-get source package      #下载该包的源代码</span><br><span class=\"line\">apt-get clean &amp;&amp; apt-get autoclean  #清理下载文件的存档 &amp;&amp; 只清理过时的包</span><br><span class=\"line\">apt-get check             #检查是否有损坏的依赖</span><br><span class=\"line\">dpkg -S filename          #查找filename属于哪个软件包</span><br><span class=\"line\">apt-file search filename  #查找filename属于哪个软件包</span><br><span class=\"line\">apt-file list packagename #列出软件包的内容</span><br><span class=\"line\">apt-file update           #更新apt-file的数据库</span><br><span class=\"line\"></span><br><span class=\"line\">dpkg -l      #列出当前系统中所有的包.可以和参数less一起使用在分屏查看（类似于rpm -qa）</span><br><span class=\"line\">dpkg -l |grep -i &quot;pkg&quot;   #查看系统中与&quot;pkg&quot;相关联的包（类似于rpm -qa | grep pkg）</span><br><span class=\"line\">dpkg -s pkg  #查询一个已安装的包的详细信息（类似于rpm -qi）</span><br><span class=\"line\">dpkg -L pkg  #查询一个已安装的软件包释放了哪些文件（类似于rpm -ql）</span><br><span class=\"line\">dpkg -S file     #查询系统中某个文件属于哪个软件包（类似于rpm -qf）</span><br><span class=\"line\">dpkg -c pkg.deb  #查询一个未安装的deb包将会释放哪些文件（类似于rpm -qpl）</span><br><span class=\"line\">dpkg -I pkg.deb  #查看一个未安装的deb包的详细信息（类似于rpm -qpi）</span><br><span class=\"line\">dpkg -i pkg.deb  #手动安装软件包（不能解决软依赖性问题，可以用apt-get -f install解决）</span><br><span class=\"line\">dpkg -r pkg      #卸载软件包（不是完全的卸载，它的配置文件还存在）</span><br><span class=\"line\">dpkg -P pkg      #全部卸载（不能解决依赖性的问题）</span><br><span class=\"line\">dpkg-reconfigure pkg     #重新配置</span><br><span class=\"line\">dpkg -x pkg.deb dir      #将一个deb包解开至dir目录</span><br><span class=\"line\">dpkg --pending --remove  #移除多余的软件</span><br><span class=\"line\"></span><br><span class=\"line\"># 强制安装一个包(忽略依赖及其它问题)</span><br><span class=\"line\">dpkg --force-all -i pkg.deb    #可以参考dpkg --force-help</span><br><span class=\"line\"></span><br><span class=\"line\"># 强制卸载一个包</span><br><span class=\"line\">dpkg --force-all -P pkg.deb</span><br><span class=\"line\"></span><br><span class=\"line\">aptitude update   #更新可用的包列表</span><br><span class=\"line\">aptitude upgrade  #升级可用的包</span><br><span class=\"line\">aptitude dist-upgrade     #将系统升级到新的发行版</span><br><span class=\"line\">aptitude install pkgname  #安装包</span><br><span class=\"line\">aptitude remove pkgname   #删除包</span><br><span class=\"line\">aptitude purge pkgname    #删除包及其配置文件</span><br><span class=\"line\">aptitude search string    #搜索包（相当于yum list | grep pkg，重要）</span><br><span class=\"line\">aptitude show pkgname     #显示包的详细信息 （相当于yum info pkg，重要）</span><br><span class=\"line\">aptitude clean            #删除下载的包文件</span><br><span class=\"line\">aptitude autoclean        #仅删除过期的包文件</span><br><span class=\"line\">apt-get install xrdp      #安装图形化</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"centos更换yum源为阿里云 - 三步搞定","keywords":["centos更换yum源为阿里云"],"date":"2017-02-17T09:31:19.000Z","_content":"阿里云是最近新出的一个镜像源。得益于阿里云的高速发展，这么大的需求，肯定会推出自己的镜像源。\n阿里云Linux安装镜像源地址：http://mirrors.aliyun.com/\n\nCentOS系统更换软件安装源\n\n第一步：备份你的原镜像文件，以免出错后可以恢复。\n\n1、备份\nmv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n\n2、下载新的CentOS-Base.repo 到/etc/yum.repos.d/\n\n（如果无wget命令，底部有具体说明）\n\nCentOS 5\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo\n```\nCentOS 6\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo\n```\nCentOS 7\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n```\n3、之后运行yum makecache生成缓存\n\n---\n\nps：如果你跟我一样苦逼：\n```\n-bash: wget: command not found\n```\n然后：\n```\nyum -y install wget #失败\n```\n那么你可以直接选择上面对应系统的文件下载链接\n\n下载好文件之后改名为CentOS-Base.repo\n\n直接放到/etc/yum.repos.d/目录下即可\n","source":"_posts/centos更换yum源为阿里云-三部搞定.md","raw":"---\ntitle: centos更换yum源为阿里云 - 三步搞定\nkeywords: [centos更换yum源为阿里云]\ntags: [linux,centos]\ndate: 2017-02-17 17:31:19\ncategories: linux\n---\n阿里云是最近新出的一个镜像源。得益于阿里云的高速发展，这么大的需求，肯定会推出自己的镜像源。\n阿里云Linux安装镜像源地址：http://mirrors.aliyun.com/\n\nCentOS系统更换软件安装源\n\n第一步：备份你的原镜像文件，以免出错后可以恢复。\n\n1、备份\nmv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n\n2、下载新的CentOS-Base.repo 到/etc/yum.repos.d/\n\n（如果无wget命令，底部有具体说明）\n\nCentOS 5\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo\n```\nCentOS 6\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo\n```\nCentOS 7\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n```\n3、之后运行yum makecache生成缓存\n\n---\n\nps：如果你跟我一样苦逼：\n```\n-bash: wget: command not found\n```\n然后：\n```\nyum -y install wget #失败\n```\n那么你可以直接选择上面对应系统的文件下载链接\n\n下载好文件之后改名为CentOS-Base.repo\n\n直接放到/etc/yum.repos.d/目录下即可\n","slug":"centos更换yum源为阿里云-三部搞定","published":1,"updated":"2017-02-17T09:36:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsi0079olejfplmbjcj","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>阿里云是最近新出的一个镜像源。得益于阿里云的高速发展，这么大的需求，肯定会推出自己的镜像源。<br>阿里云Linux安装镜像源地址：<a href=\"http://mirrors.aliyun.com/\" target=\"_blank\" rel=\"noopener\">http://mirrors.aliyun.com/</a></p><p>CentOS系统更换软件安装源</p><p>第一步：备份你的原镜像文件，以免出错后可以恢复。</p><p>1、备份<br>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</p><p>2、下载新的CentOS-Base.repo 到/etc/yum.repos.d/</p><p>（如果无wget命令，底部有具体说明）</p><p>CentOS 5<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo</span><br></pre></td></tr></table></figure><p></p><p>CentOS 6<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br></pre></td></tr></table></figure><p></p><p>CentOS 7<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure><p></p><p>3、之后运行yum makecache生成缓存</p><hr><p>ps：如果你跟我一样苦逼：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-bash: wget: command not found</span><br></pre></td></tr></table></figure><p></p><p>然后：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install wget #失败</span><br></pre></td></tr></table></figure><p></p><p>那么你可以直接选择上面对应系统的文件下载链接</p><p>下载好文件之后改名为CentOS-Base.repo</p><p>直接放到/etc/yum.repos.d/目录下即可</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>阿里云是最近新出的一个镜像源。得益于阿里云的高速发展，这么大的需求，肯定会推出自己的镜像源。<br>阿里云Linux安装镜像源地址：<a href=\"http://mirrors.aliyun.com/\" target=\"_blank\" rel=\"noopener\">http://mirrors.aliyun.com/</a></p><p>CentOS系统更换软件安装源</p><p>第一步：备份你的原镜像文件，以免出错后可以恢复。</p><p>1、备份<br>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</p><p>2、下载新的CentOS-Base.repo 到/etc/yum.repos.d/</p><p>（如果无wget命令，底部有具体说明）</p><p>CentOS 5<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo</span><br></pre></td></tr></table></figure><p></p><p>CentOS 6<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br></pre></td></tr></table></figure><p></p><p>CentOS 7<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure><p></p><p>3、之后运行yum makecache生成缓存</p><hr><p>ps：如果你跟我一样苦逼：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-bash: wget: command not found</span><br></pre></td></tr></table></figure><p></p><p>然后：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install wget #失败</span><br></pre></td></tr></table></figure><p></p><p>那么你可以直接选择上面对应系统的文件下载链接</p><p>下载好文件之后改名为CentOS-Base.repo</p><p>直接放到/etc/yum.repos.d/目录下即可</p><!-- rebuild by neat -->"},{"title":"count函数效率问题 - 了解count函数","keywords":["count(*)，count(1)"],"date":"2017-03-03T06:33:00.000Z","_content":"## count函数的作用\n\n想要真正的理解count函数，我们就必须明白count函数的作用。\n\n作用一：统计某一列非空(not null)值得数量，即统计某列有值得结果数,使用count(col)。\n\n作用二：统计结果集的行数，此时不用管某列是否为null值。即使用count(*).\n\n明白了这点，我们就应该知道MySQL的count(*)并不是想象中的那样，统计每一列的值，而是直接忽视掉所有列，直接统计行数，那么它的效率肯定是很高的。\n\n但是有一点，当col指定了该字段为NOT NULL时实际上，MySQL会自动将count(col)转为count(*),但是这样也同样耗费了些时间，如果col没有指定为NOT NULL的话，那么效率就更低了，MySQL就必须要判断每一行的值是否为空。\n\n所以综上所述，如果是要统计行数最好优先使用select count(*)\n\n当统计某一列等于多少的值得时候可以使用下面两种方法:\n```\nSELECT SUM(IF(id = 23,1,0)) FROM table \nSELECT COUNT(id = 23 OR NULL) FROM table \n```\n","source":"_posts/count函数效率问题 - 了解count函数.md","raw":"---\ntitle: count函数效率问题 - 了解count函数\nkeywords: [count(*)，count(1)]\ndate: 2017/3/3 14:33\ntags: [mysql]\ncategories: java\n---\n## count函数的作用\n\n想要真正的理解count函数，我们就必须明白count函数的作用。\n\n作用一：统计某一列非空(not null)值得数量，即统计某列有值得结果数,使用count(col)。\n\n作用二：统计结果集的行数，此时不用管某列是否为null值。即使用count(*).\n\n明白了这点，我们就应该知道MySQL的count(*)并不是想象中的那样，统计每一列的值，而是直接忽视掉所有列，直接统计行数，那么它的效率肯定是很高的。\n\n但是有一点，当col指定了该字段为NOT NULL时实际上，MySQL会自动将count(col)转为count(*),但是这样也同样耗费了些时间，如果col没有指定为NOT NULL的话，那么效率就更低了，MySQL就必须要判断每一行的值是否为空。\n\n所以综上所述，如果是要统计行数最好优先使用select count(*)\n\n当统计某一列等于多少的值得时候可以使用下面两种方法:\n```\nSELECT SUM(IF(id = 23,1,0)) FROM table \nSELECT COUNT(id = 23 OR NULL) FROM table \n```\n","slug":"count函数效率问题 - 了解count函数","published":1,"updated":"2017-03-03T06:38:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsj007colejdx7hbwpu","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"count函数的作用\"><a href=\"#count函数的作用\" class=\"headerlink\" title=\"count函数的作用\"></a>count函数的作用</h2><p>想要真正的理解count函数，我们就必须明白count函数的作用。</p><p>作用一：统计某一列非空(not null)值得数量，即统计某列有值得结果数,使用count(col)。</p><p>作用二：统计结果集的行数，此时不用管某列是否为null值。即使用count(*).</p><p>明白了这点，我们就应该知道MySQL的count(*)并不是想象中的那样，统计每一列的值，而是直接忽视掉所有列，直接统计行数，那么它的效率肯定是很高的。</p><p>但是有一点，当col指定了该字段为NOT NULL时实际上，MySQL会自动将count(col)转为count(*),但是这样也同样耗费了些时间，如果col没有指定为NOT NULL的话，那么效率就更低了，MySQL就必须要判断每一行的值是否为空。</p><p>所以综上所述，如果是要统计行数最好优先使用select count(*)</p><p>当统计某一列等于多少的值得时候可以使用下面两种方法:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT SUM(IF(id = 23,1,0)) FROM table </span><br><span class=\"line\">SELECT COUNT(id = 23 OR NULL) FROM table</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"count函数的作用\"><a href=\"#count函数的作用\" class=\"headerlink\" title=\"count函数的作用\"></a>count函数的作用</h2><p>想要真正的理解count函数，我们就必须明白count函数的作用。</p><p>作用一：统计某一列非空(not null)值得数量，即统计某列有值得结果数,使用count(col)。</p><p>作用二：统计结果集的行数，此时不用管某列是否为null值。即使用count(*).</p><p>明白了这点，我们就应该知道MySQL的count(*)并不是想象中的那样，统计每一列的值，而是直接忽视掉所有列，直接统计行数，那么它的效率肯定是很高的。</p><p>但是有一点，当col指定了该字段为NOT NULL时实际上，MySQL会自动将count(col)转为count(*),但是这样也同样耗费了些时间，如果col没有指定为NOT NULL的话，那么效率就更低了，MySQL就必须要判断每一行的值是否为空。</p><p>所以综上所述，如果是要统计行数最好优先使用select count(*)</p><p>当统计某一列等于多少的值得时候可以使用下面两种方法:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT SUM(IF(id = 23,1,0)) FROM table </span><br><span class=\"line\">SELECT COUNT(id = 23 OR NULL) FROM table</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"dubbo与zookeeper的关系","keywords":["dubbo zookeeper","dubbo与zookeeper的关系","dubbo与zookeeper"],"date":"2017-11-15T12:39:00.000Z","_content":"Zookeeper的作用\n---\nzookeeper用来注册服务和进行负载均衡，哪一个服务由哪一个机器来提供必需让调用者知道，简单来说就是ip地址和服务名称的对应关系。\n\n当然也可以 通过硬编码的方式把这种对应关系在调用方业务代码中实现，但是如果提供服务的机器挂掉调用者无法知晓，如果不更改代码会继续请求挂掉的机器提供服务。 \n\nzookeeper通过心跳机制可以检测挂掉的机器并将挂掉机器的ip和服务对应关系从列表中删除。至于支持高并发，简单来说就是横向扩展，在不更改代码 的情况通过添加机器来提高运算能力。\n\n通过添加新的机器向zookeeper注册服务，服务的提供者多了能服务的客户就多了。\n\ndubbo\n---\n是管理中间层的工具，在业务层到数据仓库间有非常多服务的接入和服务提供者需要调度，dubbo提供一个框架解决这个问题。\n\n注意这里的dubbo只是一个框架，至于你架子上放什么是完全取决于你的，就像一个汽车骨架，你需要配你的轮子引擎。\n\n这个框架中要完成调度必须要有一个分布式的注册中心，储存所有服务的元数据，你可以用zk，也可以用别的，只是大家都用zk。\n\nzookeeper和dubbo的关系\n---\nDubbo的将注册中心进行抽象，是得它可以外接不同的存储媒介给注册中心提供服务，有ZooKeeper，Memcached，Redis等。\n\n 引入了ZooKeeper作为存储媒介，也就把ZooKeeper的特性引进来。\n \n 1. 负载均衡:单注册中心的承载能力是有限的，在流量达到一定程度的时 候就需要分流，负载均衡就是为了分流而存在的，一个ZooKeeper群配合相应的Web应用就可以很容易达到负载均衡；\n 2. 资源同步:单单有负载均衡还不 够，节点之间的数据和资源需要同步，ZooKeeper集群就天然具备有这样的功能；\n3. 命名服务:将树状结构用于维护全局的服务地址列表，服务提供者在启动 的时候，向ZK上的指定节点/dubbo/${serviceName}/providers目录下写入自己的URL地址，这个操作就完成了服务的发布\n4. Mast选举，分布式锁等。\n\n参考\n---\nhttps://www.cnblogs.com/xiaofei1208/p/7077733.html","source":"_posts/dubbo与zookeeper的关系.md","raw":"---\ntitle: dubbo与zookeeper的关系\nkeywords: [dubbo zookeeper,dubbo与zookeeper的关系,dubbo与zookeeper]\ndate: 2017/11/15 20:39\ntags: [java]\ncategories: java\n---\nZookeeper的作用\n---\nzookeeper用来注册服务和进行负载均衡，哪一个服务由哪一个机器来提供必需让调用者知道，简单来说就是ip地址和服务名称的对应关系。\n\n当然也可以 通过硬编码的方式把这种对应关系在调用方业务代码中实现，但是如果提供服务的机器挂掉调用者无法知晓，如果不更改代码会继续请求挂掉的机器提供服务。 \n\nzookeeper通过心跳机制可以检测挂掉的机器并将挂掉机器的ip和服务对应关系从列表中删除。至于支持高并发，简单来说就是横向扩展，在不更改代码 的情况通过添加机器来提高运算能力。\n\n通过添加新的机器向zookeeper注册服务，服务的提供者多了能服务的客户就多了。\n\ndubbo\n---\n是管理中间层的工具，在业务层到数据仓库间有非常多服务的接入和服务提供者需要调度，dubbo提供一个框架解决这个问题。\n\n注意这里的dubbo只是一个框架，至于你架子上放什么是完全取决于你的，就像一个汽车骨架，你需要配你的轮子引擎。\n\n这个框架中要完成调度必须要有一个分布式的注册中心，储存所有服务的元数据，你可以用zk，也可以用别的，只是大家都用zk。\n\nzookeeper和dubbo的关系\n---\nDubbo的将注册中心进行抽象，是得它可以外接不同的存储媒介给注册中心提供服务，有ZooKeeper，Memcached，Redis等。\n\n 引入了ZooKeeper作为存储媒介，也就把ZooKeeper的特性引进来。\n \n 1. 负载均衡:单注册中心的承载能力是有限的，在流量达到一定程度的时 候就需要分流，负载均衡就是为了分流而存在的，一个ZooKeeper群配合相应的Web应用就可以很容易达到负载均衡；\n 2. 资源同步:单单有负载均衡还不 够，节点之间的数据和资源需要同步，ZooKeeper集群就天然具备有这样的功能；\n3. 命名服务:将树状结构用于维护全局的服务地址列表，服务提供者在启动 的时候，向ZK上的指定节点/dubbo/${serviceName}/providers目录下写入自己的URL地址，这个操作就完成了服务的发布\n4. Mast选举，分布式锁等。\n\n参考\n---\nhttps://www.cnblogs.com/xiaofei1208/p/7077733.html","slug":"dubbo与zookeeper的关系","published":1,"updated":"2017-11-15T12:54:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsj007folejgfpyvjf6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"Zookeeper的作用\"><a href=\"#Zookeeper的作用\" class=\"headerlink\" title=\"Zookeeper的作用\"></a>Zookeeper的作用</h2><p>zookeeper用来注册服务和进行负载均衡，哪一个服务由哪一个机器来提供必需让调用者知道，简单来说就是ip地址和服务名称的对应关系。</p><p>当然也可以 通过硬编码的方式把这种对应关系在调用方业务代码中实现，但是如果提供服务的机器挂掉调用者无法知晓，如果不更改代码会继续请求挂掉的机器提供服务。</p><p>zookeeper通过心跳机制可以检测挂掉的机器并将挂掉机器的ip和服务对应关系从列表中删除。至于支持高并发，简单来说就是横向扩展，在不更改代码 的情况通过添加机器来提高运算能力。</p><p>通过添加新的机器向zookeeper注册服务，服务的提供者多了能服务的客户就多了。</p><h2 id=\"dubbo\"><a href=\"#dubbo\" class=\"headerlink\" title=\"dubbo\"></a>dubbo</h2><p>是管理中间层的工具，在业务层到数据仓库间有非常多服务的接入和服务提供者需要调度，dubbo提供一个框架解决这个问题。</p><p>注意这里的dubbo只是一个框架，至于你架子上放什么是完全取决于你的，就像一个汽车骨架，你需要配你的轮子引擎。</p><p>这个框架中要完成调度必须要有一个分布式的注册中心，储存所有服务的元数据，你可以用zk，也可以用别的，只是大家都用zk。</p><h2 id=\"zookeeper和dubbo的关系\"><a href=\"#zookeeper和dubbo的关系\" class=\"headerlink\" title=\"zookeeper和dubbo的关系\"></a>zookeeper和dubbo的关系</h2><p>Dubbo的将注册中心进行抽象，是得它可以外接不同的存储媒介给注册中心提供服务，有ZooKeeper，Memcached，Redis等。</p><p>引入了ZooKeeper作为存储媒介，也就把ZooKeeper的特性引进来。</p><ol><li>负载均衡:单注册中心的承载能力是有限的，在流量达到一定程度的时 候就需要分流，负载均衡就是为了分流而存在的，一个ZooKeeper群配合相应的Web应用就可以很容易达到负载均衡；</li><li>资源同步:单单有负载均衡还不 够，节点之间的数据和资源需要同步，ZooKeeper集群就天然具备有这样的功能；<ol start=\"3\"><li>命名服务:将树状结构用于维护全局的服务地址列表，服务提供者在启动 的时候，向ZK上的指定节点/dubbo/${serviceName}/providers目录下写入自己的URL地址，这个操作就完成了服务的发布</li><li>Mast选举，分布式锁等。</li></ol></li></ol><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><p><a href=\"https://www.cnblogs.com/xiaofei1208/p/7077733.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/xiaofei1208/p/7077733.html</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"Zookeeper的作用\"><a href=\"#Zookeeper的作用\" class=\"headerlink\" title=\"Zookeeper的作用\"></a>Zookeeper的作用</h2><p>zookeeper用来注册服务和进行负载均衡，哪一个服务由哪一个机器来提供必需让调用者知道，简单来说就是ip地址和服务名称的对应关系。</p><p>当然也可以 通过硬编码的方式把这种对应关系在调用方业务代码中实现，但是如果提供服务的机器挂掉调用者无法知晓，如果不更改代码会继续请求挂掉的机器提供服务。</p><p>zookeeper通过心跳机制可以检测挂掉的机器并将挂掉机器的ip和服务对应关系从列表中删除。至于支持高并发，简单来说就是横向扩展，在不更改代码 的情况通过添加机器来提高运算能力。</p><p>通过添加新的机器向zookeeper注册服务，服务的提供者多了能服务的客户就多了。</p><h2 id=\"dubbo\"><a href=\"#dubbo\" class=\"headerlink\" title=\"dubbo\"></a>dubbo</h2><p>是管理中间层的工具，在业务层到数据仓库间有非常多服务的接入和服务提供者需要调度，dubbo提供一个框架解决这个问题。</p><p>注意这里的dubbo只是一个框架，至于你架子上放什么是完全取决于你的，就像一个汽车骨架，你需要配你的轮子引擎。</p><p>这个框架中要完成调度必须要有一个分布式的注册中心，储存所有服务的元数据，你可以用zk，也可以用别的，只是大家都用zk。</p><h2 id=\"zookeeper和dubbo的关系\"><a href=\"#zookeeper和dubbo的关系\" class=\"headerlink\" title=\"zookeeper和dubbo的关系\"></a>zookeeper和dubbo的关系</h2><p>Dubbo的将注册中心进行抽象，是得它可以外接不同的存储媒介给注册中心提供服务，有ZooKeeper，Memcached，Redis等。</p><p>引入了ZooKeeper作为存储媒介，也就把ZooKeeper的特性引进来。</p><ol><li>负载均衡:单注册中心的承载能力是有限的，在流量达到一定程度的时 候就需要分流，负载均衡就是为了分流而存在的，一个ZooKeeper群配合相应的Web应用就可以很容易达到负载均衡；</li><li>资源同步:单单有负载均衡还不 够，节点之间的数据和资源需要同步，ZooKeeper集群就天然具备有这样的功能；<ol start=\"3\"><li>命名服务:将树状结构用于维护全局的服务地址列表，服务提供者在启动 的时候，向ZK上的指定节点/dubbo/${serviceName}/providers目录下写入自己的URL地址，这个操作就完成了服务的发布</li><li>Mast选举，分布式锁等。</li></ol></li></ol><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><p><a href=\"https://www.cnblogs.com/xiaofei1208/p/7077733.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/xiaofei1208/p/7077733.html</a></p><!-- rebuild by neat -->"},{"title":"eclipse无法链接github","date":"2017-02-08T12:56:02.000Z","_content":"浏览器什么的都能打开github.com\n就是eclipse无法提交到github，每次都是连接超时\n然后就直接修改host了，目前有效\n2017年1月14日 18:01:34\n\nhost位置：\n```\nC:\\Windows\\System32\\drivers\\etc\n```\nhost文件最后一行加上下面内容即可\n```\n192.30.253.112       github.com\n```","source":"_posts/eclipse无法链接github.md","raw":"---\ntitle: eclipse无法链接github\ndate: 2017-02-08 20:56:02\ntags: [eclipse,github]\n---\n浏览器什么的都能打开github.com\n就是eclipse无法提交到github，每次都是连接超时\n然后就直接修改host了，目前有效\n2017年1月14日 18:01:34\n\nhost位置：\n```\nC:\\Windows\\System32\\drivers\\etc\n```\nhost文件最后一行加上下面内容即可\n```\n192.30.253.112       github.com\n```","slug":"eclipse无法链接github","published":1,"updated":"2018-07-12T16:23:31.636Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsl007jolejmlf1ah48","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>浏览器什么的都能打开github.com<br>就是eclipse无法提交到github，每次都是连接超时<br>然后就直接修改host了，目前有效<br>2017年1月14日 18:01:34</p><p>host位置：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\Windows\\System32\\drivers\\etc</span><br></pre></td></tr></table></figure><p></p><p>host文件最后一行加上下面内容即可<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">192.30.253.112       github.com</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>浏览器什么的都能打开github.com<br>就是eclipse无法提交到github，每次都是连接超时<br>然后就直接修改host了，目前有效<br>2017年1月14日 18:01:34</p><p>host位置：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\Windows\\System32\\drivers\\etc</span><br></pre></td></tr></table></figure><p></p><p>host文件最后一行加上下面内容即可<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">192.30.253.112       github.com</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"github api - github api中文说明","keywords":[],"date":"2017-04-28T07:45:00.000Z","_content":"github api的网址\n```\nhttps://api.github.com/\n```\n这里介绍两个api\n```\n#获取个人信息\nhttps://api.github.com/users/{user};\n```\n\n| key | 含义 | value |\n|:-----|:-----|:-----|\n| login | 登录名称 | hisen-yuan |\n| id | 数字编号 | 16789019 |\n| avatar_url | 头像地址 | https://avatars1.githubusercontent.com/u/16789019?v=3 |\n| name | 用户昵称 | hisenyuan |\n| blog | 博客地址 | http://hisen.me |\n| location | 地理位置 | China |\n| bio | 个人说明| Java R & D |\n| public_repos | 仓库个数 | 11 |\n| created_at | 创建时间 | 2016-01-20 01:57:15Z |\n| updated_at | 最后更新 | 2017-04-20 14:03:27Z |\n```\n#获取项目信息\nhttps://api.github.com/users/{user}/repos\n```\n\n| key | 含义 | value |\n|:-----|:-----|:-----|\n| id | 项目编号 | 88646378 |\n| name | 项目名称 | dubbo |\n| html_url | 项目地址 | https://github.com/hisen-yuan/dubbo |\n| created_at | 创建时间 | 2017-04-18T16:21:57Z |\n| updated_at | 更新时间 | 2017-04-18T16:23:16Z |\n| pushed_at | 提交时间 | 2017-04-19T02:33:33Z |\n| size | 项目大小| 6514 |\n| language | 编程语言 | Java |\n\ngithub提供的所有api\n<!--more-->\n```\ncurrent_user_url: \"https://api.github.com/user\",\ncurrent_user_authorizations_html_url: \"https://github.com/settings/connections/applications{/client_id}\",\nauthorizations_url: \"https://api.github.com/authorizations\",\ncode_search_url: \"https://api.github.com/search/code?q={query}{&page,per_page,sort,order}\",\ncommit_search_url: \"https://api.github.com/search/commits?q={query}{&page,per_page,sort,order}\",\nemails_url: \"https://api.github.com/user/emails\",\nemojis_url: \"https://api.github.com/emojis\",\nevents_url: \"https://api.github.com/events\",\nfeeds_url: \"https://api.github.com/feeds\",\nfollowers_url: \"https://api.github.com/user/followers\",\nfollowing_url: \"https://api.github.com/user/following{/target}\",\ngists_url: \"https://api.github.com/gists{/gist_id}\",\nhub_url: \"https://api.github.com/hub\",\nissue_search_url: \"https://api.github.com/search/issues?q={query}{&page,per_page,sort,order}\",\nissues_url: \"https://api.github.com/issues\",\nkeys_url: \"https://api.github.com/user/keys\",\nnotifications_url: \"https://api.github.com/notifications\",\norganization_repositories_url: \"https://api.github.com/orgs/{org}/repos{?type,page,per_page,sort}\",\norganization_url: \"https://api.github.com/orgs/{org}\",\npublic_gists_url: \"https://api.github.com/gists/public\",\nrate_limit_url: \"https://api.github.com/rate_limit\",\nrepository_url: \"https://api.github.com/repos/{owner}/{repo}\",\nrepository_search_url: \"https://api.github.com/search/repositories?q={query}{&page,per_page,sort,order}\",\ncurrent_user_repositories_url: \"https://api.github.com/user/repos{?type,page,per_page,sort}\",\nstarred_url: \"https://api.github.com/user/starred{/owner}{/repo}\",\nstarred_gists_url: \"https://api.github.com/gists/starred\",\nteam_url: \"https://api.github.com/teams\",\nuser_url: \"https://api.github.com/users/{user}\",\nuser_organizations_url: \"https://api.github.com/user/orgs\",\nuser_repositories_url: \"https://api.github.com/users/{user}/repos{?type,page,per_page,sort}\",\nuser_search_url: \"https://api.github.com/search/users?q={query}{&page,per_page,sort,order}\"\n```","source":"_posts/github api - github api中文说明.md","raw":"---\ntitle: github api - github api中文说明\nkeywords: []\ndate: 2017/4/28 15:45\ntags: []\ncategories:\n---\ngithub api的网址\n```\nhttps://api.github.com/\n```\n这里介绍两个api\n```\n#获取个人信息\nhttps://api.github.com/users/{user};\n```\n\n| key | 含义 | value |\n|:-----|:-----|:-----|\n| login | 登录名称 | hisen-yuan |\n| id | 数字编号 | 16789019 |\n| avatar_url | 头像地址 | https://avatars1.githubusercontent.com/u/16789019?v=3 |\n| name | 用户昵称 | hisenyuan |\n| blog | 博客地址 | http://hisen.me |\n| location | 地理位置 | China |\n| bio | 个人说明| Java R & D |\n| public_repos | 仓库个数 | 11 |\n| created_at | 创建时间 | 2016-01-20 01:57:15Z |\n| updated_at | 最后更新 | 2017-04-20 14:03:27Z |\n```\n#获取项目信息\nhttps://api.github.com/users/{user}/repos\n```\n\n| key | 含义 | value |\n|:-----|:-----|:-----|\n| id | 项目编号 | 88646378 |\n| name | 项目名称 | dubbo |\n| html_url | 项目地址 | https://github.com/hisen-yuan/dubbo |\n| created_at | 创建时间 | 2017-04-18T16:21:57Z |\n| updated_at | 更新时间 | 2017-04-18T16:23:16Z |\n| pushed_at | 提交时间 | 2017-04-19T02:33:33Z |\n| size | 项目大小| 6514 |\n| language | 编程语言 | Java |\n\ngithub提供的所有api\n<!--more-->\n```\ncurrent_user_url: \"https://api.github.com/user\",\ncurrent_user_authorizations_html_url: \"https://github.com/settings/connections/applications{/client_id}\",\nauthorizations_url: \"https://api.github.com/authorizations\",\ncode_search_url: \"https://api.github.com/search/code?q={query}{&page,per_page,sort,order}\",\ncommit_search_url: \"https://api.github.com/search/commits?q={query}{&page,per_page,sort,order}\",\nemails_url: \"https://api.github.com/user/emails\",\nemojis_url: \"https://api.github.com/emojis\",\nevents_url: \"https://api.github.com/events\",\nfeeds_url: \"https://api.github.com/feeds\",\nfollowers_url: \"https://api.github.com/user/followers\",\nfollowing_url: \"https://api.github.com/user/following{/target}\",\ngists_url: \"https://api.github.com/gists{/gist_id}\",\nhub_url: \"https://api.github.com/hub\",\nissue_search_url: \"https://api.github.com/search/issues?q={query}{&page,per_page,sort,order}\",\nissues_url: \"https://api.github.com/issues\",\nkeys_url: \"https://api.github.com/user/keys\",\nnotifications_url: \"https://api.github.com/notifications\",\norganization_repositories_url: \"https://api.github.com/orgs/{org}/repos{?type,page,per_page,sort}\",\norganization_url: \"https://api.github.com/orgs/{org}\",\npublic_gists_url: \"https://api.github.com/gists/public\",\nrate_limit_url: \"https://api.github.com/rate_limit\",\nrepository_url: \"https://api.github.com/repos/{owner}/{repo}\",\nrepository_search_url: \"https://api.github.com/search/repositories?q={query}{&page,per_page,sort,order}\",\ncurrent_user_repositories_url: \"https://api.github.com/user/repos{?type,page,per_page,sort}\",\nstarred_url: \"https://api.github.com/user/starred{/owner}{/repo}\",\nstarred_gists_url: \"https://api.github.com/gists/starred\",\nteam_url: \"https://api.github.com/teams\",\nuser_url: \"https://api.github.com/users/{user}\",\nuser_organizations_url: \"https://api.github.com/user/orgs\",\nuser_repositories_url: \"https://api.github.com/users/{user}/repos{?type,page,per_page,sort}\",\nuser_search_url: \"https://api.github.com/search/users?q={query}{&page,per_page,sort,order}\"\n```","slug":"github api - github api中文说明","published":1,"updated":"2017-04-28T08:04:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsl007molejmuyuj14s","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>github api的网址<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://api.github.com/</span><br></pre></td></tr></table></figure><p></p><p>这里介绍两个api<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#获取个人信息</span><br><span class=\"line\">https://api.github.com/users/&#123;user&#125;;</span><br></pre></td></tr></table></figure><p></p><table><thead><tr><th style=\"text-align:left\">key</th><th style=\"text-align:left\">含义</th><th style=\"text-align:left\">value</th></tr></thead><tbody><tr><td style=\"text-align:left\">login</td><td style=\"text-align:left\">登录名称</td><td style=\"text-align:left\">hisen-yuan</td></tr><tr><td style=\"text-align:left\">id</td><td style=\"text-align:left\">数字编号</td><td style=\"text-align:left\">16789019</td></tr><tr><td style=\"text-align:left\">avatar_url</td><td style=\"text-align:left\">头像地址</td><td style=\"text-align:left\"><a href=\"https://avatars1.githubusercontent.com/u/16789019?v=3\" target=\"_blank\" rel=\"noopener\">https://avatars1.githubusercontent.com/u/16789019?v=3</a></td></tr><tr><td style=\"text-align:left\">name</td><td style=\"text-align:left\">用户昵称</td><td style=\"text-align:left\">hisenyuan</td></tr><tr><td style=\"text-align:left\">blog</td><td style=\"text-align:left\">博客地址</td><td style=\"text-align:left\"><a href=\"http://hisen.me\">http://hisen.me</a></td></tr><tr><td style=\"text-align:left\">location</td><td style=\"text-align:left\">地理位置</td><td style=\"text-align:left\">China</td></tr><tr><td style=\"text-align:left\">bio</td><td style=\"text-align:left\">个人说明</td><td style=\"text-align:left\">Java R &amp; D</td></tr><tr><td style=\"text-align:left\">public_repos</td><td style=\"text-align:left\">仓库个数</td><td style=\"text-align:left\">11</td></tr><tr><td style=\"text-align:left\">created_at</td><td style=\"text-align:left\">创建时间</td><td style=\"text-align:left\">2016-01-20 01:57:15Z</td></tr><tr><td style=\"text-align:left\">updated_at</td><td style=\"text-align:left\">最后更新</td><td style=\"text-align:left\">2017-04-20 14:03:27Z</td></tr></tbody></table><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#获取项目信息</span><br><span class=\"line\">https://api.github.com/users/&#123;user&#125;/repos</span><br></pre></td></tr></table></figure><table><thead><tr><th style=\"text-align:left\">key</th><th style=\"text-align:left\">含义</th><th style=\"text-align:left\">value</th></tr></thead><tbody><tr><td style=\"text-align:left\">id</td><td style=\"text-align:left\">项目编号</td><td style=\"text-align:left\">88646378</td></tr><tr><td style=\"text-align:left\">name</td><td style=\"text-align:left\">项目名称</td><td style=\"text-align:left\">dubbo</td></tr><tr><td style=\"text-align:left\">html_url</td><td style=\"text-align:left\">项目地址</td><td style=\"text-align:left\"><a href=\"https://github.com/hisen-yuan/dubbo\" target=\"_blank\" rel=\"noopener\">https://github.com/hisen-yuan/dubbo</a></td></tr><tr><td style=\"text-align:left\">created_at</td><td style=\"text-align:left\">创建时间</td><td style=\"text-align:left\">2017-04-18T16:21:57Z</td></tr><tr><td style=\"text-align:left\">updated_at</td><td style=\"text-align:left\">更新时间</td><td style=\"text-align:left\">2017-04-18T16:23:16Z</td></tr><tr><td style=\"text-align:left\">pushed_at</td><td style=\"text-align:left\">提交时间</td><td style=\"text-align:left\">2017-04-19T02:33:33Z</td></tr><tr><td style=\"text-align:left\">size</td><td style=\"text-align:left\">项目大小</td><td style=\"text-align:left\">6514</td></tr><tr><td style=\"text-align:left\">language</td><td style=\"text-align:left\">编程语言</td><td style=\"text-align:left\">Java</td></tr></tbody></table><p>github提供的所有api<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">current_user_url: &quot;https://api.github.com/user&quot;,</span><br><span class=\"line\">current_user_authorizations_html_url: &quot;https://github.com/settings/connections/applications&#123;/client_id&#125;&quot;,</span><br><span class=\"line\">authorizations_url: &quot;https://api.github.com/authorizations&quot;,</span><br><span class=\"line\">code_search_url: &quot;https://api.github.com/search/code?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">commit_search_url: &quot;https://api.github.com/search/commits?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">emails_url: &quot;https://api.github.com/user/emails&quot;,</span><br><span class=\"line\">emojis_url: &quot;https://api.github.com/emojis&quot;,</span><br><span class=\"line\">events_url: &quot;https://api.github.com/events&quot;,</span><br><span class=\"line\">feeds_url: &quot;https://api.github.com/feeds&quot;,</span><br><span class=\"line\">followers_url: &quot;https://api.github.com/user/followers&quot;,</span><br><span class=\"line\">following_url: &quot;https://api.github.com/user/following&#123;/target&#125;&quot;,</span><br><span class=\"line\">gists_url: &quot;https://api.github.com/gists&#123;/gist_id&#125;&quot;,</span><br><span class=\"line\">hub_url: &quot;https://api.github.com/hub&quot;,</span><br><span class=\"line\">issue_search_url: &quot;https://api.github.com/search/issues?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">issues_url: &quot;https://api.github.com/issues&quot;,</span><br><span class=\"line\">keys_url: &quot;https://api.github.com/user/keys&quot;,</span><br><span class=\"line\">notifications_url: &quot;https://api.github.com/notifications&quot;,</span><br><span class=\"line\">organization_repositories_url: &quot;https://api.github.com/orgs/&#123;org&#125;/repos&#123;?type,page,per_page,sort&#125;&quot;,</span><br><span class=\"line\">organization_url: &quot;https://api.github.com/orgs/&#123;org&#125;&quot;,</span><br><span class=\"line\">public_gists_url: &quot;https://api.github.com/gists/public&quot;,</span><br><span class=\"line\">rate_limit_url: &quot;https://api.github.com/rate_limit&quot;,</span><br><span class=\"line\">repository_url: &quot;https://api.github.com/repos/&#123;owner&#125;/&#123;repo&#125;&quot;,</span><br><span class=\"line\">repository_search_url: &quot;https://api.github.com/search/repositories?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">current_user_repositories_url: &quot;https://api.github.com/user/repos&#123;?type,page,per_page,sort&#125;&quot;,</span><br><span class=\"line\">starred_url: &quot;https://api.github.com/user/starred&#123;/owner&#125;&#123;/repo&#125;&quot;,</span><br><span class=\"line\">starred_gists_url: &quot;https://api.github.com/gists/starred&quot;,</span><br><span class=\"line\">team_url: &quot;https://api.github.com/teams&quot;,</span><br><span class=\"line\">user_url: &quot;https://api.github.com/users/&#123;user&#125;&quot;,</span><br><span class=\"line\">user_organizations_url: &quot;https://api.github.com/user/orgs&quot;,</span><br><span class=\"line\">user_repositories_url: &quot;https://api.github.com/users/&#123;user&#125;/repos&#123;?type,page,per_page,sort&#125;&quot;,</span><br><span class=\"line\">user_search_url: &quot;https://api.github.com/search/users?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>github api的网址<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://api.github.com/</span><br></pre></td></tr></table></figure><p></p><p>这里介绍两个api<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#获取个人信息</span><br><span class=\"line\">https://api.github.com/users/&#123;user&#125;;</span><br></pre></td></tr></table></figure><p></p><table><thead><tr><th style=\"text-align:left\">key</th><th style=\"text-align:left\">含义</th><th style=\"text-align:left\">value</th></tr></thead><tbody><tr><td style=\"text-align:left\">login</td><td style=\"text-align:left\">登录名称</td><td style=\"text-align:left\">hisen-yuan</td></tr><tr><td style=\"text-align:left\">id</td><td style=\"text-align:left\">数字编号</td><td style=\"text-align:left\">16789019</td></tr><tr><td style=\"text-align:left\">avatar_url</td><td style=\"text-align:left\">头像地址</td><td style=\"text-align:left\"><a href=\"https://avatars1.githubusercontent.com/u/16789019?v=3\" target=\"_blank\" rel=\"noopener\">https://avatars1.githubusercontent.com/u/16789019?v=3</a></td></tr><tr><td style=\"text-align:left\">name</td><td style=\"text-align:left\">用户昵称</td><td style=\"text-align:left\">hisenyuan</td></tr><tr><td style=\"text-align:left\">blog</td><td style=\"text-align:left\">博客地址</td><td style=\"text-align:left\"><a href=\"http://hisen.me\">http://hisen.me</a></td></tr><tr><td style=\"text-align:left\">location</td><td style=\"text-align:left\">地理位置</td><td style=\"text-align:left\">China</td></tr><tr><td style=\"text-align:left\">bio</td><td style=\"text-align:left\">个人说明</td><td style=\"text-align:left\">Java R &amp; D</td></tr><tr><td style=\"text-align:left\">public_repos</td><td style=\"text-align:left\">仓库个数</td><td style=\"text-align:left\">11</td></tr><tr><td style=\"text-align:left\">created_at</td><td style=\"text-align:left\">创建时间</td><td style=\"text-align:left\">2016-01-20 01:57:15Z</td></tr><tr><td style=\"text-align:left\">updated_at</td><td style=\"text-align:left\">最后更新</td><td style=\"text-align:left\">2017-04-20 14:03:27Z</td></tr></tbody></table><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#获取项目信息</span><br><span class=\"line\">https://api.github.com/users/&#123;user&#125;/repos</span><br></pre></td></tr></table></figure><table><thead><tr><th style=\"text-align:left\">key</th><th style=\"text-align:left\">含义</th><th style=\"text-align:left\">value</th></tr></thead><tbody><tr><td style=\"text-align:left\">id</td><td style=\"text-align:left\">项目编号</td><td style=\"text-align:left\">88646378</td></tr><tr><td style=\"text-align:left\">name</td><td style=\"text-align:left\">项目名称</td><td style=\"text-align:left\">dubbo</td></tr><tr><td style=\"text-align:left\">html_url</td><td style=\"text-align:left\">项目地址</td><td style=\"text-align:left\"><a href=\"https://github.com/hisen-yuan/dubbo\" target=\"_blank\" rel=\"noopener\">https://github.com/hisen-yuan/dubbo</a></td></tr><tr><td style=\"text-align:left\">created_at</td><td style=\"text-align:left\">创建时间</td><td style=\"text-align:left\">2017-04-18T16:21:57Z</td></tr><tr><td style=\"text-align:left\">updated_at</td><td style=\"text-align:left\">更新时间</td><td style=\"text-align:left\">2017-04-18T16:23:16Z</td></tr><tr><td style=\"text-align:left\">pushed_at</td><td style=\"text-align:left\">提交时间</td><td style=\"text-align:left\">2017-04-19T02:33:33Z</td></tr><tr><td style=\"text-align:left\">size</td><td style=\"text-align:left\">项目大小</td><td style=\"text-align:left\">6514</td></tr><tr><td style=\"text-align:left\">language</td><td style=\"text-align:left\">编程语言</td><td style=\"text-align:left\">Java</td></tr></tbody></table><p>github提供的所有api<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">current_user_url: &quot;https://api.github.com/user&quot;,</span><br><span class=\"line\">current_user_authorizations_html_url: &quot;https://github.com/settings/connections/applications&#123;/client_id&#125;&quot;,</span><br><span class=\"line\">authorizations_url: &quot;https://api.github.com/authorizations&quot;,</span><br><span class=\"line\">code_search_url: &quot;https://api.github.com/search/code?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">commit_search_url: &quot;https://api.github.com/search/commits?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">emails_url: &quot;https://api.github.com/user/emails&quot;,</span><br><span class=\"line\">emojis_url: &quot;https://api.github.com/emojis&quot;,</span><br><span class=\"line\">events_url: &quot;https://api.github.com/events&quot;,</span><br><span class=\"line\">feeds_url: &quot;https://api.github.com/feeds&quot;,</span><br><span class=\"line\">followers_url: &quot;https://api.github.com/user/followers&quot;,</span><br><span class=\"line\">following_url: &quot;https://api.github.com/user/following&#123;/target&#125;&quot;,</span><br><span class=\"line\">gists_url: &quot;https://api.github.com/gists&#123;/gist_id&#125;&quot;,</span><br><span class=\"line\">hub_url: &quot;https://api.github.com/hub&quot;,</span><br><span class=\"line\">issue_search_url: &quot;https://api.github.com/search/issues?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">issues_url: &quot;https://api.github.com/issues&quot;,</span><br><span class=\"line\">keys_url: &quot;https://api.github.com/user/keys&quot;,</span><br><span class=\"line\">notifications_url: &quot;https://api.github.com/notifications&quot;,</span><br><span class=\"line\">organization_repositories_url: &quot;https://api.github.com/orgs/&#123;org&#125;/repos&#123;?type,page,per_page,sort&#125;&quot;,</span><br><span class=\"line\">organization_url: &quot;https://api.github.com/orgs/&#123;org&#125;&quot;,</span><br><span class=\"line\">public_gists_url: &quot;https://api.github.com/gists/public&quot;,</span><br><span class=\"line\">rate_limit_url: &quot;https://api.github.com/rate_limit&quot;,</span><br><span class=\"line\">repository_url: &quot;https://api.github.com/repos/&#123;owner&#125;/&#123;repo&#125;&quot;,</span><br><span class=\"line\">repository_search_url: &quot;https://api.github.com/search/repositories?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;,</span><br><span class=\"line\">current_user_repositories_url: &quot;https://api.github.com/user/repos&#123;?type,page,per_page,sort&#125;&quot;,</span><br><span class=\"line\">starred_url: &quot;https://api.github.com/user/starred&#123;/owner&#125;&#123;/repo&#125;&quot;,</span><br><span class=\"line\">starred_gists_url: &quot;https://api.github.com/gists/starred&quot;,</span><br><span class=\"line\">team_url: &quot;https://api.github.com/teams&quot;,</span><br><span class=\"line\">user_url: &quot;https://api.github.com/users/&#123;user&#125;&quot;,</span><br><span class=\"line\">user_organizations_url: &quot;https://api.github.com/user/orgs&quot;,</span><br><span class=\"line\">user_repositories_url: &quot;https://api.github.com/users/&#123;user&#125;/repos&#123;?type,page,per_page,sort&#125;&quot;,</span><br><span class=\"line\">user_search_url: &quot;https://api.github.com/search/users?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;&quot;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"hexo安装过程","date":"2017-01-19T16:23:06.000Z","_content":"\n## 准备工作 ##\n1. Node.js：<a href=\"https://nodejs.org/en/\" target=\"_blank\">点击下载</a>\n2. git：<a href=\"https://git-for-windows.github.io/\" target=\"_blank\">点击下载</a>\n3. MarkdownPad：<a href=\"http://markdownpad.com/\" target=\"_blank\">点击下载</a>\n\n安装好上面三个工具\n可能会遇到的问题：\n\n**1、**Git Bash执行`node -v`提示无效 或者 `npm install` 报 command not found\n\n解决办法：在环境变量 - 用户变量中 - 新建用户变量 - 添加nodejs安装路径\n\n如：C:\\tool\\nodejs\n\n**2、**ERROR Deployer not found : github\n\n解决办法：\n\n1. 配置文件有问题，冒号后面都有一个空格的\n1. 执行：npm install hexo-deployer-git --save （这命令是为了解决hexo新版本的部署问题）\n\n**3**使用淘宝镜像加快安装速度\n安装cnpm，使用命令：\n```\nnpm install cnpm -g --registry=https://registry.npm.taobao.org\n```\n\n## 安装过程 ##\n1. 打开Git Bash\n2. 进入nodejs安装目录\n3. 开始安装hexo，输入下面代码\n4. `npm install -g hexo`#等待安装完成，这个过程可能会快也可能很慢，耐心等待\n6. `mkdir blog && cd blog` #上面这个代码是创建一个博客存放的目录\n8. `hexo init`#初始化\n9. `cnpm install` #安装依赖包\n10. 完成之后，本地博客就搭建完成\n11. `hexo g` #生成静态页面\n12. `hexo s` #启动服务器，打开http://localhost:4000 就是本地博客\n\n本地博客安装完成，下面介绍发布到github上\n1. 登陆github，没有就注册\n2. 点击右上角加号+\n3. Create a new repository\n4. 名字写：`yourgithubname.github.io`\n5. 创建完成\n6. 点击`Setting`\n7. 选择一个主题，然后就好了\n8. 编辑blog文件夹里面的`_config.yml`配置文件\n9. 最后面添加\n```\ndeploy: \n  type: git\n  repository: http://github.com/yourname/yourname.github.io.git\n  branch: master\n```\n\n最后执行\n\n1. `hexo g`#重新生成静态博客\n2. `hexo d`#将本地静态博客部署到github\n\n现在你在浏览器打开：http://yourname.github.io就可以访问你的博客了\n到此为止就搭建完了一个博客\n\n开始写第一篇文章：\n执行：hexo new \"你的文章标题\"\n然后你在`blog/source/_posts`文件夹下面有文件，用markdownpad打开编辑\n执行：\n1. `hexo g`#重新生成\n2. `hexo s`#本地查看效果\n3. `hexo d`#上传到github\n4. 或者不预览，直接一步上传到github：`hexo d -g`","source":"_posts/hexo安装过程.md","raw":"---\ntitle: hexo安装过程\ndate: 2017-01-20 00:23:06\ntags: [hexo,安装,github]\n---\n\n## 准备工作 ##\n1. Node.js：<a href=\"https://nodejs.org/en/\" target=\"_blank\">点击下载</a>\n2. git：<a href=\"https://git-for-windows.github.io/\" target=\"_blank\">点击下载</a>\n3. MarkdownPad：<a href=\"http://markdownpad.com/\" target=\"_blank\">点击下载</a>\n\n安装好上面三个工具\n可能会遇到的问题：\n\n**1、**Git Bash执行`node -v`提示无效 或者 `npm install` 报 command not found\n\n解决办法：在环境变量 - 用户变量中 - 新建用户变量 - 添加nodejs安装路径\n\n如：C:\\tool\\nodejs\n\n**2、**ERROR Deployer not found : github\n\n解决办法：\n\n1. 配置文件有问题，冒号后面都有一个空格的\n1. 执行：npm install hexo-deployer-git --save （这命令是为了解决hexo新版本的部署问题）\n\n**3**使用淘宝镜像加快安装速度\n安装cnpm，使用命令：\n```\nnpm install cnpm -g --registry=https://registry.npm.taobao.org\n```\n\n## 安装过程 ##\n1. 打开Git Bash\n2. 进入nodejs安装目录\n3. 开始安装hexo，输入下面代码\n4. `npm install -g hexo`#等待安装完成，这个过程可能会快也可能很慢，耐心等待\n6. `mkdir blog && cd blog` #上面这个代码是创建一个博客存放的目录\n8. `hexo init`#初始化\n9. `cnpm install` #安装依赖包\n10. 完成之后，本地博客就搭建完成\n11. `hexo g` #生成静态页面\n12. `hexo s` #启动服务器，打开http://localhost:4000 就是本地博客\n\n本地博客安装完成，下面介绍发布到github上\n1. 登陆github，没有就注册\n2. 点击右上角加号+\n3. Create a new repository\n4. 名字写：`yourgithubname.github.io`\n5. 创建完成\n6. 点击`Setting`\n7. 选择一个主题，然后就好了\n8. 编辑blog文件夹里面的`_config.yml`配置文件\n9. 最后面添加\n```\ndeploy: \n  type: git\n  repository: http://github.com/yourname/yourname.github.io.git\n  branch: master\n```\n\n最后执行\n\n1. `hexo g`#重新生成静态博客\n2. `hexo d`#将本地静态博客部署到github\n\n现在你在浏览器打开：http://yourname.github.io就可以访问你的博客了\n到此为止就搭建完了一个博客\n\n开始写第一篇文章：\n执行：hexo new \"你的文章标题\"\n然后你在`blog/source/_posts`文件夹下面有文件，用markdownpad打开编辑\n执行：\n1. `hexo g`#重新生成\n2. `hexo s`#本地查看效果\n3. `hexo d`#上传到github\n4. 或者不预览，直接一步上传到github：`hexo d -g`","slug":"hexo安装过程","published":1,"updated":"2017-01-19T17:41:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsm007qolejc2hwigp9","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><ol><li>Node.js：<a href=\"https://nodejs.org/en/\" target=\"_blank\">点击下载</a></li><li>git：<a href=\"https://git-for-windows.github.io/\" target=\"_blank\">点击下载</a></li><li>MarkdownPad：<a href=\"http://markdownpad.com/\" target=\"_blank\">点击下载</a></li></ol><p>安装好上面三个工具<br>可能会遇到的问题：</p><p><strong>1、</strong>Git Bash执行<code>node -v</code>提示无效 或者 <code>npm install</code> 报 command not found</p><p>解决办法：在环境变量 - 用户变量中 - 新建用户变量 - 添加nodejs安装路径</p><p>如：C:\\tool\\nodejs</p><p><strong>2、</strong>ERROR Deployer not found : github</p><p>解决办法：</p><ol><li>配置文件有问题，冒号后面都有一个空格的</li><li>执行：npm install hexo-deployer-git –save （这命令是为了解决hexo新版本的部署问题）</li></ol><p><strong>3</strong>使用淘宝镜像加快安装速度<br>安装cnpm，使用命令：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p></p><h2 id=\"安装过程\"><a href=\"#安装过程\" class=\"headerlink\" title=\"安装过程\"></a>安装过程</h2><ol><li>打开Git Bash</li><li>进入nodejs安装目录</li><li>开始安装hexo，输入下面代码</li><li><code>npm install -g hexo</code>#等待安装完成，这个过程可能会快也可能很慢，耐心等待</li><li><code>mkdir blog &amp;&amp; cd blog</code> #上面这个代码是创建一个博客存放的目录</li><li><code>hexo init</code>#初始化</li><li><code>cnpm install</code> #安装依赖包</li><li>完成之后，本地博客就搭建完成</li><li><code>hexo g</code> #生成静态页面</li><li><code>hexo s</code> #启动服务器，打开<a href=\"http://localhost:4000\" target=\"_blank\" rel=\"noopener\">http://localhost:4000</a> 就是本地博客</li></ol><p>本地博客安装完成，下面介绍发布到github上</p><ol><li>登陆github，没有就注册</li><li>点击右上角加号+</li><li>Create a new repository</li><li>名字写：<code>yourgithubname.github.io</code></li><li>创建完成</li><li>点击<code>Setting</code></li><li>选择一个主题，然后就好了</li><li>编辑blog文件夹里面的<code>_config.yml</code>配置文件</li><li>最后面添加<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy: </span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  repository: http://github.com/yourname/yourname.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure></li></ol><p>最后执行</p><ol><li><code>hexo g</code>#重新生成静态博客</li><li><code>hexo d</code>#将本地静态博客部署到github</li></ol><p>现在你在浏览器打开：<a href=\"http://yourname.github.io就可以访问你的博客了\" target=\"_blank\" rel=\"noopener\">http://yourname.github.io就可以访问你的博客了</a><br>到此为止就搭建完了一个博客</p><p>开始写第一篇文章：<br>执行：hexo new “你的文章标题”<br>然后你在<code>blog/source/_posts</code>文件夹下面有文件，用markdownpad打开编辑<br>执行：</p><ol><li><code>hexo g</code>#重新生成</li><li><code>hexo s</code>#本地查看效果</li><li><code>hexo d</code>#上传到github</li><li>或者不预览，直接一步上传到github：<code>hexo d -g</code></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><ol><li>Node.js：<a href=\"https://nodejs.org/en/\" target=\"_blank\">点击下载</a></li><li>git：<a href=\"https://git-for-windows.github.io/\" target=\"_blank\">点击下载</a></li><li>MarkdownPad：<a href=\"http://markdownpad.com/\" target=\"_blank\">点击下载</a></li></ol><p>安装好上面三个工具<br>可能会遇到的问题：</p><p><strong>1、</strong>Git Bash执行<code>node -v</code>提示无效 或者 <code>npm install</code> 报 command not found</p><p>解决办法：在环境变量 - 用户变量中 - 新建用户变量 - 添加nodejs安装路径</p><p>如：C:\\tool\\nodejs</p><p><strong>2、</strong>ERROR Deployer not found : github</p><p>解决办法：</p><ol><li>配置文件有问题，冒号后面都有一个空格的</li><li>执行：npm install hexo-deployer-git –save （这命令是为了解决hexo新版本的部署问题）</li></ol><p><strong>3</strong>使用淘宝镜像加快安装速度<br>安装cnpm，使用命令：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p></p><h2 id=\"安装过程\"><a href=\"#安装过程\" class=\"headerlink\" title=\"安装过程\"></a>安装过程</h2><ol><li>打开Git Bash</li><li>进入nodejs安装目录</li><li>开始安装hexo，输入下面代码</li><li><code>npm install -g hexo</code>#等待安装完成，这个过程可能会快也可能很慢，耐心等待</li><li><code>mkdir blog &amp;&amp; cd blog</code> #上面这个代码是创建一个博客存放的目录</li><li><code>hexo init</code>#初始化</li><li><code>cnpm install</code> #安装依赖包</li><li>完成之后，本地博客就搭建完成</li><li><code>hexo g</code> #生成静态页面</li><li><code>hexo s</code> #启动服务器，打开<a href=\"http://localhost:4000\" target=\"_blank\" rel=\"noopener\">http://localhost:4000</a> 就是本地博客</li></ol><p>本地博客安装完成，下面介绍发布到github上</p><ol><li>登陆github，没有就注册</li><li>点击右上角加号+</li><li>Create a new repository</li><li>名字写：<code>yourgithubname.github.io</code></li><li>创建完成</li><li>点击<code>Setting</code></li><li>选择一个主题，然后就好了</li><li>编辑blog文件夹里面的<code>_config.yml</code>配置文件</li><li>最后面添加<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy: </span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  repository: http://github.com/yourname/yourname.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure></li></ol><p>最后执行</p><ol><li><code>hexo g</code>#重新生成静态博客</li><li><code>hexo d</code>#将本地静态博客部署到github</li></ol><p>现在你在浏览器打开：<a href=\"http://yourname.github.io就可以访问你的博客了\" target=\"_blank\" rel=\"noopener\">http://yourname.github.io就可以访问你的博客了</a><br>到此为止就搭建完了一个博客</p><p>开始写第一篇文章：<br>执行：hexo new “你的文章标题”<br>然后你在<code>blog/source/_posts</code>文件夹下面有文件，用markdownpad打开编辑<br>执行：</p><ol><li><code>hexo g</code>#重新生成</li><li><code>hexo s</code>#本地查看效果</li><li><code>hexo d</code>#上传到github</li><li>或者不预览，直接一步上传到github：<code>hexo d -g</code></li></ol><!-- rebuild by neat -->"},{"title":"hexo新建文章时候默认带上categories，tags","date":"2017-02-09T13:42:36.000Z","_content":"在博客的 **scaffolds** 文件夹里有个**post.md** 添加上需要的配置就行\n\n这里是创建post的模板。\n\n我的默认设置成这样：\n```\n---\ntitle: {{ title }}\ndate: {{ date }}\ntags: []\ncategories:\n---\n```\ntags: [关键词1,关键词2]","source":"_posts/hexo新建文章时候默认带上categories，tags.md","raw":"---\ntitle: hexo新建文章时候默认带上categories，tags\ndate: 2017-02-09 21:42:36\ntags: [hexo,hexo优化]\ncategories: hexo\n---\n在博客的 **scaffolds** 文件夹里有个**post.md** 添加上需要的配置就行\n\n这里是创建post的模板。\n\n我的默认设置成这样：\n```\n---\ntitle: {{ title }}\ndate: {{ date }}\ntags: []\ncategories:\n---\n```\ntags: [关键词1,关键词2]","slug":"hexo新建文章时候默认带上categories，tags","published":1,"updated":"2017-02-17T08:22:56.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsn007tolej5y8jjrac","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在博客的 <strong>scaffolds</strong> 文件夹里有个<strong>post.md</strong> 添加上需要的配置就行</p><p>这里是创建post的模板。</p><p>我的默认设置成这样：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: &#123;&#123; title &#125;&#125;</span><br><span class=\"line\">date: &#123;&#123; date &#125;&#125;</span><br><span class=\"line\">tags: []</span><br><span class=\"line\">categories:</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure><p></p><p>tags: [关键词1,关键词2]</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在博客的 <strong>scaffolds</strong> 文件夹里有个<strong>post.md</strong> 添加上需要的配置就行</p><p>这里是创建post的模板。</p><p>我的默认设置成这样：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: &#123;&#123; title &#125;&#125;</span><br><span class=\"line\">date: &#123;&#123; date &#125;&#125;</span><br><span class=\"line\">tags: []</span><br><span class=\"line\">categories:</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure><p></p><p>tags: [关键词1,关键词2]</p><!-- rebuild by neat -->"},{"title":"hexo百度抓取失败解决办法","keywords":["hexo"],"date":"2017-02-16T02:12:05.000Z","_content":"\n上一篇帖子说明了一下百度抓取不到的原因是因为github把百度爬虫给屏蔽了\n\n这里给出的解决办法是用hexo自动提交插件\n\n需要获取一个自动提交的token\n\n1. 注册百度站长工具：http://zhanzhang.baidu.com\n2. 添加你的hexo域名\n3. 找到网页抓取 - 链接提交 - 下拉选择你的hexo站点\n4. 数据提交方式 - 自动提交 - 主动推送(实时)\n5. 推送接口\n6. 接口调用地址： http://data.zz.baidu.com/urls?site=hisen.me&token=XmxXyESxyz1hANxE\n7. 复制上面token=后面的内容，那就是你的token\n\n安装自动提交插件：\n<!--more-->\n1. npm install hexo-baidu-url-submit --save\n2. 编辑站点配置文件_config.yml，添加一下内容\n```\nbaidu_url_submit:\n  count: 1 ## 提交最新的一个链接\n  host: www.hui-wang.info ## 在百度站长平台中注册的域名\n  token: your_token ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!\n  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里\n```\n加入新的deployer: 原来type前面是没有 - 的\n\n但是不这样处理执行hexo g 会报错\n```\ndeploy: \n- type: git\n  repository: yoururl\n  branch: master\n- type: baidu_url_submitter\n```\n生成效果如下：\n```\n$ hexo g\nINFO  Start processing\nINFO  Generating Baidu urls for last 1 posts\nINFO  Posts urls generated in baidu_urls.txt\nhttp://hisen.me/20170216-hexo百度抓取失败解决办法/\nINFO  Files loaded in 1.31 s\n\n$ hexo d\nINFO  Deploy done: git\nINFO  Deploying: baidu_url_submitter\nINFO  Submitting urls\nhttp://hisen.me/20170216-hexo百度抓取失败解决办法/\n{\"remain\":1,\"success\":1}\nINFO  Deploy done: baidu_url_submitter\n```\n\n感谢插件作者：<a href=\"http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/\" target=\"_blank\">王辉的博客</a>","source":"_posts/hexo百度抓取失败解决办法.md","raw":"---\ntitle: hexo百度抓取失败解决办法\nkeywords: [hexo]\ntags: [hexo,hexo优化]\ndate: 2017-02-16 10:12:05\ncategories: 软件\n---\n\n上一篇帖子说明了一下百度抓取不到的原因是因为github把百度爬虫给屏蔽了\n\n这里给出的解决办法是用hexo自动提交插件\n\n需要获取一个自动提交的token\n\n1. 注册百度站长工具：http://zhanzhang.baidu.com\n2. 添加你的hexo域名\n3. 找到网页抓取 - 链接提交 - 下拉选择你的hexo站点\n4. 数据提交方式 - 自动提交 - 主动推送(实时)\n5. 推送接口\n6. 接口调用地址： http://data.zz.baidu.com/urls?site=hisen.me&token=XmxXyESxyz1hANxE\n7. 复制上面token=后面的内容，那就是你的token\n\n安装自动提交插件：\n<!--more-->\n1. npm install hexo-baidu-url-submit --save\n2. 编辑站点配置文件_config.yml，添加一下内容\n```\nbaidu_url_submit:\n  count: 1 ## 提交最新的一个链接\n  host: www.hui-wang.info ## 在百度站长平台中注册的域名\n  token: your_token ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!\n  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里\n```\n加入新的deployer: 原来type前面是没有 - 的\n\n但是不这样处理执行hexo g 会报错\n```\ndeploy: \n- type: git\n  repository: yoururl\n  branch: master\n- type: baidu_url_submitter\n```\n生成效果如下：\n```\n$ hexo g\nINFO  Start processing\nINFO  Generating Baidu urls for last 1 posts\nINFO  Posts urls generated in baidu_urls.txt\nhttp://hisen.me/20170216-hexo百度抓取失败解决办法/\nINFO  Files loaded in 1.31 s\n\n$ hexo d\nINFO  Deploy done: git\nINFO  Deploying: baidu_url_submitter\nINFO  Submitting urls\nhttp://hisen.me/20170216-hexo百度抓取失败解决办法/\n{\"remain\":1,\"success\":1}\nINFO  Deploy done: baidu_url_submitter\n```\n\n感谢插件作者：<a href=\"http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/\" target=\"_blank\">王辉的博客</a>","slug":"hexo百度抓取失败解决办法","published":1,"updated":"2017-02-16T02:42:32.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdso007wolejhi17i0w8","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>上一篇帖子说明了一下百度抓取不到的原因是因为github把百度爬虫给屏蔽了</p><p>这里给出的解决办法是用hexo自动提交插件</p><p>需要获取一个自动提交的token</p><ol><li>注册百度站长工具：<a href=\"http://zhanzhang.baidu.com\" target=\"_blank\" rel=\"noopener\">http://zhanzhang.baidu.com</a></li><li>添加你的hexo域名</li><li>找到网页抓取 - 链接提交 - 下拉选择你的hexo站点</li><li>数据提交方式 - 自动提交 - 主动推送(实时)</li><li>推送接口</li><li>接口调用地址： <a href=\"http://data.zz.baidu.com/urls?site=hisen.me&amp;token=XmxXyESxyz1hANxE\" target=\"_blank\" rel=\"noopener\">http://data.zz.baidu.com/urls?site=hisen.me&amp;token=XmxXyESxyz1hANxE</a></li><li>复制上面token=后面的内容，那就是你的token</li></ol><p>安装自动提交插件：<br><a id=\"more\"></a></p><ol><li>npm install hexo-baidu-url-submit –save</li><li>编辑站点配置文件_config.yml，添加一下内容<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">baidu_url_submit:</span><br><span class=\"line\">  count: 1 ## 提交最新的一个链接</span><br><span class=\"line\">  host: www.hui-wang.info ## 在百度站长平台中注册的域名</span><br><span class=\"line\">  token: your_token ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span><br><span class=\"line\">  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里</span><br></pre></td></tr></table></figure></li></ol><p>加入新的deployer: 原来type前面是没有 - 的</p><p>但是不这样处理执行hexo g 会报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy: </span><br><span class=\"line\">- type: git</span><br><span class=\"line\">  repository: yoururl</span><br><span class=\"line\">  branch: master</span><br><span class=\"line\">- type: baidu_url_submitter</span><br></pre></td></tr></table></figure><p></p><p>生成效果如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo g</span><br><span class=\"line\">INFO  Start processing</span><br><span class=\"line\">INFO  Generating Baidu urls for last 1 posts</span><br><span class=\"line\">INFO  Posts urls generated in baidu_urls.txt</span><br><span class=\"line\">http://hisen.me/20170216-hexo百度抓取失败解决办法/</span><br><span class=\"line\">INFO  Files loaded in 1.31 s</span><br><span class=\"line\"></span><br><span class=\"line\">$ hexo d</span><br><span class=\"line\">INFO  Deploy done: git</span><br><span class=\"line\">INFO  Deploying: baidu_url_submitter</span><br><span class=\"line\">INFO  Submitting urls</span><br><span class=\"line\">http://hisen.me/20170216-hexo百度抓取失败解决办法/</span><br><span class=\"line\">&#123;&quot;remain&quot;:1,&quot;success&quot;:1&#125;</span><br><span class=\"line\">INFO  Deploy done: baidu_url_submitter</span><br></pre></td></tr></table></figure><p></p><p>感谢插件作者：<a href=\"http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/\" target=\"_blank\">王辉的博客</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>上一篇帖子说明了一下百度抓取不到的原因是因为github把百度爬虫给屏蔽了</p><p>这里给出的解决办法是用hexo自动提交插件</p><p>需要获取一个自动提交的token</p><ol><li>注册百度站长工具：<a href=\"http://zhanzhang.baidu.com\" target=\"_blank\" rel=\"noopener\">http://zhanzhang.baidu.com</a></li><li>添加你的hexo域名</li><li>找到网页抓取 - 链接提交 - 下拉选择你的hexo站点</li><li>数据提交方式 - 自动提交 - 主动推送(实时)</li><li>推送接口</li><li>接口调用地址： <a href=\"http://data.zz.baidu.com/urls?site=hisen.me&amp;token=XmxXyESxyz1hANxE\" target=\"_blank\" rel=\"noopener\">http://data.zz.baidu.com/urls?site=hisen.me&amp;token=XmxXyESxyz1hANxE</a></li><li>复制上面token=后面的内容，那就是你的token</li></ol><p>安装自动提交插件：<br>","more":"</p><ol><li>npm install hexo-baidu-url-submit –save</li><li>编辑站点配置文件_config.yml，添加一下内容<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">baidu_url_submit:</span><br><span class=\"line\">  count: 1 ## 提交最新的一个链接</span><br><span class=\"line\">  host: www.hui-wang.info ## 在百度站长平台中注册的域名</span><br><span class=\"line\">  token: your_token ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span><br><span class=\"line\">  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里</span><br></pre></td></tr></table></figure></li></ol><p>加入新的deployer: 原来type前面是没有 - 的</p><p>但是不这样处理执行hexo g 会报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy: </span><br><span class=\"line\">- type: git</span><br><span class=\"line\">  repository: yoururl</span><br><span class=\"line\">  branch: master</span><br><span class=\"line\">- type: baidu_url_submitter</span><br></pre></td></tr></table></figure><p></p><p>生成效果如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo g</span><br><span class=\"line\">INFO  Start processing</span><br><span class=\"line\">INFO  Generating Baidu urls for last 1 posts</span><br><span class=\"line\">INFO  Posts urls generated in baidu_urls.txt</span><br><span class=\"line\">http://hisen.me/20170216-hexo百度抓取失败解决办法/</span><br><span class=\"line\">INFO  Files loaded in 1.31 s</span><br><span class=\"line\"></span><br><span class=\"line\">$ hexo d</span><br><span class=\"line\">INFO  Deploy done: git</span><br><span class=\"line\">INFO  Deploying: baidu_url_submitter</span><br><span class=\"line\">INFO  Submitting urls</span><br><span class=\"line\">http://hisen.me/20170216-hexo百度抓取失败解决办法/</span><br><span class=\"line\">&#123;&quot;remain&quot;:1,&quot;success&quot;:1&#125;</span><br><span class=\"line\">INFO  Deploy done: baidu_url_submitter</span><br></pre></td></tr></table></figure><p></p><p>感谢插件作者：<a href=\"http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/\" target=\"_blank\">王辉的博客</a></p><!-- rebuild by neat -->"},{"title":"html - 原生javascript动态显示当前时间和日期","keywords":["html动态显示时间","js动态显示时间"],"date":"2017-04-12T10:22:00.000Z","_content":"显示当前时间：\n\n2017年04月12日 18:26:37 星期三\n\n示例如下：\n<!--more-->\n```\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>显示当前时间 - 原生javascript</title>\n<script type=\"text/javascript\" language=\"javascript\">    \nfunction show_cur_times(){    \n//获取当前日期    \nvar date_time = new Date();    \n//定义星期    \nvar week;    \n//switch判断    \nswitch (date_time.getDay()){    \ncase 1: week=\"星期一\"; break;    \ncase 2: week=\"星期二\"; break;    \ncase 3: week=\"星期三\"; break;    \ncase 4: week=\"星期四\"; break;    \ncase 5: week=\"星期五\"; break;    \ncase 6: week=\"星期六\"; break;    \ndefault:week=\"星期天\"; break;    \n}    \n//年    \nvar year = date_time.getFullYear();    \n \t//判断小于10，前面补0    \nif(year<10){    \n \tyear=\"0\"+year;    \n}    \n//月    \nvar month = date_time.getMonth()+1;    \n \t//判断小于10，前面补0    \nif(month<10){    \nmonth=\"0\"+month;    \n}    \n//日    \nvar day = date_time.getDate();    \n \t//判断小于10，前面补0    \nif(day<10){    \n \tday=\"0\"+day;    \n}    \n//时    \nvar hours =date_time.getHours();    \n \t//判断小于10，前面补0    \nif(hours<10){    \n \thours=\"0\"+hours;    \n}    \n//分    \nvar minutes =date_time.getMinutes();    \n \t//判断小于10，前面补0    \nif(minutes<10){    \n \tminutes=\"0\"+minutes;    \n}    \n//秒    \nvar seconds=date_time.getSeconds();    \n \t//判断小于10，前面补0    \nif(seconds<10){    \n \tseconds=\"0\"+seconds;    \n}    \n//拼接年月日时分秒    \nvar date_str = year+\"年\"+month+\"月\"+day+\"日 \"+hours+\":\"+minutes+\":\"+seconds+\" \"+week;    \n//显示在id为showtimes的容器里    \ndocument.getElementById(\"showtimes\").innerHTML= date_str;    \n}    \n//设置1秒调用一次show_cur_times函数    \nsetInterval(\"show_cur_times()\",100);    \n</script>\n</head>\n<body>\n显示当前时间：<p id=\"showtimes\"></p>\n</body>\n</html>\n```","source":"_posts/html - 原生javascript动态显示当前时间和日期.md","raw":"---\ntitle: html - 原生javascript动态显示当前时间和日期\nkeywords: [html动态显示时间,js动态显示时间]\ndate: 2017/4/12 18:22\ntags: []\ncategories:\n---\n显示当前时间：\n\n2017年04月12日 18:26:37 星期三\n\n示例如下：\n<!--more-->\n```\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>显示当前时间 - 原生javascript</title>\n<script type=\"text/javascript\" language=\"javascript\">    \nfunction show_cur_times(){    \n//获取当前日期    \nvar date_time = new Date();    \n//定义星期    \nvar week;    \n//switch判断    \nswitch (date_time.getDay()){    \ncase 1: week=\"星期一\"; break;    \ncase 2: week=\"星期二\"; break;    \ncase 3: week=\"星期三\"; break;    \ncase 4: week=\"星期四\"; break;    \ncase 5: week=\"星期五\"; break;    \ncase 6: week=\"星期六\"; break;    \ndefault:week=\"星期天\"; break;    \n}    \n//年    \nvar year = date_time.getFullYear();    \n \t//判断小于10，前面补0    \nif(year<10){    \n \tyear=\"0\"+year;    \n}    \n//月    \nvar month = date_time.getMonth()+1;    \n \t//判断小于10，前面补0    \nif(month<10){    \nmonth=\"0\"+month;    \n}    \n//日    \nvar day = date_time.getDate();    \n \t//判断小于10，前面补0    \nif(day<10){    \n \tday=\"0\"+day;    \n}    \n//时    \nvar hours =date_time.getHours();    \n \t//判断小于10，前面补0    \nif(hours<10){    \n \thours=\"0\"+hours;    \n}    \n//分    \nvar minutes =date_time.getMinutes();    \n \t//判断小于10，前面补0    \nif(minutes<10){    \n \tminutes=\"0\"+minutes;    \n}    \n//秒    \nvar seconds=date_time.getSeconds();    \n \t//判断小于10，前面补0    \nif(seconds<10){    \n \tseconds=\"0\"+seconds;    \n}    \n//拼接年月日时分秒    \nvar date_str = year+\"年\"+month+\"月\"+day+\"日 \"+hours+\":\"+minutes+\":\"+seconds+\" \"+week;    \n//显示在id为showtimes的容器里    \ndocument.getElementById(\"showtimes\").innerHTML= date_str;    \n}    \n//设置1秒调用一次show_cur_times函数    \nsetInterval(\"show_cur_times()\",100);    \n</script>\n</head>\n<body>\n显示当前时间：<p id=\"showtimes\"></p>\n</body>\n</html>\n```","slug":"html - 原生javascript动态显示当前时间和日期","published":1,"updated":"2017-04-12T10:26:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsp007yolejw6c96n8c","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>显示当前时间：</p><p>2017年04月12日 18:26:37 星期三</p><p>示例如下：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class=\"line\">&lt;title&gt;显示当前时间 - 原生javascript&lt;/title&gt;</span><br><span class=\"line\">&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;    </span><br><span class=\"line\">function show_cur_times()&#123;    </span><br><span class=\"line\">//获取当前日期    </span><br><span class=\"line\">var date_time = new Date();    </span><br><span class=\"line\">//定义星期    </span><br><span class=\"line\">var week;    </span><br><span class=\"line\">//switch判断    </span><br><span class=\"line\">switch (date_time.getDay())&#123;    </span><br><span class=\"line\">case 1: week=&quot;星期一&quot;; break;    </span><br><span class=\"line\">case 2: week=&quot;星期二&quot;; break;    </span><br><span class=\"line\">case 3: week=&quot;星期三&quot;; break;    </span><br><span class=\"line\">case 4: week=&quot;星期四&quot;; break;    </span><br><span class=\"line\">case 5: week=&quot;星期五&quot;; break;    </span><br><span class=\"line\">case 6: week=&quot;星期六&quot;; break;    </span><br><span class=\"line\">default:week=&quot;星期天&quot;; break;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//年    </span><br><span class=\"line\">var year = date_time.getFullYear();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(year&lt;10)&#123;    </span><br><span class=\"line\"> \tyear=&quot;0&quot;+year;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//月    </span><br><span class=\"line\">var month = date_time.getMonth()+1;    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(month&lt;10)&#123;    </span><br><span class=\"line\">month=&quot;0&quot;+month;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//日    </span><br><span class=\"line\">var day = date_time.getDate();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(day&lt;10)&#123;    </span><br><span class=\"line\"> \tday=&quot;0&quot;+day;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//时    </span><br><span class=\"line\">var hours =date_time.getHours();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(hours&lt;10)&#123;    </span><br><span class=\"line\"> \thours=&quot;0&quot;+hours;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//分    </span><br><span class=\"line\">var minutes =date_time.getMinutes();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(minutes&lt;10)&#123;    </span><br><span class=\"line\"> \tminutes=&quot;0&quot;+minutes;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//秒    </span><br><span class=\"line\">var seconds=date_time.getSeconds();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(seconds&lt;10)&#123;    </span><br><span class=\"line\"> \tseconds=&quot;0&quot;+seconds;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//拼接年月日时分秒    </span><br><span class=\"line\">var date_str = year+&quot;年&quot;+month+&quot;月&quot;+day+&quot;日 &quot;+hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds+&quot; &quot;+week;    </span><br><span class=\"line\">//显示在id为showtimes的容器里    </span><br><span class=\"line\">document.getElementById(&quot;showtimes&quot;).innerHTML= date_str;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//设置1秒调用一次show_cur_times函数    </span><br><span class=\"line\">setInterval(&quot;show_cur_times()&quot;,100);    </span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">显示当前时间：&lt;p id=&quot;showtimes&quot;&gt;&lt;/p&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>显示当前时间：</p><p>2017年04月12日 18:26:37 星期三</p><p>示例如下：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class=\"line\">&lt;title&gt;显示当前时间 - 原生javascript&lt;/title&gt;</span><br><span class=\"line\">&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;    </span><br><span class=\"line\">function show_cur_times()&#123;    </span><br><span class=\"line\">//获取当前日期    </span><br><span class=\"line\">var date_time = new Date();    </span><br><span class=\"line\">//定义星期    </span><br><span class=\"line\">var week;    </span><br><span class=\"line\">//switch判断    </span><br><span class=\"line\">switch (date_time.getDay())&#123;    </span><br><span class=\"line\">case 1: week=&quot;星期一&quot;; break;    </span><br><span class=\"line\">case 2: week=&quot;星期二&quot;; break;    </span><br><span class=\"line\">case 3: week=&quot;星期三&quot;; break;    </span><br><span class=\"line\">case 4: week=&quot;星期四&quot;; break;    </span><br><span class=\"line\">case 5: week=&quot;星期五&quot;; break;    </span><br><span class=\"line\">case 6: week=&quot;星期六&quot;; break;    </span><br><span class=\"line\">default:week=&quot;星期天&quot;; break;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//年    </span><br><span class=\"line\">var year = date_time.getFullYear();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(year&lt;10)&#123;    </span><br><span class=\"line\"> \tyear=&quot;0&quot;+year;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//月    </span><br><span class=\"line\">var month = date_time.getMonth()+1;    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(month&lt;10)&#123;    </span><br><span class=\"line\">month=&quot;0&quot;+month;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//日    </span><br><span class=\"line\">var day = date_time.getDate();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(day&lt;10)&#123;    </span><br><span class=\"line\"> \tday=&quot;0&quot;+day;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//时    </span><br><span class=\"line\">var hours =date_time.getHours();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(hours&lt;10)&#123;    </span><br><span class=\"line\"> \thours=&quot;0&quot;+hours;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//分    </span><br><span class=\"line\">var minutes =date_time.getMinutes();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(minutes&lt;10)&#123;    </span><br><span class=\"line\"> \tminutes=&quot;0&quot;+minutes;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//秒    </span><br><span class=\"line\">var seconds=date_time.getSeconds();    </span><br><span class=\"line\"> \t//判断小于10，前面补0    </span><br><span class=\"line\">if(seconds&lt;10)&#123;    </span><br><span class=\"line\"> \tseconds=&quot;0&quot;+seconds;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//拼接年月日时分秒    </span><br><span class=\"line\">var date_str = year+&quot;年&quot;+month+&quot;月&quot;+day+&quot;日 &quot;+hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds+&quot; &quot;+week;    </span><br><span class=\"line\">//显示在id为showtimes的容器里    </span><br><span class=\"line\">document.getElementById(&quot;showtimes&quot;).innerHTML= date_str;    </span><br><span class=\"line\">&#125;    </span><br><span class=\"line\">//设置1秒调用一次show_cur_times函数    </span><br><span class=\"line\">setInterval(&quot;show_cur_times()&quot;,100);    </span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">显示当前时间：&lt;p id=&quot;showtimes&quot;&gt;&lt;/p&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"IDEA failed to create jvm:error code -1","keywords":["IDEA failed to create jvm:error code -1","jvm:error code -1"],"date":"2017-03-03T10:00:00.000Z","_content":"今天先更改了 idea64.exe.vmoptions 这个配置文件\n\n一直么有重启，后来就安装了个插件重启一下，结果就泪崩了\n\n一直出现这个错误\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6gy1fd9suz8h9dj20db06ujr9.jpg\"  alt=\"IDEA failed to create jvm:error code -1,jvm:error code -1\" />\n总以为是环境变量配置的问题，或者是文件损坏了什么\n\n重启，重装jdk，重新配置什么都试过，不管用。\n\n后来替换了配置文件就好了！！！\n\n解决方案\n---\n\n配置文件路径：\n```\n\\IDEA HOME\\bin\\idea64.exe.vmoptions\n或者\n\\IDEA HOME\\bin\\idea.exe.vmoptions\n```\n默认配置文件内容如下：\n\n32bit\n```\n-server\n-Xms128m\n-Xmx512m\n-XX:ReservedCodeCacheSize=240m\n-XX:+UseConcMarkSweepGC\n-XX:SoftRefLRUPolicyMSPerMB=50\n-ea\n-Dsun.io.useCanonCaches=false\n-Djava.net.preferIPv4Stack=true\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n```\n64bit\n```\n-Xms128m\n-Xmx750m\n-XX:ReservedCodeCacheSize=240m\n-XX:+UseConcMarkSweepGC\n-XX:SoftRefLRUPolicyMSPerMB=50\n-ea\n-Dsun.io.useCanonCaches=false\n-Djava.net.preferIPv4Stack=true\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n```\n\nby the way:\n\nIDEA 写博客真是舒服啊~\n\n完全不用切换来切换去的！","source":"_posts/idea failed to create jvm error code -1.md","raw":"---\ntitle: IDEA failed to create jvm:error code -1\nkeywords: [IDEA failed to create jvm:error code -1,jvm:error code -1]\ndate: 2017/3/3 18:00\ntags: [java]\ncategories: java\n---\n今天先更改了 idea64.exe.vmoptions 这个配置文件\n\n一直么有重启，后来就安装了个插件重启一下，结果就泪崩了\n\n一直出现这个错误\n<img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6gy1fd9suz8h9dj20db06ujr9.jpg\"  alt=\"IDEA failed to create jvm:error code -1,jvm:error code -1\" />\n总以为是环境变量配置的问题，或者是文件损坏了什么\n\n重启，重装jdk，重新配置什么都试过，不管用。\n\n后来替换了配置文件就好了！！！\n\n解决方案\n---\n\n配置文件路径：\n```\n\\IDEA HOME\\bin\\idea64.exe.vmoptions\n或者\n\\IDEA HOME\\bin\\idea.exe.vmoptions\n```\n默认配置文件内容如下：\n\n32bit\n```\n-server\n-Xms128m\n-Xmx512m\n-XX:ReservedCodeCacheSize=240m\n-XX:+UseConcMarkSweepGC\n-XX:SoftRefLRUPolicyMSPerMB=50\n-ea\n-Dsun.io.useCanonCaches=false\n-Djava.net.preferIPv4Stack=true\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n```\n64bit\n```\n-Xms128m\n-Xmx750m\n-XX:ReservedCodeCacheSize=240m\n-XX:+UseConcMarkSweepGC\n-XX:SoftRefLRUPolicyMSPerMB=50\n-ea\n-Dsun.io.useCanonCaches=false\n-Djava.net.preferIPv4Stack=true\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n```\n\nby the way:\n\nIDEA 写博客真是舒服啊~\n\n完全不用切换来切换去的！","slug":"idea failed to create jvm error code -1","published":1,"updated":"2017-03-07T02:09:56.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsp0081olejccs5lja4","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>今天先更改了 idea64.exe.vmoptions 这个配置文件</p><p>一直么有重启，后来就安装了个插件重启一下，结果就泪崩了</p><p>一直出现这个错误<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6gy1fd9suz8h9dj20db06ujr9.jpg\" alt=\"IDEA failed to create jvm:error code -1,jvm:error code -1\"><br>总以为是环境变量配置的问题，或者是文件损坏了什么</p><p>重启，重装jdk，重新配置什么都试过，不管用。</p><p>后来替换了配置文件就好了！！！</p><h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><p>配置文件路径：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\IDEA HOME\\bin\\idea64.exe.vmoptions</span><br><span class=\"line\">或者</span><br><span class=\"line\">\\IDEA HOME\\bin\\idea.exe.vmoptions</span><br></pre></td></tr></table></figure><p></p><p>默认配置文件内容如下：</p><p>32bit<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-server</span><br><span class=\"line\">-Xms128m</span><br><span class=\"line\">-Xmx512m</span><br><span class=\"line\">-XX:ReservedCodeCacheSize=240m</span><br><span class=\"line\">-XX:+UseConcMarkSweepGC</span><br><span class=\"line\">-XX:SoftRefLRUPolicyMSPerMB=50</span><br><span class=\"line\">-ea</span><br><span class=\"line\">-Dsun.io.useCanonCaches=false</span><br><span class=\"line\">-Djava.net.preferIPv4Stack=true</span><br><span class=\"line\">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class=\"line\">-XX:-OmitStackTraceInFastThrow</span><br></pre></td></tr></table></figure><p></p><p>64bit<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-Xms128m</span><br><span class=\"line\">-Xmx750m</span><br><span class=\"line\">-XX:ReservedCodeCacheSize=240m</span><br><span class=\"line\">-XX:+UseConcMarkSweepGC</span><br><span class=\"line\">-XX:SoftRefLRUPolicyMSPerMB=50</span><br><span class=\"line\">-ea</span><br><span class=\"line\">-Dsun.io.useCanonCaches=false</span><br><span class=\"line\">-Djava.net.preferIPv4Stack=true</span><br><span class=\"line\">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class=\"line\">-XX:-OmitStackTraceInFastThrow</span><br></pre></td></tr></table></figure><p></p><p>by the way:</p><p>IDEA 写博客真是舒服啊~</p><p>完全不用切换来切换去的！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>今天先更改了 idea64.exe.vmoptions 这个配置文件</p><p>一直么有重启，后来就安装了个插件重启一下，结果就泪崩了</p><p>一直出现这个错误<br><img src=\"http://wx4.sinaimg.cn/mw690/b2e389b6gy1fd9suz8h9dj20db06ujr9.jpg\" alt=\"IDEA failed to create jvm:error code -1,jvm:error code -1\"><br>总以为是环境变量配置的问题，或者是文件损坏了什么</p><p>重启，重装jdk，重新配置什么都试过，不管用。</p><p>后来替换了配置文件就好了！！！</p><h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><p>配置文件路径：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\IDEA HOME\\bin\\idea64.exe.vmoptions</span><br><span class=\"line\">或者</span><br><span class=\"line\">\\IDEA HOME\\bin\\idea.exe.vmoptions</span><br></pre></td></tr></table></figure><p></p><p>默认配置文件内容如下：</p><p>32bit<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-server</span><br><span class=\"line\">-Xms128m</span><br><span class=\"line\">-Xmx512m</span><br><span class=\"line\">-XX:ReservedCodeCacheSize=240m</span><br><span class=\"line\">-XX:+UseConcMarkSweepGC</span><br><span class=\"line\">-XX:SoftRefLRUPolicyMSPerMB=50</span><br><span class=\"line\">-ea</span><br><span class=\"line\">-Dsun.io.useCanonCaches=false</span><br><span class=\"line\">-Djava.net.preferIPv4Stack=true</span><br><span class=\"line\">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class=\"line\">-XX:-OmitStackTraceInFastThrow</span><br></pre></td></tr></table></figure><p></p><p>64bit<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-Xms128m</span><br><span class=\"line\">-Xmx750m</span><br><span class=\"line\">-XX:ReservedCodeCacheSize=240m</span><br><span class=\"line\">-XX:+UseConcMarkSweepGC</span><br><span class=\"line\">-XX:SoftRefLRUPolicyMSPerMB=50</span><br><span class=\"line\">-ea</span><br><span class=\"line\">-Dsun.io.useCanonCaches=false</span><br><span class=\"line\">-Djava.net.preferIPv4Stack=true</span><br><span class=\"line\">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class=\"line\">-XX:-OmitStackTraceInFastThrow</span><br></pre></td></tr></table></figure><p></p><p>by the way:</p><p>IDEA 写博客真是舒服啊~</p><p>完全不用切换来切换去的！</p><!-- rebuild by neat -->"},{"title":"idea jrebel 7.0 破解 - 获取JRebel激活码","keywords":["jrebel 7.0 破解","JRebel激活码","idea热部署"],"date":"2017-03-03T10:19:00.000Z","_content":"其实这玩意完全不要破解，直接官网注册就会给一个注册码\n\n注册地址：<a href=\"https://zeroturnaround.com/software/jrebel/download/\" target=\"_blank\">https://zeroturnaround.com</a>\n\n注册完了之后在IDEA里面去设置，会提醒激活。\n\ntomcat部署了项目之后，点击JR启动是可以热部署的！！！\n\n改了java代码都不要重新启动项目，哈哈！！！","source":"_posts/idea jrebel 7.0 破解 - 获取JRebel激活码.md","raw":"---\ntitle: idea jrebel 7.0 破解 - 获取JRebel激活码\nkeywords: [jrebel 7.0 破解,JRebel激活码,idea热部署]\ndate: 2017/3/3 18:19\ntags: [java,idea]\ncategories: java\n---\n其实这玩意完全不要破解，直接官网注册就会给一个注册码\n\n注册地址：<a href=\"https://zeroturnaround.com/software/jrebel/download/\" target=\"_blank\">https://zeroturnaround.com</a>\n\n注册完了之后在IDEA里面去设置，会提醒激活。\n\ntomcat部署了项目之后，点击JR启动是可以热部署的！！！\n\n改了java代码都不要重新启动项目，哈哈！！！","slug":"idea jrebel 7.0 破解 - 获取JRebel激活码","published":1,"updated":"2017-03-03T10:23:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsr0084olejrumzslkb","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>其实这玩意完全不要破解，直接官网注册就会给一个注册码</p><p>注册地址：<a href=\"https://zeroturnaround.com/software/jrebel/download/\" target=\"_blank\">https://zeroturnaround.com</a></p><p>注册完了之后在IDEA里面去设置，会提醒激活。</p><p>tomcat部署了项目之后，点击JR启动是可以热部署的！！！</p><p>改了java代码都不要重新启动项目，哈哈！！！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>其实这玩意完全不要破解，直接官网注册就会给一个注册码</p><p>注册地址：<a href=\"https://zeroturnaround.com/software/jrebel/download/\" target=\"_blank\">https://zeroturnaround.com</a></p><p>注册完了之后在IDEA里面去设置，会提醒激活。</p><p>tomcat部署了项目之后，点击JR启动是可以热部署的！！！</p><p>改了java代码都不要重新启动项目，哈哈！！！</p><!-- rebuild by neat -->"},{"title":"idea启动tomcat服务失败 SEVERE [RMI TCP Connection(3)-127.0.0.1]","keywords":[["RMI TCP Connection(3)-127.0.0.1"]],"date":"2017-02-15T01:53:05.000Z","_content":"工程是从eclipse生成的，用idea开发。\n\n重复了一遍以往正常的不能再正常了的导入配置，结果遇到了如下问题：\n\nSEVERE [**RMI TCP Connection(3)-127.0.0.1**] \n```\n15-Feb-2017 11:05:25.993 严重 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.listenerStart Skipped installing application listeners due to previous error(s)\n```\n\n删除导入项目中的web.xml文件\n---\n因为idea要用的东西自己会自动生成\n\n然后就搞定了这个纠结我一天的问题\n\n\n我是百度搜索这个错误：**RMI TCP Connection(3)-127.0.0.1**\n\n得到的答案，感谢10100：<a href=\"http://www.cnblogs.com/A-QBlog/p/5865578.html\" target=\"_blank\">查看原文</a>","source":"_posts/idea启动tomcat服务失败-SEVERE-RMI-TCP-Connection-3-127-0-0-1.md","raw":"---\ntitle: 'idea启动tomcat服务失败 SEVERE [RMI TCP Connection(3)-127.0.0.1]'\nkeywords: [[RMI TCP Connection(3)-127.0.0.1]]\ntags: [idea,tomcat]\ndate: 2017-02-15 09:53:05\ncategories: java\n---\n工程是从eclipse生成的，用idea开发。\n\n重复了一遍以往正常的不能再正常了的导入配置，结果遇到了如下问题：\n\nSEVERE [**RMI TCP Connection(3)-127.0.0.1**] \n```\n15-Feb-2017 11:05:25.993 严重 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.listenerStart Skipped installing application listeners due to previous error(s)\n```\n\n删除导入项目中的web.xml文件\n---\n因为idea要用的东西自己会自动生成\n\n然后就搞定了这个纠结我一天的问题\n\n\n我是百度搜索这个错误：**RMI TCP Connection(3)-127.0.0.1**\n\n得到的答案，感谢10100：<a href=\"http://www.cnblogs.com/A-QBlog/p/5865578.html\" target=\"_blank\">查看原文</a>","slug":"idea启动tomcat服务失败-SEVERE-RMI-TCP-Connection-3-127-0-0-1","published":1,"updated":"2017-02-17T08:28:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsr0087olejnsaynn6f","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>工程是从eclipse生成的，用idea开发。</p><p>重复了一遍以往正常的不能再正常了的导入配置，结果遇到了如下问题：</p><p>SEVERE [<strong>RMI TCP Connection(3)-127.0.0.1</strong>]<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">15-Feb-2017 11:05:25.993 严重 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.listenerStart Skipped installing application listeners due to previous error(s)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"删除导入项目中的web-xml文件\"><a href=\"#删除导入项目中的web-xml文件\" class=\"headerlink\" title=\"删除导入项目中的web.xml文件\"></a>删除导入项目中的web.xml文件</h2><p>因为idea要用的东西自己会自动生成</p><p>然后就搞定了这个纠结我一天的问题</p><p>我是百度搜索这个错误：<strong>RMI TCP Connection(3)-127.0.0.1</strong></p><p>得到的答案，感谢10100：<a href=\"http://www.cnblogs.com/A-QBlog/p/5865578.html\" target=\"_blank\">查看原文</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>工程是从eclipse生成的，用idea开发。</p><p>重复了一遍以往正常的不能再正常了的导入配置，结果遇到了如下问题：</p><p>SEVERE [<strong>RMI TCP Connection(3)-127.0.0.1</strong>]<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">15-Feb-2017 11:05:25.993 严重 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.listenerStart Skipped installing application listeners due to previous error(s)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"删除导入项目中的web-xml文件\"><a href=\"#删除导入项目中的web-xml文件\" class=\"headerlink\" title=\"删除导入项目中的web.xml文件\"></a>删除导入项目中的web.xml文件</h2><p>因为idea要用的东西自己会自动生成</p><p>然后就搞定了这个纠结我一天的问题</p><p>我是百度搜索这个错误：<strong>RMI TCP Connection(3)-127.0.0.1</strong></p><p>得到的答案，感谢10100：<a href=\"http://www.cnblogs.com/A-QBlog/p/5865578.html\" target=\"_blank\">查看原文</a></p><!-- rebuild by neat -->"},{"title":"java.lang.IllegalArgumentException: addChild:  Child name '/hisen' is not unique","keywords":[],"date":"2017-02-27T07:00:46.000Z","_content":"报错如下：\n```\n27-Feb-2017 12:53:31.268 严重 [RMI TCP Connection(13)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp\n java.lang.IllegalArgumentException: addChild:  Child name '/hisen' is not unique\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:738)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1702)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1487)\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:97)\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1328)\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1420)\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:848)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:322)\n\tat sun.rmi.transport.Transport$1.run(Transport.java:177)\n\tat sun.rmi.transport.Transport$1.run(Transport.java:174)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:173)\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:556)\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:811)\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:670)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:744)\n```\n重要的是：\n```\norg.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp\n java.lang.IllegalArgumentException: addChild:  Child name '/hisen' is not unique\n```\n## IDEA解决办法 ##\n\n\nProject Structure -> Artifacts\n\n查看里面是否有配置相同的Artifacts\n\n删除即可","source":"_posts/java-lang-IllegalArgumentException-addChild-Child-name-hisen-is-not-unique.md","raw":"---\ntitle: >-\n  java.lang.IllegalArgumentException: addChild:  Child name '/hisen' is not\n  unique\nkeywords: []\ntags: []\ndate: 2017-02-27 15:00:46\ncategories:\n---\n报错如下：\n```\n27-Feb-2017 12:53:31.268 严重 [RMI TCP Connection(13)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp\n java.lang.IllegalArgumentException: addChild:  Child name '/hisen' is not unique\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:738)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1702)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1487)\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:97)\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1328)\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1420)\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:848)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:322)\n\tat sun.rmi.transport.Transport$1.run(Transport.java:177)\n\tat sun.rmi.transport.Transport$1.run(Transport.java:174)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:173)\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:556)\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:811)\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:670)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:744)\n```\n重要的是：\n```\norg.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp\n java.lang.IllegalArgumentException: addChild:  Child name '/hisen' is not unique\n```\n## IDEA解决办法 ##\n\n\nProject Structure -> Artifacts\n\n查看里面是否有配置相同的Artifacts\n\n删除即可","slug":"java-lang-IllegalArgumentException-addChild-Child-name-hisen-is-not-unique","published":1,"updated":"2017-02-27T07:03:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdss008aolejhwbfibxq","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>报错如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">27-Feb-2017 12:53:31.268 严重 [RMI TCP Connection(13)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp</span><br><span class=\"line\"> java.lang.IllegalArgumentException: addChild:  Child name &apos;/hisen&apos; is not unique</span><br><span class=\"line\">\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:738)</span><br><span class=\"line\">\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)</span><br><span class=\"line\">\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)</span><br><span class=\"line\">\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1702)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span><br><span class=\"line\">\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">\tat java.lang.reflect.Method.invoke(Method.java:606)</span><br><span class=\"line\">\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)</span><br><span class=\"line\">\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)</span><br><span class=\"line\">\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)</span><br><span class=\"line\">\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)</span><br><span class=\"line\">\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span><br><span class=\"line\">\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">\tat java.lang.reflect.Method.invoke(Method.java:606)</span><br><span class=\"line\">\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)</span><br><span class=\"line\">\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)</span><br><span class=\"line\">\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1487)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:97)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1328)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1420)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:848)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span><br><span class=\"line\">\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">\tat java.lang.reflect.Method.invoke(Method.java:606)</span><br><span class=\"line\">\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:322)</span><br><span class=\"line\">\tat sun.rmi.transport.Transport$1.run(Transport.java:177)</span><br><span class=\"line\">\tat sun.rmi.transport.Transport$1.run(Transport.java:174)</span><br><span class=\"line\">\tat java.security.AccessController.doPrivileged(Native Method)</span><br><span class=\"line\">\tat sun.rmi.transport.Transport.serviceCall(Transport.java:173)</span><br><span class=\"line\">\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:556)</span><br><span class=\"line\">\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:811)</span><br><span class=\"line\">\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:670)</span><br><span class=\"line\">\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)</span><br><span class=\"line\">\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)</span><br><span class=\"line\">\tat java.lang.Thread.run(Thread.java:744)</span><br></pre></td></tr></table></figure><p></p><p>重要的是：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp</span><br><span class=\"line\"> java.lang.IllegalArgumentException: addChild:  Child name &apos;/hisen&apos; is not unique</span><br></pre></td></tr></table></figure><p></p><h2 id=\"IDEA解决办法\"><a href=\"#IDEA解决办法\" class=\"headerlink\" title=\"IDEA解决办法\"></a>IDEA解决办法</h2><p>Project Structure -&gt; Artifacts</p><p>查看里面是否有配置相同的Artifacts</p><p>删除即可</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>报错如下：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">27-Feb-2017 12:53:31.268 严重 [RMI TCP Connection(13)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp</span><br><span class=\"line\"> java.lang.IllegalArgumentException: addChild:  Child name &apos;/hisen&apos; is not unique</span><br><span class=\"line\">\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:738)</span><br><span class=\"line\">\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)</span><br><span class=\"line\">\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)</span><br><span class=\"line\">\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1702)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span><br><span class=\"line\">\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">\tat java.lang.reflect.Method.invoke(Method.java:606)</span><br><span class=\"line\">\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)</span><br><span class=\"line\">\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)</span><br><span class=\"line\">\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)</span><br><span class=\"line\">\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)</span><br><span class=\"line\">\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span><br><span class=\"line\">\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">\tat java.lang.reflect.Method.invoke(Method.java:606)</span><br><span class=\"line\">\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)</span><br><span class=\"line\">\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)</span><br><span class=\"line\">\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1487)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:97)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1328)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1420)</span><br><span class=\"line\">\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:848)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class=\"line\">\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span><br><span class=\"line\">\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">\tat java.lang.reflect.Method.invoke(Method.java:606)</span><br><span class=\"line\">\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:322)</span><br><span class=\"line\">\tat sun.rmi.transport.Transport$1.run(Transport.java:177)</span><br><span class=\"line\">\tat sun.rmi.transport.Transport$1.run(Transport.java:174)</span><br><span class=\"line\">\tat java.security.AccessController.doPrivileged(Native Method)</span><br><span class=\"line\">\tat sun.rmi.transport.Transport.serviceCall(Transport.java:173)</span><br><span class=\"line\">\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:556)</span><br><span class=\"line\">\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:811)</span><br><span class=\"line\">\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:670)</span><br><span class=\"line\">\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)</span><br><span class=\"line\">\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)</span><br><span class=\"line\">\tat java.lang.Thread.run(Thread.java:744)</span><br></pre></td></tr></table></figure><p></p><p>重要的是：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp</span><br><span class=\"line\"> java.lang.IllegalArgumentException: addChild:  Child name &apos;/hisen&apos; is not unique</span><br></pre></td></tr></table></figure><p></p><h2 id=\"IDEA解决办法\"><a href=\"#IDEA解决办法\" class=\"headerlink\" title=\"IDEA解决办法\"></a>IDEA解决办法</h2><p>Project Structure -&gt; Artifacts</p><p>查看里面是否有配置相同的Artifacts</p><p>删除即可</p><!-- rebuild by neat -->"},{"title":"java.sql.SQLException Connections could not be acquired from the underlying database","keywords":["java","c3p0"],"date":"2017-06-02T08:42:00.000Z","_content":"java.sql.SQLException: Connections could not be acquired from the underlying database\n\n这个错误出现的原因有的说是因为jdbc配置文件写错了\n\n正确的写法是：\n```\nc3p0.driverClass=com.mysql.jdbc.Driver\nc3p0.jdbcUrl=jdbc:mysql://localhost:3306/test\nc3p0.user=root\nc3p0.password=root\n```\n而不是\n```\ndriver=com.mysql.jdbc.Driver\nurl=jdbc:mysql://localhost:3306/test\nuser=root\npassword=root\n```\n\n但是我遇到的不是如此\n\n后来发现是因为maven出问题了，jar包没有加载进项目\n\n这是在starkoverflow上看到的回答\n```\nIn my case it was problem that c3p0-0.9.2.1.jar file was not copied by maven into src/main/webapp/web-inf/libs\n```\n最后maven重新install之后就解决了","source":"_posts/java.sql.SQLException Connections could not be acquired from the underlying database.md","raw":"---\ntitle: java.sql.SQLException Connections could not be acquired from the underlying database\nkeywords: [java,c3p0]\ndate: 2017/6/2 16:42\ntags: [java]\ncategories: java\n---\njava.sql.SQLException: Connections could not be acquired from the underlying database\n\n这个错误出现的原因有的说是因为jdbc配置文件写错了\n\n正确的写法是：\n```\nc3p0.driverClass=com.mysql.jdbc.Driver\nc3p0.jdbcUrl=jdbc:mysql://localhost:3306/test\nc3p0.user=root\nc3p0.password=root\n```\n而不是\n```\ndriver=com.mysql.jdbc.Driver\nurl=jdbc:mysql://localhost:3306/test\nuser=root\npassword=root\n```\n\n但是我遇到的不是如此\n\n后来发现是因为maven出问题了，jar包没有加载进项目\n\n这是在starkoverflow上看到的回答\n```\nIn my case it was problem that c3p0-0.9.2.1.jar file was not copied by maven into src/main/webapp/web-inf/libs\n```\n最后maven重新install之后就解决了","slug":"java.sql.SQLException Connections could not be acquired from the underlying database","published":1,"updated":"2017-06-02T08:46:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdst008dolejxm9mudu3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>java.sql.SQLException: Connections could not be acquired from the underlying database</p><p>这个错误出现的原因有的说是因为jdbc配置文件写错了</p><p>正确的写法是：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">c3p0.driverClass=com.mysql.jdbc.Driver</span><br><span class=\"line\">c3p0.jdbcUrl=jdbc:mysql://localhost:3306/test</span><br><span class=\"line\">c3p0.user=root</span><br><span class=\"line\">c3p0.password=root</span><br></pre></td></tr></table></figure><p></p><p>而不是<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">driver=com.mysql.jdbc.Driver</span><br><span class=\"line\">url=jdbc:mysql://localhost:3306/test</span><br><span class=\"line\">user=root</span><br><span class=\"line\">password=root</span><br></pre></td></tr></table></figure><p></p><p>但是我遇到的不是如此</p><p>后来发现是因为maven出问题了，jar包没有加载进项目</p><p>这是在starkoverflow上看到的回答<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In my case it was problem that c3p0-0.9.2.1.jar file was not copied by maven into src/main/webapp/web-inf/libs</span><br></pre></td></tr></table></figure><p></p><p>最后maven重新install之后就解决了</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>java.sql.SQLException: Connections could not be acquired from the underlying database</p><p>这个错误出现的原因有的说是因为jdbc配置文件写错了</p><p>正确的写法是：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">c3p0.driverClass=com.mysql.jdbc.Driver</span><br><span class=\"line\">c3p0.jdbcUrl=jdbc:mysql://localhost:3306/test</span><br><span class=\"line\">c3p0.user=root</span><br><span class=\"line\">c3p0.password=root</span><br></pre></td></tr></table></figure><p></p><p>而不是<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">driver=com.mysql.jdbc.Driver</span><br><span class=\"line\">url=jdbc:mysql://localhost:3306/test</span><br><span class=\"line\">user=root</span><br><span class=\"line\">password=root</span><br></pre></td></tr></table></figure><p></p><p>但是我遇到的不是如此</p><p>后来发现是因为maven出问题了，jar包没有加载进项目</p><p>这是在starkoverflow上看到的回答<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In my case it was problem that c3p0-0.9.2.1.jar file was not copied by maven into src/main/webapp/web-inf/libs</span><br></pre></td></tr></table></figure><p></p><p>最后maven重新install之后就解决了</p><!-- rebuild by neat -->"},{"title":"java编译错误：程序包javax.servlet不存在javax.servlet.*","keywords":["java编译错误","不存在javax.servlet"],"date":"2017-02-17T07:59:19.000Z","_content":"\n之前用myeclipse开发的项目\n\n今天导入到IDEA中去，发现编译出问题\n\nava编译错误：程序包javax.servlet不存在javax.servlet.*\n\n---\n\n原因大概是myeclipse中可以选择Java EE项目\n\n而idea没有，缺少 servlet-api.jar 这个jar包\n\n---\n解决办法：\n1. 复制tomcat文件夹下lib--->servlet-api.jar 这个jar包\n2. 添加到IDEA项目中去：粘贴到External Library目录下\n\n即可","source":"_posts/java编译错误：程序包javax-servlet不存在javax-servlet.md","raw":"---\ntitle: java编译错误：程序包javax.servlet不存在javax.servlet.*\nkeywords: [java编译错误,不存在javax.servlet]\ntags: [java]\ndate: 2017-02-17 15:59:19\ncategories: java\n---\n\n之前用myeclipse开发的项目\n\n今天导入到IDEA中去，发现编译出问题\n\nava编译错误：程序包javax.servlet不存在javax.servlet.*\n\n---\n\n原因大概是myeclipse中可以选择Java EE项目\n\n而idea没有，缺少 servlet-api.jar 这个jar包\n\n---\n解决办法：\n1. 复制tomcat文件夹下lib--->servlet-api.jar 这个jar包\n2. 添加到IDEA项目中去：粘贴到External Library目录下\n\n即可","slug":"java编译错误：程序包javax-servlet不存在javax-servlet","published":1,"updated":"2017-02-17T08:24:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsu008holeja2yl9naj","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前用myeclipse开发的项目</p><p>今天导入到IDEA中去，发现编译出问题</p><p>ava编译错误：程序包javax.servlet不存在javax.servlet.*</p><hr><p>原因大概是myeclipse中可以选择Java EE项目</p><p>而idea没有，缺少 servlet-api.jar 这个jar包</p><hr><p>解决办法：</p><ol><li>复制tomcat文件夹下lib—&gt;servlet-api.jar 这个jar包</li><li>添加到IDEA项目中去：粘贴到External Library目录下</li></ol><p>即可</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>之前用myeclipse开发的项目</p><p>今天导入到IDEA中去，发现编译出问题</p><p>ava编译错误：程序包javax.servlet不存在javax.servlet.*</p><hr><p>原因大概是myeclipse中可以选择Java EE项目</p><p>而idea没有，缺少 servlet-api.jar 这个jar包</p><hr><p>解决办法：</p><ol><li>复制tomcat文件夹下lib—&gt;servlet-api.jar 这个jar包</li><li>添加到IDEA项目中去：粘贴到External Library目录下</li></ol><p>即可</p><!-- rebuild by neat -->"},{"title":"linux cal date命令详解","keywords":["linux","cal","date"],"date":"2017-03-14T03:46:00.000Z","_content":"```\n##显示当月的日历\nhisen@ubuntu:~$ cal\n     March 2017       \nSu Mo Tu We Th Fr Sa  \n          1  2  3  4  \n 5  6  7  8  9 10 11  \n12 13 14 15 16 17 18  \n19 20 21 22 23 24 25  \n26 27 28 29 30 31     \n\n##指定显示1997年11月当月的日历\nhisen@ubuntu:~$ cal 11 1997\n   November 1997      \nSu Mo Tu We Th Fr Sa  \n                   1  \n 2  3  4  5  6  7  8  \n 9 10 11 12 13 14 15  \n16 17 18 19 20 21 22  \n23 24 25 26 27 28 29  \n30   \n##显示2018年全年12个月的日历\nhisen@ubuntu:~$ cal -m 12 -y 2018\n                            2018\n      January               February               March          \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n    1  2  3  4  5  6               1  2  3               1  2  3  \n 7  8  9 10 11 12 13   4  5  6  7  8  9 10   4  5  6  7  8  9 10  \n14 15 16 17 18 19 20  11 12 13 14 15 16 17  11 12 13 14 15 16 17  \n21 22 23 24 25 26 27  18 19 20 21 22 23 24  18 19 20 21 22 23 24  \n28 29 30 31           25 26 27 28           25 26 27 28 29 30 31  \n                                                                  \n\n       April                  May                   June          \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n 1  2  3  4  5  6  7         1  2  3  4  5                  1  2  \n 8  9 10 11 12 13 14   6  7  8  9 10 11 12   3  4  5  6  7  8  9  \n15 16 17 18 19 20 21  13 14 15 16 17 18 19  10 11 12 13 14 15 16  \n22 23 24 25 26 27 28  20 21 22 23 24 25 26  17 18 19 20 21 22 23  \n29 30                 27 28 29 30 31        24 25 26 27 28 29 30  \n                                                                  \n\n        July                 August              September        \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n 1  2  3  4  5  6  7            1  2  3  4                     1  \n 8  9 10 11 12 13 14   5  6  7  8  9 10 11   2  3  4  5  6  7  8  \n15 16 17 18 19 20 21  12 13 14 15 16 17 18   9 10 11 12 13 14 15  \n22 23 24 25 26 27 28  19 20 21 22 23 24 25  16 17 18 19 20 21 22  \n29 30 31              26 27 28 29 30 31     23 24 25 26 27 28 29  \n                                            30                    \n\n      October               November              December        \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n    1  2  3  4  5  6               1  2  3                     1  \n 7  8  9 10 11 12 13   4  5  6  7  8  9 10   2  3  4  5  6  7  8  \n14 15 16 17 18 19 20  11 12 13 14 15 16 17   9 10 11 12 13 14 15  \n21 22 23 24 25 26 27  18 19 20 21 22 23 24  16 17 18 19 20 21 22  \n28 29 30 31           25 26 27 28 29 30     23 24 25 26 27 28 29  \n                                            30 31                 \n##输出当前日期\nhisen@ubuntu:~$ date\nTue Mar 14 11:48:14 CST 2017\n##格式化输出年月日\nhisen@ubuntu:~$ date \"+%Y-%m-%d\"\n2017-03-14\n##格式化输出当前时间\nhisen@ubuntu:~$ date \"+%H:%M:%S\"\n11:49:10\n##格式化输出年月日时间\nhisen@ubuntu:~$ date \"+%Y-%m-%d %H:%M:%S\" \n2017-03-14 11:49:18\n```","source":"_posts/linux cal date命令详解.md","raw":"---\ntitle: linux cal date命令详解\nkeywords: [linux,cal,date]\ndate: 2017/3/14 11:46\ntags: [linux]\ncategories: linux\n---\n```\n##显示当月的日历\nhisen@ubuntu:~$ cal\n     March 2017       \nSu Mo Tu We Th Fr Sa  \n          1  2  3  4  \n 5  6  7  8  9 10 11  \n12 13 14 15 16 17 18  \n19 20 21 22 23 24 25  \n26 27 28 29 30 31     \n\n##指定显示1997年11月当月的日历\nhisen@ubuntu:~$ cal 11 1997\n   November 1997      \nSu Mo Tu We Th Fr Sa  \n                   1  \n 2  3  4  5  6  7  8  \n 9 10 11 12 13 14 15  \n16 17 18 19 20 21 22  \n23 24 25 26 27 28 29  \n30   \n##显示2018年全年12个月的日历\nhisen@ubuntu:~$ cal -m 12 -y 2018\n                            2018\n      January               February               March          \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n    1  2  3  4  5  6               1  2  3               1  2  3  \n 7  8  9 10 11 12 13   4  5  6  7  8  9 10   4  5  6  7  8  9 10  \n14 15 16 17 18 19 20  11 12 13 14 15 16 17  11 12 13 14 15 16 17  \n21 22 23 24 25 26 27  18 19 20 21 22 23 24  18 19 20 21 22 23 24  \n28 29 30 31           25 26 27 28           25 26 27 28 29 30 31  \n                                                                  \n\n       April                  May                   June          \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n 1  2  3  4  5  6  7         1  2  3  4  5                  1  2  \n 8  9 10 11 12 13 14   6  7  8  9 10 11 12   3  4  5  6  7  8  9  \n15 16 17 18 19 20 21  13 14 15 16 17 18 19  10 11 12 13 14 15 16  \n22 23 24 25 26 27 28  20 21 22 23 24 25 26  17 18 19 20 21 22 23  \n29 30                 27 28 29 30 31        24 25 26 27 28 29 30  \n                                                                  \n\n        July                 August              September        \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n 1  2  3  4  5  6  7            1  2  3  4                     1  \n 8  9 10 11 12 13 14   5  6  7  8  9 10 11   2  3  4  5  6  7  8  \n15 16 17 18 19 20 21  12 13 14 15 16 17 18   9 10 11 12 13 14 15  \n22 23 24 25 26 27 28  19 20 21 22 23 24 25  16 17 18 19 20 21 22  \n29 30 31              26 27 28 29 30 31     23 24 25 26 27 28 29  \n                                            30                    \n\n      October               November              December        \nSu Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  \n    1  2  3  4  5  6               1  2  3                     1  \n 7  8  9 10 11 12 13   4  5  6  7  8  9 10   2  3  4  5  6  7  8  \n14 15 16 17 18 19 20  11 12 13 14 15 16 17   9 10 11 12 13 14 15  \n21 22 23 24 25 26 27  18 19 20 21 22 23 24  16 17 18 19 20 21 22  \n28 29 30 31           25 26 27 28 29 30     23 24 25 26 27 28 29  \n                                            30 31                 \n##输出当前日期\nhisen@ubuntu:~$ date\nTue Mar 14 11:48:14 CST 2017\n##格式化输出年月日\nhisen@ubuntu:~$ date \"+%Y-%m-%d\"\n2017-03-14\n##格式化输出当前时间\nhisen@ubuntu:~$ date \"+%H:%M:%S\"\n11:49:10\n##格式化输出年月日时间\nhisen@ubuntu:~$ date \"+%Y-%m-%d %H:%M:%S\" \n2017-03-14 11:49:18\n```","slug":"linux cal date命令详解","published":1,"updated":"2017-03-14T03:52:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsv008kolejyspkdbee","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##显示当月的日历</span><br><span class=\"line\">hisen@ubuntu:~$ cal</span><br><span class=\"line\">     March 2017       </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">          1  2  3  4  </span><br><span class=\"line\"> 5  6  7  8  9 10 11  </span><br><span class=\"line\">12 13 14 15 16 17 18  </span><br><span class=\"line\">19 20 21 22 23 24 25  </span><br><span class=\"line\">26 27 28 29 30 31     </span><br><span class=\"line\"></span><br><span class=\"line\">##指定显示1997年11月当月的日历</span><br><span class=\"line\">hisen@ubuntu:~$ cal 11 1997</span><br><span class=\"line\">   November 1997      </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">                   1  </span><br><span class=\"line\"> 2  3  4  5  6  7  8  </span><br><span class=\"line\"> 9 10 11 12 13 14 15  </span><br><span class=\"line\">16 17 18 19 20 21 22  </span><br><span class=\"line\">23 24 25 26 27 28 29  </span><br><span class=\"line\">30   </span><br><span class=\"line\">##显示2018年全年12个月的日历</span><br><span class=\"line\">hisen@ubuntu:~$ cal -m 12 -y 2018</span><br><span class=\"line\">                            2018</span><br><span class=\"line\">      January               February               March          </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">    1  2  3  4  5  6               1  2  3               1  2  3  </span><br><span class=\"line\"> 7  8  9 10 11 12 13   4  5  6  7  8  9 10   4  5  6  7  8  9 10  </span><br><span class=\"line\">14 15 16 17 18 19 20  11 12 13 14 15 16 17  11 12 13 14 15 16 17  </span><br><span class=\"line\">21 22 23 24 25 26 27  18 19 20 21 22 23 24  18 19 20 21 22 23 24  </span><br><span class=\"line\">28 29 30 31           25 26 27 28           25 26 27 28 29 30 31  </span><br><span class=\"line\">                                                                  </span><br><span class=\"line\"></span><br><span class=\"line\">       April                  May                   June          </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\"> 1  2  3  4  5  6  7         1  2  3  4  5                  1  2  </span><br><span class=\"line\"> 8  9 10 11 12 13 14   6  7  8  9 10 11 12   3  4  5  6  7  8  9  </span><br><span class=\"line\">15 16 17 18 19 20 21  13 14 15 16 17 18 19  10 11 12 13 14 15 16  </span><br><span class=\"line\">22 23 24 25 26 27 28  20 21 22 23 24 25 26  17 18 19 20 21 22 23  </span><br><span class=\"line\">29 30                 27 28 29 30 31        24 25 26 27 28 29 30  </span><br><span class=\"line\">                                                                  </span><br><span class=\"line\"></span><br><span class=\"line\">        July                 August              September        </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\"> 1  2  3  4  5  6  7            1  2  3  4                     1  </span><br><span class=\"line\"> 8  9 10 11 12 13 14   5  6  7  8  9 10 11   2  3  4  5  6  7  8  </span><br><span class=\"line\">15 16 17 18 19 20 21  12 13 14 15 16 17 18   9 10 11 12 13 14 15  </span><br><span class=\"line\">22 23 24 25 26 27 28  19 20 21 22 23 24 25  16 17 18 19 20 21 22  </span><br><span class=\"line\">29 30 31              26 27 28 29 30 31     23 24 25 26 27 28 29  </span><br><span class=\"line\">                                            30                    </span><br><span class=\"line\"></span><br><span class=\"line\">      October               November              December        </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">    1  2  3  4  5  6               1  2  3                     1  </span><br><span class=\"line\"> 7  8  9 10 11 12 13   4  5  6  7  8  9 10   2  3  4  5  6  7  8  </span><br><span class=\"line\">14 15 16 17 18 19 20  11 12 13 14 15 16 17   9 10 11 12 13 14 15  </span><br><span class=\"line\">21 22 23 24 25 26 27  18 19 20 21 22 23 24  16 17 18 19 20 21 22  </span><br><span class=\"line\">28 29 30 31           25 26 27 28 29 30     23 24 25 26 27 28 29  </span><br><span class=\"line\">                                            30 31                 </span><br><span class=\"line\">##输出当前日期</span><br><span class=\"line\">hisen@ubuntu:~$ date</span><br><span class=\"line\">Tue Mar 14 11:48:14 CST 2017</span><br><span class=\"line\">##格式化输出年月日</span><br><span class=\"line\">hisen@ubuntu:~$ date &quot;+%Y-%m-%d&quot;</span><br><span class=\"line\">2017-03-14</span><br><span class=\"line\">##格式化输出当前时间</span><br><span class=\"line\">hisen@ubuntu:~$ date &quot;+%H:%M:%S&quot;</span><br><span class=\"line\">11:49:10</span><br><span class=\"line\">##格式化输出年月日时间</span><br><span class=\"line\">hisen@ubuntu:~$ date &quot;+%Y-%m-%d %H:%M:%S&quot; </span><br><span class=\"line\">2017-03-14 11:49:18</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##显示当月的日历</span><br><span class=\"line\">hisen@ubuntu:~$ cal</span><br><span class=\"line\">     March 2017       </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">          1  2  3  4  </span><br><span class=\"line\"> 5  6  7  8  9 10 11  </span><br><span class=\"line\">12 13 14 15 16 17 18  </span><br><span class=\"line\">19 20 21 22 23 24 25  </span><br><span class=\"line\">26 27 28 29 30 31     </span><br><span class=\"line\"></span><br><span class=\"line\">##指定显示1997年11月当月的日历</span><br><span class=\"line\">hisen@ubuntu:~$ cal 11 1997</span><br><span class=\"line\">   November 1997      </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">                   1  </span><br><span class=\"line\"> 2  3  4  5  6  7  8  </span><br><span class=\"line\"> 9 10 11 12 13 14 15  </span><br><span class=\"line\">16 17 18 19 20 21 22  </span><br><span class=\"line\">23 24 25 26 27 28 29  </span><br><span class=\"line\">30   </span><br><span class=\"line\">##显示2018年全年12个月的日历</span><br><span class=\"line\">hisen@ubuntu:~$ cal -m 12 -y 2018</span><br><span class=\"line\">                            2018</span><br><span class=\"line\">      January               February               March          </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">    1  2  3  4  5  6               1  2  3               1  2  3  </span><br><span class=\"line\"> 7  8  9 10 11 12 13   4  5  6  7  8  9 10   4  5  6  7  8  9 10  </span><br><span class=\"line\">14 15 16 17 18 19 20  11 12 13 14 15 16 17  11 12 13 14 15 16 17  </span><br><span class=\"line\">21 22 23 24 25 26 27  18 19 20 21 22 23 24  18 19 20 21 22 23 24  </span><br><span class=\"line\">28 29 30 31           25 26 27 28           25 26 27 28 29 30 31  </span><br><span class=\"line\">                                                                  </span><br><span class=\"line\"></span><br><span class=\"line\">       April                  May                   June          </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\"> 1  2  3  4  5  6  7         1  2  3  4  5                  1  2  </span><br><span class=\"line\"> 8  9 10 11 12 13 14   6  7  8  9 10 11 12   3  4  5  6  7  8  9  </span><br><span class=\"line\">15 16 17 18 19 20 21  13 14 15 16 17 18 19  10 11 12 13 14 15 16  </span><br><span class=\"line\">22 23 24 25 26 27 28  20 21 22 23 24 25 26  17 18 19 20 21 22 23  </span><br><span class=\"line\">29 30                 27 28 29 30 31        24 25 26 27 28 29 30  </span><br><span class=\"line\">                                                                  </span><br><span class=\"line\"></span><br><span class=\"line\">        July                 August              September        </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\"> 1  2  3  4  5  6  7            1  2  3  4                     1  </span><br><span class=\"line\"> 8  9 10 11 12 13 14   5  6  7  8  9 10 11   2  3  4  5  6  7  8  </span><br><span class=\"line\">15 16 17 18 19 20 21  12 13 14 15 16 17 18   9 10 11 12 13 14 15  </span><br><span class=\"line\">22 23 24 25 26 27 28  19 20 21 22 23 24 25  16 17 18 19 20 21 22  </span><br><span class=\"line\">29 30 31              26 27 28 29 30 31     23 24 25 26 27 28 29  </span><br><span class=\"line\">                                            30                    </span><br><span class=\"line\"></span><br><span class=\"line\">      October               November              December        </span><br><span class=\"line\">Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  </span><br><span class=\"line\">    1  2  3  4  5  6               1  2  3                     1  </span><br><span class=\"line\"> 7  8  9 10 11 12 13   4  5  6  7  8  9 10   2  3  4  5  6  7  8  </span><br><span class=\"line\">14 15 16 17 18 19 20  11 12 13 14 15 16 17   9 10 11 12 13 14 15  </span><br><span class=\"line\">21 22 23 24 25 26 27  18 19 20 21 22 23 24  16 17 18 19 20 21 22  </span><br><span class=\"line\">28 29 30 31           25 26 27 28 29 30     23 24 25 26 27 28 29  </span><br><span class=\"line\">                                            30 31                 </span><br><span class=\"line\">##输出当前日期</span><br><span class=\"line\">hisen@ubuntu:~$ date</span><br><span class=\"line\">Tue Mar 14 11:48:14 CST 2017</span><br><span class=\"line\">##格式化输出年月日</span><br><span class=\"line\">hisen@ubuntu:~$ date &quot;+%Y-%m-%d&quot;</span><br><span class=\"line\">2017-03-14</span><br><span class=\"line\">##格式化输出当前时间</span><br><span class=\"line\">hisen@ubuntu:~$ date &quot;+%H:%M:%S&quot;</span><br><span class=\"line\">11:49:10</span><br><span class=\"line\">##格式化输出年月日时间</span><br><span class=\"line\">hisen@ubuntu:~$ date &quot;+%Y-%m-%d %H:%M:%S&quot; </span><br><span class=\"line\">2017-03-14 11:49:18</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"linux安装tree命令 - apt-get install tree","keywords":["linux安装tree命令","linux安装tree","linux tree","apt-get install tree"],"date":"2017-05-03T01:31:00.000Z","_content":"目前debian系列的系统都无法使用apt-get install tree来安装tree命令\n\n以下是安装步骤\n```\n#下载（官网为：http://mama.indstate.edu/users/ice/tree/）\nwget http://mama.indstate.edu/users/ice/tree/src/tree-1.7.0.tgz\n#解压\ntar -zxvf tree-1.7.0.tgz\n#进入目录\ncd tree-1.7.0\n#安装\nsudo make install\n#完毕\n```\n最简单的使用方法，在目录下输入：tree\n\n使用效果\n```\nhisen@ubuntu:~/dl$ tree\n.\n├── hisen.log\n├── master\n└── test_db-master\n    ├── Changelog\n    ├── employees_partitioned_5.1.sql\n    ├── employees_partitioned.sql\n    ├── employees.sql\n    ├── images\n    │   ├── employees.gif\n    │   ├── employees.jpg\n    │   └── employees.png\n    ├── load_departments.dump\n    ├── load_dept_emp.dump\n    ├── load_dept_manager.dump\n    ├── load_employees.dump\n    ├── load_salaries1.dump\n    ├── load_salaries2.dump\n    ├── load_salaries3.dump\n    ├── load_titles.dump\n    ├── objects.sql\n    ├── README.md\n    ├── sakila\n    │   ├── README.md\n    │   ├── sakila-mv-data.sql\n    │   └── sakila-mv-schema.sql\n    ├── show_elapsed.sql\n    ├── sql_test.sh\n    ├── test_employees_md5.sql\n    └── test_employees_sha.sql\n\n3 directories, 26 files\n```\n使用参数\n```\ntree命令行参数：\n\n-a 显示所有文件和目录。\n-A 使用ASNI绘图字符显示树状图而非以ASCII字符组合。\n-C 在文件和目录清单加上色彩，便于区分各种类型。\n-d 显示目录名称而非内容。\n-D 列出文件或目录的更改时间。\n-f 在每个文件或目录之前，显示完整的相对路径名称。\n-F 在执行文件，目录，Socket，符号连接，管道名称名称，各自加上\"*\",\"/\",\"=\",\"@\",\"|\"号。\n-g 列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码。\n-i 不以阶梯状列出文件或目录名称。\n-I 不显示符合范本样式的文件或目录名称。\n-l 如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录。\n-n 不在文件和目录清单加上色彩。\n-N 直接列出文件和目录名称，包括控制字符。\n-p 列出权限标示。\n-P 只显示符合范本样式的文件或目录名称。\n-q 用\"?\"号取代控制字符，列出文件和目录名称。\n-s 列出文件或目录大小。\n-t 用文件和目录的更改时间排序。\n-u 列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码。\n-x 将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外。\n```","source":"_posts/linux安装tree命令 - apt-get install tree.md","raw":"---\ntitle: linux安装tree命令 - apt-get install tree\nkeywords: [linux安装tree命令,linux安装tree,linux tree,apt-get install tree]\ndate: 2017/5/3 9:31\ntags: [linux]\ncategories: linux\n---\n目前debian系列的系统都无法使用apt-get install tree来安装tree命令\n\n以下是安装步骤\n```\n#下载（官网为：http://mama.indstate.edu/users/ice/tree/）\nwget http://mama.indstate.edu/users/ice/tree/src/tree-1.7.0.tgz\n#解压\ntar -zxvf tree-1.7.0.tgz\n#进入目录\ncd tree-1.7.0\n#安装\nsudo make install\n#完毕\n```\n最简单的使用方法，在目录下输入：tree\n\n使用效果\n```\nhisen@ubuntu:~/dl$ tree\n.\n├── hisen.log\n├── master\n└── test_db-master\n    ├── Changelog\n    ├── employees_partitioned_5.1.sql\n    ├── employees_partitioned.sql\n    ├── employees.sql\n    ├── images\n    │   ├── employees.gif\n    │   ├── employees.jpg\n    │   └── employees.png\n    ├── load_departments.dump\n    ├── load_dept_emp.dump\n    ├── load_dept_manager.dump\n    ├── load_employees.dump\n    ├── load_salaries1.dump\n    ├── load_salaries2.dump\n    ├── load_salaries3.dump\n    ├── load_titles.dump\n    ├── objects.sql\n    ├── README.md\n    ├── sakila\n    │   ├── README.md\n    │   ├── sakila-mv-data.sql\n    │   └── sakila-mv-schema.sql\n    ├── show_elapsed.sql\n    ├── sql_test.sh\n    ├── test_employees_md5.sql\n    └── test_employees_sha.sql\n\n3 directories, 26 files\n```\n使用参数\n```\ntree命令行参数：\n\n-a 显示所有文件和目录。\n-A 使用ASNI绘图字符显示树状图而非以ASCII字符组合。\n-C 在文件和目录清单加上色彩，便于区分各种类型。\n-d 显示目录名称而非内容。\n-D 列出文件或目录的更改时间。\n-f 在每个文件或目录之前，显示完整的相对路径名称。\n-F 在执行文件，目录，Socket，符号连接，管道名称名称，各自加上\"*\",\"/\",\"=\",\"@\",\"|\"号。\n-g 列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码。\n-i 不以阶梯状列出文件或目录名称。\n-I 不显示符合范本样式的文件或目录名称。\n-l 如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录。\n-n 不在文件和目录清单加上色彩。\n-N 直接列出文件和目录名称，包括控制字符。\n-p 列出权限标示。\n-P 只显示符合范本样式的文件或目录名称。\n-q 用\"?\"号取代控制字符，列出文件和目录名称。\n-s 列出文件或目录大小。\n-t 用文件和目录的更改时间排序。\n-u 列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码。\n-x 将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外。\n```","slug":"linux安装tree命令 - apt-get install tree","published":1,"updated":"2017-05-03T01:37:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsw008nolejfy5bpyvd","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>目前debian系列的系统都无法使用apt-get install tree来安装tree命令</p><p>以下是安装步骤<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#下载（官网为：http://mama.indstate.edu/users/ice/tree/）</span><br><span class=\"line\">wget http://mama.indstate.edu/users/ice/tree/src/tree-1.7.0.tgz</span><br><span class=\"line\">#解压</span><br><span class=\"line\">tar -zxvf tree-1.7.0.tgz</span><br><span class=\"line\">#进入目录</span><br><span class=\"line\">cd tree-1.7.0</span><br><span class=\"line\">#安装</span><br><span class=\"line\">sudo make install</span><br><span class=\"line\">#完毕</span><br></pre></td></tr></table></figure><p></p><p>最简单的使用方法，在目录下输入：tree</p><p>使用效果<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:~/dl$ tree</span><br><span class=\"line\">.</span><br><span class=\"line\">├── hisen.log</span><br><span class=\"line\">├── master</span><br><span class=\"line\">└── test_db-master</span><br><span class=\"line\">    ├── Changelog</span><br><span class=\"line\">    ├── employees_partitioned_5.1.sql</span><br><span class=\"line\">    ├── employees_partitioned.sql</span><br><span class=\"line\">    ├── employees.sql</span><br><span class=\"line\">    ├── images</span><br><span class=\"line\">    │   ├── employees.gif</span><br><span class=\"line\">    │   ├── employees.jpg</span><br><span class=\"line\">    │   └── employees.png</span><br><span class=\"line\">    ├── load_departments.dump</span><br><span class=\"line\">    ├── load_dept_emp.dump</span><br><span class=\"line\">    ├── load_dept_manager.dump</span><br><span class=\"line\">    ├── load_employees.dump</span><br><span class=\"line\">    ├── load_salaries1.dump</span><br><span class=\"line\">    ├── load_salaries2.dump</span><br><span class=\"line\">    ├── load_salaries3.dump</span><br><span class=\"line\">    ├── load_titles.dump</span><br><span class=\"line\">    ├── objects.sql</span><br><span class=\"line\">    ├── README.md</span><br><span class=\"line\">    ├── sakila</span><br><span class=\"line\">    │   ├── README.md</span><br><span class=\"line\">    │   ├── sakila-mv-data.sql</span><br><span class=\"line\">    │   └── sakila-mv-schema.sql</span><br><span class=\"line\">    ├── show_elapsed.sql</span><br><span class=\"line\">    ├── sql_test.sh</span><br><span class=\"line\">    ├── test_employees_md5.sql</span><br><span class=\"line\">    └── test_employees_sha.sql</span><br><span class=\"line\"></span><br><span class=\"line\">3 directories, 26 files</span><br></pre></td></tr></table></figure><p></p><p>使用参数<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tree命令行参数：</span><br><span class=\"line\"></span><br><span class=\"line\">-a 显示所有文件和目录。</span><br><span class=\"line\">-A 使用ASNI绘图字符显示树状图而非以ASCII字符组合。</span><br><span class=\"line\">-C 在文件和目录清单加上色彩，便于区分各种类型。</span><br><span class=\"line\">-d 显示目录名称而非内容。</span><br><span class=\"line\">-D 列出文件或目录的更改时间。</span><br><span class=\"line\">-f 在每个文件或目录之前，显示完整的相对路径名称。</span><br><span class=\"line\">-F 在执行文件，目录，Socket，符号连接，管道名称名称，各自加上&quot;*&quot;,&quot;/&quot;,&quot;=&quot;,&quot;@&quot;,&quot;|&quot;号。</span><br><span class=\"line\">-g 列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码。</span><br><span class=\"line\">-i 不以阶梯状列出文件或目录名称。</span><br><span class=\"line\">-I 不显示符合范本样式的文件或目录名称。</span><br><span class=\"line\">-l 如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录。</span><br><span class=\"line\">-n 不在文件和目录清单加上色彩。</span><br><span class=\"line\">-N 直接列出文件和目录名称，包括控制字符。</span><br><span class=\"line\">-p 列出权限标示。</span><br><span class=\"line\">-P 只显示符合范本样式的文件或目录名称。</span><br><span class=\"line\">-q 用&quot;?&quot;号取代控制字符，列出文件和目录名称。</span><br><span class=\"line\">-s 列出文件或目录大小。</span><br><span class=\"line\">-t 用文件和目录的更改时间排序。</span><br><span class=\"line\">-u 列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码。</span><br><span class=\"line\">-x 将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外。</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>目前debian系列的系统都无法使用apt-get install tree来安装tree命令</p><p>以下是安装步骤<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#下载（官网为：http://mama.indstate.edu/users/ice/tree/）</span><br><span class=\"line\">wget http://mama.indstate.edu/users/ice/tree/src/tree-1.7.0.tgz</span><br><span class=\"line\">#解压</span><br><span class=\"line\">tar -zxvf tree-1.7.0.tgz</span><br><span class=\"line\">#进入目录</span><br><span class=\"line\">cd tree-1.7.0</span><br><span class=\"line\">#安装</span><br><span class=\"line\">sudo make install</span><br><span class=\"line\">#完毕</span><br></pre></td></tr></table></figure><p></p><p>最简单的使用方法，在目录下输入：tree</p><p>使用效果<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:~/dl$ tree</span><br><span class=\"line\">.</span><br><span class=\"line\">├── hisen.log</span><br><span class=\"line\">├── master</span><br><span class=\"line\">└── test_db-master</span><br><span class=\"line\">    ├── Changelog</span><br><span class=\"line\">    ├── employees_partitioned_5.1.sql</span><br><span class=\"line\">    ├── employees_partitioned.sql</span><br><span class=\"line\">    ├── employees.sql</span><br><span class=\"line\">    ├── images</span><br><span class=\"line\">    │   ├── employees.gif</span><br><span class=\"line\">    │   ├── employees.jpg</span><br><span class=\"line\">    │   └── employees.png</span><br><span class=\"line\">    ├── load_departments.dump</span><br><span class=\"line\">    ├── load_dept_emp.dump</span><br><span class=\"line\">    ├── load_dept_manager.dump</span><br><span class=\"line\">    ├── load_employees.dump</span><br><span class=\"line\">    ├── load_salaries1.dump</span><br><span class=\"line\">    ├── load_salaries2.dump</span><br><span class=\"line\">    ├── load_salaries3.dump</span><br><span class=\"line\">    ├── load_titles.dump</span><br><span class=\"line\">    ├── objects.sql</span><br><span class=\"line\">    ├── README.md</span><br><span class=\"line\">    ├── sakila</span><br><span class=\"line\">    │   ├── README.md</span><br><span class=\"line\">    │   ├── sakila-mv-data.sql</span><br><span class=\"line\">    │   └── sakila-mv-schema.sql</span><br><span class=\"line\">    ├── show_elapsed.sql</span><br><span class=\"line\">    ├── sql_test.sh</span><br><span class=\"line\">    ├── test_employees_md5.sql</span><br><span class=\"line\">    └── test_employees_sha.sql</span><br><span class=\"line\"></span><br><span class=\"line\">3 directories, 26 files</span><br></pre></td></tr></table></figure><p></p><p>使用参数<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tree命令行参数：</span><br><span class=\"line\"></span><br><span class=\"line\">-a 显示所有文件和目录。</span><br><span class=\"line\">-A 使用ASNI绘图字符显示树状图而非以ASCII字符组合。</span><br><span class=\"line\">-C 在文件和目录清单加上色彩，便于区分各种类型。</span><br><span class=\"line\">-d 显示目录名称而非内容。</span><br><span class=\"line\">-D 列出文件或目录的更改时间。</span><br><span class=\"line\">-f 在每个文件或目录之前，显示完整的相对路径名称。</span><br><span class=\"line\">-F 在执行文件，目录，Socket，符号连接，管道名称名称，各自加上&quot;*&quot;,&quot;/&quot;,&quot;=&quot;,&quot;@&quot;,&quot;|&quot;号。</span><br><span class=\"line\">-g 列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码。</span><br><span class=\"line\">-i 不以阶梯状列出文件或目录名称。</span><br><span class=\"line\">-I 不显示符合范本样式的文件或目录名称。</span><br><span class=\"line\">-l 如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录。</span><br><span class=\"line\">-n 不在文件和目录清单加上色彩。</span><br><span class=\"line\">-N 直接列出文件和目录名称，包括控制字符。</span><br><span class=\"line\">-p 列出权限标示。</span><br><span class=\"line\">-P 只显示符合范本样式的文件或目录名称。</span><br><span class=\"line\">-q 用&quot;?&quot;号取代控制字符，列出文件和目录名称。</span><br><span class=\"line\">-s 列出文件或目录大小。</span><br><span class=\"line\">-t 用文件和目录的更改时间排序。</span><br><span class=\"line\">-u 列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码。</span><br><span class=\"line\">-x 将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外。</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"linux常用的几个命令","date":"2017-01-22T15:27:02.000Z","_content":"\n1、查看日志最后几行\n```\ntail -100 /access.log\n```\n2、进入目录相关\n```\n#进入一个目录\nroot@hisenyuan:/# cd /home/wwwlog/\n#进入当前目录下的www.google.com目录\nroot@hisenyuan:/home/wwwlog# cd ./www.google.com\n#进入父目录\t\nroot@hisenyuan:/home/wwwlog/www.google.com# cd ../\n#进入linux系统根目录\nroot@hisenyuan:/home/wwwlog# cd /\n#根目录\nroot@hisenyuan:/# \n```\n3、看倒数多少行\n```\n#看倒数10行\ntail -10 /filepath/filename\n#看行数外加过滤含有指定字符的行\ntail -10 access.log | grep -v \"yourstring\"\n```\n4、过滤特定行，保存结果到新文件\n```\ncat /root/old.text | grep -v \"yourstring\"> /root/new.text\n```","source":"_posts/linux常用的几个命令.md","raw":"---\ntitle: linux常用的几个命令\ndate: 2017-01-22 23:27:02\ntags: [java,linux]\n---\n\n1、查看日志最后几行\n```\ntail -100 /access.log\n```\n2、进入目录相关\n```\n#进入一个目录\nroot@hisenyuan:/# cd /home/wwwlog/\n#进入当前目录下的www.google.com目录\nroot@hisenyuan:/home/wwwlog# cd ./www.google.com\n#进入父目录\t\nroot@hisenyuan:/home/wwwlog/www.google.com# cd ../\n#进入linux系统根目录\nroot@hisenyuan:/home/wwwlog# cd /\n#根目录\nroot@hisenyuan:/# \n```\n3、看倒数多少行\n```\n#看倒数10行\ntail -10 /filepath/filename\n#看行数外加过滤含有指定字符的行\ntail -10 access.log | grep -v \"yourstring\"\n```\n4、过滤特定行，保存结果到新文件\n```\ncat /root/old.text | grep -v \"yourstring\"> /root/new.text\n```","slug":"linux常用的几个命令","published":1,"updated":"2017-01-22T16:03:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsx008qolej8r6rwqu9","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>1、查看日志最后几行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tail -100 /access.log</span><br></pre></td></tr></table></figure><p></p><p>2、进入目录相关<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#进入一个目录</span><br><span class=\"line\">root@hisenyuan:/# cd /home/wwwlog/</span><br><span class=\"line\">#进入当前目录下的www.google.com目录</span><br><span class=\"line\">root@hisenyuan:/home/wwwlog# cd ./www.google.com</span><br><span class=\"line\">#进入父目录\t</span><br><span class=\"line\">root@hisenyuan:/home/wwwlog/www.google.com# cd ../</span><br><span class=\"line\">#进入linux系统根目录</span><br><span class=\"line\">root@hisenyuan:/home/wwwlog# cd /</span><br><span class=\"line\">#根目录</span><br><span class=\"line\">root@hisenyuan:/#</span><br></pre></td></tr></table></figure><p></p><p>3、看倒数多少行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#看倒数10行</span><br><span class=\"line\">tail -10 /filepath/filename</span><br><span class=\"line\">#看行数外加过滤含有指定字符的行</span><br><span class=\"line\">tail -10 access.log | grep -v &quot;yourstring&quot;</span><br></pre></td></tr></table></figure><p></p><p>4、过滤特定行，保存结果到新文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat /root/old.text | grep -v &quot;yourstring&quot;&gt; /root/new.text</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>1、查看日志最后几行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tail -100 /access.log</span><br></pre></td></tr></table></figure><p></p><p>2、进入目录相关<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#进入一个目录</span><br><span class=\"line\">root@hisenyuan:/# cd /home/wwwlog/</span><br><span class=\"line\">#进入当前目录下的www.google.com目录</span><br><span class=\"line\">root@hisenyuan:/home/wwwlog# cd ./www.google.com</span><br><span class=\"line\">#进入父目录\t</span><br><span class=\"line\">root@hisenyuan:/home/wwwlog/www.google.com# cd ../</span><br><span class=\"line\">#进入linux系统根目录</span><br><span class=\"line\">root@hisenyuan:/home/wwwlog# cd /</span><br><span class=\"line\">#根目录</span><br><span class=\"line\">root@hisenyuan:/#</span><br></pre></td></tr></table></figure><p></p><p>3、看倒数多少行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#看倒数10行</span><br><span class=\"line\">tail -10 /filepath/filename</span><br><span class=\"line\">#看行数外加过滤含有指定字符的行</span><br><span class=\"line\">tail -10 access.log | grep -v &quot;yourstring&quot;</span><br></pre></td></tr></table></figure><p></p><p>4、过滤特定行，保存结果到新文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat /root/old.text | grep -v &quot;yourstring&quot;&gt; /root/new.text</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"log4j:WARN No appenders could be found for logger","date":"2017-02-08T12:49:28.000Z","_content":"\n解决办法为：在项目的src下面新建file名为log4j.properties文件\n```\n###设置\nlog4j.rootLogger = debug,stdout,D,E\n\n###输出信息到控制抬\nlog4j.appender.stdout = org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target = System.out\nlog4j.appender.stdout.layout = org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern = [%-5p] %d{yyyy-MM-dd HH:mm:ss,SSS} method:%l%n%m%n\n\n###输出DEBUG 级别以上的日志到=E://logs/error.log\nlog4j.appender.D = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.D.File = E://logs/log.log\nlog4j.appender.D.Append = true\nlog4j.appender.D.Threshold = DEBUG \nlog4j.appender.D.layout = org.apache.log4j.PatternLayout\nlog4j.appender.D.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n\n###输出ERROR 级别以上的日志到=E://logs/error.log\nlog4j.appender.E = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.E.File =E://logs/error.log \nlog4j.appender.E.Append = true\nlog4j.appender.E.Threshold = ERROR \nlog4j.appender.E.layout = org.apache.log4j.PatternLayout\nlog4j.appender.E.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n```\nlog4j详细使用方法:<a href=\"http://www.codeceo.com/article/log4j-usage.html\" target=\"_blank\">点击查看</a>","source":"_posts/log4j-WARN-No-appenders-could-be-found-for-logger.md","raw":"---\ntitle: 'log4j:WARN No appenders could be found for logger'\ndate: 2017-02-08 20:49:28\ntags: [java,log4j]\n---\n\n解决办法为：在项目的src下面新建file名为log4j.properties文件\n```\n###设置\nlog4j.rootLogger = debug,stdout,D,E\n\n###输出信息到控制抬\nlog4j.appender.stdout = org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target = System.out\nlog4j.appender.stdout.layout = org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern = [%-5p] %d{yyyy-MM-dd HH:mm:ss,SSS} method:%l%n%m%n\n\n###输出DEBUG 级别以上的日志到=E://logs/error.log\nlog4j.appender.D = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.D.File = E://logs/log.log\nlog4j.appender.D.Append = true\nlog4j.appender.D.Threshold = DEBUG \nlog4j.appender.D.layout = org.apache.log4j.PatternLayout\nlog4j.appender.D.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n\n###输出ERROR 级别以上的日志到=E://logs/error.log\nlog4j.appender.E = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.E.File =E://logs/error.log \nlog4j.appender.E.Append = true\nlog4j.appender.E.Threshold = ERROR \nlog4j.appender.E.layout = org.apache.log4j.PatternLayout\nlog4j.appender.E.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n```\nlog4j详细使用方法:<a href=\"http://www.codeceo.com/article/log4j-usage.html\" target=\"_blank\">点击查看</a>","slug":"log4j-WARN-No-appenders-could-be-found-for-logger","published":1,"updated":"2017-02-08T12:58:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdsy008uolejng8du7g1","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>解决办法为：在项目的src下面新建file名为log4j.properties文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">###设置</span><br><span class=\"line\">log4j.rootLogger = debug,stdout,D,E</span><br><span class=\"line\"></span><br><span class=\"line\">###输出信息到控制抬</span><br><span class=\"line\">log4j.appender.stdout = org.apache.log4j.ConsoleAppender</span><br><span class=\"line\">log4j.appender.stdout.Target = System.out</span><br><span class=\"line\">log4j.appender.stdout.layout = org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.stdout.layout.ConversionPattern = [%-5p] %d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; method:%l%n%m%n</span><br><span class=\"line\"></span><br><span class=\"line\">###输出DEBUG 级别以上的日志到=E://logs/error.log</span><br><span class=\"line\">log4j.appender.D = org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">log4j.appender.D.File = E://logs/log.log</span><br><span class=\"line\">log4j.appender.D.Append = true</span><br><span class=\"line\">log4j.appender.D.Threshold = DEBUG </span><br><span class=\"line\">log4j.appender.D.layout = org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.D.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br><span class=\"line\"></span><br><span class=\"line\">###输出ERROR 级别以上的日志到=E://logs/error.log</span><br><span class=\"line\">log4j.appender.E = org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">log4j.appender.E.File =E://logs/error.log </span><br><span class=\"line\">log4j.appender.E.Append = true</span><br><span class=\"line\">log4j.appender.E.Threshold = ERROR </span><br><span class=\"line\">log4j.appender.E.layout = org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.E.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br></pre></td></tr></table></figure><p></p><p>log4j详细使用方法:<a href=\"http://www.codeceo.com/article/log4j-usage.html\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>解决办法为：在项目的src下面新建file名为log4j.properties文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">###设置</span><br><span class=\"line\">log4j.rootLogger = debug,stdout,D,E</span><br><span class=\"line\"></span><br><span class=\"line\">###输出信息到控制抬</span><br><span class=\"line\">log4j.appender.stdout = org.apache.log4j.ConsoleAppender</span><br><span class=\"line\">log4j.appender.stdout.Target = System.out</span><br><span class=\"line\">log4j.appender.stdout.layout = org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.stdout.layout.ConversionPattern = [%-5p] %d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; method:%l%n%m%n</span><br><span class=\"line\"></span><br><span class=\"line\">###输出DEBUG 级别以上的日志到=E://logs/error.log</span><br><span class=\"line\">log4j.appender.D = org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">log4j.appender.D.File = E://logs/log.log</span><br><span class=\"line\">log4j.appender.D.Append = true</span><br><span class=\"line\">log4j.appender.D.Threshold = DEBUG </span><br><span class=\"line\">log4j.appender.D.layout = org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.D.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br><span class=\"line\"></span><br><span class=\"line\">###输出ERROR 级别以上的日志到=E://logs/error.log</span><br><span class=\"line\">log4j.appender.E = org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">log4j.appender.E.File =E://logs/error.log </span><br><span class=\"line\">log4j.appender.E.Append = true</span><br><span class=\"line\">log4j.appender.E.Threshold = ERROR </span><br><span class=\"line\">log4j.appender.E.layout = org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.E.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br></pre></td></tr></table></figure><p></p><p>log4j详细使用方法:<a href=\"http://www.codeceo.com/article/log4j-usage.html\" target=\"_blank\">点击查看</a></p><!-- rebuild by neat -->"},{"title":"linux查看日志文件常用命令","keywords":["linux查看日志","linux log常用命令"],"date":"2017-04-07T08:16:00.000Z","_content":"linux查看日志文件内容命令tail、cat、tac、head、echo\n\ntail -f test.log\n\n你会看到屏幕不断有内容被打印出来. 这时候中断第一个进程Ctrl-C,\n\ncat -n hisen.log | grep '907'\n\n在文件当中查找指定的内容，这里是查询：907\n\n---------------------------\nlinux 如何显示一个文件的某几行(中间几行)\n\n从第3000行开始，显示1000行。即显示3000~3999行\n```\ncat filename | tail -n +3000 | head -n 1000\n```\n显示1000行到3000行\n```\ncat filename| head -n 3000 | tail -n +1000\n```\n*注意两种方法的顺序\n分解：\n\n1. tail -n 1000：显示最后1000行\n2. tail -n +1000：从1000行开始显示，显示1000行以后的\n3. head -n 1000：显示前面1000行\n\n用sed命令\nsed -n '5,10p' filename 这样你就可以只查看文件的第5行到第10行。\n\n例：cat mylog.log | tail -n 1000 #输出mylog.log 文件最后一千行\n\n---------------------------\ncat主要有三大功能：\n\n1.一次显示整个文件。$ cat filename\n\n2.从键盘创建一个文件。$ cat > filename \n\n只能创建新文件,不能编辑已有文件.\n\n3.将几个文件合并为一个文件： $cat file1 file2 > file\n\n参数：\n\n-n 或 --number 由 1 开始对所有输出的行数编号\n\n-b 或 --number-nonblank 和 -n 相似，只不过对于空白行不编号\n\n-s 或 --squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行\n\n-v 或 --show-nonprinting\n\n例：\n\n把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里\n```\ncat -n textfile1 > textfile2\n```\n把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。\n```\ncat -b textfile1 textfile2 >> textfile3\n```\n把test.txt文件扔进垃圾箱，赋空值test.txt\n```\ncat /dev/null > /etc/test.txt \n```\n\n注意：>意思是创建，>>是追加。千万不要弄混了。\n\n---\n\ntac (反向列示)\n\ntac 是将 cat 反写过来，所以他的功能就跟 cat 相反， cat 是由第一行到最后一行连续显示在萤幕上，\n\n而 tac 则是由最后一行到第一行反向在萤幕上显示出来！\n\n------------------------------------------\n在Linux中echo命令用来在标准输出上显示一段字符，比如：\necho \"the echo command test!\"\n\n这个就会输出“the echo command test!”这一行文字！\n\necho \"the echo command test!\">a.sh\n\n这个就会在a.sh文件中输出“the echo command test!”这一行文字！ \n\n该命令的一般格式为： echo [ -n ] 字符串其中选项n表示输出文字后不换行；字符串能加引号，也能不加引号。\n\n用echo命令输出加引号的字符串时，将字符串原样输出；\n\n用echo命令输出不加引号的字符串时，将字符串中的各个单词作为字符串输出，各字符串之间用一个空格分割。\n\n一些实例\n---\n<!--more-->\n```\n#在整个文件搜索含有907的内容\nhisen@ubuntu:~/dl$ cat -n hisen.log | grep '907'\n    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art\n    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep\n\n#从第3行开始,显示10行 即：3~12 并且显示行号\nhisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +3 | head -n 10\n     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac\n     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f\n     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand\n     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f\n     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce\n     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte\n     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To\n    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler\n    11\t07-Apr-2017 15:48:50.318 哪里 [main] ProtocolHandler [ajp-nio-\n    12\t07-Apr-2017 15:48:50.328 信息 [main] start Server startup in 1\n#显示10行前三行\nhisen@ubuntu:~/dl$ cat -n hisen.log | head -n +10 | tail -n 3\n     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte\n     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To\n    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler\n\n#显示3-10行\nhisen@ubuntu:~/dl$ cat -n hisen.log | head -n 10 | tail -n +3\n     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac\n     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f\n     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand\n     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f\n     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce\n     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte\n     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To\n    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler\n\n#显示倒数第二行\nhisen@ubuntu:~/dl$ cat -n hisen.log | tail -n 2\n    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art\n    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep\n\n#从24行开始，显示到最后\nhisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +24\n    24\t07-Apr-2017 15:49:04.585 信息 during time.\n    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art\n    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep\n```","source":"_posts/linux查看日志文件常用命令.md","raw":"---\ntitle: linux查看日志文件常用命令\nkeywords: [linux查看日志,linux log常用命令]\ndate: 2017/4/7 16:16\ntags: [linux]\ncategories: linux\n---\nlinux查看日志文件内容命令tail、cat、tac、head、echo\n\ntail -f test.log\n\n你会看到屏幕不断有内容被打印出来. 这时候中断第一个进程Ctrl-C,\n\ncat -n hisen.log | grep '907'\n\n在文件当中查找指定的内容，这里是查询：907\n\n---------------------------\nlinux 如何显示一个文件的某几行(中间几行)\n\n从第3000行开始，显示1000行。即显示3000~3999行\n```\ncat filename | tail -n +3000 | head -n 1000\n```\n显示1000行到3000行\n```\ncat filename| head -n 3000 | tail -n +1000\n```\n*注意两种方法的顺序\n分解：\n\n1. tail -n 1000：显示最后1000行\n2. tail -n +1000：从1000行开始显示，显示1000行以后的\n3. head -n 1000：显示前面1000行\n\n用sed命令\nsed -n '5,10p' filename 这样你就可以只查看文件的第5行到第10行。\n\n例：cat mylog.log | tail -n 1000 #输出mylog.log 文件最后一千行\n\n---------------------------\ncat主要有三大功能：\n\n1.一次显示整个文件。$ cat filename\n\n2.从键盘创建一个文件。$ cat > filename \n\n只能创建新文件,不能编辑已有文件.\n\n3.将几个文件合并为一个文件： $cat file1 file2 > file\n\n参数：\n\n-n 或 --number 由 1 开始对所有输出的行数编号\n\n-b 或 --number-nonblank 和 -n 相似，只不过对于空白行不编号\n\n-s 或 --squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行\n\n-v 或 --show-nonprinting\n\n例：\n\n把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里\n```\ncat -n textfile1 > textfile2\n```\n把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。\n```\ncat -b textfile1 textfile2 >> textfile3\n```\n把test.txt文件扔进垃圾箱，赋空值test.txt\n```\ncat /dev/null > /etc/test.txt \n```\n\n注意：>意思是创建，>>是追加。千万不要弄混了。\n\n---\n\ntac (反向列示)\n\ntac 是将 cat 反写过来，所以他的功能就跟 cat 相反， cat 是由第一行到最后一行连续显示在萤幕上，\n\n而 tac 则是由最后一行到第一行反向在萤幕上显示出来！\n\n------------------------------------------\n在Linux中echo命令用来在标准输出上显示一段字符，比如：\necho \"the echo command test!\"\n\n这个就会输出“the echo command test!”这一行文字！\n\necho \"the echo command test!\">a.sh\n\n这个就会在a.sh文件中输出“the echo command test!”这一行文字！ \n\n该命令的一般格式为： echo [ -n ] 字符串其中选项n表示输出文字后不换行；字符串能加引号，也能不加引号。\n\n用echo命令输出加引号的字符串时，将字符串原样输出；\n\n用echo命令输出不加引号的字符串时，将字符串中的各个单词作为字符串输出，各字符串之间用一个空格分割。\n\n一些实例\n---\n<!--more-->\n```\n#在整个文件搜索含有907的内容\nhisen@ubuntu:~/dl$ cat -n hisen.log | grep '907'\n    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art\n    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep\n\n#从第3行开始,显示10行 即：3~12 并且显示行号\nhisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +3 | head -n 10\n     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac\n     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f\n     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand\n     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f\n     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce\n     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte\n     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To\n    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler\n    11\t07-Apr-2017 15:48:50.318 哪里 [main] ProtocolHandler [ajp-nio-\n    12\t07-Apr-2017 15:48:50.328 信息 [main] start Server startup in 1\n#显示10行前三行\nhisen@ubuntu:~/dl$ cat -n hisen.log | head -n +10 | tail -n 3\n     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte\n     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To\n    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler\n\n#显示3-10行\nhisen@ubuntu:~/dl$ cat -n hisen.log | head -n 10 | tail -n +3\n     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac\n     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f\n     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand\n     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f\n     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce\n     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte\n     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To\n    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler\n\n#显示倒数第二行\nhisen@ubuntu:~/dl$ cat -n hisen.log | tail -n 2\n    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art\n    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep\n\n#从24行开始，显示到最后\nhisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +24\n    24\t07-Apr-2017 15:49:04.585 信息 during time.\n    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art\n    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep\n```","slug":"linux查看日志文件常用命令","published":1,"updated":"2017-04-07T08:32:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt0008xolejjkyh54tw","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>linux查看日志文件内容命令tail、cat、tac、head、echo</p><p>tail -f test.log</p><p>你会看到屏幕不断有内容被打印出来. 这时候中断第一个进程Ctrl-C,</p><p>cat -n hisen.log | grep ‘907’</p><p>在文件当中查找指定的内容，这里是查询：907</p><hr><p>linux 如何显示一个文件的某几行(中间几行)</p><p>从第3000行开始，显示1000行。即显示3000~3999行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat filename | tail -n +3000 | head -n 1000</span><br></pre></td></tr></table></figure><p></p><p>显示1000行到3000行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat filename| head -n 3000 | tail -n +1000</span><br></pre></td></tr></table></figure><p></p><p>*注意两种方法的顺序<br>分解：</p><ol><li>tail -n 1000：显示最后1000行</li><li>tail -n +1000：从1000行开始显示，显示1000行以后的</li><li>head -n 1000：显示前面1000行</li></ol><p>用sed命令<br>sed -n ‘5,10p’ filename 这样你就可以只查看文件的第5行到第10行。</p><p>例：cat mylog.log | tail -n 1000 #输出mylog.log 文件最后一千行</p><hr><p>cat主要有三大功能：</p><p>1.一次显示整个文件。$ cat filename</p><p>2.从键盘创建一个文件。$ cat &gt; filename</p><p>只能创建新文件,不能编辑已有文件.</p><p>3.将几个文件合并为一个文件： $cat file1 file2 &gt; file</p><p>参数：</p><p>-n 或 –number 由 1 开始对所有输出的行数编号</p><p>-b 或 –number-nonblank 和 -n 相似，只不过对于空白行不编号</p><p>-s 或 –squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行</p><p>-v 或 –show-nonprinting</p><p>例：</p><p>把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat -n textfile1 &gt; textfile2</span><br></pre></td></tr></table></figure><p></p><p>把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat -b textfile1 textfile2 &gt;&gt; textfile3</span><br></pre></td></tr></table></figure><p></p><p>把test.txt文件扔进垃圾箱，赋空值test.txt<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat /dev/null &gt; /etc/test.txt</span><br></pre></td></tr></table></figure><p></p><p>注意：&gt;意思是创建，&gt;&gt;是追加。千万不要弄混了。</p><hr><p>tac (反向列示)</p><p>tac 是将 cat 反写过来，所以他的功能就跟 cat 相反， cat 是由第一行到最后一行连续显示在萤幕上，</p><p>而 tac 则是由最后一行到第一行反向在萤幕上显示出来！</p><hr><p>在Linux中echo命令用来在标准输出上显示一段字符，比如：<br>echo “the echo command test!”</p><p>这个就会输出“the echo command test!”这一行文字！</p><p>echo “the echo command test!”&gt;a.sh</p><p>这个就会在a.sh文件中输出“the echo command test!”这一行文字！</p><p>该命令的一般格式为： echo [ -n ] 字符串其中选项n表示输出文字后不换行；字符串能加引号，也能不加引号。</p><p>用echo命令输出加引号的字符串时，将字符串原样输出；</p><p>用echo命令输出不加引号的字符串时，将字符串中的各个单词作为字符串输出，各字符串之间用一个空格分割。</p><h2 id=\"一些实例\"><a href=\"#一些实例\" class=\"headerlink\" title=\"一些实例\"></a>一些实例</h2><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#在整个文件搜索含有907的内容</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | grep &apos;907&apos;</span><br><span class=\"line\">    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art</span><br><span class=\"line\">    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep</span><br><span class=\"line\"></span><br><span class=\"line\">#从第3行开始,显示10行 即：3~12 并且显示行号</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +3 | head -n 10</span><br><span class=\"line\">     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac</span><br><span class=\"line\">     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f</span><br><span class=\"line\">     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand</span><br><span class=\"line\">     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f</span><br><span class=\"line\">     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce</span><br><span class=\"line\">     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte</span><br><span class=\"line\">     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To</span><br><span class=\"line\">    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler</span><br><span class=\"line\">    11\t07-Apr-2017 15:48:50.318 哪里 [main] ProtocolHandler [ajp-nio-</span><br><span class=\"line\">    12\t07-Apr-2017 15:48:50.328 信息 [main] start Server startup in 1</span><br><span class=\"line\">#显示10行前三行</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | head -n +10 | tail -n 3</span><br><span class=\"line\">     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte</span><br><span class=\"line\">     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To</span><br><span class=\"line\">    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler</span><br><span class=\"line\"></span><br><span class=\"line\">#显示3-10行</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | head -n 10 | tail -n +3</span><br><span class=\"line\">     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac</span><br><span class=\"line\">     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f</span><br><span class=\"line\">     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand</span><br><span class=\"line\">     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f</span><br><span class=\"line\">     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce</span><br><span class=\"line\">     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte</span><br><span class=\"line\">     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To</span><br><span class=\"line\">    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler</span><br><span class=\"line\"></span><br><span class=\"line\">#显示倒数第二行</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | tail -n 2</span><br><span class=\"line\">    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art</span><br><span class=\"line\">    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep</span><br><span class=\"line\"></span><br><span class=\"line\">#从24行开始，显示到最后</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +24</span><br><span class=\"line\">    24\t07-Apr-2017 15:49:04.585 信息 during time.</span><br><span class=\"line\">    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art</span><br><span class=\"line\">    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>linux查看日志文件内容命令tail、cat、tac、head、echo</p><p>tail -f test.log</p><p>你会看到屏幕不断有内容被打印出来. 这时候中断第一个进程Ctrl-C,</p><p>cat -n hisen.log | grep ‘907’</p><p>在文件当中查找指定的内容，这里是查询：907</p><hr><p>linux 如何显示一个文件的某几行(中间几行)</p><p>从第3000行开始，显示1000行。即显示3000~3999行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat filename | tail -n +3000 | head -n 1000</span><br></pre></td></tr></table></figure><p></p><p>显示1000行到3000行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat filename| head -n 3000 | tail -n +1000</span><br></pre></td></tr></table></figure><p></p><p>*注意两种方法的顺序<br>分解：</p><ol><li>tail -n 1000：显示最后1000行</li><li>tail -n +1000：从1000行开始显示，显示1000行以后的</li><li>head -n 1000：显示前面1000行</li></ol><p>用sed命令<br>sed -n ‘5,10p’ filename 这样你就可以只查看文件的第5行到第10行。</p><p>例：cat mylog.log | tail -n 1000 #输出mylog.log 文件最后一千行</p><hr><p>cat主要有三大功能：</p><p>1.一次显示整个文件。$ cat filename</p><p>2.从键盘创建一个文件。$ cat &gt; filename</p><p>只能创建新文件,不能编辑已有文件.</p><p>3.将几个文件合并为一个文件： $cat file1 file2 &gt; file</p><p>参数：</p><p>-n 或 –number 由 1 开始对所有输出的行数编号</p><p>-b 或 –number-nonblank 和 -n 相似，只不过对于空白行不编号</p><p>-s 或 –squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行</p><p>-v 或 –show-nonprinting</p><p>例：</p><p>把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat -n textfile1 &gt; textfile2</span><br></pre></td></tr></table></figure><p></p><p>把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat -b textfile1 textfile2 &gt;&gt; textfile3</span><br></pre></td></tr></table></figure><p></p><p>把test.txt文件扔进垃圾箱，赋空值test.txt<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat /dev/null &gt; /etc/test.txt</span><br></pre></td></tr></table></figure><p></p><p>注意：&gt;意思是创建，&gt;&gt;是追加。千万不要弄混了。</p><hr><p>tac (反向列示)</p><p>tac 是将 cat 反写过来，所以他的功能就跟 cat 相反， cat 是由第一行到最后一行连续显示在萤幕上，</p><p>而 tac 则是由最后一行到第一行反向在萤幕上显示出来！</p><hr><p>在Linux中echo命令用来在标准输出上显示一段字符，比如：<br>echo “the echo command test!”</p><p>这个就会输出“the echo command test!”这一行文字！</p><p>echo “the echo command test!”&gt;a.sh</p><p>这个就会在a.sh文件中输出“the echo command test!”这一行文字！</p><p>该命令的一般格式为： echo [ -n ] 字符串其中选项n表示输出文字后不换行；字符串能加引号，也能不加引号。</p><p>用echo命令输出加引号的字符串时，将字符串原样输出；</p><p>用echo命令输出不加引号的字符串时，将字符串中的各个单词作为字符串输出，各字符串之间用一个空格分割。</p><h2 id=\"一些实例\"><a href=\"#一些实例\" class=\"headerlink\" title=\"一些实例\"></a>一些实例</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#在整个文件搜索含有907的内容</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | grep &apos;907&apos;</span><br><span class=\"line\">    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art</span><br><span class=\"line\">    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep</span><br><span class=\"line\"></span><br><span class=\"line\">#从第3行开始,显示10行 即：3~12 并且显示行号</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +3 | head -n 10</span><br><span class=\"line\">     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac</span><br><span class=\"line\">     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f</span><br><span class=\"line\">     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand</span><br><span class=\"line\">     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f</span><br><span class=\"line\">     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce</span><br><span class=\"line\">     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte</span><br><span class=\"line\">     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To</span><br><span class=\"line\">    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler</span><br><span class=\"line\">    11\t07-Apr-2017 15:48:50.318 哪里 [main] ProtocolHandler [ajp-nio-</span><br><span class=\"line\">    12\t07-Apr-2017 15:48:50.328 信息 [main] start Server startup in 1</span><br><span class=\"line\">#显示10行前三行</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | head -n +10 | tail -n 3</span><br><span class=\"line\">     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte</span><br><span class=\"line\">     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To</span><br><span class=\"line\">    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler</span><br><span class=\"line\"></span><br><span class=\"line\">#显示3-10行</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | head -n 10 | tail -n +3</span><br><span class=\"line\">     3\t07-Apr-2017 15:48:50.072 信息 [main] org.apache.coyote.Abstrac</span><br><span class=\"line\">     4\t07-Apr-2017 15:48:50.137 信息 [main] Using a shared selector f</span><br><span class=\"line\">     5\t07-Apr-2017 15:48:50.172 测试 [main] Initializing ProtocolHand</span><br><span class=\"line\">     6\t07-Apr-2017 15:48:50.186 信息 [main] Using a shared selector f</span><br><span class=\"line\">     7\t07-Apr-2017 15:48:50.187 你猜 [main] load Initialization proce</span><br><span class=\"line\">     8\t07-Apr-2017 15:48:50.261 信息 [main] StandardService.startInte</span><br><span class=\"line\">     9\t07-Apr-2017 15:48:50.261 信息 [main] Servlet Engine: Apache To</span><br><span class=\"line\">    10\t07-Apr-2017 15:48:50.293 信息 [main] Starting ProtocolHandler</span><br><span class=\"line\"></span><br><span class=\"line\">#显示倒数第二行</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | tail -n 2</span><br><span class=\"line\">    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art</span><br><span class=\"line\">    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep</span><br><span class=\"line\"></span><br><span class=\"line\">#从24行开始，显示到最后</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cat -n hisen.log | tail -n +24</span><br><span class=\"line\">    24\t07-Apr-2017 15:49:04.585 信息 during time.</span><br><span class=\"line\">    25\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Art</span><br><span class=\"line\">    26\t[2017-04-07 03:49:04,907] Artifact ssm_study:war exploded: Dep</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"log4j日志信息插入mysql数据库","keywords":["log4j","mysql"],"date":"2017-03-21T10:41:00.000Z","_content":"以前不知道这玩意还能直接插入MySQL数据库\n\n我是使用IDEA，maven\n\n具体的目录结果见github：<a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/log4j/log4j2MySQL\" target=\"_blank\">github</a>\n\nlog4j配置文件\n---\n<!--more-->\n```\n#可以设置级别：debug>info>error\n#debug：显示debug、info、error\n#info：显示info、error\n#error：只error\nlog4j.rootLogger=debug,info,database\n#注意的地方database 对应 log4j.appender.database.URL的database 若认log4j.rootLogger=debug,info,db 那么 log4j.appender.database.URL的database 要改成db\n#log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\n#log4j.appender.logfile.DatePattern=.yyyy-MM-dd\n#log4j.appender.logfile.layout=org.apache.log4j.PatternLayout\n#输出到控制台\n#log4j.appender.appender1=org.apache.log4j.ConsoleAppender\n#样式为TTCCLayout\n#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout\n#设置级别：\n#log4j.rootLogger=debug,appender1\n\n#输出到文件(这里默认为追加方式)\n#log4j.appender.appender1=org.apache.log4j.FileAppender\n#设置文件输出路径\n#【1】文本文件\n#log4j.appender.appender1.File=c:/Log4JDemo02.log\n#【2】HTML文件\nlog4j.appender.appender1.File=c:/Log4JDemo02.html   \n#设置文件输出样式\n#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout\nlog4j.appender.appender1.layout=org.apache.log4j.HTMLLayout  \nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %p [%c] - - <%m>%n\nlog4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.logfile.DatePattern=.yyyy-MM-dd\nlog4j.appender.logfile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.logfile.layout.ConversionPattern=%d %p [%c] wang- <%m>%n\n#下面是配置将日志信息插入数据库，\n#配置输出目标为数据库（假如要将日志在控制台输出，配置为log4j.appender. stdout =org.apache.log4j.ConsoleAppender；将日志写入文件，配置为log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\n#这样的配置在许多地方都要有，需要可查有关资料）,当然你也可以自己扩展org.apache.log4j.jdbc.JDBCAppender这个类，只需要在这里配置就可以了例如我们配置我自己扩展的MyJDBCAppender，配置为#log4j.appender.db=com.neam.commons.MyJDBCAppender\nlog4j.appender.database.Threshold=info\n#定义什么级别的错误将写入到数据库中\nlog4j.appender.database.BufferSize=1\n#设置缓存大小，就是当有1条日志信息是才往数据库插一次\nlog4j.appender.database=org.apache.log4j.jdbc.JDBCAppender\nlog4j.appender.database.driver=com.mysql.jdbc.Driver\n#设置要将日志插入到数据库的驱动\nlog4j.appender.database.URL=jdbc:mysql://127.0.0.1:3306/log4j?useUnicode=true&characterEncoding=UTF-8\nlog4j.appender.database.user=root\nlog4j.appender.database.password=hisen\n\nlog4j.appender.database.sql=insert into log (Class,Mothod,createTime,LogLevel,MSG) values ('%C','%M','%d{yyyy-MM-dd HH:mm:ss}','%p','%m')\nlog4j.appender.database.layout=org.apache.log4j.PatternLayout\n```\n\n测试类\n---\n```\npackage com.hisen.log4j.log4j2MySQL;\n\nimport org.apache.log4j.Logger;\n\n/**\n * 测试一下log4j把日志插入到mysql数据库\n * 插入语句和数据库配置在log4j的配置文件中\n * Created by hisenyuan on 2017/3/21 at 14:23.\n */\npublic class Log4jDemo {\n    private static Logger logger = Logger.getLogger(Log4jDemo.class);\n\n    public static void main(String[] args) {\n        logger.debug(\"这是debug信息\");\n        // 记录info级别的信息\n        logger.info(\"这是info信息\");\n        logger.info(\"这里做了一个XX操作，入库，做操作日志\");\n        // 记录error级别的信息\n        logger.error(\"这是error信息\");\n        hisen();\n    }\n\n    public static void hisen() {\n        logger.debug(\"这是方法中debug信息\");\n        // 记录info级别的信息\n        logger.info(\"这是方法中info信息\");\n        // 记录error级别的信息\n        logger.error(\"这是方法中error信息\");\n    }\n}\n```","source":"_posts/log4j日志信息插入mysql数据库.md","raw":"---\ntitle: log4j日志信息插入mysql数据库\nkeywords: [log4j,mysql]\ndate: 2017/3/21 18:41\ntags: [java]\ncategories: java\n---\n以前不知道这玩意还能直接插入MySQL数据库\n\n我是使用IDEA，maven\n\n具体的目录结果见github：<a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/log4j/log4j2MySQL\" target=\"_blank\">github</a>\n\nlog4j配置文件\n---\n<!--more-->\n```\n#可以设置级别：debug>info>error\n#debug：显示debug、info、error\n#info：显示info、error\n#error：只error\nlog4j.rootLogger=debug,info,database\n#注意的地方database 对应 log4j.appender.database.URL的database 若认log4j.rootLogger=debug,info,db 那么 log4j.appender.database.URL的database 要改成db\n#log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\n#log4j.appender.logfile.DatePattern=.yyyy-MM-dd\n#log4j.appender.logfile.layout=org.apache.log4j.PatternLayout\n#输出到控制台\n#log4j.appender.appender1=org.apache.log4j.ConsoleAppender\n#样式为TTCCLayout\n#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout\n#设置级别：\n#log4j.rootLogger=debug,appender1\n\n#输出到文件(这里默认为追加方式)\n#log4j.appender.appender1=org.apache.log4j.FileAppender\n#设置文件输出路径\n#【1】文本文件\n#log4j.appender.appender1.File=c:/Log4JDemo02.log\n#【2】HTML文件\nlog4j.appender.appender1.File=c:/Log4JDemo02.html   \n#设置文件输出样式\n#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout\nlog4j.appender.appender1.layout=org.apache.log4j.HTMLLayout  \nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %p [%c] - - <%m>%n\nlog4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.logfile.DatePattern=.yyyy-MM-dd\nlog4j.appender.logfile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.logfile.layout.ConversionPattern=%d %p [%c] wang- <%m>%n\n#下面是配置将日志信息插入数据库，\n#配置输出目标为数据库（假如要将日志在控制台输出，配置为log4j.appender. stdout =org.apache.log4j.ConsoleAppender；将日志写入文件，配置为log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\n#这样的配置在许多地方都要有，需要可查有关资料）,当然你也可以自己扩展org.apache.log4j.jdbc.JDBCAppender这个类，只需要在这里配置就可以了例如我们配置我自己扩展的MyJDBCAppender，配置为#log4j.appender.db=com.neam.commons.MyJDBCAppender\nlog4j.appender.database.Threshold=info\n#定义什么级别的错误将写入到数据库中\nlog4j.appender.database.BufferSize=1\n#设置缓存大小，就是当有1条日志信息是才往数据库插一次\nlog4j.appender.database=org.apache.log4j.jdbc.JDBCAppender\nlog4j.appender.database.driver=com.mysql.jdbc.Driver\n#设置要将日志插入到数据库的驱动\nlog4j.appender.database.URL=jdbc:mysql://127.0.0.1:3306/log4j?useUnicode=true&characterEncoding=UTF-8\nlog4j.appender.database.user=root\nlog4j.appender.database.password=hisen\n\nlog4j.appender.database.sql=insert into log (Class,Mothod,createTime,LogLevel,MSG) values ('%C','%M','%d{yyyy-MM-dd HH:mm:ss}','%p','%m')\nlog4j.appender.database.layout=org.apache.log4j.PatternLayout\n```\n\n测试类\n---\n```\npackage com.hisen.log4j.log4j2MySQL;\n\nimport org.apache.log4j.Logger;\n\n/**\n * 测试一下log4j把日志插入到mysql数据库\n * 插入语句和数据库配置在log4j的配置文件中\n * Created by hisenyuan on 2017/3/21 at 14:23.\n */\npublic class Log4jDemo {\n    private static Logger logger = Logger.getLogger(Log4jDemo.class);\n\n    public static void main(String[] args) {\n        logger.debug(\"这是debug信息\");\n        // 记录info级别的信息\n        logger.info(\"这是info信息\");\n        logger.info(\"这里做了一个XX操作，入库，做操作日志\");\n        // 记录error级别的信息\n        logger.error(\"这是error信息\");\n        hisen();\n    }\n\n    public static void hisen() {\n        logger.debug(\"这是方法中debug信息\");\n        // 记录info级别的信息\n        logger.info(\"这是方法中info信息\");\n        // 记录error级别的信息\n        logger.error(\"这是方法中error信息\");\n    }\n}\n```","slug":"log4j日志信息插入mysql数据库","published":1,"updated":"2017-03-21T10:48:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt10091olej6tvzeukc","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>以前不知道这玩意还能直接插入MySQL数据库</p><p>我是使用IDEA，maven</p><p>具体的目录结果见github：<a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/log4j/log4j2MySQL\" target=\"_blank\">github</a></p><h2 id=\"log4j配置文件\"><a href=\"#log4j配置文件\" class=\"headerlink\" title=\"log4j配置文件\"></a>log4j配置文件</h2><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#可以设置级别：debug&gt;info&gt;error</span><br><span class=\"line\">#debug：显示debug、info、error</span><br><span class=\"line\">#info：显示info、error</span><br><span class=\"line\">#error：只error</span><br><span class=\"line\">log4j.rootLogger=debug,info,database</span><br><span class=\"line\">#注意的地方database 对应 log4j.appender.database.URL的database 若认log4j.rootLogger=debug,info,db 那么 log4j.appender.database.URL的database 要改成db</span><br><span class=\"line\">#log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">#log4j.appender.logfile.DatePattern=.yyyy-MM-dd</span><br><span class=\"line\">#log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class=\"line\">#输出到控制台</span><br><span class=\"line\">#log4j.appender.appender1=org.apache.log4j.ConsoleAppender</span><br><span class=\"line\">#样式为TTCCLayout</span><br><span class=\"line\">#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout</span><br><span class=\"line\">#设置级别：</span><br><span class=\"line\">#log4j.rootLogger=debug,appender1</span><br><span class=\"line\"></span><br><span class=\"line\">#输出到文件(这里默认为追加方式)</span><br><span class=\"line\">#log4j.appender.appender1=org.apache.log4j.FileAppender</span><br><span class=\"line\">#设置文件输出路径</span><br><span class=\"line\">#【1】文本文件</span><br><span class=\"line\">#log4j.appender.appender1.File=c:/Log4JDemo02.log</span><br><span class=\"line\">#【2】HTML文件</span><br><span class=\"line\">log4j.appender.appender1.File=c:/Log4JDemo02.html   </span><br><span class=\"line\">#设置文件输出样式</span><br><span class=\"line\">#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout</span><br><span class=\"line\">log4j.appender.appender1.layout=org.apache.log4j.HTMLLayout  </span><br><span class=\"line\">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.stdout.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH:mm:ss&#125; %p [%c] - - &lt;%m&gt;%n</span><br><span class=\"line\">log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">log4j.appender.logfile.DatePattern=.yyyy-MM-dd</span><br><span class=\"line\">log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.logfile.layout.ConversionPattern=%d %p [%c] wang- &lt;%m&gt;%n</span><br><span class=\"line\">#下面是配置将日志信息插入数据库，</span><br><span class=\"line\">#配置输出目标为数据库（假如要将日志在控制台输出，配置为log4j.appender. stdout =org.apache.log4j.ConsoleAppender；将日志写入文件，配置为log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">#这样的配置在许多地方都要有，需要可查有关资料）,当然你也可以自己扩展org.apache.log4j.jdbc.JDBCAppender这个类，只需要在这里配置就可以了例如我们配置我自己扩展的MyJDBCAppender，配置为#log4j.appender.db=com.neam.commons.MyJDBCAppender</span><br><span class=\"line\">log4j.appender.database.Threshold=info</span><br><span class=\"line\">#定义什么级别的错误将写入到数据库中</span><br><span class=\"line\">log4j.appender.database.BufferSize=1</span><br><span class=\"line\">#设置缓存大小，就是当有1条日志信息是才往数据库插一次</span><br><span class=\"line\">log4j.appender.database=org.apache.log4j.jdbc.JDBCAppender</span><br><span class=\"line\">log4j.appender.database.driver=com.mysql.jdbc.Driver</span><br><span class=\"line\">#设置要将日志插入到数据库的驱动</span><br><span class=\"line\">log4j.appender.database.URL=jdbc:mysql://127.0.0.1:3306/log4j?useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class=\"line\">log4j.appender.database.user=root</span><br><span class=\"line\">log4j.appender.database.password=hisen</span><br><span class=\"line\"></span><br><span class=\"line\">log4j.appender.database.sql=insert into log (Class,Mothod,createTime,LogLevel,MSG) values (&apos;%C&apos;,&apos;%M&apos;,&apos;%d&#123;yyyy-MM-dd HH:mm:ss&#125;&apos;,&apos;%p&apos;,&apos;%m&apos;)</span><br><span class=\"line\">log4j.appender.database.layout=org.apache.log4j.PatternLayout</span><br></pre></td></tr></table></figure><h2 id=\"测试类\"><a href=\"#测试类\" class=\"headerlink\" title=\"测试类\"></a>测试类</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.log4j.log4j2MySQL;</span><br><span class=\"line\"></span><br><span class=\"line\">import org.apache.log4j.Logger;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 测试一下log4j把日志插入到mysql数据库</span><br><span class=\"line\"> * 插入语句和数据库配置在log4j的配置文件中</span><br><span class=\"line\"> * Created by hisenyuan on 2017/3/21 at 14:23.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class Log4jDemo &#123;</span><br><span class=\"line\">    private static Logger logger = Logger.getLogger(Log4jDemo.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        logger.debug(&quot;这是debug信息&quot;);</span><br><span class=\"line\">        // 记录info级别的信息</span><br><span class=\"line\">        logger.info(&quot;这是info信息&quot;);</span><br><span class=\"line\">        logger.info(&quot;这里做了一个XX操作，入库，做操作日志&quot;);</span><br><span class=\"line\">        // 记录error级别的信息</span><br><span class=\"line\">        logger.error(&quot;这是error信息&quot;);</span><br><span class=\"line\">        hisen();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void hisen() &#123;</span><br><span class=\"line\">        logger.debug(&quot;这是方法中debug信息&quot;);</span><br><span class=\"line\">        // 记录info级别的信息</span><br><span class=\"line\">        logger.info(&quot;这是方法中info信息&quot;);</span><br><span class=\"line\">        // 记录error级别的信息</span><br><span class=\"line\">        logger.error(&quot;这是方法中error信息&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>以前不知道这玩意还能直接插入MySQL数据库</p><p>我是使用IDEA，maven</p><p>具体的目录结果见github：<a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/log4j/log4j2MySQL\" target=\"_blank\">github</a></p><h2 id=\"log4j配置文件\"><a href=\"#log4j配置文件\" class=\"headerlink\" title=\"log4j配置文件\"></a>log4j配置文件</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#可以设置级别：debug&gt;info&gt;error</span><br><span class=\"line\">#debug：显示debug、info、error</span><br><span class=\"line\">#info：显示info、error</span><br><span class=\"line\">#error：只error</span><br><span class=\"line\">log4j.rootLogger=debug,info,database</span><br><span class=\"line\">#注意的地方database 对应 log4j.appender.database.URL的database 若认log4j.rootLogger=debug,info,db 那么 log4j.appender.database.URL的database 要改成db</span><br><span class=\"line\">#log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">#log4j.appender.logfile.DatePattern=.yyyy-MM-dd</span><br><span class=\"line\">#log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class=\"line\">#输出到控制台</span><br><span class=\"line\">#log4j.appender.appender1=org.apache.log4j.ConsoleAppender</span><br><span class=\"line\">#样式为TTCCLayout</span><br><span class=\"line\">#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout</span><br><span class=\"line\">#设置级别：</span><br><span class=\"line\">#log4j.rootLogger=debug,appender1</span><br><span class=\"line\"></span><br><span class=\"line\">#输出到文件(这里默认为追加方式)</span><br><span class=\"line\">#log4j.appender.appender1=org.apache.log4j.FileAppender</span><br><span class=\"line\">#设置文件输出路径</span><br><span class=\"line\">#【1】文本文件</span><br><span class=\"line\">#log4j.appender.appender1.File=c:/Log4JDemo02.log</span><br><span class=\"line\">#【2】HTML文件</span><br><span class=\"line\">log4j.appender.appender1.File=c:/Log4JDemo02.html   </span><br><span class=\"line\">#设置文件输出样式</span><br><span class=\"line\">#log4j.appender.appender1.layout=org.apache.log4j.TTCCLayout</span><br><span class=\"line\">log4j.appender.appender1.layout=org.apache.log4j.HTMLLayout  </span><br><span class=\"line\">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.stdout.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH:mm:ss&#125; %p [%c] - - &lt;%m&gt;%n</span><br><span class=\"line\">log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">log4j.appender.logfile.DatePattern=.yyyy-MM-dd</span><br><span class=\"line\">log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class=\"line\">log4j.appender.logfile.layout.ConversionPattern=%d %p [%c] wang- &lt;%m&gt;%n</span><br><span class=\"line\">#下面是配置将日志信息插入数据库，</span><br><span class=\"line\">#配置输出目标为数据库（假如要将日志在控制台输出，配置为log4j.appender. stdout =org.apache.log4j.ConsoleAppender；将日志写入文件，配置为log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"line\">#这样的配置在许多地方都要有，需要可查有关资料）,当然你也可以自己扩展org.apache.log4j.jdbc.JDBCAppender这个类，只需要在这里配置就可以了例如我们配置我自己扩展的MyJDBCAppender，配置为#log4j.appender.db=com.neam.commons.MyJDBCAppender</span><br><span class=\"line\">log4j.appender.database.Threshold=info</span><br><span class=\"line\">#定义什么级别的错误将写入到数据库中</span><br><span class=\"line\">log4j.appender.database.BufferSize=1</span><br><span class=\"line\">#设置缓存大小，就是当有1条日志信息是才往数据库插一次</span><br><span class=\"line\">log4j.appender.database=org.apache.log4j.jdbc.JDBCAppender</span><br><span class=\"line\">log4j.appender.database.driver=com.mysql.jdbc.Driver</span><br><span class=\"line\">#设置要将日志插入到数据库的驱动</span><br><span class=\"line\">log4j.appender.database.URL=jdbc:mysql://127.0.0.1:3306/log4j?useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class=\"line\">log4j.appender.database.user=root</span><br><span class=\"line\">log4j.appender.database.password=hisen</span><br><span class=\"line\"></span><br><span class=\"line\">log4j.appender.database.sql=insert into log (Class,Mothod,createTime,LogLevel,MSG) values (&apos;%C&apos;,&apos;%M&apos;,&apos;%d&#123;yyyy-MM-dd HH:mm:ss&#125;&apos;,&apos;%p&apos;,&apos;%m&apos;)</span><br><span class=\"line\">log4j.appender.database.layout=org.apache.log4j.PatternLayout</span><br></pre></td></tr></table></figure><h2 id=\"测试类\"><a href=\"#测试类\" class=\"headerlink\" title=\"测试类\"></a>测试类</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.log4j.log4j2MySQL;</span><br><span class=\"line\"></span><br><span class=\"line\">import org.apache.log4j.Logger;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 测试一下log4j把日志插入到mysql数据库</span><br><span class=\"line\"> * 插入语句和数据库配置在log4j的配置文件中</span><br><span class=\"line\"> * Created by hisenyuan on 2017/3/21 at 14:23.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class Log4jDemo &#123;</span><br><span class=\"line\">    private static Logger logger = Logger.getLogger(Log4jDemo.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        logger.debug(&quot;这是debug信息&quot;);</span><br><span class=\"line\">        // 记录info级别的信息</span><br><span class=\"line\">        logger.info(&quot;这是info信息&quot;);</span><br><span class=\"line\">        logger.info(&quot;这里做了一个XX操作，入库，做操作日志&quot;);</span><br><span class=\"line\">        // 记录error级别的信息</span><br><span class=\"line\">        logger.error(&quot;这是error信息&quot;);</span><br><span class=\"line\">        hisen();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void hisen() &#123;</span><br><span class=\"line\">        logger.debug(&quot;这是方法中debug信息&quot;);</span><br><span class=\"line\">        // 记录info级别的信息</span><br><span class=\"line\">        logger.info(&quot;这是方法中info信息&quot;);</span><br><span class=\"line\">        // 记录error级别的信息</span><br><span class=\"line\">        logger.error(&quot;这是方法中error信息&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"mongodb - failed with errno13 Permission denied","keywords":["failed with errno:13 Permission denied","mongodb"],"date":"2017-07-11T16:18:00.000Z","_content":"在命令行输入：mongo报错\n```\nhisen@ubuntu:~$ mongo\nMongoDB shell version: 3.2.13\nconnecting to: test\n2017-07-11T23:11:23.827+0800 I STORAGE  [main] In File::open(), ::open for '/home/hisen/.mongorc.js' failed with errno:13 Permission denied\nThe \".mongorc.js\" file located in your home folder could not be executed\n```\n看倒数第二行，应该是权限的问题，于是\n```\nhisen@ubuntu:~$ sudo chown -R hisen /home/hisen/.mongorc.js\nhisen@ubuntu:~$ mongo\nMongoDB shell version: 3.2.13\nconnecting to: test\nServer has startup warnings: \n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] \n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to 'never'\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] \n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to 'never'\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] \n```\n完美解决，用户权限的问题。","source":"_posts/mongodb - failed with errno 13 Permission denied.md","raw":"---\ntitle: mongodb - failed with errno13 Permission denied \nkeywords: [failed with errno:13 Permission denied,mongodb]\ndate: 2017/7/12 0:18\ntags: [mongodb]\ncategories: sql\n---\n在命令行输入：mongo报错\n```\nhisen@ubuntu:~$ mongo\nMongoDB shell version: 3.2.13\nconnecting to: test\n2017-07-11T23:11:23.827+0800 I STORAGE  [main] In File::open(), ::open for '/home/hisen/.mongorc.js' failed with errno:13 Permission denied\nThe \".mongorc.js\" file located in your home folder could not be executed\n```\n看倒数第二行，应该是权限的问题，于是\n```\nhisen@ubuntu:~$ sudo chown -R hisen /home/hisen/.mongorc.js\nhisen@ubuntu:~$ mongo\nMongoDB shell version: 3.2.13\nconnecting to: test\nServer has startup warnings: \n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] \n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to 'never'\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] \n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to 'never'\n2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] \n```\n完美解决，用户权限的问题。","slug":"mongodb - failed with errno 13 Permission denied","published":1,"updated":"2017-07-11T16:24:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt10093olej209oj3xt","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在命令行输入：mongo报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:~$ mongo</span><br><span class=\"line\">MongoDB shell version: 3.2.13</span><br><span class=\"line\">connecting to: test</span><br><span class=\"line\">2017-07-11T23:11:23.827+0800 I STORAGE  [main] In File::open(), ::open for &apos;/home/hisen/.mongorc.js&apos; failed with errno:13 Permission denied</span><br><span class=\"line\">The &quot;.mongorc.js&quot; file located in your home folder could not be executed</span><br></pre></td></tr></table></figure><p></p><p>看倒数第二行，应该是权限的问题，于是<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:~$ sudo chown -R hisen /home/hisen/.mongorc.js</span><br><span class=\"line\">hisen@ubuntu:~$ mongo</span><br><span class=\"line\">MongoDB shell version: 3.2.13</span><br><span class=\"line\">connecting to: test</span><br><span class=\"line\">Server has startup warnings: </span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] </span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is &apos;always&apos;.</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to &apos;never&apos;</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] </span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is &apos;always&apos;.</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to &apos;never&apos;</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten]</span><br></pre></td></tr></table></figure><p></p><p>完美解决，用户权限的问题。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在命令行输入：mongo报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:~$ mongo</span><br><span class=\"line\">MongoDB shell version: 3.2.13</span><br><span class=\"line\">connecting to: test</span><br><span class=\"line\">2017-07-11T23:11:23.827+0800 I STORAGE  [main] In File::open(), ::open for &apos;/home/hisen/.mongorc.js&apos; failed with errno:13 Permission denied</span><br><span class=\"line\">The &quot;.mongorc.js&quot; file located in your home folder could not be executed</span><br></pre></td></tr></table></figure><p></p><p>看倒数第二行，应该是权限的问题，于是<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:~$ sudo chown -R hisen /home/hisen/.mongorc.js</span><br><span class=\"line\">hisen@ubuntu:~$ mongo</span><br><span class=\"line\">MongoDB shell version: 3.2.13</span><br><span class=\"line\">connecting to: test</span><br><span class=\"line\">Server has startup warnings: </span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] </span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is &apos;always&apos;.</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to &apos;never&apos;</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] </span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is &apos;always&apos;.</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten] **        We suggest setting it to &apos;never&apos;</span><br><span class=\"line\">2017-07-11T23:11:15.845+0800 I CONTROL  [initandlisten]</span><br></pre></td></tr></table></figure><p></p><p>完美解决，用户权限的问题。</p><!-- rebuild by neat -->"},{"title":"mybatis - Invalid bound statement (not found)","keywords":["mybatis"],"date":"2017-08-02T03:39:00.000Z","_content":"运行报错\n```\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.hisen.dao.UserMapper.insert\n```\n使用mybatis生成插件，产生的mapper，由于路径不对移动了一下mapper.java文件\n\n所以造成mapper.xml里面的namespace错误，无法映射\n\n所以把namespace改为正确的即可\n\n例如：\n\nmapper.UserMapper\n\n改为\n\ncom.hisen.dao.UserMapper\n","source":"_posts/mybatis - Invalid bound statement (not found).md","raw":"---\ntitle: mybatis - Invalid bound statement (not found)\nkeywords: [mybatis]\ndate: 2017/8/2 11:39\ntags: [mybatis]\ncategories: java\n---\n运行报错\n```\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.hisen.dao.UserMapper.insert\n```\n使用mybatis生成插件，产生的mapper，由于路径不对移动了一下mapper.java文件\n\n所以造成mapper.xml里面的namespace错误，无法映射\n\n所以把namespace改为正确的即可\n\n例如：\n\nmapper.UserMapper\n\n改为\n\ncom.hisen.dao.UserMapper\n","slug":"mybatis - Invalid bound statement (not found)","published":1,"updated":"2017-08-02T07:36:32.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt20095olejpov6xoi4","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>运行报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.hisen.dao.UserMapper.insert</span><br></pre></td></tr></table></figure><p></p><p>使用mybatis生成插件，产生的mapper，由于路径不对移动了一下mapper.java文件</p><p>所以造成mapper.xml里面的namespace错误，无法映射</p><p>所以把namespace改为正确的即可</p><p>例如：</p><p>mapper.UserMapper</p><p>改为</p><p>com.hisen.dao.UserMapper</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>运行报错<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.hisen.dao.UserMapper.insert</span><br></pre></td></tr></table></figure><p></p><p>使用mybatis生成插件，产生的mapper，由于路径不对移动了一下mapper.java文件</p><p>所以造成mapper.xml里面的namespace错误，无法映射</p><p>所以把namespace改为正确的即可</p><p>例如：</p><p>mapper.UserMapper</p><p>改为</p><p>com.hisen.dao.UserMapper</p><!-- rebuild by neat -->"},{"title":"mybatis：No constructor found in xxx matching","keywords":["mybatis，No constructor found in xxx matching"],"date":"2017-03-17T01:54:00.000Z","_content":"\n如下错误提示：\n\nmybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer]\n\n原因：xxx 这个bean缺少一个默认的构造方法！\n\n---\n\n解决：加上默认的构造方法即可\n\n---\n\n我是在单元测试的时候遇到这个问题","source":"_posts/mybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer].md","raw":"---\ntitle: mybatis：No constructor found in xxx matching\nkeywords: [mybatis，No constructor found in xxx matching]\ndate: 2017/3/17 9:54\ntags: [java]\ncategories: java\n---\n\n如下错误提示：\n\nmybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer]\n\n原因：xxx 这个bean缺少一个默认的构造方法！\n\n---\n\n解决：加上默认的构造方法即可\n\n---\n\n我是在单元测试的时候遇到这个问题","slug":"mybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer]","published":1,"updated":"2017-03-17T02:04:22.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt30099olejecswto61","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>如下错误提示：</p><p>mybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer]</p><p>原因：xxx 这个bean缺少一个默认的构造方法！</p><hr><p>解决：加上默认的构造方法即可</p><hr><p>我是在单元测试的时候遇到这个问题</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>如下错误提示：</p><p>mybatis：No constructor found in xxx matching [java.lang.Integer, java.lang.String, java.lang.Integer]</p><p>原因：xxx 这个bean缺少一个默认的构造方法！</p><hr><p>解决：加上默认的构造方法即可</p><hr><p>我是在单元测试的时候遇到这个问题</p><!-- rebuild by neat -->"},{"title":"mybatis常用jdbctype","keywords":["mybatis常用jdbctype"],"date":"2017-03-10T10:13:00.000Z","_content":"Mybatis中javaType和jdbcType对应关系\n\n| JDBC Type | Java Type | \n|:-----|:-----|       \n| CHAR | String  \n| VARCHAR | String  \n| LONGVARCHAR | String  \n| NUMERIC | java.math.BigDecimal  \n| DECIMAL | java.math.BigDecimal  \n| BIT | boolean  \n| BOOLEAN | boolean  \n| TINYINT | byte  \n| SMALLINT | short  \n| INTEGER | int  \n| BIGINT | long  \n| REAL | float  \n| FLOAT | double  \n| DOUBLE | double  \n| BINARY | byte[]  \n| VARBINARY | byte[]  \n| LONGVARBINARY | byte[]  \n| DATE | java.sql.Date  \n| TIME | java.sql.Time  \n| TIMESTAMP | java.sql.Timestamp  \n| CLOB | Clob  \n| BLOB | Blob  \n| ARRAY | Array  \n| DISTINCT | mapping of underlying type  \n| STRUCT | Struct  \n| REF | Ref  \n| DATALINK | java.net.URL","source":"_posts/mybatis常用jdbctype.md","raw":"---\ntitle: mybatis常用jdbctype\nkeywords: [mybatis常用jdbctype]\ndate: 2017/3/10 18:13\ntags: [java,mybatis]\ncategories: java\n---\nMybatis中javaType和jdbcType对应关系\n\n| JDBC Type | Java Type | \n|:-----|:-----|       \n| CHAR | String  \n| VARCHAR | String  \n| LONGVARCHAR | String  \n| NUMERIC | java.math.BigDecimal  \n| DECIMAL | java.math.BigDecimal  \n| BIT | boolean  \n| BOOLEAN | boolean  \n| TINYINT | byte  \n| SMALLINT | short  \n| INTEGER | int  \n| BIGINT | long  \n| REAL | float  \n| FLOAT | double  \n| DOUBLE | double  \n| BINARY | byte[]  \n| VARBINARY | byte[]  \n| LONGVARBINARY | byte[]  \n| DATE | java.sql.Date  \n| TIME | java.sql.Time  \n| TIMESTAMP | java.sql.Timestamp  \n| CLOB | Clob  \n| BLOB | Blob  \n| ARRAY | Array  \n| DISTINCT | mapping of underlying type  \n| STRUCT | Struct  \n| REF | Ref  \n| DATALINK | java.net.URL","slug":"mybatis常用jdbctype","published":1,"updated":"2017-03-10T10:18:38.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt4009colejg7mu6cge","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Mybatis中javaType和jdbcType对应关系</p><table><thead><tr><th style=\"text-align:left\">JDBC Type</th><th style=\"text-align:left\">Java Type</th></tr></thead><tbody><tr><td style=\"text-align:left\">CHAR</td><td style=\"text-align:left\">String</td></tr><tr><td style=\"text-align:left\">VARCHAR</td><td style=\"text-align:left\">String</td></tr><tr><td style=\"text-align:left\">LONGVARCHAR</td><td style=\"text-align:left\">String</td></tr><tr><td style=\"text-align:left\">NUMERIC</td><td style=\"text-align:left\">java.math.BigDecimal</td></tr><tr><td style=\"text-align:left\">DECIMAL</td><td style=\"text-align:left\">java.math.BigDecimal</td></tr><tr><td style=\"text-align:left\">BIT</td><td style=\"text-align:left\">boolean</td></tr><tr><td style=\"text-align:left\">BOOLEAN</td><td style=\"text-align:left\">boolean</td></tr><tr><td style=\"text-align:left\">TINYINT</td><td style=\"text-align:left\">byte</td></tr><tr><td style=\"text-align:left\">SMALLINT</td><td style=\"text-align:left\">short</td></tr><tr><td style=\"text-align:left\">INTEGER</td><td style=\"text-align:left\">int</td></tr><tr><td style=\"text-align:left\">BIGINT</td><td style=\"text-align:left\">long</td></tr><tr><td style=\"text-align:left\">REAL</td><td style=\"text-align:left\">float</td></tr><tr><td style=\"text-align:left\">FLOAT</td><td style=\"text-align:left\">double</td></tr><tr><td style=\"text-align:left\">DOUBLE</td><td style=\"text-align:left\">double</td></tr><tr><td style=\"text-align:left\">BINARY</td><td style=\"text-align:left\">byte[]</td></tr><tr><td style=\"text-align:left\">VARBINARY</td><td style=\"text-align:left\">byte[]</td></tr><tr><td style=\"text-align:left\">LONGVARBINARY</td><td style=\"text-align:left\">byte[]</td></tr><tr><td style=\"text-align:left\">DATE</td><td style=\"text-align:left\">java.sql.Date</td></tr><tr><td style=\"text-align:left\">TIME</td><td style=\"text-align:left\">java.sql.Time</td></tr><tr><td style=\"text-align:left\">TIMESTAMP</td><td style=\"text-align:left\">java.sql.Timestamp</td></tr><tr><td style=\"text-align:left\">CLOB</td><td style=\"text-align:left\">Clob</td></tr><tr><td style=\"text-align:left\">BLOB</td><td style=\"text-align:left\">Blob</td></tr><tr><td style=\"text-align:left\">ARRAY</td><td style=\"text-align:left\">Array</td></tr><tr><td style=\"text-align:left\">DISTINCT</td><td style=\"text-align:left\">mapping of underlying type</td></tr><tr><td style=\"text-align:left\">STRUCT</td><td style=\"text-align:left\">Struct</td></tr><tr><td style=\"text-align:left\">REF</td><td style=\"text-align:left\">Ref</td></tr><tr><td style=\"text-align:left\">DATALINK</td><td style=\"text-align:left\">java.net.URL</td></tr></tbody></table><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Mybatis中javaType和jdbcType对应关系</p><table><thead><tr><th style=\"text-align:left\">JDBC Type</th><th style=\"text-align:left\">Java Type</th></tr></thead><tbody><tr><td style=\"text-align:left\">CHAR</td><td style=\"text-align:left\">String</td></tr><tr><td style=\"text-align:left\">VARCHAR</td><td style=\"text-align:left\">String</td></tr><tr><td style=\"text-align:left\">LONGVARCHAR</td><td style=\"text-align:left\">String</td></tr><tr><td style=\"text-align:left\">NUMERIC</td><td style=\"text-align:left\">java.math.BigDecimal</td></tr><tr><td style=\"text-align:left\">DECIMAL</td><td style=\"text-align:left\">java.math.BigDecimal</td></tr><tr><td style=\"text-align:left\">BIT</td><td style=\"text-align:left\">boolean</td></tr><tr><td style=\"text-align:left\">BOOLEAN</td><td style=\"text-align:left\">boolean</td></tr><tr><td style=\"text-align:left\">TINYINT</td><td style=\"text-align:left\">byte</td></tr><tr><td style=\"text-align:left\">SMALLINT</td><td style=\"text-align:left\">short</td></tr><tr><td style=\"text-align:left\">INTEGER</td><td style=\"text-align:left\">int</td></tr><tr><td style=\"text-align:left\">BIGINT</td><td style=\"text-align:left\">long</td></tr><tr><td style=\"text-align:left\">REAL</td><td style=\"text-align:left\">float</td></tr><tr><td style=\"text-align:left\">FLOAT</td><td style=\"text-align:left\">double</td></tr><tr><td style=\"text-align:left\">DOUBLE</td><td style=\"text-align:left\">double</td></tr><tr><td style=\"text-align:left\">BINARY</td><td style=\"text-align:left\">byte[]</td></tr><tr><td style=\"text-align:left\">VARBINARY</td><td style=\"text-align:left\">byte[]</td></tr><tr><td style=\"text-align:left\">LONGVARBINARY</td><td style=\"text-align:left\">byte[]</td></tr><tr><td style=\"text-align:left\">DATE</td><td style=\"text-align:left\">java.sql.Date</td></tr><tr><td style=\"text-align:left\">TIME</td><td style=\"text-align:left\">java.sql.Time</td></tr><tr><td style=\"text-align:left\">TIMESTAMP</td><td style=\"text-align:left\">java.sql.Timestamp</td></tr><tr><td style=\"text-align:left\">CLOB</td><td style=\"text-align:left\">Clob</td></tr><tr><td style=\"text-align:left\">BLOB</td><td style=\"text-align:left\">Blob</td></tr><tr><td style=\"text-align:left\">ARRAY</td><td style=\"text-align:left\">Array</td></tr><tr><td style=\"text-align:left\">DISTINCT</td><td style=\"text-align:left\">mapping of underlying type</td></tr><tr><td style=\"text-align:left\">STRUCT</td><td style=\"text-align:left\">Struct</td></tr><tr><td style=\"text-align:left\">REF</td><td style=\"text-align:left\">Ref</td></tr><tr><td style=\"text-align:left\">DATALINK</td><td style=\"text-align:left\">java.net.URL</td></tr></tbody></table><!-- rebuild by neat -->"},{"title":"mysql数据库安装官方自带employees测试库","keywords":["mysql数据库安装官方自带employees测试库","mysql测试库"],"date":"2017-04-01T09:12:00.000Z","_content":"mysql官方是有一个自带的数据库，名为：Employees Sample Database\n\n官网介绍：<a href=\"https://dev.mysql.com/doc/employee/en/\" target=\"_blank\">Employees Sample Database</a>\n\n| 表名 | 中文 | \n|:-----|:-----|\n| department | 部门表 |\n| dept_emp | 部门员工任职期表(按部门&时期) | \n| dept_manager | 部门经理任职期表(按时期) | \n| employees | 员工详情表 | \n| salaries | 员工薪资表(按时期) | \n| title | 员工职称表(按时期) | \n\n<img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fe7b71pwupj20m80muabj.jpg\" />\n导入的操作过程，在ubuntu上进行操作\n<!--more-->\n\n一、导入数据库操作过程\n---\n\n```\n#ubuntu apt-get 安装的mysql默认的配置文件\n#添加一行：default-storage-engine=InnoDB\nhisen@ubuntu:/$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf\n#获取root权限\nhisen@ubuntu:/var/lib$ su\nPassword: \n#进数据库目录\nroot@ubuntu:# cd /var/lib/mysql\n#删除两个文件\nroot@ubuntu:/var/lib/mysql# rm ib_logfile0 \nroot@ubuntu:/var/lib/mysql# rm ib_logfile1\n#重启数据库\nroot@ubuntu:/# service mysql restart\n#下载Employees database\nhisen@ubuntu:~/dl$ wget https://codeload.github.com/datacharmer/test_db/zip/master\n#解压\nhisen@ubuntu:~/dl$ unzip master\n#查看\nhisen@ubuntu:~/dl$ ll\ntotal 35840\ndrwxrwxr-x  3 hisen hisen     4096 Apr  1 16:50 ./\ndrwxr-xr-x 10 hisen hisen     4096 Apr  1 16:40 ../\n-rw-rw-r--  1 hisen hisen 36687570 Apr  1 16:30 master\ndrwxrwxr-x  4 hisen hisen     4096 Oct 14  2015 test_db-master/\n#进目录\nhisen@ubuntu:~/dl$ cd test_db-master/\n#导入数据库\nhisen@ubuntu:~/dl/test_db-master$ mysql -u root -p < employees.sql\nEnter password: \nINFO\nCREATING DATABASE STRUCTURE\nINFO\nstorage engine: InnoDB\nINFO\nLOADING departments\nINFO\nLOADING employees\nINFO\nLOADING dept_emp\nINFO\nLOADING dept_manager\nINFO\nLOADING titles\nINFO\nLOADING salaries\ndata_load_time_diff\n00:01:11\n#导入成功\n#验证是否导入成功\nhisen@ubuntu:~/dl/test_db-master$ mysql -u root -p < test_employees_md5.sql\nEnter password: \nINFO\nTESTING INSTALLATION\ntable_name\texpected_records\texpected_crc\nemployees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1\ndepartments\t9\td1af5e170d2d1591d776d5638d71fc5f\ndept_manager\t24\t8720e2f0853ac9096b689c14664f847e\ndept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7\ntitles\t443308\tbfa016c472df68e70a03facafa1bc0a8\nsalaries\t2844047\tfd220654e95aea1b169624ffe3fca934\ntable_name\tfound_records   \tfound_crc\nemployees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1\ndepartments\t9\td1af5e170d2d1591d776d5638d71fc5f\ndept_manager\t24\t8720e2f0853ac9096b689c14664f847e\ndept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7\ntitles\t443308\tbfa016c472df68e70a03facafa1bc0a8\nsalaries\t2844047\tfd220654e95aea1b169624ffe3fca934\ntable_name\trecords_match\tcrc_match\nemployees\tOK\tok\ndepartments\tOK\tok\ndept_manager\tOK\tok\ndept_emp\tOK\tok\ntitles\tOK\tok\nsalaries\tOK\tok\ncomputation_time\n00:00:22\nsummary\tresult\nCRC\tOK\ncount\tOK\n```\n\n二、数据库练习\n---\n\n**练习题**：<a href=\"http://hisen.me/20170410-Mysql%20Employees%20%20Database%E7%BB%83%E4%B9%A0%E9%A2%98&%E7%AD%94%E6%A1%88/\n\" target=\"_blank\">**点击查看练习题**</a>","source":"_posts/mysql数据库安装官方自带employees测试表.md","raw":"---\ntitle: mysql数据库安装官方自带employees测试库\nkeywords: [mysql数据库安装官方自带employees测试库,mysql测试库]\ndate: 2017/4/1 17:12\ntags: [mysql]\ncategories: mysql\n---\nmysql官方是有一个自带的数据库，名为：Employees Sample Database\n\n官网介绍：<a href=\"https://dev.mysql.com/doc/employee/en/\" target=\"_blank\">Employees Sample Database</a>\n\n| 表名 | 中文 | \n|:-----|:-----|\n| department | 部门表 |\n| dept_emp | 部门员工任职期表(按部门&时期) | \n| dept_manager | 部门经理任职期表(按时期) | \n| employees | 员工详情表 | \n| salaries | 员工薪资表(按时期) | \n| title | 员工职称表(按时期) | \n\n<img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fe7b71pwupj20m80muabj.jpg\" />\n导入的操作过程，在ubuntu上进行操作\n<!--more-->\n\n一、导入数据库操作过程\n---\n\n```\n#ubuntu apt-get 安装的mysql默认的配置文件\n#添加一行：default-storage-engine=InnoDB\nhisen@ubuntu:/$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf\n#获取root权限\nhisen@ubuntu:/var/lib$ su\nPassword: \n#进数据库目录\nroot@ubuntu:# cd /var/lib/mysql\n#删除两个文件\nroot@ubuntu:/var/lib/mysql# rm ib_logfile0 \nroot@ubuntu:/var/lib/mysql# rm ib_logfile1\n#重启数据库\nroot@ubuntu:/# service mysql restart\n#下载Employees database\nhisen@ubuntu:~/dl$ wget https://codeload.github.com/datacharmer/test_db/zip/master\n#解压\nhisen@ubuntu:~/dl$ unzip master\n#查看\nhisen@ubuntu:~/dl$ ll\ntotal 35840\ndrwxrwxr-x  3 hisen hisen     4096 Apr  1 16:50 ./\ndrwxr-xr-x 10 hisen hisen     4096 Apr  1 16:40 ../\n-rw-rw-r--  1 hisen hisen 36687570 Apr  1 16:30 master\ndrwxrwxr-x  4 hisen hisen     4096 Oct 14  2015 test_db-master/\n#进目录\nhisen@ubuntu:~/dl$ cd test_db-master/\n#导入数据库\nhisen@ubuntu:~/dl/test_db-master$ mysql -u root -p < employees.sql\nEnter password: \nINFO\nCREATING DATABASE STRUCTURE\nINFO\nstorage engine: InnoDB\nINFO\nLOADING departments\nINFO\nLOADING employees\nINFO\nLOADING dept_emp\nINFO\nLOADING dept_manager\nINFO\nLOADING titles\nINFO\nLOADING salaries\ndata_load_time_diff\n00:01:11\n#导入成功\n#验证是否导入成功\nhisen@ubuntu:~/dl/test_db-master$ mysql -u root -p < test_employees_md5.sql\nEnter password: \nINFO\nTESTING INSTALLATION\ntable_name\texpected_records\texpected_crc\nemployees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1\ndepartments\t9\td1af5e170d2d1591d776d5638d71fc5f\ndept_manager\t24\t8720e2f0853ac9096b689c14664f847e\ndept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7\ntitles\t443308\tbfa016c472df68e70a03facafa1bc0a8\nsalaries\t2844047\tfd220654e95aea1b169624ffe3fca934\ntable_name\tfound_records   \tfound_crc\nemployees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1\ndepartments\t9\td1af5e170d2d1591d776d5638d71fc5f\ndept_manager\t24\t8720e2f0853ac9096b689c14664f847e\ndept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7\ntitles\t443308\tbfa016c472df68e70a03facafa1bc0a8\nsalaries\t2844047\tfd220654e95aea1b169624ffe3fca934\ntable_name\trecords_match\tcrc_match\nemployees\tOK\tok\ndepartments\tOK\tok\ndept_manager\tOK\tok\ndept_emp\tOK\tok\ntitles\tOK\tok\nsalaries\tOK\tok\ncomputation_time\n00:00:22\nsummary\tresult\nCRC\tOK\ncount\tOK\n```\n\n二、数据库练习\n---\n\n**练习题**：<a href=\"http://hisen.me/20170410-Mysql%20Employees%20%20Database%E7%BB%83%E4%B9%A0%E9%A2%98&%E7%AD%94%E6%A1%88/\n\" target=\"_blank\">**点击查看练习题**</a>","slug":"mysql数据库安装官方自带employees测试表","published":1,"updated":"2017-04-10T11:21:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt5009golejqlzkpa63","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>mysql官方是有一个自带的数据库，名为：Employees Sample Database</p><p>官网介绍：<a href=\"https://dev.mysql.com/doc/employee/en/\" target=\"_blank\">Employees Sample Database</a></p><table><thead><tr><th style=\"text-align:left\">表名</th><th style=\"text-align:left\">中文</th></tr></thead><tbody><tr><td style=\"text-align:left\">department</td><td style=\"text-align:left\">部门表</td></tr><tr><td style=\"text-align:left\">dept_emp</td><td style=\"text-align:left\">部门员工任职期表(按部门&amp;时期)</td></tr><tr><td style=\"text-align:left\">dept_manager</td><td style=\"text-align:left\">部门经理任职期表(按时期)</td></tr><tr><td style=\"text-align:left\">employees</td><td style=\"text-align:left\">员工详情表</td></tr><tr><td style=\"text-align:left\">salaries</td><td style=\"text-align:left\">员工薪资表(按时期)</td></tr><tr><td style=\"text-align:left\">title</td><td style=\"text-align:left\">员工职称表(按时期)</td></tr></tbody></table><p><img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fe7b71pwupj20m80muabj.jpg\"><br>导入的操作过程，在ubuntu上进行操作<br><a id=\"more\"></a></p><h2 id=\"一、导入数据库操作过程\"><a href=\"#一、导入数据库操作过程\" class=\"headerlink\" title=\"一、导入数据库操作过程\"></a>一、导入数据库操作过程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ubuntu apt-get 安装的mysql默认的配置文件</span><br><span class=\"line\">#添加一行：default-storage-engine=InnoDB</span><br><span class=\"line\">hisen@ubuntu:/$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span><br><span class=\"line\">#获取root权限</span><br><span class=\"line\">hisen@ubuntu:/var/lib$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">#进数据库目录</span><br><span class=\"line\">root@ubuntu:# cd /var/lib/mysql</span><br><span class=\"line\">#删除两个文件</span><br><span class=\"line\">root@ubuntu:/var/lib/mysql# rm ib_logfile0 </span><br><span class=\"line\">root@ubuntu:/var/lib/mysql# rm ib_logfile1</span><br><span class=\"line\">#重启数据库</span><br><span class=\"line\">root@ubuntu:/# service mysql restart</span><br><span class=\"line\">#下载Employees database</span><br><span class=\"line\">hisen@ubuntu:~/dl$ wget https://codeload.github.com/datacharmer/test_db/zip/master</span><br><span class=\"line\">#解压</span><br><span class=\"line\">hisen@ubuntu:~/dl$ unzip master</span><br><span class=\"line\">#查看</span><br><span class=\"line\">hisen@ubuntu:~/dl$ ll</span><br><span class=\"line\">total 35840</span><br><span class=\"line\">drwxrwxr-x  3 hisen hisen     4096 Apr  1 16:50 ./</span><br><span class=\"line\">drwxr-xr-x 10 hisen hisen     4096 Apr  1 16:40 ../</span><br><span class=\"line\">-rw-rw-r--  1 hisen hisen 36687570 Apr  1 16:30 master</span><br><span class=\"line\">drwxrwxr-x  4 hisen hisen     4096 Oct 14  2015 test_db-master/</span><br><span class=\"line\">#进目录</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cd test_db-master/</span><br><span class=\"line\">#导入数据库</span><br><span class=\"line\">hisen@ubuntu:~/dl/test_db-master$ mysql -u root -p &lt; employees.sql</span><br><span class=\"line\">Enter password: </span><br><span class=\"line\">INFO</span><br><span class=\"line\">CREATING DATABASE STRUCTURE</span><br><span class=\"line\">INFO</span><br><span class=\"line\">storage engine: InnoDB</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING departments</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING employees</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING dept_emp</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING dept_manager</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING titles</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING salaries</span><br><span class=\"line\">data_load_time_diff</span><br><span class=\"line\">00:01:11</span><br><span class=\"line\">#导入成功</span><br><span class=\"line\">#验证是否导入成功</span><br><span class=\"line\">hisen@ubuntu:~/dl/test_db-master$ mysql -u root -p &lt; test_employees_md5.sql</span><br><span class=\"line\">Enter password: </span><br><span class=\"line\">INFO</span><br><span class=\"line\">TESTING INSTALLATION</span><br><span class=\"line\">table_name\texpected_records\texpected_crc</span><br><span class=\"line\">employees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1</span><br><span class=\"line\">departments\t9\td1af5e170d2d1591d776d5638d71fc5f</span><br><span class=\"line\">dept_manager\t24\t8720e2f0853ac9096b689c14664f847e</span><br><span class=\"line\">dept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7</span><br><span class=\"line\">titles\t443308\tbfa016c472df68e70a03facafa1bc0a8</span><br><span class=\"line\">salaries\t2844047\tfd220654e95aea1b169624ffe3fca934</span><br><span class=\"line\">table_name\tfound_records   \tfound_crc</span><br><span class=\"line\">employees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1</span><br><span class=\"line\">departments\t9\td1af5e170d2d1591d776d5638d71fc5f</span><br><span class=\"line\">dept_manager\t24\t8720e2f0853ac9096b689c14664f847e</span><br><span class=\"line\">dept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7</span><br><span class=\"line\">titles\t443308\tbfa016c472df68e70a03facafa1bc0a8</span><br><span class=\"line\">salaries\t2844047\tfd220654e95aea1b169624ffe3fca934</span><br><span class=\"line\">table_name\trecords_match\tcrc_match</span><br><span class=\"line\">employees\tOK\tok</span><br><span class=\"line\">departments\tOK\tok</span><br><span class=\"line\">dept_manager\tOK\tok</span><br><span class=\"line\">dept_emp\tOK\tok</span><br><span class=\"line\">titles\tOK\tok</span><br><span class=\"line\">salaries\tOK\tok</span><br><span class=\"line\">computation_time</span><br><span class=\"line\">00:00:22</span><br><span class=\"line\">summary\tresult</span><br><span class=\"line\">CRC\tOK</span><br><span class=\"line\">count\tOK</span><br></pre></td></tr></table></figure><h2 id=\"二、数据库练习\"><a href=\"#二、数据库练习\" class=\"headerlink\" title=\"二、数据库练习\"></a>二、数据库练习</h2><p><strong>练习题</strong>：<a href=\"http://hisen.me/20170410-Mysql%20Employees%20%20Database%E7%BB%83%E4%B9%A0%E9%A2%98&%E7%AD%94%E6%A1%88/\" target=\"_blank\"><strong>点击查看练习题</strong></a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>mysql官方是有一个自带的数据库，名为：Employees Sample Database</p><p>官网介绍：<a href=\"https://dev.mysql.com/doc/employee/en/\" target=\"_blank\">Employees Sample Database</a></p><table><thead><tr><th style=\"text-align:left\">表名</th><th style=\"text-align:left\">中文</th></tr></thead><tbody><tr><td style=\"text-align:left\">department</td><td style=\"text-align:left\">部门表</td></tr><tr><td style=\"text-align:left\">dept_emp</td><td style=\"text-align:left\">部门员工任职期表(按部门&amp;时期)</td></tr><tr><td style=\"text-align:left\">dept_manager</td><td style=\"text-align:left\">部门经理任职期表(按时期)</td></tr><tr><td style=\"text-align:left\">employees</td><td style=\"text-align:left\">员工详情表</td></tr><tr><td style=\"text-align:left\">salaries</td><td style=\"text-align:left\">员工薪资表(按时期)</td></tr><tr><td style=\"text-align:left\">title</td><td style=\"text-align:left\">员工职称表(按时期)</td></tr></tbody></table><p><img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6ly1fe7b71pwupj20m80muabj.jpg\"><br>导入的操作过程，在ubuntu上进行操作<br>","more":"</p><h2 id=\"一、导入数据库操作过程\"><a href=\"#一、导入数据库操作过程\" class=\"headerlink\" title=\"一、导入数据库操作过程\"></a>一、导入数据库操作过程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ubuntu apt-get 安装的mysql默认的配置文件</span><br><span class=\"line\">#添加一行：default-storage-engine=InnoDB</span><br><span class=\"line\">hisen@ubuntu:/$ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span><br><span class=\"line\">#获取root权限</span><br><span class=\"line\">hisen@ubuntu:/var/lib$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">#进数据库目录</span><br><span class=\"line\">root@ubuntu:# cd /var/lib/mysql</span><br><span class=\"line\">#删除两个文件</span><br><span class=\"line\">root@ubuntu:/var/lib/mysql# rm ib_logfile0 </span><br><span class=\"line\">root@ubuntu:/var/lib/mysql# rm ib_logfile1</span><br><span class=\"line\">#重启数据库</span><br><span class=\"line\">root@ubuntu:/# service mysql restart</span><br><span class=\"line\">#下载Employees database</span><br><span class=\"line\">hisen@ubuntu:~/dl$ wget https://codeload.github.com/datacharmer/test_db/zip/master</span><br><span class=\"line\">#解压</span><br><span class=\"line\">hisen@ubuntu:~/dl$ unzip master</span><br><span class=\"line\">#查看</span><br><span class=\"line\">hisen@ubuntu:~/dl$ ll</span><br><span class=\"line\">total 35840</span><br><span class=\"line\">drwxrwxr-x  3 hisen hisen     4096 Apr  1 16:50 ./</span><br><span class=\"line\">drwxr-xr-x 10 hisen hisen     4096 Apr  1 16:40 ../</span><br><span class=\"line\">-rw-rw-r--  1 hisen hisen 36687570 Apr  1 16:30 master</span><br><span class=\"line\">drwxrwxr-x  4 hisen hisen     4096 Oct 14  2015 test_db-master/</span><br><span class=\"line\">#进目录</span><br><span class=\"line\">hisen@ubuntu:~/dl$ cd test_db-master/</span><br><span class=\"line\">#导入数据库</span><br><span class=\"line\">hisen@ubuntu:~/dl/test_db-master$ mysql -u root -p &lt; employees.sql</span><br><span class=\"line\">Enter password: </span><br><span class=\"line\">INFO</span><br><span class=\"line\">CREATING DATABASE STRUCTURE</span><br><span class=\"line\">INFO</span><br><span class=\"line\">storage engine: InnoDB</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING departments</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING employees</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING dept_emp</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING dept_manager</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING titles</span><br><span class=\"line\">INFO</span><br><span class=\"line\">LOADING salaries</span><br><span class=\"line\">data_load_time_diff</span><br><span class=\"line\">00:01:11</span><br><span class=\"line\">#导入成功</span><br><span class=\"line\">#验证是否导入成功</span><br><span class=\"line\">hisen@ubuntu:~/dl/test_db-master$ mysql -u root -p &lt; test_employees_md5.sql</span><br><span class=\"line\">Enter password: </span><br><span class=\"line\">INFO</span><br><span class=\"line\">TESTING INSTALLATION</span><br><span class=\"line\">table_name\texpected_records\texpected_crc</span><br><span class=\"line\">employees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1</span><br><span class=\"line\">departments\t9\td1af5e170d2d1591d776d5638d71fc5f</span><br><span class=\"line\">dept_manager\t24\t8720e2f0853ac9096b689c14664f847e</span><br><span class=\"line\">dept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7</span><br><span class=\"line\">titles\t443308\tbfa016c472df68e70a03facafa1bc0a8</span><br><span class=\"line\">salaries\t2844047\tfd220654e95aea1b169624ffe3fca934</span><br><span class=\"line\">table_name\tfound_records   \tfound_crc</span><br><span class=\"line\">employees\t300024\t4ec56ab5ba37218d187cf6ab09ce1aa1</span><br><span class=\"line\">departments\t9\td1af5e170d2d1591d776d5638d71fc5f</span><br><span class=\"line\">dept_manager\t24\t8720e2f0853ac9096b689c14664f847e</span><br><span class=\"line\">dept_emp\t331603\tccf6fe516f990bdaa49713fc478701b7</span><br><span class=\"line\">titles\t443308\tbfa016c472df68e70a03facafa1bc0a8</span><br><span class=\"line\">salaries\t2844047\tfd220654e95aea1b169624ffe3fca934</span><br><span class=\"line\">table_name\trecords_match\tcrc_match</span><br><span class=\"line\">employees\tOK\tok</span><br><span class=\"line\">departments\tOK\tok</span><br><span class=\"line\">dept_manager\tOK\tok</span><br><span class=\"line\">dept_emp\tOK\tok</span><br><span class=\"line\">titles\tOK\tok</span><br><span class=\"line\">salaries\tOK\tok</span><br><span class=\"line\">computation_time</span><br><span class=\"line\">00:00:22</span><br><span class=\"line\">summary\tresult</span><br><span class=\"line\">CRC\tOK</span><br><span class=\"line\">count\tOK</span><br></pre></td></tr></table></figure><h2 id=\"二、数据库练习\"><a href=\"#二、数据库练习\" class=\"headerlink\" title=\"二、数据库练习\"></a>二、数据库练习</h2><p><strong>练习题</strong>：<a href=\"http://hisen.me/20170410-Mysql%20Employees%20%20Database%E7%BB%83%E4%B9%A0%E9%A2%98&%E7%AD%94%E6%A1%88/\" target=\"_blank\"><strong>点击查看练习题</strong></a></p><!-- rebuild by neat -->"},{"title":"new ImageIcon()无法加载同目录图片","date":"2017-02-08T12:59:16.000Z","_content":"错误：\n```\nnew ImageIcon(\"1.jpg\")\n```\n正确：\n```\nnew ImageIcon(\"src/com/hisen/thread/progressbar/1.jpg\")\n```\n图片路径：\n```\ntest\\src\\com\\hisen\\thread\\progressbar\\1.jpg\n```\n所谓的相对路径，是相对于这个工程而言的，而不是当前文件夹而言。\n","source":"_posts/new-ImageIcon-无法加载同目录图片.md","raw":"---\ntitle: new ImageIcon()无法加载同目录图片\ndate: 2017-02-08 20:59:16\ntags: [java,jframe]\n---\n错误：\n```\nnew ImageIcon(\"1.jpg\")\n```\n正确：\n```\nnew ImageIcon(\"src/com/hisen/thread/progressbar/1.jpg\")\n```\n图片路径：\n```\ntest\\src\\com\\hisen\\thread\\progressbar\\1.jpg\n```\n所谓的相对路径，是相对于这个工程而言的，而不是当前文件夹而言。\n","slug":"new-ImageIcon-无法加载同目录图片","published":1,"updated":"2017-02-08T13:04:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt6009jolej584olrix","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>错误：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">new ImageIcon(&quot;1.jpg&quot;)</span><br></pre></td></tr></table></figure><p></p><p>正确：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">new ImageIcon(&quot;src/com/hisen/thread/progressbar/1.jpg&quot;)</span><br></pre></td></tr></table></figure><p></p><p>图片路径：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test\\src\\com\\hisen\\thread\\progressbar\\1.jpg</span><br></pre></td></tr></table></figure><p></p><p>所谓的相对路径，是相对于这个工程而言的，而不是当前文件夹而言。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>错误：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">new ImageIcon(&quot;1.jpg&quot;)</span><br></pre></td></tr></table></figure><p></p><p>正确：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">new ImageIcon(&quot;src/com/hisen/thread/progressbar/1.jpg&quot;)</span><br></pre></td></tr></table></figure><p></p><p>图片路径：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test\\src\\com\\hisen\\thread\\progressbar\\1.jpg</span><br></pre></td></tr></table></figure><p></p><p>所谓的相对路径，是相对于这个工程而言的，而不是当前文件夹而言。</p><!-- rebuild by neat -->"},{"title":"oracle - mysql - 数据库事务隔离级别介绍","keywords":["数据库事物隔离级别","oracle事物默认隔离级别","mysql数据库隔离级别"],"date":"2017-11-14T14:44:00.000Z","_content":"\n名词解释\n---\n1. 脏读: 对于两个事物 T1, T2, T1 读取了已经被 T2 更新但还没有被提交的字段. 之后, 若 T2 回滚, T1读取的内容就是临时且无效的.  \n2. 不可重复读: 对于两个事物 T1, T2, T1 读取了一个字段, 然后 T2 更新了该字段. 之后, T1再次读取同一个字段, 值就不同了.  \n3. 幻读: 对于两个事物 T1, T2, T1 从一个表中读取了一个字段, 然后 T2 在该表中插入了一些新的行. 之后, 如果 T1 再次读取同一个表, 就会多出几行.\n\n数据库的4个事物隔离级别\n---\n√：可能会出现\n×：为不会出现\n\n| name | 名称 | 级别 | 脏读 | 不可重复读 | 幻读 |\n|:-----|:-----|:-----|:-----|:-----|:-----|\n| Read uncommitted |  读未提交 | 1 | √ | √ | √ |\n| Read committed | 读提交 | 2 | × | √ | √  |\n| Repeatable read | 重复读 | 3 | × | × | √  |\n| Serializable | 序列化 | 4 | × | × | × |\n\noracle\n---\nOracle 支持的 2 种事务隔离级别：READ COMMITED, SERIALIZABLE.\n\nOracle 默认的事务隔离级别为: READ COMMITED\n\nmysql\n---\nMysql 支持 4 中事务隔离级别.\n\nMysql 默认的事务隔离级别为: REPEATABLE READ\n\n延伸\n---\n参考：https://www.cnblogs.com/andy6/p/6045679.html","source":"_posts/oracle - mysql - 数据库事务隔离级别介绍.md","raw":"---\ntitle: oracle - mysql - 数据库事务隔离级别介绍\nkeywords: [数据库事物隔离级别,oracle事物默认隔离级别,mysql数据库隔离级别]\ndate: 2017/11/14 22:44\ntags: [sql,java]\ncategories: sql\n---\n\n名词解释\n---\n1. 脏读: 对于两个事物 T1, T2, T1 读取了已经被 T2 更新但还没有被提交的字段. 之后, 若 T2 回滚, T1读取的内容就是临时且无效的.  \n2. 不可重复读: 对于两个事物 T1, T2, T1 读取了一个字段, 然后 T2 更新了该字段. 之后, T1再次读取同一个字段, 值就不同了.  \n3. 幻读: 对于两个事物 T1, T2, T1 从一个表中读取了一个字段, 然后 T2 在该表中插入了一些新的行. 之后, 如果 T1 再次读取同一个表, 就会多出几行.\n\n数据库的4个事物隔离级别\n---\n√：可能会出现\n×：为不会出现\n\n| name | 名称 | 级别 | 脏读 | 不可重复读 | 幻读 |\n|:-----|:-----|:-----|:-----|:-----|:-----|\n| Read uncommitted |  读未提交 | 1 | √ | √ | √ |\n| Read committed | 读提交 | 2 | × | √ | √  |\n| Repeatable read | 重复读 | 3 | × | × | √  |\n| Serializable | 序列化 | 4 | × | × | × |\n\noracle\n---\nOracle 支持的 2 种事务隔离级别：READ COMMITED, SERIALIZABLE.\n\nOracle 默认的事务隔离级别为: READ COMMITED\n\nmysql\n---\nMysql 支持 4 中事务隔离级别.\n\nMysql 默认的事务隔离级别为: REPEATABLE READ\n\n延伸\n---\n参考：https://www.cnblogs.com/andy6/p/6045679.html","slug":"oracle - mysql - 数据库事务隔离级别介绍","published":1,"updated":"2017-11-14T14:57:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt7009nolejkaxrxa3a","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"名词解释\"><a href=\"#名词解释\" class=\"headerlink\" title=\"名词解释\"></a>名词解释</h2><ol><li>脏读: 对于两个事物 T1, T2, T1 读取了已经被 T2 更新但还没有被提交的字段. 之后, 若 T2 回滚, T1读取的内容就是临时且无效的.</li><li>不可重复读: 对于两个事物 T1, T2, T1 读取了一个字段, 然后 T2 更新了该字段. 之后, T1再次读取同一个字段, 值就不同了.</li><li>幻读: 对于两个事物 T1, T2, T1 从一个表中读取了一个字段, 然后 T2 在该表中插入了一些新的行. 之后, 如果 T1 再次读取同一个表, 就会多出几行.</li></ol><h2 id=\"数据库的4个事物隔离级别\"><a href=\"#数据库的4个事物隔离级别\" class=\"headerlink\" title=\"数据库的4个事物隔离级别\"></a>数据库的4个事物隔离级别</h2><p>√：可能会出现<br>×：为不会出现</p><table><thead><tr><th style=\"text-align:left\">name</th><th style=\"text-align:left\">名称</th><th style=\"text-align:left\">级别</th><th style=\"text-align:left\">脏读</th><th style=\"text-align:left\">不可重复读</th><th style=\"text-align:left\">幻读</th></tr></thead><tbody><tr><td style=\"text-align:left\">Read uncommitted</td><td style=\"text-align:left\">读未提交</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">√</td><td style=\"text-align:left\">√</td><td style=\"text-align:left\">√</td></tr><tr><td style=\"text-align:left\">Read committed</td><td style=\"text-align:left\">读提交</td><td style=\"text-align:left\">2</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">√</td><td style=\"text-align:left\">√</td></tr><tr><td style=\"text-align:left\">Repeatable read</td><td style=\"text-align:left\">重复读</td><td style=\"text-align:left\">3</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">√</td></tr><tr><td style=\"text-align:left\">Serializable</td><td style=\"text-align:left\">序列化</td><td style=\"text-align:left\">4</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">×</td></tr></tbody></table><h2 id=\"oracle\"><a href=\"#oracle\" class=\"headerlink\" title=\"oracle\"></a>oracle</h2><p>Oracle 支持的 2 种事务隔离级别：READ COMMITED, SERIALIZABLE.</p><p>Oracle 默认的事务隔离级别为: READ COMMITED</p><h2 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h2><p>Mysql 支持 4 中事务隔离级别.</p><p>Mysql 默认的事务隔离级别为: REPEATABLE READ</p><h2 id=\"延伸\"><a href=\"#延伸\" class=\"headerlink\" title=\"延伸\"></a>延伸</h2><p>参考：<a href=\"https://www.cnblogs.com/andy6/p/6045679.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/andy6/p/6045679.html</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"名词解释\"><a href=\"#名词解释\" class=\"headerlink\" title=\"名词解释\"></a>名词解释</h2><ol><li>脏读: 对于两个事物 T1, T2, T1 读取了已经被 T2 更新但还没有被提交的字段. 之后, 若 T2 回滚, T1读取的内容就是临时且无效的.</li><li>不可重复读: 对于两个事物 T1, T2, T1 读取了一个字段, 然后 T2 更新了该字段. 之后, T1再次读取同一个字段, 值就不同了.</li><li>幻读: 对于两个事物 T1, T2, T1 从一个表中读取了一个字段, 然后 T2 在该表中插入了一些新的行. 之后, 如果 T1 再次读取同一个表, 就会多出几行.</li></ol><h2 id=\"数据库的4个事物隔离级别\"><a href=\"#数据库的4个事物隔离级别\" class=\"headerlink\" title=\"数据库的4个事物隔离级别\"></a>数据库的4个事物隔离级别</h2><p>√：可能会出现<br>×：为不会出现</p><table><thead><tr><th style=\"text-align:left\">name</th><th style=\"text-align:left\">名称</th><th style=\"text-align:left\">级别</th><th style=\"text-align:left\">脏读</th><th style=\"text-align:left\">不可重复读</th><th style=\"text-align:left\">幻读</th></tr></thead><tbody><tr><td style=\"text-align:left\">Read uncommitted</td><td style=\"text-align:left\">读未提交</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">√</td><td style=\"text-align:left\">√</td><td style=\"text-align:left\">√</td></tr><tr><td style=\"text-align:left\">Read committed</td><td style=\"text-align:left\">读提交</td><td style=\"text-align:left\">2</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">√</td><td style=\"text-align:left\">√</td></tr><tr><td style=\"text-align:left\">Repeatable read</td><td style=\"text-align:left\">重复读</td><td style=\"text-align:left\">3</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">√</td></tr><tr><td style=\"text-align:left\">Serializable</td><td style=\"text-align:left\">序列化</td><td style=\"text-align:left\">4</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">×</td><td style=\"text-align:left\">×</td></tr></tbody></table><h2 id=\"oracle\"><a href=\"#oracle\" class=\"headerlink\" title=\"oracle\"></a>oracle</h2><p>Oracle 支持的 2 种事务隔离级别：READ COMMITED, SERIALIZABLE.</p><p>Oracle 默认的事务隔离级别为: READ COMMITED</p><h2 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h2><p>Mysql 支持 4 中事务隔离级别.</p><p>Mysql 默认的事务隔离级别为: REPEATABLE READ</p><h2 id=\"延伸\"><a href=\"#延伸\" class=\"headerlink\" title=\"延伸\"></a>延伸</h2><p>参考：<a href=\"https://www.cnblogs.com/andy6/p/6045679.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/andy6/p/6045679.html</a></p><!-- rebuild by neat -->"},{"title":"oracle全局查找某字段所在的表","keywords":["oracle全局查找某字段所在的表","oracle定位字段所在的表","定位某字段值所在的表"],"date":"2017-06-12T06:13:00.000Z","_content":"下面这个存储过程是查找数据库中某个字段值为：hisen 的表\n```\ndeclare\nl_cnt    varchar2(20);\nv_sql  varchar2(4000);\nv_tablename varchar(200);\n  cursor cursor_jsdx is select 'select count(*) from ' || table_name || ' where NAME=''hisen''',table_name from user_tab_columns where column_name='NAME';\n  --注：这里的字段名要大写 \nbegin\n     open cursor_jsdx;\n     Loop\n            fetch cursor_jsdx into v_sql,v_tablename;\n            exit when cursor_jsdx%notfound;\n            execute immediate v_sql       into l_cnt;           \n         if l_cnt >0 then   \n         ---如果该表有那内容的就打印那个表的名字。\n            dbms_output.put_line(v_tablename);\n         end if;\n     end loop;\n    Close cursor_jsdx;\nend;\n```","source":"_posts/oracle全局查找某字段所在的表.md","raw":"---\ntitle: oracle全局查找某字段所在的表\nkeywords: [oracle全局查找某字段所在的表,oracle定位字段所在的表,定位某字段值所在的表]\ndate: 2017/6/12 14:13\ntags: [oracle]\ncategories: sql\n---\n下面这个存储过程是查找数据库中某个字段值为：hisen 的表\n```\ndeclare\nl_cnt    varchar2(20);\nv_sql  varchar2(4000);\nv_tablename varchar(200);\n  cursor cursor_jsdx is select 'select count(*) from ' || table_name || ' where NAME=''hisen''',table_name from user_tab_columns where column_name='NAME';\n  --注：这里的字段名要大写 \nbegin\n     open cursor_jsdx;\n     Loop\n            fetch cursor_jsdx into v_sql,v_tablename;\n            exit when cursor_jsdx%notfound;\n            execute immediate v_sql       into l_cnt;           \n         if l_cnt >0 then   \n         ---如果该表有那内容的就打印那个表的名字。\n            dbms_output.put_line(v_tablename);\n         end if;\n     end loop;\n    Close cursor_jsdx;\nend;\n```","slug":"oracle全局查找某字段所在的表","published":1,"updated":"2017-06-12T06:18:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt8009qolejopfkphzn","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>下面这个存储过程是查找数据库中某个字段值为：hisen 的表<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">declare</span><br><span class=\"line\">l_cnt    varchar2(20);</span><br><span class=\"line\">v_sql  varchar2(4000);</span><br><span class=\"line\">v_tablename varchar(200);</span><br><span class=\"line\">  cursor cursor_jsdx is select &apos;select count(*) from &apos; || table_name || &apos; where NAME=&apos;&apos;hisen&apos;&apos;&apos;,table_name from user_tab_columns where column_name=&apos;NAME&apos;;</span><br><span class=\"line\">  --注：这里的字段名要大写 </span><br><span class=\"line\">begin</span><br><span class=\"line\">     open cursor_jsdx;</span><br><span class=\"line\">     Loop</span><br><span class=\"line\">            fetch cursor_jsdx into v_sql,v_tablename;</span><br><span class=\"line\">            exit when cursor_jsdx%notfound;</span><br><span class=\"line\">            execute immediate v_sql       into l_cnt;           </span><br><span class=\"line\">         if l_cnt &gt;0 then   </span><br><span class=\"line\">         ---如果该表有那内容的就打印那个表的名字。</span><br><span class=\"line\">            dbms_output.put_line(v_tablename);</span><br><span class=\"line\">         end if;</span><br><span class=\"line\">     end loop;</span><br><span class=\"line\">    Close cursor_jsdx;</span><br><span class=\"line\">end;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>下面这个存储过程是查找数据库中某个字段值为：hisen 的表<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">declare</span><br><span class=\"line\">l_cnt    varchar2(20);</span><br><span class=\"line\">v_sql  varchar2(4000);</span><br><span class=\"line\">v_tablename varchar(200);</span><br><span class=\"line\">  cursor cursor_jsdx is select &apos;select count(*) from &apos; || table_name || &apos; where NAME=&apos;&apos;hisen&apos;&apos;&apos;,table_name from user_tab_columns where column_name=&apos;NAME&apos;;</span><br><span class=\"line\">  --注：这里的字段名要大写 </span><br><span class=\"line\">begin</span><br><span class=\"line\">     open cursor_jsdx;</span><br><span class=\"line\">     Loop</span><br><span class=\"line\">            fetch cursor_jsdx into v_sql,v_tablename;</span><br><span class=\"line\">            exit when cursor_jsdx%notfound;</span><br><span class=\"line\">            execute immediate v_sql       into l_cnt;           </span><br><span class=\"line\">         if l_cnt &gt;0 then   </span><br><span class=\"line\">         ---如果该表有那内容的就打印那个表的名字。</span><br><span class=\"line\">            dbms_output.put_line(v_tablename);</span><br><span class=\"line\">         end if;</span><br><span class=\"line\">     end loop;</span><br><span class=\"line\">    Close cursor_jsdx;</span><br><span class=\"line\">end;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"oracle分页的三种方式","keywords":["oracle分页查询","oracle分页"],"date":"2017-04-11T10:48:00.000Z","_content":"\n第一种：\n```\nselect *\n  from (select t.*, rownum rn\n          from (select * from EW_AUTH_FLOW) t\n         where rownum <= 5)\n where rn > 2;\n```\n第二种：\n```\nselect *\n  from (select t.*, rownum rn from ew_auth_flow t where rownum <= 5)\n where rn > 2;\n```\n第三种：\n```\nselect *\n  from (select t.*, rownum rn from ew_auth_flow t)\n where rn between 2 and 5;\n```","source":"_posts/oracle分页的三种方式.md","raw":"---\ntitle: oracle分页的三种方式\nkeywords: [oracle分页查询,oracle分页]\ndate: 2017/4/11 18:48\ntags: [oracle]\ncategories: sql\n---\n\n第一种：\n```\nselect *\n  from (select t.*, rownum rn\n          from (select * from EW_AUTH_FLOW) t\n         where rownum <= 5)\n where rn > 2;\n```\n第二种：\n```\nselect *\n  from (select t.*, rownum rn from ew_auth_flow t where rownum <= 5)\n where rn > 2;\n```\n第三种：\n```\nselect *\n  from (select t.*, rownum rn from ew_auth_flow t)\n where rn between 2 and 5;\n```","slug":"oracle分页的三种方式","published":1,"updated":"2017-04-11T10:50:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt9009uolejtvirxmt2","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>第一种：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select *</span><br><span class=\"line\">  from (select t.*, rownum rn</span><br><span class=\"line\">          from (select * from EW_AUTH_FLOW) t</span><br><span class=\"line\">         where rownum &lt;= 5)</span><br><span class=\"line\"> where rn &gt; 2;</span><br></pre></td></tr></table></figure><p></p><p>第二种：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select *</span><br><span class=\"line\">  from (select t.*, rownum rn from ew_auth_flow t where rownum &lt;= 5)</span><br><span class=\"line\"> where rn &gt; 2;</span><br></pre></td></tr></table></figure><p></p><p>第三种：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select *</span><br><span class=\"line\">  from (select t.*, rownum rn from ew_auth_flow t)</span><br><span class=\"line\"> where rn between 2 and 5;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>第一种：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select *</span><br><span class=\"line\">  from (select t.*, rownum rn</span><br><span class=\"line\">          from (select * from EW_AUTH_FLOW) t</span><br><span class=\"line\">         where rownum &lt;= 5)</span><br><span class=\"line\"> where rn &gt; 2;</span><br></pre></td></tr></table></figure><p></p><p>第二种：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select *</span><br><span class=\"line\">  from (select t.*, rownum rn from ew_auth_flow t where rownum &lt;= 5)</span><br><span class=\"line\"> where rn &gt; 2;</span><br></pre></td></tr></table></figure><p></p><p>第三种：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select *</span><br><span class=\"line\">  from (select t.*, rownum rn from ew_auth_flow t)</span><br><span class=\"line\"> where rn between 2 and 5;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"oracle取微秒 - 记录点滴","keywords":["oracle","java"],"date":"2017-09-23T02:36:00.000Z","_content":"昨天在群里看到有人问怎么通过sql在oracle中取微秒\n\n以前没有遇到过，就搜索了一下，找了一会给找到了\n```\nselect to_char(systimestamp, 'yyyy-mm-dd hh24:mi:ss ff') from dual;\n```\n输出:年-月-日 时:分:秒 微秒\n```\n2017-9-24 10:38:27 129368\n```\n很少问题是搜索引擎找不到的，学会如何描述问题才是关键","source":"_posts/oracle取微秒 - 记录点滴.md","raw":"---\ntitle: oracle取微秒 - 记录点滴\nkeywords: [oracle,java]\ndate: 2017/9/23 10:36\ntags: [oracle,sql]\ncategories: java\n---\n昨天在群里看到有人问怎么通过sql在oracle中取微秒\n\n以前没有遇到过，就搜索了一下，找了一会给找到了\n```\nselect to_char(systimestamp, 'yyyy-mm-dd hh24:mi:ss ff') from dual;\n```\n输出:年-月-日 时:分:秒 微秒\n```\n2017-9-24 10:38:27 129368\n```\n很少问题是搜索引擎找不到的，学会如何描述问题才是关键","slug":"oracle取微秒 - 记录点滴","published":1,"updated":"2017-09-23T02:41:22.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdt9009wolejll5xsjat","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>昨天在群里看到有人问怎么通过sql在oracle中取微秒</p><p>以前没有遇到过，就搜索了一下，找了一会给找到了<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select to_char(systimestamp, &apos;yyyy-mm-dd hh24:mi:ss ff&apos;) from dual;</span><br></pre></td></tr></table></figure><p></p><p>输出:年-月-日 时:分:秒 微秒<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2017-9-24 10:38:27 129368</span><br></pre></td></tr></table></figure><p></p><p>很少问题是搜索引擎找不到的，学会如何描述问题才是关键</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>昨天在群里看到有人问怎么通过sql在oracle中取微秒</p><p>以前没有遇到过，就搜索了一下，找了一会给找到了<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select to_char(systimestamp, &apos;yyyy-mm-dd hh24:mi:ss ff&apos;) from dual;</span><br></pre></td></tr></table></figure><p></p><p>输出:年-月-日 时:分:秒 微秒<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2017-9-24 10:38:27 129368</span><br></pre></td></tr></table></figure><p></p><p>很少问题是搜索引擎找不到的，学会如何描述问题才是关键</p><!-- rebuild by neat -->"},{"title":"powerdesigner Oracle mysql comment 缺少右括号","keywords":["powerdesigner Oracle mysql comment 缺少右括号"],"date":"2017-06-21T16:11:00.000Z","_content":"powerdesigner Oracle mysql comment 缺少右括号\n\n今天人家给我个powerdesigner设计好的表\n\n要我去间数据库，直接复制出来去oracle执行，结果报错。\n\n在comment附近，如果把comment去掉则可以正确执行\n\n最后找到罪魁祸首：powerdesigner没有设置对数据库\n\n解决办法，在powerdesigner页面\n```\ndatabase-->change curren DBMS \n```\n上面是设置你需要的数据库\n\n下面是为更改前的数据库","source":"_posts/powerdesigner Oracle mysql comment 缺少右括号.md","raw":"---\ntitle: powerdesigner Oracle mysql comment 缺少右括号\nkeywords: [powerdesigner Oracle mysql comment 缺少右括号]\ndate: 2017/6/22 0:11\ntags: [mysql,oracle]\ncategories: sql\n---\npowerdesigner Oracle mysql comment 缺少右括号\n\n今天人家给我个powerdesigner设计好的表\n\n要我去间数据库，直接复制出来去oracle执行，结果报错。\n\n在comment附近，如果把comment去掉则可以正确执行\n\n最后找到罪魁祸首：powerdesigner没有设置对数据库\n\n解决办法，在powerdesigner页面\n```\ndatabase-->change curren DBMS \n```\n上面是设置你需要的数据库\n\n下面是为更改前的数据库","slug":"powerdesigner Oracle mysql comment 缺少右括号","published":1,"updated":"2017-06-21T16:15:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdta00a0olejzw8hm5fc","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>powerdesigner Oracle mysql comment 缺少右括号</p><p>今天人家给我个powerdesigner设计好的表</p><p>要我去间数据库，直接复制出来去oracle执行，结果报错。</p><p>在comment附近，如果把comment去掉则可以正确执行</p><p>最后找到罪魁祸首：powerdesigner没有设置对数据库</p><p>解决办法，在powerdesigner页面<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">database--&gt;change curren DBMS</span><br></pre></td></tr></table></figure><p></p><p>上面是设置你需要的数据库</p><p>下面是为更改前的数据库</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>powerdesigner Oracle mysql comment 缺少右括号</p><p>今天人家给我个powerdesigner设计好的表</p><p>要我去间数据库，直接复制出来去oracle执行，结果报错。</p><p>在comment附近，如果把comment去掉则可以正确执行</p><p>最后找到罪魁祸首：powerdesigner没有设置对数据库</p><p>解决办法，在powerdesigner页面<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">database--&gt;change curren DBMS</span><br></pre></td></tr></table></figure><p></p><p>上面是设置你需要的数据库</p><p>下面是为更改前的数据库</p><!-- rebuild by neat -->"},{"title":"rabbitMQ的安装和Demo","keywords":["rabbitMQ"],"date":"2018-01-11T14:50:00.000Z","_content":"# 零、rabbitMQ介绍\n[rabbitMQ详细介绍](http://blog.csdn.net/whycold/article/details/41119807)\n1. 如果某个queue有多个订阅，消息分均分到消费者，而不是所有人都收到全部\n2. 接收消息有ack(acknowledgment)机制，发送消息是没有这个机制的\n3. 生产者将消息发送到Exchange（交换器），由Exchange将消息路由到一个或多个Queue中（或者丢弃）。\n# 一、在ununtu上安装\n## 1.1 安装\n```\necho 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\nwget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -\n\nsudo apt-get update\n\nsudo apt-get install rabbitmq-server\n```\n## 1.2 配置\n```\n# 打开管理页面功能\nsudo rabbitmq-plugins enable rabbitmq_management\n# 查看安装的插件\nsudo rabbitmqctl list_users\n# 查看用户\nsudo rabbitmqctl list_users\n# 新增管理员用户\nsudo rabbitmqctl add_user admin admin\n# 授予管理员权限\nsudo rabbitmqctl set_user_tags admin administrator\n# 管理页面地址，用刚设置的账户登录管理页面\n```\n [http://127.0.0.1:15672](http://127.0.0.1:15672)\n# 二、Java小Demo\n## 2.1 遇到的问题\n1. ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN.\n帐号密码错误，建议使用2.3配置的账户，guest账户不靠谱\n\n2. connection error\nip或者port错误，确认信息是否正确，虚拟机的话看看端口映射是否正常\n\n## 2.2 配置用户\n```\n# 添加普通用户\nsudo rabbitmqctl add_user hisen hisen\n# 添加权限\nrabbitmqctl set_permissions -p \"/\"  hisen \".*\" \".*\" \".*\"\n# 列出用户权限\nrabbitmqctl list_user_permissions hisen\n```\n## 2.3 添加maven依赖\n```\n<dependency>\n  <groupId>com.rabbitmq</groupId>\n  <artifactId>amqp-client</artifactId>\n  <version>5.0.0</version>\n</dependency>\n```\n## 2.4 发送端代码\n<!--more-->\n```\npackage com.hisen.jars.rabbitmq;\n\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\n\npublic class Send {\n  // 定义队列名字\n  public static final String QUEUE_NAME = \"hello\";\n\n  public static void main(String[] args) throws IOException, TimeoutException {\n    // 创建连接工厂\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"127.0.0.1\");\n    factory.setPort(5672);\n    factory.setUsername(\"hisen\");\n    factory.setPassword(\"hisen\");\n    Connection connection = null;\n    Channel channel = null;\n    try {\n      // 创建连接\n      connection = factory.newConnection();\n      // 创建信道\n      channel = connection.createChannel();\n      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的\n      channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n      for (int i = 0; i < 10; i++) {\n        // 定义消息内容\n        String message = \"Hello World - \" + i;\n        // 通过信道发布内容\n        channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes());\n        System.out.println(\"send : \" + message);\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (TimeoutException e) {\n      e.printStackTrace();\n    } finally {\n      if (null!=channel) {\n        channel.close();\n      }\n      if (null!= connection ) {\n        connection.close();\n      }\n    }\n  }\n}\n```\n## 2.5 接收端代码\n```\npackage com.hisen.jars.rabbitmq;\n\nimport com.rabbitmq.client.AMQP.BasicProperties;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.DefaultConsumer;\nimport com.rabbitmq.client.Envelope;\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\nimport org.joda.time.DateTime;\n\npublic class Receive{\n  // 定义队列名字\n  public static final String QUEUE_NAME = \"hello\";\n\n  public static void main(String[] args) {\n    // 创建连接工厂\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"127.0.0.1\");\n    factory.setUsername(\"hisen\");\n    factory.setPassword(\"hisen\");\n    try {\n      // 创建连接\n      Connection connection = factory.newConnection();\n      // 创建信道\n      Channel channel = connection.createChannel();\n      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的\n      channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n      System.out.println(\"watting for message\");\n\n      /* 定义消费者 */\n      DefaultConsumer consumer = new DefaultConsumer(channel) {\n        @Override\n        public void handleDelivery(String consumerTag, Envelope envelope,\n            BasicProperties properties, byte[] body)\n            throws IOException {\n          String message = new String(body, \"UTF-8\");\n          System.out.println(\"Received time:\" + new DateTime().toString(\"yyyy-MM-dd HH:mm:ss:SSS EE\")+ \" the message is -> \" + message);\n        }\n      };\n      // 将消费者绑定到队列，并设置自动确认消息（即无需显示确认，如何设置请慎重考虑）\n      channel.basicConsume(QUEUE_NAME, true, consumer);\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (TimeoutException e) {\n      e.printStackTrace();\n    }\n  }\n}\n```","source":"_posts/rabbitMQ的安装和Demo.md","raw":"---\ntitle: rabbitMQ的安装和Demo\nkeywords: [rabbitMQ]\ndate: 2018/1/11 22:50\ntags: [rabbitMQ]\ncategories: java\n---\n# 零、rabbitMQ介绍\n[rabbitMQ详细介绍](http://blog.csdn.net/whycold/article/details/41119807)\n1. 如果某个queue有多个订阅，消息分均分到消费者，而不是所有人都收到全部\n2. 接收消息有ack(acknowledgment)机制，发送消息是没有这个机制的\n3. 生产者将消息发送到Exchange（交换器），由Exchange将消息路由到一个或多个Queue中（或者丢弃）。\n# 一、在ununtu上安装\n## 1.1 安装\n```\necho 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\nwget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -\n\nsudo apt-get update\n\nsudo apt-get install rabbitmq-server\n```\n## 1.2 配置\n```\n# 打开管理页面功能\nsudo rabbitmq-plugins enable rabbitmq_management\n# 查看安装的插件\nsudo rabbitmqctl list_users\n# 查看用户\nsudo rabbitmqctl list_users\n# 新增管理员用户\nsudo rabbitmqctl add_user admin admin\n# 授予管理员权限\nsudo rabbitmqctl set_user_tags admin administrator\n# 管理页面地址，用刚设置的账户登录管理页面\n```\n [http://127.0.0.1:15672](http://127.0.0.1:15672)\n# 二、Java小Demo\n## 2.1 遇到的问题\n1. ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN.\n帐号密码错误，建议使用2.3配置的账户，guest账户不靠谱\n\n2. connection error\nip或者port错误，确认信息是否正确，虚拟机的话看看端口映射是否正常\n\n## 2.2 配置用户\n```\n# 添加普通用户\nsudo rabbitmqctl add_user hisen hisen\n# 添加权限\nrabbitmqctl set_permissions -p \"/\"  hisen \".*\" \".*\" \".*\"\n# 列出用户权限\nrabbitmqctl list_user_permissions hisen\n```\n## 2.3 添加maven依赖\n```\n<dependency>\n  <groupId>com.rabbitmq</groupId>\n  <artifactId>amqp-client</artifactId>\n  <version>5.0.0</version>\n</dependency>\n```\n## 2.4 发送端代码\n<!--more-->\n```\npackage com.hisen.jars.rabbitmq;\n\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\n\npublic class Send {\n  // 定义队列名字\n  public static final String QUEUE_NAME = \"hello\";\n\n  public static void main(String[] args) throws IOException, TimeoutException {\n    // 创建连接工厂\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"127.0.0.1\");\n    factory.setPort(5672);\n    factory.setUsername(\"hisen\");\n    factory.setPassword(\"hisen\");\n    Connection connection = null;\n    Channel channel = null;\n    try {\n      // 创建连接\n      connection = factory.newConnection();\n      // 创建信道\n      channel = connection.createChannel();\n      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的\n      channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n      for (int i = 0; i < 10; i++) {\n        // 定义消息内容\n        String message = \"Hello World - \" + i;\n        // 通过信道发布内容\n        channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes());\n        System.out.println(\"send : \" + message);\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (TimeoutException e) {\n      e.printStackTrace();\n    } finally {\n      if (null!=channel) {\n        channel.close();\n      }\n      if (null!= connection ) {\n        connection.close();\n      }\n    }\n  }\n}\n```\n## 2.5 接收端代码\n```\npackage com.hisen.jars.rabbitmq;\n\nimport com.rabbitmq.client.AMQP.BasicProperties;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.DefaultConsumer;\nimport com.rabbitmq.client.Envelope;\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\nimport org.joda.time.DateTime;\n\npublic class Receive{\n  // 定义队列名字\n  public static final String QUEUE_NAME = \"hello\";\n\n  public static void main(String[] args) {\n    // 创建连接工厂\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"127.0.0.1\");\n    factory.setUsername(\"hisen\");\n    factory.setPassword(\"hisen\");\n    try {\n      // 创建连接\n      Connection connection = factory.newConnection();\n      // 创建信道\n      Channel channel = connection.createChannel();\n      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的\n      channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n      System.out.println(\"watting for message\");\n\n      /* 定义消费者 */\n      DefaultConsumer consumer = new DefaultConsumer(channel) {\n        @Override\n        public void handleDelivery(String consumerTag, Envelope envelope,\n            BasicProperties properties, byte[] body)\n            throws IOException {\n          String message = new String(body, \"UTF-8\");\n          System.out.println(\"Received time:\" + new DateTime().toString(\"yyyy-MM-dd HH:mm:ss:SSS EE\")+ \" the message is -> \" + message);\n        }\n      };\n      // 将消费者绑定到队列，并设置自动确认消息（即无需显示确认，如何设置请慎重考虑）\n      channel.basicConsume(QUEUE_NAME, true, consumer);\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (TimeoutException e) {\n      e.printStackTrace();\n    }\n  }\n}\n```","slug":"rabbitMQ的安装和Demo","published":1,"updated":"2018-01-11T14:55:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtb00a3olejdwi7e5dk","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h1 id=\"零、rabbitMQ介绍\"><a href=\"#零、rabbitMQ介绍\" class=\"headerlink\" title=\"零、rabbitMQ介绍\"></a>零、rabbitMQ介绍</h1><p><a href=\"http://blog.csdn.net/whycold/article/details/41119807\" target=\"_blank\" rel=\"noopener\">rabbitMQ详细介绍</a></p><ol><li>如果某个queue有多个订阅，消息分均分到消费者，而不是所有人都收到全部</li><li>接收消息有ack(acknowledgment)机制，发送消息是没有这个机制的</li><li>生产者将消息发送到Exchange（交换器），由Exchange将消息路由到一个或多个Queue中（或者丢弃）。<h1 id=\"一、在ununtu上安装\"><a href=\"#一、在ununtu上安装\" class=\"headerlink\" title=\"一、在ununtu上安装\"></a>一、在ununtu上安装</h1><h2 id=\"1-1-安装\"><a href=\"#1-1-安装\" class=\"headerlink\" title=\"1.1 安装\"></a>1.1 安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &apos;deb http://www.rabbitmq.com/debian/ testing main&apos; | sudo tee /etc/apt/sources.list.d/rabbitmq.list</span><br><span class=\"line\"></span><br><span class=\"line\">wget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get install rabbitmq-server</span><br></pre></td></tr></table></figure></li></ol><h2 id=\"1-2-配置\"><a href=\"#1-2-配置\" class=\"headerlink\" title=\"1.2 配置\"></a>1.2 配置</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 打开管理页面功能</span><br><span class=\"line\">sudo rabbitmq-plugins enable rabbitmq_management</span><br><span class=\"line\"># 查看安装的插件</span><br><span class=\"line\">sudo rabbitmqctl list_users</span><br><span class=\"line\"># 查看用户</span><br><span class=\"line\">sudo rabbitmqctl list_users</span><br><span class=\"line\"># 新增管理员用户</span><br><span class=\"line\">sudo rabbitmqctl add_user admin admin</span><br><span class=\"line\"># 授予管理员权限</span><br><span class=\"line\">sudo rabbitmqctl set_user_tags admin administrator</span><br><span class=\"line\"># 管理页面地址，用刚设置的账户登录管理页面</span><br></pre></td></tr></table></figure><p><a href=\"http://127.0.0.1:15672\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:15672</a></p><h1 id=\"二、Java小Demo\"><a href=\"#二、Java小Demo\" class=\"headerlink\" title=\"二、Java小Demo\"></a>二、Java小Demo</h1><h2 id=\"2-1-遇到的问题\"><a href=\"#2-1-遇到的问题\" class=\"headerlink\" title=\"2.1 遇到的问题\"></a>2.1 遇到的问题</h2><ol><li><p>ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN.<br>帐号密码错误，建议使用2.3配置的账户，guest账户不靠谱</p></li><li><p>connection error<br>ip或者port错误，确认信息是否正确，虚拟机的话看看端口映射是否正常</p></li></ol><h2 id=\"2-2-配置用户\"><a href=\"#2-2-配置用户\" class=\"headerlink\" title=\"2.2 配置用户\"></a>2.2 配置用户</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 添加普通用户</span><br><span class=\"line\">sudo rabbitmqctl add_user hisen hisen</span><br><span class=\"line\"># 添加权限</span><br><span class=\"line\">rabbitmqctl set_permissions -p &quot;/&quot;  hisen &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class=\"line\"># 列出用户权限</span><br><span class=\"line\">rabbitmqctl list_user_permissions hisen</span><br></pre></td></tr></table></figure><h2 id=\"2-3-添加maven依赖\"><a href=\"#2-3-添加maven依赖\" class=\"headerlink\" title=\"2.3 添加maven依赖\"></a>2.3 添加maven依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;5.0.0&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h2 id=\"2-4-发送端代码\"><a href=\"#2-4-发送端代码\" class=\"headerlink\" title=\"2.4 发送端代码\"></a>2.4 发送端代码</h2><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.rabbitmq;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.rabbitmq.client.Channel;</span><br><span class=\"line\">import com.rabbitmq.client.Connection;</span><br><span class=\"line\">import com.rabbitmq.client.ConnectionFactory;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.util.concurrent.TimeoutException;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Send &#123;</span><br><span class=\"line\">  // 定义队列名字</span><br><span class=\"line\">  public static final String QUEUE_NAME = &quot;hello&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) throws IOException, TimeoutException &#123;</span><br><span class=\"line\">    // 创建连接工厂</span><br><span class=\"line\">    ConnectionFactory factory = new ConnectionFactory();</span><br><span class=\"line\">    factory.setHost(&quot;127.0.0.1&quot;);</span><br><span class=\"line\">    factory.setPort(5672);</span><br><span class=\"line\">    factory.setUsername(&quot;hisen&quot;);</span><br><span class=\"line\">    factory.setPassword(&quot;hisen&quot;);</span><br><span class=\"line\">    Connection connection = null;</span><br><span class=\"line\">    Channel channel = null;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      // 创建连接</span><br><span class=\"line\">      connection = factory.newConnection();</span><br><span class=\"line\">      // 创建信道</span><br><span class=\"line\">      channel = connection.createChannel();</span><br><span class=\"line\">      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的</span><br><span class=\"line\">      channel.queueDeclare(QUEUE_NAME, false, false, false, null);</span><br><span class=\"line\">      for (int i = 0; i &lt; 10; i++) &#123;</span><br><span class=\"line\">        // 定义消息内容</span><br><span class=\"line\">        String message = &quot;Hello World - &quot; + i;</span><br><span class=\"line\">        // 通过信道发布内容</span><br><span class=\"line\">        channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes());</span><br><span class=\"line\">        System.out.println(&quot;send : &quot; + message);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (TimeoutException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; finally &#123;</span><br><span class=\"line\">      if (null!=channel) &#123;</span><br><span class=\"line\">        channel.close();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (null!= connection ) &#123;</span><br><span class=\"line\">        connection.close();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h2 id=\"2-5-接收端代码\"><a href=\"#2-5-接收端代码\" class=\"headerlink\" title=\"2.5 接收端代码\"></a>2.5 接收端代码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.rabbitmq;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.rabbitmq.client.AMQP.BasicProperties;</span><br><span class=\"line\">import com.rabbitmq.client.Channel;</span><br><span class=\"line\">import com.rabbitmq.client.Connection;</span><br><span class=\"line\">import com.rabbitmq.client.ConnectionFactory;</span><br><span class=\"line\">import com.rabbitmq.client.DefaultConsumer;</span><br><span class=\"line\">import com.rabbitmq.client.Envelope;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.util.concurrent.TimeoutException;</span><br><span class=\"line\">import org.joda.time.DateTime;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Receive&#123;</span><br><span class=\"line\">  // 定义队列名字</span><br><span class=\"line\">  public static final String QUEUE_NAME = &quot;hello&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    // 创建连接工厂</span><br><span class=\"line\">    ConnectionFactory factory = new ConnectionFactory();</span><br><span class=\"line\">    factory.setHost(&quot;127.0.0.1&quot;);</span><br><span class=\"line\">    factory.setUsername(&quot;hisen&quot;);</span><br><span class=\"line\">    factory.setPassword(&quot;hisen&quot;);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      // 创建连接</span><br><span class=\"line\">      Connection connection = factory.newConnection();</span><br><span class=\"line\">      // 创建信道</span><br><span class=\"line\">      Channel channel = connection.createChannel();</span><br><span class=\"line\">      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的</span><br><span class=\"line\">      channel.queueDeclare(QUEUE_NAME, false, false, false, null);</span><br><span class=\"line\">      System.out.println(&quot;watting for message&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">      /* 定义消费者 */</span><br><span class=\"line\">      DefaultConsumer consumer = new DefaultConsumer(channel) &#123;</span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        public void handleDelivery(String consumerTag, Envelope envelope,</span><br><span class=\"line\">            BasicProperties properties, byte[] body)</span><br><span class=\"line\">            throws IOException &#123;</span><br><span class=\"line\">          String message = new String(body, &quot;UTF-8&quot;);</span><br><span class=\"line\">          System.out.println(&quot;Received time:&quot; + new DateTime().toString(&quot;yyyy-MM-dd HH:mm:ss:SSS EE&quot;)+ &quot; the message is -&gt; &quot; + message);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      // 将消费者绑定到队列，并设置自动确认消息（即无需显示确认，如何设置请慎重考虑）</span><br><span class=\"line\">      channel.basicConsume(QUEUE_NAME, true, consumer);</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (TimeoutException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h1 id=\"零、rabbitMQ介绍\"><a href=\"#零、rabbitMQ介绍\" class=\"headerlink\" title=\"零、rabbitMQ介绍\"></a>零、rabbitMQ介绍</h1><p><a href=\"http://blog.csdn.net/whycold/article/details/41119807\" target=\"_blank\" rel=\"noopener\">rabbitMQ详细介绍</a></p><ol><li>如果某个queue有多个订阅，消息分均分到消费者，而不是所有人都收到全部</li><li>接收消息有ack(acknowledgment)机制，发送消息是没有这个机制的</li><li>生产者将消息发送到Exchange（交换器），由Exchange将消息路由到一个或多个Queue中（或者丢弃）。<h1 id=\"一、在ununtu上安装\"><a href=\"#一、在ununtu上安装\" class=\"headerlink\" title=\"一、在ununtu上安装\"></a>一、在ununtu上安装</h1><h2 id=\"1-1-安装\"><a href=\"#1-1-安装\" class=\"headerlink\" title=\"1.1 安装\"></a>1.1 安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &apos;deb http://www.rabbitmq.com/debian/ testing main&apos; | sudo tee /etc/apt/sources.list.d/rabbitmq.list</span><br><span class=\"line\"></span><br><span class=\"line\">wget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get install rabbitmq-server</span><br></pre></td></tr></table></figure></li></ol><h2 id=\"1-2-配置\"><a href=\"#1-2-配置\" class=\"headerlink\" title=\"1.2 配置\"></a>1.2 配置</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 打开管理页面功能</span><br><span class=\"line\">sudo rabbitmq-plugins enable rabbitmq_management</span><br><span class=\"line\"># 查看安装的插件</span><br><span class=\"line\">sudo rabbitmqctl list_users</span><br><span class=\"line\"># 查看用户</span><br><span class=\"line\">sudo rabbitmqctl list_users</span><br><span class=\"line\"># 新增管理员用户</span><br><span class=\"line\">sudo rabbitmqctl add_user admin admin</span><br><span class=\"line\"># 授予管理员权限</span><br><span class=\"line\">sudo rabbitmqctl set_user_tags admin administrator</span><br><span class=\"line\"># 管理页面地址，用刚设置的账户登录管理页面</span><br></pre></td></tr></table></figure><p><a href=\"http://127.0.0.1:15672\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:15672</a></p><h1 id=\"二、Java小Demo\"><a href=\"#二、Java小Demo\" class=\"headerlink\" title=\"二、Java小Demo\"></a>二、Java小Demo</h1><h2 id=\"2-1-遇到的问题\"><a href=\"#2-1-遇到的问题\" class=\"headerlink\" title=\"2.1 遇到的问题\"></a>2.1 遇到的问题</h2><ol><li><p>ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN.<br>帐号密码错误，建议使用2.3配置的账户，guest账户不靠谱</p></li><li><p>connection error<br>ip或者port错误，确认信息是否正确，虚拟机的话看看端口映射是否正常</p></li></ol><h2 id=\"2-2-配置用户\"><a href=\"#2-2-配置用户\" class=\"headerlink\" title=\"2.2 配置用户\"></a>2.2 配置用户</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 添加普通用户</span><br><span class=\"line\">sudo rabbitmqctl add_user hisen hisen</span><br><span class=\"line\"># 添加权限</span><br><span class=\"line\">rabbitmqctl set_permissions -p &quot;/&quot;  hisen &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class=\"line\"># 列出用户权限</span><br><span class=\"line\">rabbitmqctl list_user_permissions hisen</span><br></pre></td></tr></table></figure><h2 id=\"2-3-添加maven依赖\"><a href=\"#2-3-添加maven依赖\" class=\"headerlink\" title=\"2.3 添加maven依赖\"></a>2.3 添加maven依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;5.0.0&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h2 id=\"2-4-发送端代码\"><a href=\"#2-4-发送端代码\" class=\"headerlink\" title=\"2.4 发送端代码\"></a>2.4 发送端代码</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.rabbitmq;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.rabbitmq.client.Channel;</span><br><span class=\"line\">import com.rabbitmq.client.Connection;</span><br><span class=\"line\">import com.rabbitmq.client.ConnectionFactory;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.util.concurrent.TimeoutException;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Send &#123;</span><br><span class=\"line\">  // 定义队列名字</span><br><span class=\"line\">  public static final String QUEUE_NAME = &quot;hello&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) throws IOException, TimeoutException &#123;</span><br><span class=\"line\">    // 创建连接工厂</span><br><span class=\"line\">    ConnectionFactory factory = new ConnectionFactory();</span><br><span class=\"line\">    factory.setHost(&quot;127.0.0.1&quot;);</span><br><span class=\"line\">    factory.setPort(5672);</span><br><span class=\"line\">    factory.setUsername(&quot;hisen&quot;);</span><br><span class=\"line\">    factory.setPassword(&quot;hisen&quot;);</span><br><span class=\"line\">    Connection connection = null;</span><br><span class=\"line\">    Channel channel = null;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      // 创建连接</span><br><span class=\"line\">      connection = factory.newConnection();</span><br><span class=\"line\">      // 创建信道</span><br><span class=\"line\">      channel = connection.createChannel();</span><br><span class=\"line\">      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的</span><br><span class=\"line\">      channel.queueDeclare(QUEUE_NAME, false, false, false, null);</span><br><span class=\"line\">      for (int i = 0; i &lt; 10; i++) &#123;</span><br><span class=\"line\">        // 定义消息内容</span><br><span class=\"line\">        String message = &quot;Hello World - &quot; + i;</span><br><span class=\"line\">        // 通过信道发布内容</span><br><span class=\"line\">        channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes());</span><br><span class=\"line\">        System.out.println(&quot;send : &quot; + message);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (TimeoutException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; finally &#123;</span><br><span class=\"line\">      if (null!=channel) &#123;</span><br><span class=\"line\">        channel.close();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (null!= connection ) &#123;</span><br><span class=\"line\">        connection.close();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h2 id=\"2-5-接收端代码\"><a href=\"#2-5-接收端代码\" class=\"headerlink\" title=\"2.5 接收端代码\"></a>2.5 接收端代码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jars.rabbitmq;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.rabbitmq.client.AMQP.BasicProperties;</span><br><span class=\"line\">import com.rabbitmq.client.Channel;</span><br><span class=\"line\">import com.rabbitmq.client.Connection;</span><br><span class=\"line\">import com.rabbitmq.client.ConnectionFactory;</span><br><span class=\"line\">import com.rabbitmq.client.DefaultConsumer;</span><br><span class=\"line\">import com.rabbitmq.client.Envelope;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.util.concurrent.TimeoutException;</span><br><span class=\"line\">import org.joda.time.DateTime;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Receive&#123;</span><br><span class=\"line\">  // 定义队列名字</span><br><span class=\"line\">  public static final String QUEUE_NAME = &quot;hello&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    // 创建连接工厂</span><br><span class=\"line\">    ConnectionFactory factory = new ConnectionFactory();</span><br><span class=\"line\">    factory.setHost(&quot;127.0.0.1&quot;);</span><br><span class=\"line\">    factory.setUsername(&quot;hisen&quot;);</span><br><span class=\"line\">    factory.setPassword(&quot;hisen&quot;);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      // 创建连接</span><br><span class=\"line\">      Connection connection = factory.newConnection();</span><br><span class=\"line\">      // 创建信道</span><br><span class=\"line\">      Channel channel = connection.createChannel();</span><br><span class=\"line\">      // 声明一个队列：名称、持久性的（重启仍存在此队列）、非私有的、非自动删除的</span><br><span class=\"line\">      channel.queueDeclare(QUEUE_NAME, false, false, false, null);</span><br><span class=\"line\">      System.out.println(&quot;watting for message&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">      /* 定义消费者 */</span><br><span class=\"line\">      DefaultConsumer consumer = new DefaultConsumer(channel) &#123;</span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        public void handleDelivery(String consumerTag, Envelope envelope,</span><br><span class=\"line\">            BasicProperties properties, byte[] body)</span><br><span class=\"line\">            throws IOException &#123;</span><br><span class=\"line\">          String message = new String(body, &quot;UTF-8&quot;);</span><br><span class=\"line\">          System.out.println(&quot;Received time:&quot; + new DateTime().toString(&quot;yyyy-MM-dd HH:mm:ss:SSS EE&quot;)+ &quot; the message is -&gt; &quot; + message);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      // 将消费者绑定到队列，并设置自动确认消息（即无需显示确认，如何设置请慎重考虑）</span><br><span class=\"line\">      channel.basicConsume(QUEUE_NAME, true, consumer);</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (TimeoutException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"redis counter demo -  redis并发计数器","keywords":["redis","redis计数器"],"date":"2018-01-11T14:51:00.000Z","_content":"# 一、说明\n利用redis操作的原子性，实现java 多线程并发的情况下实现计数器。\n\n我本机测试多个线程操作之后，结果会出现一定的延迟，但是最终数字是ok的\n\n应该是redis内部做了一个类似于队列的功能。\n\n需要注意的是，得使用redis连接的线程池，不然会出现异常\n\n这里有一个：[JedisUtil](https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/utils/JedisUtil.java) 下面用到了\n\n# 二、 代码实现\n## 2.1 redis操作类\n```\npackage com.hisen.thread.count_click_by_redis;\n\nimport com.hisen.utils.JedisUtil;\nimport redis.clients.jedis.JedisPool;\n/**\n * @author hisenyuan\n * @description 操作redis的线程类\n */\npublic class ClickRedis {\n\n  /**\n   * 必须使用线程池，而且线程池要大于并发数，否则会出现redis超时\n   */\n  private static JedisPool jedis = JedisUtil.getPool();\n\n  public static void click() {\n    jedis.getResource().incrBy(\"hisen\", 1);\n  }\n\n  public static int getCount() {\n    return Integer.parseInt(jedis.getResource().get(\"hisen\"));\n  }\n\n  public static void declare() {\n    jedis.getResource().del(\"hisen\");\n    jedis.close();\n  }\n}\n```\n## 2.2 线程类,模拟点击\n```\npackage com.hisen.thread.count_click_by_redis;\n\n/**\n * @author hisenyuan\n * @description 执行点击的线程类\n */\npublic class CountClickByRedisThread extends Thread{\n\n  private int id;\n  public CountClickByRedisThread(int id) {\n    this.id = id;\n  }\n\n  @Override\n  public void run() {\n    super.run();\n    ClickRedis.click();\n    int count = ClickRedis.getCount();\n    System.out.println(\"task:\" + id + \"\\t 执行完毕\\t线程编号：\" + this.getId() + \"\\t当前值：\" + count);\n  }\n}\n```\n2.3 主线程 - 启动类\n```\npackage com.hisen.thread.count_click_by_redis;\n\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n  public static void main(String[] args) throws InterruptedException {\n    /**\n     * 5 - corePoolSize：核心池的大小\n     * 10 - maximumPoolSize：线程池最大线程数，它表示在线程池中最多能创建多少个线程\n     * 200 - keepAliveTime：表示线程没有任务执行时最多保持多久时间会终止。\n     * unit - unit：参数keepAliveTime的时间单位，有7种取值\n     * workQueue：一个阻塞队列，用来存储等待执行的任务\n     */\n    ThreadPoolExecutor executor = new ThreadPoolExecutor(\n        50,\n        100,\n        200,\n        TimeUnit.MICROSECONDS,\n        new ArrayBlockingQueue<Runnable>(50));\n    // 开启50个线程\n    for (int i = 0; i < 50; i++) {\n      executor.execute(new CountClickByRedisThread(i));\n    }\n    System.out.println(\"已经开启所有的子线程\");\n    // 启动一次顺序关闭，执行以前提交的任务，但不接受新任务。\n    executor.shutdown();\n    // 判断所有线程是否已经执行完毕\n    while (true) {\n      if (executor.isTerminated()) {\n        System.out.println(\"所有的子线程都结束了！\");\n        // 清除redis数据\n        ClickRedis.declare();\n        break;\n      }\n      Thread.sleep(100);\n    }\n  }\n\n}\n```","source":"_posts/redis counter demo -  redis并发计数器.md","raw":"---\ntitle: redis counter demo -  redis并发计数器\nkeywords: [redis,redis计数器]\ndate: 2018/1/11 22:51\ntags: [redis]\ncategories: sql\n---\n# 一、说明\n利用redis操作的原子性，实现java 多线程并发的情况下实现计数器。\n\n我本机测试多个线程操作之后，结果会出现一定的延迟，但是最终数字是ok的\n\n应该是redis内部做了一个类似于队列的功能。\n\n需要注意的是，得使用redis连接的线程池，不然会出现异常\n\n这里有一个：[JedisUtil](https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/utils/JedisUtil.java) 下面用到了\n\n# 二、 代码实现\n## 2.1 redis操作类\n```\npackage com.hisen.thread.count_click_by_redis;\n\nimport com.hisen.utils.JedisUtil;\nimport redis.clients.jedis.JedisPool;\n/**\n * @author hisenyuan\n * @description 操作redis的线程类\n */\npublic class ClickRedis {\n\n  /**\n   * 必须使用线程池，而且线程池要大于并发数，否则会出现redis超时\n   */\n  private static JedisPool jedis = JedisUtil.getPool();\n\n  public static void click() {\n    jedis.getResource().incrBy(\"hisen\", 1);\n  }\n\n  public static int getCount() {\n    return Integer.parseInt(jedis.getResource().get(\"hisen\"));\n  }\n\n  public static void declare() {\n    jedis.getResource().del(\"hisen\");\n    jedis.close();\n  }\n}\n```\n## 2.2 线程类,模拟点击\n```\npackage com.hisen.thread.count_click_by_redis;\n\n/**\n * @author hisenyuan\n * @description 执行点击的线程类\n */\npublic class CountClickByRedisThread extends Thread{\n\n  private int id;\n  public CountClickByRedisThread(int id) {\n    this.id = id;\n  }\n\n  @Override\n  public void run() {\n    super.run();\n    ClickRedis.click();\n    int count = ClickRedis.getCount();\n    System.out.println(\"task:\" + id + \"\\t 执行完毕\\t线程编号：\" + this.getId() + \"\\t当前值：\" + count);\n  }\n}\n```\n2.3 主线程 - 启动类\n```\npackage com.hisen.thread.count_click_by_redis;\n\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n  public static void main(String[] args) throws InterruptedException {\n    /**\n     * 5 - corePoolSize：核心池的大小\n     * 10 - maximumPoolSize：线程池最大线程数，它表示在线程池中最多能创建多少个线程\n     * 200 - keepAliveTime：表示线程没有任务执行时最多保持多久时间会终止。\n     * unit - unit：参数keepAliveTime的时间单位，有7种取值\n     * workQueue：一个阻塞队列，用来存储等待执行的任务\n     */\n    ThreadPoolExecutor executor = new ThreadPoolExecutor(\n        50,\n        100,\n        200,\n        TimeUnit.MICROSECONDS,\n        new ArrayBlockingQueue<Runnable>(50));\n    // 开启50个线程\n    for (int i = 0; i < 50; i++) {\n      executor.execute(new CountClickByRedisThread(i));\n    }\n    System.out.println(\"已经开启所有的子线程\");\n    // 启动一次顺序关闭，执行以前提交的任务，但不接受新任务。\n    executor.shutdown();\n    // 判断所有线程是否已经执行完毕\n    while (true) {\n      if (executor.isTerminated()) {\n        System.out.println(\"所有的子线程都结束了！\");\n        // 清除redis数据\n        ClickRedis.declare();\n        break;\n      }\n      Thread.sleep(100);\n    }\n  }\n\n}\n```","slug":"redis counter demo -  redis并发计数器","published":1,"updated":"2018-01-11T14:52:14.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtc00a6olejqkgust0s","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h1 id=\"一、说明\"><a href=\"#一、说明\" class=\"headerlink\" title=\"一、说明\"></a>一、说明</h1><p>利用redis操作的原子性，实现java 多线程并发的情况下实现计数器。</p><p>我本机测试多个线程操作之后，结果会出现一定的延迟，但是最终数字是ok的</p><p>应该是redis内部做了一个类似于队列的功能。</p><p>需要注意的是，得使用redis连接的线程池，不然会出现异常</p><p>这里有一个：<a href=\"https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/utils/JedisUtil.java\" target=\"_blank\" rel=\"noopener\">JedisUtil</a> 下面用到了</p><h1 id=\"二、-代码实现\"><a href=\"#二、-代码实现\" class=\"headerlink\" title=\"二、 代码实现\"></a>二、 代码实现</h1><h2 id=\"2-1-redis操作类\"><a href=\"#2-1-redis操作类\" class=\"headerlink\" title=\"2.1 redis操作类\"></a>2.1 redis操作类</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.thread.count_click_by_redis;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.hisen.utils.JedisUtil;</span><br><span class=\"line\">import redis.clients.jedis.JedisPool;</span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @description 操作redis的线程类</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ClickRedis &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 必须使用线程池，而且线程池要大于并发数，否则会出现redis超时</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private static JedisPool jedis = JedisUtil.getPool();</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void click() &#123;</span><br><span class=\"line\">    jedis.getResource().incrBy(&quot;hisen&quot;, 1);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static int getCount() &#123;</span><br><span class=\"line\">    return Integer.parseInt(jedis.getResource().get(&quot;hisen&quot;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void declare() &#123;</span><br><span class=\"line\">    jedis.getResource().del(&quot;hisen&quot;);</span><br><span class=\"line\">    jedis.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h2 id=\"2-2-线程类-模拟点击\"><a href=\"#2-2-线程类-模拟点击\" class=\"headerlink\" title=\"2.2 线程类,模拟点击\"></a>2.2 线程类,模拟点击</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.thread.count_click_by_redis;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @description 执行点击的线程类</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class CountClickByRedisThread extends Thread&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private int id;</span><br><span class=\"line\">  public CountClickByRedisThread(int id) &#123;</span><br><span class=\"line\">    this.id = id;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void run() &#123;</span><br><span class=\"line\">    super.run();</span><br><span class=\"line\">    ClickRedis.click();</span><br><span class=\"line\">    int count = ClickRedis.getCount();</span><br><span class=\"line\">    System.out.println(&quot;task:&quot; + id + &quot;\\t 执行完毕\\t线程编号：&quot; + this.getId() + &quot;\\t当前值：&quot; + count);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>2.3 主线程 - 启动类<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.thread.count_click_by_redis;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.concurrent.ArrayBlockingQueue;</span><br><span class=\"line\">import java.util.concurrent.ThreadPoolExecutor;</span><br><span class=\"line\">import java.util.concurrent.TimeUnit;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Main &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) throws InterruptedException &#123;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 5 - corePoolSize：核心池的大小</span><br><span class=\"line\">     * 10 - maximumPoolSize：线程池最大线程数，它表示在线程池中最多能创建多少个线程</span><br><span class=\"line\">     * 200 - keepAliveTime：表示线程没有任务执行时最多保持多久时间会终止。</span><br><span class=\"line\">     * unit - unit：参数keepAliveTime的时间单位，有7种取值</span><br><span class=\"line\">     * workQueue：一个阻塞队列，用来存储等待执行的任务</span><br><span class=\"line\">     */</span><br><span class=\"line\">    ThreadPoolExecutor executor = new ThreadPoolExecutor(</span><br><span class=\"line\">        50,</span><br><span class=\"line\">        100,</span><br><span class=\"line\">        200,</span><br><span class=\"line\">        TimeUnit.MICROSECONDS,</span><br><span class=\"line\">        new ArrayBlockingQueue&lt;Runnable&gt;(50));</span><br><span class=\"line\">    // 开启50个线程</span><br><span class=\"line\">    for (int i = 0; i &lt; 50; i++) &#123;</span><br><span class=\"line\">      executor.execute(new CountClickByRedisThread(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(&quot;已经开启所有的子线程&quot;);</span><br><span class=\"line\">    // 启动一次顺序关闭，执行以前提交的任务，但不接受新任务。</span><br><span class=\"line\">    executor.shutdown();</span><br><span class=\"line\">    // 判断所有线程是否已经执行完毕</span><br><span class=\"line\">    while (true) &#123;</span><br><span class=\"line\">      if (executor.isTerminated()) &#123;</span><br><span class=\"line\">        System.out.println(&quot;所有的子线程都结束了！&quot;);</span><br><span class=\"line\">        // 清除redis数据</span><br><span class=\"line\">        ClickRedis.declare();</span><br><span class=\"line\">        break;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      Thread.sleep(100);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h1 id=\"一、说明\"><a href=\"#一、说明\" class=\"headerlink\" title=\"一、说明\"></a>一、说明</h1><p>利用redis操作的原子性，实现java 多线程并发的情况下实现计数器。</p><p>我本机测试多个线程操作之后，结果会出现一定的延迟，但是最终数字是ok的</p><p>应该是redis内部做了一个类似于队列的功能。</p><p>需要注意的是，得使用redis连接的线程池，不然会出现异常</p><p>这里有一个：<a href=\"https://github.com/hisenyuan/IDEAPractice/blob/master/src/main/java/com/hisen/utils/JedisUtil.java\" target=\"_blank\" rel=\"noopener\">JedisUtil</a> 下面用到了</p><h1 id=\"二、-代码实现\"><a href=\"#二、-代码实现\" class=\"headerlink\" title=\"二、 代码实现\"></a>二、 代码实现</h1><h2 id=\"2-1-redis操作类\"><a href=\"#2-1-redis操作类\" class=\"headerlink\" title=\"2.1 redis操作类\"></a>2.1 redis操作类</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.thread.count_click_by_redis;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.hisen.utils.JedisUtil;</span><br><span class=\"line\">import redis.clients.jedis.JedisPool;</span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @description 操作redis的线程类</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class ClickRedis &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 必须使用线程池，而且线程池要大于并发数，否则会出现redis超时</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private static JedisPool jedis = JedisUtil.getPool();</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void click() &#123;</span><br><span class=\"line\">    jedis.getResource().incrBy(&quot;hisen&quot;, 1);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static int getCount() &#123;</span><br><span class=\"line\">    return Integer.parseInt(jedis.getResource().get(&quot;hisen&quot;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void declare() &#123;</span><br><span class=\"line\">    jedis.getResource().del(&quot;hisen&quot;);</span><br><span class=\"line\">    jedis.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h2 id=\"2-2-线程类-模拟点击\"><a href=\"#2-2-线程类-模拟点击\" class=\"headerlink\" title=\"2.2 线程类,模拟点击\"></a>2.2 线程类,模拟点击</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.thread.count_click_by_redis;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author hisenyuan</span><br><span class=\"line\"> * @description 执行点击的线程类</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class CountClickByRedisThread extends Thread&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private int id;</span><br><span class=\"line\">  public CountClickByRedisThread(int id) &#123;</span><br><span class=\"line\">    this.id = id;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void run() &#123;</span><br><span class=\"line\">    super.run();</span><br><span class=\"line\">    ClickRedis.click();</span><br><span class=\"line\">    int count = ClickRedis.getCount();</span><br><span class=\"line\">    System.out.println(&quot;task:&quot; + id + &quot;\\t 执行完毕\\t线程编号：&quot; + this.getId() + &quot;\\t当前值：&quot; + count);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>2.3 主线程 - 启动类<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.thread.count_click_by_redis;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.concurrent.ArrayBlockingQueue;</span><br><span class=\"line\">import java.util.concurrent.ThreadPoolExecutor;</span><br><span class=\"line\">import java.util.concurrent.TimeUnit;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Main &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) throws InterruptedException &#123;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 5 - corePoolSize：核心池的大小</span><br><span class=\"line\">     * 10 - maximumPoolSize：线程池最大线程数，它表示在线程池中最多能创建多少个线程</span><br><span class=\"line\">     * 200 - keepAliveTime：表示线程没有任务执行时最多保持多久时间会终止。</span><br><span class=\"line\">     * unit - unit：参数keepAliveTime的时间单位，有7种取值</span><br><span class=\"line\">     * workQueue：一个阻塞队列，用来存储等待执行的任务</span><br><span class=\"line\">     */</span><br><span class=\"line\">    ThreadPoolExecutor executor = new ThreadPoolExecutor(</span><br><span class=\"line\">        50,</span><br><span class=\"line\">        100,</span><br><span class=\"line\">        200,</span><br><span class=\"line\">        TimeUnit.MICROSECONDS,</span><br><span class=\"line\">        new ArrayBlockingQueue&lt;Runnable&gt;(50));</span><br><span class=\"line\">    // 开启50个线程</span><br><span class=\"line\">    for (int i = 0; i &lt; 50; i++) &#123;</span><br><span class=\"line\">      executor.execute(new CountClickByRedisThread(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(&quot;已经开启所有的子线程&quot;);</span><br><span class=\"line\">    // 启动一次顺序关闭，执行以前提交的任务，但不接受新任务。</span><br><span class=\"line\">    executor.shutdown();</span><br><span class=\"line\">    // 判断所有线程是否已经执行完毕</span><br><span class=\"line\">    while (true) &#123;</span><br><span class=\"line\">      if (executor.isTerminated()) &#123;</span><br><span class=\"line\">        System.out.println(&quot;所有的子线程都结束了！&quot;);</span><br><span class=\"line\">        // 清除redis数据</span><br><span class=\"line\">        ClickRedis.declare();</span><br><span class=\"line\">        break;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      Thread.sleep(100);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"sql行转列，列转行","keywords":["mysql行转列","mysql列转行","oracle行转列","oracle列转行"],"date":"2017-06-13T12:51:00.000Z","_content":"有时候需要行转列或者列转行\n\n在Oracle 11g中，Oracle 又增加了2个查询：pivot（行转列） 和unpivot（列转行）\n\n下面是在mysql中的操作：\n```\nmysql> select * from test;\n+------+------+--------+\n| id   | age  | weigth |\n+------+------+--------+\n|    1 |    1 |      3 |\n|    1 |    2 |      2 |\n|    1 |    3 |      1 |\n|    2 |    5 |      6 |\n+------+------+--------+\n4 rows in set (0.00 sec)\n\n#根据ID分组\nmysql> select group_concat(age) from test group by id;\n+-------------------+\n| group_concat(age) |\n+-------------------+\n| 1,2,3             |\n| 5                 |\n+-------------------+\n2 rows in set (0.01 sec)\n\n#不分组\nmysql> select group_concat(age) from test;\n+-------------------+\n| group_concat(age) |\n+-------------------+\n| 1,2,3,5           |\n+-------------------+\n1 row in set (0.00 sec)\n```","source":"_posts/sql行转列，列转行.md","raw":"---\ntitle: sql行转列，列转行\nkeywords: [mysql行转列,mysql列转行,oracle行转列,oracle列转行]\ndate: 2017/6/13 20:51\ntags: [oracle,mysql]\ncategories: sql\n---\n有时候需要行转列或者列转行\n\n在Oracle 11g中，Oracle 又增加了2个查询：pivot（行转列） 和unpivot（列转行）\n\n下面是在mysql中的操作：\n```\nmysql> select * from test;\n+------+------+--------+\n| id   | age  | weigth |\n+------+------+--------+\n|    1 |    1 |      3 |\n|    1 |    2 |      2 |\n|    1 |    3 |      1 |\n|    2 |    5 |      6 |\n+------+------+--------+\n4 rows in set (0.00 sec)\n\n#根据ID分组\nmysql> select group_concat(age) from test group by id;\n+-------------------+\n| group_concat(age) |\n+-------------------+\n| 1,2,3             |\n| 5                 |\n+-------------------+\n2 rows in set (0.01 sec)\n\n#不分组\nmysql> select group_concat(age) from test;\n+-------------------+\n| group_concat(age) |\n+-------------------+\n| 1,2,3,5           |\n+-------------------+\n1 row in set (0.00 sec)\n```","slug":"sql行转列，列转行","published":1,"updated":"2017-06-13T12:57:20.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtd00aaolejm0ab8u9c","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候需要行转列或者列转行</p><p>在Oracle 11g中，Oracle 又增加了2个查询：pivot（行转列） 和unpivot（列转行）</p><p>下面是在mysql中的操作：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test;</span><br><span class=\"line\">+------+------+--------+</span><br><span class=\"line\">| id   | age  | weigth |</span><br><span class=\"line\">+------+------+--------+</span><br><span class=\"line\">|    1 |    1 |      3 |</span><br><span class=\"line\">|    1 |    2 |      2 |</span><br><span class=\"line\">|    1 |    3 |      1 |</span><br><span class=\"line\">|    2 |    5 |      6 |</span><br><span class=\"line\">+------+------+--------+</span><br><span class=\"line\">4 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#根据ID分组</span><br><span class=\"line\">mysql&gt; select group_concat(age) from test group by id;</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| group_concat(age) |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| 1,2,3             |</span><br><span class=\"line\">| 5                 |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">2 rows in set (0.01 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#不分组</span><br><span class=\"line\">mysql&gt; select group_concat(age) from test;</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| group_concat(age) |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| 1,2,3,5           |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候需要行转列或者列转行</p><p>在Oracle 11g中，Oracle 又增加了2个查询：pivot（行转列） 和unpivot（列转行）</p><p>下面是在mysql中的操作：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test;</span><br><span class=\"line\">+------+------+--------+</span><br><span class=\"line\">| id   | age  | weigth |</span><br><span class=\"line\">+------+------+--------+</span><br><span class=\"line\">|    1 |    1 |      3 |</span><br><span class=\"line\">|    1 |    2 |      2 |</span><br><span class=\"line\">|    1 |    3 |      1 |</span><br><span class=\"line\">|    2 |    5 |      6 |</span><br><span class=\"line\">+------+------+--------+</span><br><span class=\"line\">4 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#根据ID分组</span><br><span class=\"line\">mysql&gt; select group_concat(age) from test group by id;</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| group_concat(age) |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| 1,2,3             |</span><br><span class=\"line\">| 5                 |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">2 rows in set (0.01 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#不分组</span><br><span class=\"line\">mysql&gt; select group_concat(age) from test;</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| group_concat(age) |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">| 1,2,3,5           |</span><br><span class=\"line\">+-------------------+</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"su  Authentication failure","keywords":["su:Authentication failure"],"date":"2017-04-01T08:44:00.000Z","_content":"想要获取root权限，提示如下\n```\nhisen@ubuntu:/var/lib$ su\nPassword: \nsu: Authentication failure\n```\n解决办法\n```\nhisen@ubuntu:$ sudo passwd root\nEnter new UNIX password: \nRetype new UNIX password: \npasswd: password updated successfully\nhisen@ubuntu:$ su\nPassword: \nroot@ubuntu:# cd mysql\n```\n重新设置一下密码即可，我这边装的时候设置的用户是：hisen\n\n刚刚重新设置的密码就是你装系统的时候设置的用户密码。","source":"_posts/su  Authentication failure.md","raw":"---\ntitle: su  Authentication failure\nkeywords: [su:Authentication failure]\ndate: 2017/4/1 16:44\ntags: [linux]\ncategories: linux\n---\n想要获取root权限，提示如下\n```\nhisen@ubuntu:/var/lib$ su\nPassword: \nsu: Authentication failure\n```\n解决办法\n```\nhisen@ubuntu:$ sudo passwd root\nEnter new UNIX password: \nRetype new UNIX password: \npasswd: password updated successfully\nhisen@ubuntu:$ su\nPassword: \nroot@ubuntu:# cd mysql\n```\n重新设置一下密码即可，我这边装的时候设置的用户是：hisen\n\n刚刚重新设置的密码就是你装系统的时候设置的用户密码。","slug":"su  Authentication failure","published":1,"updated":"2017-04-01T08:47:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdte00adoleji634l9w2","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>想要获取root权限，提示如下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:/var/lib$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">su: Authentication failure</span><br></pre></td></tr></table></figure><p></p><p>解决办法<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:$ sudo passwd root</span><br><span class=\"line\">Enter new UNIX password: </span><br><span class=\"line\">Retype new UNIX password: </span><br><span class=\"line\">passwd: password updated successfully</span><br><span class=\"line\">hisen@ubuntu:$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">root@ubuntu:# cd mysql</span><br></pre></td></tr></table></figure><p></p><p>重新设置一下密码即可，我这边装的时候设置的用户是：hisen</p><p>刚刚重新设置的密码就是你装系统的时候设置的用户密码。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>想要获取root权限，提示如下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:/var/lib$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">su: Authentication failure</span><br></pre></td></tr></table></figure><p></p><p>解决办法<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:$ sudo passwd root</span><br><span class=\"line\">Enter new UNIX password: </span><br><span class=\"line\">Retype new UNIX password: </span><br><span class=\"line\">passwd: password updated successfully</span><br><span class=\"line\">hisen@ubuntu:$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">root@ubuntu:# cd mysql</span><br></pre></td></tr></table></figure><p></p><p>重新设置一下密码即可，我这边装的时候设置的用户是：hisen</p><p>刚刚重新设置的密码就是你装系统的时候设置的用户密码。</p><!-- rebuild by neat -->"},{"title":"try redis - redis官方教程练习","keywords":["redis","sql"],"date":"2017-05-19T06:58:00.000Z","_content":"这里主要是介绍了几种redis支持的数据结构，以及操作方法\n\n官网地址：<a href=\"http://try.redis.io/\" target=\"_blank\">http://try.redis.io/</a>\n\n我的redis是安装在linux虚拟机，通过Xshell操作，显示可能跟cmd不大一样\n\n但是操作都是一样的\n\n具体操作如下：\n<!--more-->\n```\n#连接redis客户端\nhisen@ubuntu:~$ redis-cli\n#存放数据\n127.0.0.1:6379> set 'connections' '10'\nOK\n127.0.0.1:6379> get connections\n\"10\"\n#自增1方法：incr\n127.0.0.1:6379> incr connections\n(integer) 11\n127.0.0.1:6379> incr connections\n(integer) 12\n#删除\n127.0.0.1:6379> del conncetions\n(integer) 0\n#不存在才存放数据 setnx：SET-if-not-exists\n127.0.0.1:6379> SETNX hisen hello\n(integer) 1\n127.0.0.1:6379> get hisen\n\"hello\"\n127.0.0.1:6379> SETNX hisen hello\n(integer) 0\n#添加数据\n127.0.0.1:6379> set resource:lock \"redis demo\"\nOK\n#设置超时时间，单位秒\n127.0.0.1:6379> expire resource:lock 120\n(integer) 1\n#查看剩余时间\n127.0.0.1:6379> ttl resource:lock\n(integer) 85\n127.0.0.1:6379> ttl resource:lock\n(integer) 81\n127.0.0.1:6379> ttl resource:lock\n(integer) 57\n\n#List集合\n#放在list最后（right 右边）\n127.0.0.1:6379> rpush friends \"Alice\"\n(integer) 1\n127.0.0.1:6379> rpush friends \"Bob\"\n(integer) 2\n#放在最前（left 左边）\n127.0.0.1:6379> lpush friends \"Sam\"\n(integer) 3\n#获取所有数据\n127.0.0.1:6379> lrange friends 0 -1\n1) \"Sam\"\n2) \"Alice\"\n3) \"Bob\"\n#获取下标0-1的数据\n127.0.0.1:6379> lrange friends 0 1\n1) \"Sam\"\n2) \"Alice\"\n#获取下标1-2的数据\n127.0.0.1:6379> lrange friends 1 2\n1) \"Alice\"\n2) \"Bob\"\n#获取长度\n127.0.0.1:6379> llen friends\n(integer) 3\n#删除第一个数据（左边）\n127.0.0.1:6379> lpop friends\n\"Sam\"\n#删除最后一个数据（右边）\n127.0.0.1:6379> rpop friends\n\"Bob\"\n127.0.0.1:6379> llen friends\n(integer) 1\n#输出所有\n127.0.0.1:6379> lrange friends 0 -1\n1) \"Alice\"\n\n#Set集合\n#添加\n127.0.0.1:6379> sadd superpowers \"flight\"\n(integer) 1\n127.0.0.1:6379> sadd superpowers \"x-ray vision\"\n(integer) 1\n127.0.0.1:6379> sadd superpowers \"reflexes\"\n(integer) 1\n#删除\n127.0.0.1:6379> srem superpowers \"reflexes\"\n(integer) 1\n#判断数据是否存在set中\n127.0.0.1:6379> sismember superpowers \"flight\"\n(integer) 1\n#输出所有\n127.0.0.1:6379> smembers superpowers\n1) \"flight\"\n2) \"x-ray vision\"\n\n127.0.0.1:6379> sadd birdpowers \"pecking\"\n(integer) 1\n127.0.0.1:6379> sadd birdpowers \"flight\"\n(integer) 1\n#合并两个SET，会过滤重复\n127.0.0.1:6379> sunion superpowers birdpowers\n1) \"pecking\"\n2) \"flight\"\n3) \"x-ray vision\"\n\n#有序集合，按照数字排序\n127.0.0.1:6379> zadd hackers 1940 \"Alan Kay\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1906 \"Grace Hopper\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1953 \"Richard Stallman\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1965 \"Yukihiro Mastsumoto\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1916 \"Claude Shannon\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1969 \"Linus Torvalds\"\n(integer) 1\n127.0.0.1:6379> ZADD hackers 1957 \"Sophie Wilson\"\n(integer) 1\n127.0.0.1:6379> ZADD hackers 1912 \"Alan Turing\"\n(integer) 1\n#输出\n127.0.0.1:6379> zrange hackers 2 4\n1) \"Claude Shannon\"\n2) \"Alan Kay\"\n3) \"Richard Stallman\"\n127.0.0.1:6379> zrange hackers 0 -1\n1) \"Grace Hopper\"\n2) \"Alan Turing\"\n3) \"Claude Shannon\"\n4) \"Alan Kay\"\n5) \"Richard Stallman\"\n6) \"Sophie Wilson\"\n7) \"Yukihiro Mastsumoto\"\n8) \"Linus Torvalds\"\n127.0.0.1:6379> \n\n#哈希集合\n127.0.0.1:6379> hset user:1000 name \"hisen\"\n(integer) 1\n127.0.0.1:6379> hset user:1000 email \"hisen@hisen.com\"\n(integer) 1\n127.0.0.1:6379> hset user:1000 pwassword \"pswd\"\n(integer) 1\n127.0.0.1:6379> hgetall user:1000\n1) \"name\"\n2) \"hisen\"\n3) \"email\"\n4) \"hisen@hisen.com\"\n5) \"pwassword\"\n6) \"pswd\"\n\n#自增\n27.0.0.1:6379> hset user:1000 visits 10\n(integer) 1\n127.0.0.1:6379> hset user:1000 visits 1\n(integer) 0\n127.0.0.1:6379> hincrby user:1000 visits 1\n(integer) 2\n127.0.0.1:6379> hincrby user:1000 visits 1\n(integer) 3\n127.0.0.1:6379> hincrby user:1000 visits 10\n(integer) 13\n127.0.0.1:6379> hdel user:1000 visits\n(integer) 1\n127.0.0.1:6379> hincrby user:1000 visits 1\n(integer) 1\n```","source":"_posts/try redis - redis官方教程练习.md","raw":"---\ntitle: try redis - redis官方教程练习\nkeywords: [redis,sql]\ndate: 2017/5/19 14:58\ntags: [java,sql]\ncategories: sql\n---\n这里主要是介绍了几种redis支持的数据结构，以及操作方法\n\n官网地址：<a href=\"http://try.redis.io/\" target=\"_blank\">http://try.redis.io/</a>\n\n我的redis是安装在linux虚拟机，通过Xshell操作，显示可能跟cmd不大一样\n\n但是操作都是一样的\n\n具体操作如下：\n<!--more-->\n```\n#连接redis客户端\nhisen@ubuntu:~$ redis-cli\n#存放数据\n127.0.0.1:6379> set 'connections' '10'\nOK\n127.0.0.1:6379> get connections\n\"10\"\n#自增1方法：incr\n127.0.0.1:6379> incr connections\n(integer) 11\n127.0.0.1:6379> incr connections\n(integer) 12\n#删除\n127.0.0.1:6379> del conncetions\n(integer) 0\n#不存在才存放数据 setnx：SET-if-not-exists\n127.0.0.1:6379> SETNX hisen hello\n(integer) 1\n127.0.0.1:6379> get hisen\n\"hello\"\n127.0.0.1:6379> SETNX hisen hello\n(integer) 0\n#添加数据\n127.0.0.1:6379> set resource:lock \"redis demo\"\nOK\n#设置超时时间，单位秒\n127.0.0.1:6379> expire resource:lock 120\n(integer) 1\n#查看剩余时间\n127.0.0.1:6379> ttl resource:lock\n(integer) 85\n127.0.0.1:6379> ttl resource:lock\n(integer) 81\n127.0.0.1:6379> ttl resource:lock\n(integer) 57\n\n#List集合\n#放在list最后（right 右边）\n127.0.0.1:6379> rpush friends \"Alice\"\n(integer) 1\n127.0.0.1:6379> rpush friends \"Bob\"\n(integer) 2\n#放在最前（left 左边）\n127.0.0.1:6379> lpush friends \"Sam\"\n(integer) 3\n#获取所有数据\n127.0.0.1:6379> lrange friends 0 -1\n1) \"Sam\"\n2) \"Alice\"\n3) \"Bob\"\n#获取下标0-1的数据\n127.0.0.1:6379> lrange friends 0 1\n1) \"Sam\"\n2) \"Alice\"\n#获取下标1-2的数据\n127.0.0.1:6379> lrange friends 1 2\n1) \"Alice\"\n2) \"Bob\"\n#获取长度\n127.0.0.1:6379> llen friends\n(integer) 3\n#删除第一个数据（左边）\n127.0.0.1:6379> lpop friends\n\"Sam\"\n#删除最后一个数据（右边）\n127.0.0.1:6379> rpop friends\n\"Bob\"\n127.0.0.1:6379> llen friends\n(integer) 1\n#输出所有\n127.0.0.1:6379> lrange friends 0 -1\n1) \"Alice\"\n\n#Set集合\n#添加\n127.0.0.1:6379> sadd superpowers \"flight\"\n(integer) 1\n127.0.0.1:6379> sadd superpowers \"x-ray vision\"\n(integer) 1\n127.0.0.1:6379> sadd superpowers \"reflexes\"\n(integer) 1\n#删除\n127.0.0.1:6379> srem superpowers \"reflexes\"\n(integer) 1\n#判断数据是否存在set中\n127.0.0.1:6379> sismember superpowers \"flight\"\n(integer) 1\n#输出所有\n127.0.0.1:6379> smembers superpowers\n1) \"flight\"\n2) \"x-ray vision\"\n\n127.0.0.1:6379> sadd birdpowers \"pecking\"\n(integer) 1\n127.0.0.1:6379> sadd birdpowers \"flight\"\n(integer) 1\n#合并两个SET，会过滤重复\n127.0.0.1:6379> sunion superpowers birdpowers\n1) \"pecking\"\n2) \"flight\"\n3) \"x-ray vision\"\n\n#有序集合，按照数字排序\n127.0.0.1:6379> zadd hackers 1940 \"Alan Kay\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1906 \"Grace Hopper\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1953 \"Richard Stallman\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1965 \"Yukihiro Mastsumoto\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1916 \"Claude Shannon\"\n(integer) 1\n127.0.0.1:6379> zadd hackers 1969 \"Linus Torvalds\"\n(integer) 1\n127.0.0.1:6379> ZADD hackers 1957 \"Sophie Wilson\"\n(integer) 1\n127.0.0.1:6379> ZADD hackers 1912 \"Alan Turing\"\n(integer) 1\n#输出\n127.0.0.1:6379> zrange hackers 2 4\n1) \"Claude Shannon\"\n2) \"Alan Kay\"\n3) \"Richard Stallman\"\n127.0.0.1:6379> zrange hackers 0 -1\n1) \"Grace Hopper\"\n2) \"Alan Turing\"\n3) \"Claude Shannon\"\n4) \"Alan Kay\"\n5) \"Richard Stallman\"\n6) \"Sophie Wilson\"\n7) \"Yukihiro Mastsumoto\"\n8) \"Linus Torvalds\"\n127.0.0.1:6379> \n\n#哈希集合\n127.0.0.1:6379> hset user:1000 name \"hisen\"\n(integer) 1\n127.0.0.1:6379> hset user:1000 email \"hisen@hisen.com\"\n(integer) 1\n127.0.0.1:6379> hset user:1000 pwassword \"pswd\"\n(integer) 1\n127.0.0.1:6379> hgetall user:1000\n1) \"name\"\n2) \"hisen\"\n3) \"email\"\n4) \"hisen@hisen.com\"\n5) \"pwassword\"\n6) \"pswd\"\n\n#自增\n27.0.0.1:6379> hset user:1000 visits 10\n(integer) 1\n127.0.0.1:6379> hset user:1000 visits 1\n(integer) 0\n127.0.0.1:6379> hincrby user:1000 visits 1\n(integer) 2\n127.0.0.1:6379> hincrby user:1000 visits 1\n(integer) 3\n127.0.0.1:6379> hincrby user:1000 visits 10\n(integer) 13\n127.0.0.1:6379> hdel user:1000 visits\n(integer) 1\n127.0.0.1:6379> hincrby user:1000 visits 1\n(integer) 1\n```","slug":"try redis - redis官方教程练习","published":1,"updated":"2017-05-19T07:02:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtf00aholejpf3mxvmn","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这里主要是介绍了几种redis支持的数据结构，以及操作方法</p><p>官网地址：<a href=\"http://try.redis.io/\" target=\"_blank\">http://try.redis.io/</a></p><p>我的redis是安装在linux虚拟机，通过Xshell操作，显示可能跟cmd不大一样</p><p>但是操作都是一样的</p><p>具体操作如下：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#连接redis客户端</span><br><span class=\"line\">hisen@ubuntu:~$ redis-cli</span><br><span class=\"line\">#存放数据</span><br><span class=\"line\">127.0.0.1:6379&gt; set &apos;connections&apos; &apos;10&apos;</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get connections</span><br><span class=\"line\">&quot;10&quot;</span><br><span class=\"line\">#自增1方法：incr</span><br><span class=\"line\">127.0.0.1:6379&gt; incr connections</span><br><span class=\"line\">(integer) 11</span><br><span class=\"line\">127.0.0.1:6379&gt; incr connections</span><br><span class=\"line\">(integer) 12</span><br><span class=\"line\">#删除</span><br><span class=\"line\">127.0.0.1:6379&gt; del conncetions</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">#不存在才存放数据 setnx：SET-if-not-exists</span><br><span class=\"line\">127.0.0.1:6379&gt; SETNX hisen hello</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; get hisen</span><br><span class=\"line\">&quot;hello&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; SETNX hisen hello</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">#添加数据</span><br><span class=\"line\">127.0.0.1:6379&gt; set resource:lock &quot;redis demo&quot;</span><br><span class=\"line\">OK</span><br><span class=\"line\">#设置超时时间，单位秒</span><br><span class=\"line\">127.0.0.1:6379&gt; expire resource:lock 120</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#查看剩余时间</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl resource:lock</span><br><span class=\"line\">(integer) 85</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl resource:lock</span><br><span class=\"line\">(integer) 81</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl resource:lock</span><br><span class=\"line\">(integer) 57</span><br><span class=\"line\"></span><br><span class=\"line\">#List集合</span><br><span class=\"line\">#放在list最后（right 右边）</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush friends &quot;Alice&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush friends &quot;Bob&quot;</span><br><span class=\"line\">(integer) 2</span><br><span class=\"line\">#放在最前（left 左边）</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush friends &quot;Sam&quot;</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">#获取所有数据</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 0 -1</span><br><span class=\"line\">1) &quot;Sam&quot;</span><br><span class=\"line\">2) &quot;Alice&quot;</span><br><span class=\"line\">3) &quot;Bob&quot;</span><br><span class=\"line\">#获取下标0-1的数据</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 0 1</span><br><span class=\"line\">1) &quot;Sam&quot;</span><br><span class=\"line\">2) &quot;Alice&quot;</span><br><span class=\"line\">#获取下标1-2的数据</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 1 2</span><br><span class=\"line\">1) &quot;Alice&quot;</span><br><span class=\"line\">2) &quot;Bob&quot;</span><br><span class=\"line\">#获取长度</span><br><span class=\"line\">127.0.0.1:6379&gt; llen friends</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">#删除第一个数据（左边）</span><br><span class=\"line\">127.0.0.1:6379&gt; lpop friends</span><br><span class=\"line\">&quot;Sam&quot;</span><br><span class=\"line\">#删除最后一个数据（右边）</span><br><span class=\"line\">127.0.0.1:6379&gt; rpop friends</span><br><span class=\"line\">&quot;Bob&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; llen friends</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#输出所有</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 0 -1</span><br><span class=\"line\">1) &quot;Alice&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#Set集合</span><br><span class=\"line\">#添加</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd superpowers &quot;flight&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd superpowers &quot;x-ray vision&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd superpowers &quot;reflexes&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#删除</span><br><span class=\"line\">127.0.0.1:6379&gt; srem superpowers &quot;reflexes&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#判断数据是否存在set中</span><br><span class=\"line\">127.0.0.1:6379&gt; sismember superpowers &quot;flight&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#输出所有</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers superpowers</span><br><span class=\"line\">1) &quot;flight&quot;</span><br><span class=\"line\">2) &quot;x-ray vision&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd birdpowers &quot;pecking&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd birdpowers &quot;flight&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#合并两个SET，会过滤重复</span><br><span class=\"line\">127.0.0.1:6379&gt; sunion superpowers birdpowers</span><br><span class=\"line\">1) &quot;pecking&quot;</span><br><span class=\"line\">2) &quot;flight&quot;</span><br><span class=\"line\">3) &quot;x-ray vision&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#有序集合，按照数字排序</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1940 &quot;Alan Kay&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1906 &quot;Grace Hopper&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1953 &quot;Richard Stallman&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1965 &quot;Yukihiro Mastsumoto&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1916 &quot;Claude Shannon&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1969 &quot;Linus Torvalds&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ZADD hackers 1957 &quot;Sophie Wilson&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ZADD hackers 1912 &quot;Alan Turing&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#输出</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange hackers 2 4</span><br><span class=\"line\">1) &quot;Claude Shannon&quot;</span><br><span class=\"line\">2) &quot;Alan Kay&quot;</span><br><span class=\"line\">3) &quot;Richard Stallman&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange hackers 0 -1</span><br><span class=\"line\">1) &quot;Grace Hopper&quot;</span><br><span class=\"line\">2) &quot;Alan Turing&quot;</span><br><span class=\"line\">3) &quot;Claude Shannon&quot;</span><br><span class=\"line\">4) &quot;Alan Kay&quot;</span><br><span class=\"line\">5) &quot;Richard Stallman&quot;</span><br><span class=\"line\">6) &quot;Sophie Wilson&quot;</span><br><span class=\"line\">7) &quot;Yukihiro Mastsumoto&quot;</span><br><span class=\"line\">8) &quot;Linus Torvalds&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\"></span><br><span class=\"line\">#哈希集合</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 name &quot;hisen&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 email &quot;hisen@hisen.com&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 pwassword &quot;pswd&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hgetall user:1000</span><br><span class=\"line\">1) &quot;name&quot;</span><br><span class=\"line\">2) &quot;hisen&quot;</span><br><span class=\"line\">3) &quot;email&quot;</span><br><span class=\"line\">4) &quot;hisen@hisen.com&quot;</span><br><span class=\"line\">5) &quot;pwassword&quot;</span><br><span class=\"line\">6) &quot;pswd&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#自增</span><br><span class=\"line\">27.0.0.1:6379&gt; hset user:1000 visits 10</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 visits 1</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 1</span><br><span class=\"line\">(integer) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 1</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 10</span><br><span class=\"line\">(integer) 13</span><br><span class=\"line\">127.0.0.1:6379&gt; hdel user:1000 visits</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 1</span><br><span class=\"line\">(integer) 1</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这里主要是介绍了几种redis支持的数据结构，以及操作方法</p><p>官网地址：<a href=\"http://try.redis.io/\" target=\"_blank\">http://try.redis.io/</a></p><p>我的redis是安装在linux虚拟机，通过Xshell操作，显示可能跟cmd不大一样</p><p>但是操作都是一样的</p><p>具体操作如下：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#连接redis客户端</span><br><span class=\"line\">hisen@ubuntu:~$ redis-cli</span><br><span class=\"line\">#存放数据</span><br><span class=\"line\">127.0.0.1:6379&gt; set &apos;connections&apos; &apos;10&apos;</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get connections</span><br><span class=\"line\">&quot;10&quot;</span><br><span class=\"line\">#自增1方法：incr</span><br><span class=\"line\">127.0.0.1:6379&gt; incr connections</span><br><span class=\"line\">(integer) 11</span><br><span class=\"line\">127.0.0.1:6379&gt; incr connections</span><br><span class=\"line\">(integer) 12</span><br><span class=\"line\">#删除</span><br><span class=\"line\">127.0.0.1:6379&gt; del conncetions</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">#不存在才存放数据 setnx：SET-if-not-exists</span><br><span class=\"line\">127.0.0.1:6379&gt; SETNX hisen hello</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; get hisen</span><br><span class=\"line\">&quot;hello&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; SETNX hisen hello</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">#添加数据</span><br><span class=\"line\">127.0.0.1:6379&gt; set resource:lock &quot;redis demo&quot;</span><br><span class=\"line\">OK</span><br><span class=\"line\">#设置超时时间，单位秒</span><br><span class=\"line\">127.0.0.1:6379&gt; expire resource:lock 120</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#查看剩余时间</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl resource:lock</span><br><span class=\"line\">(integer) 85</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl resource:lock</span><br><span class=\"line\">(integer) 81</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl resource:lock</span><br><span class=\"line\">(integer) 57</span><br><span class=\"line\"></span><br><span class=\"line\">#List集合</span><br><span class=\"line\">#放在list最后（right 右边）</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush friends &quot;Alice&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush friends &quot;Bob&quot;</span><br><span class=\"line\">(integer) 2</span><br><span class=\"line\">#放在最前（left 左边）</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush friends &quot;Sam&quot;</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">#获取所有数据</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 0 -1</span><br><span class=\"line\">1) &quot;Sam&quot;</span><br><span class=\"line\">2) &quot;Alice&quot;</span><br><span class=\"line\">3) &quot;Bob&quot;</span><br><span class=\"line\">#获取下标0-1的数据</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 0 1</span><br><span class=\"line\">1) &quot;Sam&quot;</span><br><span class=\"line\">2) &quot;Alice&quot;</span><br><span class=\"line\">#获取下标1-2的数据</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 1 2</span><br><span class=\"line\">1) &quot;Alice&quot;</span><br><span class=\"line\">2) &quot;Bob&quot;</span><br><span class=\"line\">#获取长度</span><br><span class=\"line\">127.0.0.1:6379&gt; llen friends</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">#删除第一个数据（左边）</span><br><span class=\"line\">127.0.0.1:6379&gt; lpop friends</span><br><span class=\"line\">&quot;Sam&quot;</span><br><span class=\"line\">#删除最后一个数据（右边）</span><br><span class=\"line\">127.0.0.1:6379&gt; rpop friends</span><br><span class=\"line\">&quot;Bob&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; llen friends</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#输出所有</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange friends 0 -1</span><br><span class=\"line\">1) &quot;Alice&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#Set集合</span><br><span class=\"line\">#添加</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd superpowers &quot;flight&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd superpowers &quot;x-ray vision&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd superpowers &quot;reflexes&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#删除</span><br><span class=\"line\">127.0.0.1:6379&gt; srem superpowers &quot;reflexes&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#判断数据是否存在set中</span><br><span class=\"line\">127.0.0.1:6379&gt; sismember superpowers &quot;flight&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#输出所有</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers superpowers</span><br><span class=\"line\">1) &quot;flight&quot;</span><br><span class=\"line\">2) &quot;x-ray vision&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd birdpowers &quot;pecking&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd birdpowers &quot;flight&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#合并两个SET，会过滤重复</span><br><span class=\"line\">127.0.0.1:6379&gt; sunion superpowers birdpowers</span><br><span class=\"line\">1) &quot;pecking&quot;</span><br><span class=\"line\">2) &quot;flight&quot;</span><br><span class=\"line\">3) &quot;x-ray vision&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#有序集合，按照数字排序</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1940 &quot;Alan Kay&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1906 &quot;Grace Hopper&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1953 &quot;Richard Stallman&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1965 &quot;Yukihiro Mastsumoto&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1916 &quot;Claude Shannon&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd hackers 1969 &quot;Linus Torvalds&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ZADD hackers 1957 &quot;Sophie Wilson&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ZADD hackers 1912 &quot;Alan Turing&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">#输出</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange hackers 2 4</span><br><span class=\"line\">1) &quot;Claude Shannon&quot;</span><br><span class=\"line\">2) &quot;Alan Kay&quot;</span><br><span class=\"line\">3) &quot;Richard Stallman&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange hackers 0 -1</span><br><span class=\"line\">1) &quot;Grace Hopper&quot;</span><br><span class=\"line\">2) &quot;Alan Turing&quot;</span><br><span class=\"line\">3) &quot;Claude Shannon&quot;</span><br><span class=\"line\">4) &quot;Alan Kay&quot;</span><br><span class=\"line\">5) &quot;Richard Stallman&quot;</span><br><span class=\"line\">6) &quot;Sophie Wilson&quot;</span><br><span class=\"line\">7) &quot;Yukihiro Mastsumoto&quot;</span><br><span class=\"line\">8) &quot;Linus Torvalds&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\"></span><br><span class=\"line\">#哈希集合</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 name &quot;hisen&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 email &quot;hisen@hisen.com&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 pwassword &quot;pswd&quot;</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hgetall user:1000</span><br><span class=\"line\">1) &quot;name&quot;</span><br><span class=\"line\">2) &quot;hisen&quot;</span><br><span class=\"line\">3) &quot;email&quot;</span><br><span class=\"line\">4) &quot;hisen@hisen.com&quot;</span><br><span class=\"line\">5) &quot;pwassword&quot;</span><br><span class=\"line\">6) &quot;pswd&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#自增</span><br><span class=\"line\">27.0.0.1:6379&gt; hset user:1000 visits 10</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hset user:1000 visits 1</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 1</span><br><span class=\"line\">(integer) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 1</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 10</span><br><span class=\"line\">(integer) 13</span><br><span class=\"line\">127.0.0.1:6379&gt; hdel user:1000 visits</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby user:1000 visits 1</span><br><span class=\"line\">(integer) 1</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"ubuntu root su 密码","keywords":["ubuntu root密码","su密码","Authentication failure"],"date":"2017-07-04T13:08:00.000Z","_content":"在安装完ubuntu的时候\n\n只有自己设置的非root的帐号和密码\n\n但是又要用root密码怎么办呢？\n```\nhisen@ubuntu-1:~$ sudo passwd\nEnter new UNIX password: \nRetype new UNIX password: \npasswd: password updated successfully\n```\n上面输入的密码就是你的root密码\n\n检测一下\n```\nhisen@ubuntu-1:~$ su\nPassword: \nroot@ubuntu-1:/home/hisen# \n```\n通过，至此结束","source":"_posts/ubuntu root 密码.md","raw":"---\ntitle: ubuntu root su 密码\nkeywords: [ubuntu root密码,su密码,Authentication failure]\ndate: 2017/7/4 21:08\ntags: [linux]\ncategories: linux\n---\n在安装完ubuntu的时候\n\n只有自己设置的非root的帐号和密码\n\n但是又要用root密码怎么办呢？\n```\nhisen@ubuntu-1:~$ sudo passwd\nEnter new UNIX password: \nRetype new UNIX password: \npasswd: password updated successfully\n```\n上面输入的密码就是你的root密码\n\n检测一下\n```\nhisen@ubuntu-1:~$ su\nPassword: \nroot@ubuntu-1:/home/hisen# \n```\n通过，至此结束","slug":"ubuntu root 密码","published":1,"updated":"2017-07-04T13:11:22.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtg00akolejawss7844","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在安装完ubuntu的时候</p><p>只有自己设置的非root的帐号和密码</p><p>但是又要用root密码怎么办呢？<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu-1:~$ sudo passwd</span><br><span class=\"line\">Enter new UNIX password: </span><br><span class=\"line\">Retype new UNIX password: </span><br><span class=\"line\">passwd: password updated successfully</span><br></pre></td></tr></table></figure><p></p><p>上面输入的密码就是你的root密码</p><p>检测一下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu-1:~$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">root@ubuntu-1:/home/hisen#</span><br></pre></td></tr></table></figure><p></p><p>通过，至此结束</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在安装完ubuntu的时候</p><p>只有自己设置的非root的帐号和密码</p><p>但是又要用root密码怎么办呢？<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu-1:~$ sudo passwd</span><br><span class=\"line\">Enter new UNIX password: </span><br><span class=\"line\">Retype new UNIX password: </span><br><span class=\"line\">passwd: password updated successfully</span><br></pre></td></tr></table></figure><p></p><p>上面输入的密码就是你的root密码</p><p>检测一下<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu-1:~$ su</span><br><span class=\"line\">Password: </span><br><span class=\"line\">root@ubuntu-1:/home/hisen#</span><br></pre></td></tr></table></figure><p></p><p>通过，至此结束</p><!-- rebuild by neat -->"},{"title":"ubuntu安装docker-ce并配置国内源和加速器","keywords":["ubuntu安装docker","docker国内镜像"],"date":"2017-04-17T07:22:00.000Z","_content":"一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\n---\n\n二、安装docker\n---\n```\nsudo apt-get update\nsudo apt-get install \\\n     linux-image-extra-$(uname -r) \\\n     linux-image-extra-virtual\n```\n安装docker包\n```\nsudo apt-get install \\\n     apt-transport-https \\\n     ca-certificates \\\n     curl \\\n     software-properties-common \n```\n添加docker官方GPG秘钥,留意最后那个符号也要复制\n```\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n```\n安装稳定版仓库\n<!--more-->\n```\nsudo add-apt-repository \\\n     \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n     $(lsb_release -cs) \\\n     stable\"\n```\n再次更新源\n```\nsudo apt-get update\n```\n安装docker-ce\n```\nsudo apt-get install docker-ce\n```\n\n三、给docker添加国内加速器\n---\n在阿里云申请一个账号，打开连接<a href=\"https://cr.console.aliyun.com/#/accelerator\" target=\"_blank\">https://cr.console.aliyun.com/#/accelerator</a> \n\n拷贝您的专属加速器地址（每个人专属的，登陆需要密码），然后\n```\nvi /etc/systemd/system/multi-user.target.wants/docker.service\n```\n可以看到如下内容\n```\n[Service]\nType=notify\n# the default is not to use systemd for cgroups because the delegate issues still\n# exists and systemd currently does not support the cgroup feature set required\n# for containers run by docker\n#下面这行是默认的，我注释了，添加了下面一行\n#ExecStart=/usr/bin/dockerd -H fd://\nExecStart=/usr/bin/dockerd -H fd:// --registry-mirror=https://9s3ekxxx.mirror.aliyuncs.com\nExecReload=/bin/kill -s HUP $MAINPID\nLimitNOFILE=1048576\n```\n找到 ExecStart= 这一行，在这行最后添加加速器地址 --registry-mirror=<加速器地址>\n\n如：ExecStart=/usr/bin/dockerd -H fd://  --registry-mirror=https://xxxxxx.mirror.aliyuncs.com\n\n四、重新加载配置并且重新启动\n---\n```\n$ sudo systemctl daemon-reload\n$ sudo systemctl restart docker\n```\n至此docker安装及国内加速器都好了，开始你的docker之旅吧。\n```\nsudo docker run hello-world\n```\n看到如下信息\n```\nhisen@ubuntu:/$ sudo docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\n78445dd45222: Pull complete \nDigest: sha256:c5515758d4c5e1e838e9cd307f6c6a0d620b5e07e6f927b07d05f6d12a1ac8d7\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://cloud.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n```\n到此就圆满结束\n\n最后给个彩蛋，阿里云一键安装脚本，执行下面命令即可安装最新版docker\n```\ncurl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -\n```\n详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a>","source":"_posts/ubuntu安装docker-ce并配置国内源和加速器.md","raw":"---\ntitle: ubuntu安装docker-ce并配置国内源和加速器\nkeywords: [ubuntu安装docker,docker国内镜像]\ndate: 2017/4/17 15:22\ntags: [ubuntu,docker]\ncategories: linux\n---\n一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\n---\n\n二、安装docker\n---\n```\nsudo apt-get update\nsudo apt-get install \\\n     linux-image-extra-$(uname -r) \\\n     linux-image-extra-virtual\n```\n安装docker包\n```\nsudo apt-get install \\\n     apt-transport-https \\\n     ca-certificates \\\n     curl \\\n     software-properties-common \n```\n添加docker官方GPG秘钥,留意最后那个符号也要复制\n```\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n```\n安装稳定版仓库\n<!--more-->\n```\nsudo add-apt-repository \\\n     \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n     $(lsb_release -cs) \\\n     stable\"\n```\n再次更新源\n```\nsudo apt-get update\n```\n安装docker-ce\n```\nsudo apt-get install docker-ce\n```\n\n三、给docker添加国内加速器\n---\n在阿里云申请一个账号，打开连接<a href=\"https://cr.console.aliyun.com/#/accelerator\" target=\"_blank\">https://cr.console.aliyun.com/#/accelerator</a> \n\n拷贝您的专属加速器地址（每个人专属的，登陆需要密码），然后\n```\nvi /etc/systemd/system/multi-user.target.wants/docker.service\n```\n可以看到如下内容\n```\n[Service]\nType=notify\n# the default is not to use systemd for cgroups because the delegate issues still\n# exists and systemd currently does not support the cgroup feature set required\n# for containers run by docker\n#下面这行是默认的，我注释了，添加了下面一行\n#ExecStart=/usr/bin/dockerd -H fd://\nExecStart=/usr/bin/dockerd -H fd:// --registry-mirror=https://9s3ekxxx.mirror.aliyuncs.com\nExecReload=/bin/kill -s HUP $MAINPID\nLimitNOFILE=1048576\n```\n找到 ExecStart= 这一行，在这行最后添加加速器地址 --registry-mirror=<加速器地址>\n\n如：ExecStart=/usr/bin/dockerd -H fd://  --registry-mirror=https://xxxxxx.mirror.aliyuncs.com\n\n四、重新加载配置并且重新启动\n---\n```\n$ sudo systemctl daemon-reload\n$ sudo systemctl restart docker\n```\n至此docker安装及国内加速器都好了，开始你的docker之旅吧。\n```\nsudo docker run hello-world\n```\n看到如下信息\n```\nhisen@ubuntu:/$ sudo docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\n78445dd45222: Pull complete \nDigest: sha256:c5515758d4c5e1e838e9cd307f6c6a0d620b5e07e6f927b07d05f6d12a1ac8d7\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://cloud.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n```\n到此就圆满结束\n\n最后给个彩蛋，阿里云一键安装脚本，执行下面命令即可安装最新版docker\n```\ncurl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -\n```\n详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a>","slug":"ubuntu安装docker-ce并配置国内源和加速器","published":1,"updated":"2017-04-17T09:37:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdth00aoolejgzalmtjs","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\"><a href=\"#一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\" class=\"headerlink\" title=\"一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\"></a>一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源</h2><h2 id=\"二、安装docker\"><a href=\"#二、安装docker\" class=\"headerlink\" title=\"二、安装docker\"></a>二、安装docker</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">     linux-image-extra-$(uname -r) \\</span><br><span class=\"line\">     linux-image-extra-virtual</span><br></pre></td></tr></table></figure><p>安装docker包<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">     apt-transport-https \\</span><br><span class=\"line\">     ca-certificates \\</span><br><span class=\"line\">     curl \\</span><br><span class=\"line\">     software-properties-common</span><br></pre></td></tr></table></figure><p></p><p>添加docker官方GPG秘钥,留意最后那个符号也要复制<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure><p></p><p>安装稳定版仓库<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo add-apt-repository \\</span><br><span class=\"line\">     &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \\</span><br><span class=\"line\">     $(lsb_release -cs) \\</span><br><span class=\"line\">     stable&quot;</span><br></pre></td></tr></table></figure><p></p><p>再次更新源<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure><p></p><p>安装docker-ce<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、给docker添加国内加速器\"><a href=\"#三、给docker添加国内加速器\" class=\"headerlink\" title=\"三、给docker添加国内加速器\"></a>三、给docker添加国内加速器</h2><p>在阿里云申请一个账号，打开连接<a href=\"https://cr.console.aliyun.com/#/accelerator\" target=\"_blank\">https://cr.console.aliyun.com/#/accelerator</a></p><p>拷贝您的专属加速器地址（每个人专属的，登陆需要密码），然后<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/systemd/system/multi-user.target.wants/docker.service</span><br></pre></td></tr></table></figure><p></p><p>可以看到如下内容<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Service]</span><br><span class=\"line\">Type=notify</span><br><span class=\"line\"># the default is not to use systemd for cgroups because the delegate issues still</span><br><span class=\"line\"># exists and systemd currently does not support the cgroup feature set required</span><br><span class=\"line\"># for containers run by docker</span><br><span class=\"line\">#下面这行是默认的，我注释了，添加了下面一行</span><br><span class=\"line\">#ExecStart=/usr/bin/dockerd -H fd://</span><br><span class=\"line\">ExecStart=/usr/bin/dockerd -H fd:// --registry-mirror=https://9s3ekxxx.mirror.aliyuncs.com</span><br><span class=\"line\">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class=\"line\">LimitNOFILE=1048576</span><br></pre></td></tr></table></figure><p></p><p>找到 ExecStart= 这一行，在这行最后添加加速器地址 –registry-mirror=&lt;加速器地址&gt;</p><p>如：ExecStart=/usr/bin/dockerd -H fd:// –registry-mirror=<a href=\"https://xxxxxx.mirror.aliyuncs.com\" target=\"_blank\" rel=\"noopener\">https://xxxxxx.mirror.aliyuncs.com</a></p><h2 id=\"四、重新加载配置并且重新启动\"><a href=\"#四、重新加载配置并且重新启动\" class=\"headerlink\" title=\"四、重新加载配置并且重新启动\"></a>四、重新加载配置并且重新启动</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo systemctl daemon-reload</span><br><span class=\"line\">$ sudo systemctl restart docker</span><br></pre></td></tr></table></figure><p>至此docker安装及国内加速器都好了，开始你的docker之旅吧。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker run hello-world</span><br></pre></td></tr></table></figure><p></p><p>看到如下信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:/$ sudo docker run hello-world</span><br><span class=\"line\">Unable to find image &apos;hello-world:latest&apos; locally</span><br><span class=\"line\">latest: Pulling from library/hello-world</span><br><span class=\"line\">78445dd45222: Pull complete </span><br><span class=\"line\">Digest: sha256:c5515758d4c5e1e838e9cd307f6c6a0d620b5e07e6f927b07d05f6d12a1ac8d7</span><br><span class=\"line\">Status: Downloaded newer image for hello-world:latest</span><br><span class=\"line\"></span><br><span class=\"line\">Hello from Docker!</span><br><span class=\"line\">This message shows that your installation appears to be working correctly.</span><br><span class=\"line\"></span><br><span class=\"line\">To generate this message, Docker took the following steps:</span><br><span class=\"line\"> 1. The Docker client contacted the Docker daemon.</span><br><span class=\"line\"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span><br><span class=\"line\"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class=\"line\">    executable that produces the output you are currently reading.</span><br><span class=\"line\"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class=\"line\">    to your terminal.</span><br><span class=\"line\"></span><br><span class=\"line\">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class=\"line\"> $ docker run -it ubuntu bash</span><br><span class=\"line\"></span><br><span class=\"line\">Share images, automate workflows, and more with a free Docker ID:</span><br><span class=\"line\"> https://cloud.docker.com/</span><br><span class=\"line\"></span><br><span class=\"line\">For more examples and ideas, visit:</span><br><span class=\"line\"> https://docs.docker.com/engine/userguide/</span><br></pre></td></tr></table></figure><p></p><p>到此就圆满结束</p><p>最后给个彩蛋，阿里云一键安装脚本，执行下面命令即可安装最新版docker<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</span><br></pre></td></tr></table></figure><p></p><p>详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\"><a href=\"#一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\" class=\"headerlink\" title=\"一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源\"></a>一、配置ubuntu国内镜像，这里推荐阿里云，右上角搜索：换阿里云源</h2><h2 id=\"二、安装docker\"><a href=\"#二、安装docker\" class=\"headerlink\" title=\"二、安装docker\"></a>二、安装docker</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">     linux-image-extra-$(uname -r) \\</span><br><span class=\"line\">     linux-image-extra-virtual</span><br></pre></td></tr></table></figure><p>安装docker包<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">     apt-transport-https \\</span><br><span class=\"line\">     ca-certificates \\</span><br><span class=\"line\">     curl \\</span><br><span class=\"line\">     software-properties-common</span><br></pre></td></tr></table></figure><p></p><p>添加docker官方GPG秘钥,留意最后那个符号也要复制<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure><p></p><p>安装稳定版仓库<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo add-apt-repository \\</span><br><span class=\"line\">     &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \\</span><br><span class=\"line\">     $(lsb_release -cs) \\</span><br><span class=\"line\">     stable&quot;</span><br></pre></td></tr></table></figure><p></p><p>再次更新源<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure><p></p><p>安装docker-ce<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、给docker添加国内加速器\"><a href=\"#三、给docker添加国内加速器\" class=\"headerlink\" title=\"三、给docker添加国内加速器\"></a>三、给docker添加国内加速器</h2><p>在阿里云申请一个账号，打开连接<a href=\"https://cr.console.aliyun.com/#/accelerator\" target=\"_blank\">https://cr.console.aliyun.com/#/accelerator</a></p><p>拷贝您的专属加速器地址（每个人专属的，登陆需要密码），然后<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/systemd/system/multi-user.target.wants/docker.service</span><br></pre></td></tr></table></figure><p></p><p>可以看到如下内容<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Service]</span><br><span class=\"line\">Type=notify</span><br><span class=\"line\"># the default is not to use systemd for cgroups because the delegate issues still</span><br><span class=\"line\"># exists and systemd currently does not support the cgroup feature set required</span><br><span class=\"line\"># for containers run by docker</span><br><span class=\"line\">#下面这行是默认的，我注释了，添加了下面一行</span><br><span class=\"line\">#ExecStart=/usr/bin/dockerd -H fd://</span><br><span class=\"line\">ExecStart=/usr/bin/dockerd -H fd:// --registry-mirror=https://9s3ekxxx.mirror.aliyuncs.com</span><br><span class=\"line\">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class=\"line\">LimitNOFILE=1048576</span><br></pre></td></tr></table></figure><p></p><p>找到 ExecStart= 这一行，在这行最后添加加速器地址 –registry-mirror=&lt;加速器地址&gt;</p><p>如：ExecStart=/usr/bin/dockerd -H fd:// –registry-mirror=<a href=\"https://xxxxxx.mirror.aliyuncs.com\" target=\"_blank\" rel=\"noopener\">https://xxxxxx.mirror.aliyuncs.com</a></p><h2 id=\"四、重新加载配置并且重新启动\"><a href=\"#四、重新加载配置并且重新启动\" class=\"headerlink\" title=\"四、重新加载配置并且重新启动\"></a>四、重新加载配置并且重新启动</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo systemctl daemon-reload</span><br><span class=\"line\">$ sudo systemctl restart docker</span><br></pre></td></tr></table></figure><p>至此docker安装及国内加速器都好了，开始你的docker之旅吧。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker run hello-world</span><br></pre></td></tr></table></figure><p></p><p>看到如下信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@ubuntu:/$ sudo docker run hello-world</span><br><span class=\"line\">Unable to find image &apos;hello-world:latest&apos; locally</span><br><span class=\"line\">latest: Pulling from library/hello-world</span><br><span class=\"line\">78445dd45222: Pull complete </span><br><span class=\"line\">Digest: sha256:c5515758d4c5e1e838e9cd307f6c6a0d620b5e07e6f927b07d05f6d12a1ac8d7</span><br><span class=\"line\">Status: Downloaded newer image for hello-world:latest</span><br><span class=\"line\"></span><br><span class=\"line\">Hello from Docker!</span><br><span class=\"line\">This message shows that your installation appears to be working correctly.</span><br><span class=\"line\"></span><br><span class=\"line\">To generate this message, Docker took the following steps:</span><br><span class=\"line\"> 1. The Docker client contacted the Docker daemon.</span><br><span class=\"line\"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span><br><span class=\"line\"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class=\"line\">    executable that produces the output you are currently reading.</span><br><span class=\"line\"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class=\"line\">    to your terminal.</span><br><span class=\"line\"></span><br><span class=\"line\">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class=\"line\"> $ docker run -it ubuntu bash</span><br><span class=\"line\"></span><br><span class=\"line\">Share images, automate workflows, and more with a free Docker ID:</span><br><span class=\"line\"> https://cloud.docker.com/</span><br><span class=\"line\"></span><br><span class=\"line\">For more examples and ideas, visit:</span><br><span class=\"line\"> https://docs.docker.com/engine/userguide/</span><br></pre></td></tr></table></figure><p></p><p>到此就圆满结束</p><p>最后给个彩蛋，阿里云一键安装脚本，执行下面命令即可安装最新版docker<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</span><br></pre></td></tr></table></figure><p></p><p>详情：<a href=\"http://mirrors.aliyun.com/help/docker-engine\" target=\"_blank\">http://mirrors.aliyun.com/help/docker-engine</a></p><!-- rebuild by neat -->"},{"title":"ubuntu重装系统 - 在ubuntu系统下重新安装","keywords":["ubuntu重装系统","ubuntu系统下重装ubuntu"],"date":"2017-03-05T08:24:00.000Z","_content":"\n有时候在linux环境下需要重新安装一下系统\n\n这里我就说一下今天我安装的方法。\n\n下载好ubuntu的镜像，随便放在一个非系统盘的根目录下\n\n改名为：ubuntu.iso\n```\nsudo chmod 777 /boot/grub/grub.cfg\nsudo vi  /boot/grub/grub.cfg\n#在 export linux_gfx_mode 下面添加如下内容\nmenuentry \"install  ubuntu powered by hisen\" {\n  search --set -f /ubuntu.iso\n  loopback loop /ubuntu.iso\n  set root=(loop)\n  linux /casper/vmlinuz.efi boot=casper iso-scan/filename=/ubuntu.iso\n  initrd /casper/initrd.lz\n  boot\n}\n```\n保存退出，重启就会进入系统。\n\n桌面上点击那个安装的图标即可完成重装","source":"_posts/ubuntu重装系统 - 在ubuntu系统下重新安装.md","raw":"---\ntitle: ubuntu重装系统 - 在ubuntu系统下重新安装\nkeywords: [ubuntu重装系统,ubuntu系统下重装ubuntu]\ndate: 2017/3/5 16:24\ntags: [linux]\ncategories: linux\n---\n\n有时候在linux环境下需要重新安装一下系统\n\n这里我就说一下今天我安装的方法。\n\n下载好ubuntu的镜像，随便放在一个非系统盘的根目录下\n\n改名为：ubuntu.iso\n```\nsudo chmod 777 /boot/grub/grub.cfg\nsudo vi  /boot/grub/grub.cfg\n#在 export linux_gfx_mode 下面添加如下内容\nmenuentry \"install  ubuntu powered by hisen\" {\n  search --set -f /ubuntu.iso\n  loopback loop /ubuntu.iso\n  set root=(loop)\n  linux /casper/vmlinuz.efi boot=casper iso-scan/filename=/ubuntu.iso\n  initrd /casper/initrd.lz\n  boot\n}\n```\n保存退出，重启就会进入系统。\n\n桌面上点击那个安装的图标即可完成重装","slug":"ubuntu重装系统 - 在ubuntu系统下重新安装","published":1,"updated":"2017-03-05T08:32:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdti00arolejct4k65rl","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候在linux环境下需要重新安装一下系统</p><p>这里我就说一下今天我安装的方法。</p><p>下载好ubuntu的镜像，随便放在一个非系统盘的根目录下</p><p>改名为：ubuntu.iso<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chmod 777 /boot/grub/grub.cfg</span><br><span class=\"line\">sudo vi  /boot/grub/grub.cfg</span><br><span class=\"line\">#在 export linux_gfx_mode 下面添加如下内容</span><br><span class=\"line\">menuentry &quot;install  ubuntu powered by hisen&quot; &#123;</span><br><span class=\"line\">  search --set -f /ubuntu.iso</span><br><span class=\"line\">  loopback loop /ubuntu.iso</span><br><span class=\"line\">  set root=(loop)</span><br><span class=\"line\">  linux /casper/vmlinuz.efi boot=casper iso-scan/filename=/ubuntu.iso</span><br><span class=\"line\">  initrd /casper/initrd.lz</span><br><span class=\"line\">  boot</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>保存退出，重启就会进入系统。</p><p>桌面上点击那个安装的图标即可完成重装</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候在linux环境下需要重新安装一下系统</p><p>这里我就说一下今天我安装的方法。</p><p>下载好ubuntu的镜像，随便放在一个非系统盘的根目录下</p><p>改名为：ubuntu.iso<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chmod 777 /boot/grub/grub.cfg</span><br><span class=\"line\">sudo vi  /boot/grub/grub.cfg</span><br><span class=\"line\">#在 export linux_gfx_mode 下面添加如下内容</span><br><span class=\"line\">menuentry &quot;install  ubuntu powered by hisen&quot; &#123;</span><br><span class=\"line\">  search --set -f /ubuntu.iso</span><br><span class=\"line\">  loopback loop /ubuntu.iso</span><br><span class=\"line\">  set root=(loop)</span><br><span class=\"line\">  linux /casper/vmlinuz.efi boot=casper iso-scan/filename=/ubuntu.iso</span><br><span class=\"line\">  initrd /casper/initrd.lz</span><br><span class=\"line\">  boot</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><p>保存退出，重启就会进入系统。</p><p>桌面上点击那个安装的图标即可完成重装</p><!-- rebuild by neat -->"},{"title":"windows10 专业版激活密钥","date":"2017-02-10T08:02:44.000Z","_content":"2017年2月10日 16:03:48\n亲测可用，这比激活工具方便多了\n\n<!--more-->\n```\nVK7JG-NPHTM-C97JM-9MPGT-3V66T\n\nNPPR9-FWDCX-D2C8J-H872K-2YT43\n\nW269N-WFGWX-YVC9B-4J6C9-T83GX\n\nNYW94-47Q7H-7X9TT-W7TXD-JTYPM\n\nNJ4MX-VQQ7Q-FP3DB-VDGHX-7XM87\n\nMH37W-N47XK-V7XM9-C7227-GCQG9\n```","source":"_posts/windows10-专业版激活密钥.md","raw":"---\ntitle: windows10 专业版激活密钥\ntags: [windows10专业版激活密钥]\ndate: 2017-02-10 16:02:44\ncategories: 软件\n---\n2017年2月10日 16:03:48\n亲测可用，这比激活工具方便多了\n\n<!--more-->\n```\nVK7JG-NPHTM-C97JM-9MPGT-3V66T\n\nNPPR9-FWDCX-D2C8J-H872K-2YT43\n\nW269N-WFGWX-YVC9B-4J6C9-T83GX\n\nNYW94-47Q7H-7X9TT-W7TXD-JTYPM\n\nNJ4MX-VQQ7Q-FP3DB-VDGHX-7XM87\n\nMH37W-N47XK-V7XM9-C7227-GCQG9\n```","slug":"windows10-专业版激活密钥","published":1,"updated":"2017-02-10T08:05:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtj00avolejm27mqi4l","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>2017年2月10日 16:03:48<br>亲测可用，这比激活工具方便多了</p><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VK7JG-NPHTM-C97JM-9MPGT-3V66T</span><br><span class=\"line\"></span><br><span class=\"line\">NPPR9-FWDCX-D2C8J-H872K-2YT43</span><br><span class=\"line\"></span><br><span class=\"line\">W269N-WFGWX-YVC9B-4J6C9-T83GX</span><br><span class=\"line\"></span><br><span class=\"line\">NYW94-47Q7H-7X9TT-W7TXD-JTYPM</span><br><span class=\"line\"></span><br><span class=\"line\">NJ4MX-VQQ7Q-FP3DB-VDGHX-7XM87</span><br><span class=\"line\"></span><br><span class=\"line\">MH37W-N47XK-V7XM9-C7227-GCQG9</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>2017年2月10日 16:03:48<br>亲测可用，这比激活工具方便多了</p>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VK7JG-NPHTM-C97JM-9MPGT-3V66T</span><br><span class=\"line\"></span><br><span class=\"line\">NPPR9-FWDCX-D2C8J-H872K-2YT43</span><br><span class=\"line\"></span><br><span class=\"line\">W269N-WFGWX-YVC9B-4J6C9-T83GX</span><br><span class=\"line\"></span><br><span class=\"line\">NYW94-47Q7H-7X9TT-W7TXD-JTYPM</span><br><span class=\"line\"></span><br><span class=\"line\">NJ4MX-VQQ7Q-FP3DB-VDGHX-7XM87</span><br><span class=\"line\"></span><br><span class=\"line\">MH37W-N47XK-V7XM9-C7227-GCQG9</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"windows任务栏由底部改到左边，并自动隐藏","keywords":["windows","idea"],"date":"2017-02-15T02:19:35.000Z","_content":"\nwindows默认是在底部的\n\n在底部任务栏空白处：\n\n右键---设置---任务栏---在桌面模式下自动隐藏任务栏(开)---任务栏在屏幕上的位置(上 | 下 | 左 | 右)\n\n这样就设置完毕了，毕竟笔记本太小\n用idea的时候居然有些界面很难点击OK什么的！！！\n\n---\n\n知乎有专门讨论任务栏放置位置分析，有兴趣的可以看看:\n\n<a href=\"https://www.zhihu.com/question/20519087\" target=\"_blank\">Windows 任务栏放在窗口左边和下面哪一种更合理？各有什么利弊？</a>","source":"_posts/windows任务栏由底部改到左边，并自动隐藏.md","raw":"---\ntitle: windows任务栏由底部改到左边，并自动隐藏\nkeywords: [windows,idea]\ntags: [idea]\ndate: 2017-02-15 10:19:35\ncategories: 软件\n---\n\nwindows默认是在底部的\n\n在底部任务栏空白处：\n\n右键---设置---任务栏---在桌面模式下自动隐藏任务栏(开)---任务栏在屏幕上的位置(上 | 下 | 左 | 右)\n\n这样就设置完毕了，毕竟笔记本太小\n用idea的时候居然有些界面很难点击OK什么的！！！\n\n---\n\n知乎有专门讨论任务栏放置位置分析，有兴趣的可以看看:\n\n<a href=\"https://www.zhihu.com/question/20519087\" target=\"_blank\">Windows 任务栏放在窗口左边和下面哪一种更合理？各有什么利弊？</a>","slug":"windows任务栏由底部改到左边，并自动隐藏","published":1,"updated":"2017-02-15T02:25:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtk00ayolejji5hmg0o","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>windows默认是在底部的</p><p>在底部任务栏空白处：</p><p>右键—设置—任务栏—在桌面模式下自动隐藏任务栏(开)—任务栏在屏幕上的位置(上 | 下 | 左 | 右)</p><p>这样就设置完毕了，毕竟笔记本太小<br>用idea的时候居然有些界面很难点击OK什么的！！！</p><hr><p>知乎有专门讨论任务栏放置位置分析，有兴趣的可以看看:</p><p><a href=\"https://www.zhihu.com/question/20519087\" target=\"_blank\">Windows 任务栏放在窗口左边和下面哪一种更合理？各有什么利弊？</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>windows默认是在底部的</p><p>在底部任务栏空白处：</p><p>右键—设置—任务栏—在桌面模式下自动隐藏任务栏(开)—任务栏在屏幕上的位置(上 | 下 | 左 | 右)</p><p>这样就设置完毕了，毕竟笔记本太小<br>用idea的时候居然有些界面很难点击OK什么的！！！</p><hr><p>知乎有专门讨论任务栏放置位置分析，有兴趣的可以看看:</p><p><a href=\"https://www.zhihu.com/question/20519087\" target=\"_blank\">Windows 任务栏放在窗口左边和下面哪一种更合理？各有什么利弊？</a></p><!-- rebuild by neat -->"},{"title":"win下ssh连接VirtualBox Ubuntu 16虚拟机","keywords":["win下ssh连接VirtualBox Ubuntu 16虚拟机","Ubuntu"],"date":"2017-02-18T07:34:49.000Z","_content":"安装完虚拟机之后想在windows下用xshell链接Ubuntu虚拟机\n\n这种配置下，虚拟机能上网，又能跟win连接，感觉很完美\n\nVirtualBox的端口转发很不错，可以转发tomcat什么的\n\n\n准备工作\n---\n1.给Ubuntu安装openssh-server\n```\nsudo apt-get install openssh-server\n```\n<!--more-->\n2.查看虚拟机ip 我的是：10.0.2.15(看上面那段)\n```\nhisen@hisen-VirtualBox:/$ ifconfig -a\nenp0s3    Link encap:以太网  硬件地址 08:00:27:45:f3:35  \n          inet 地址:10.0.2.15  广播:10.0.2.255  掩码:255.255.255.0\n          inet6 地址: fe80::ed57:82d2:60cb:7f96/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1\n          接收数据包:169175 错误:0 丢弃:0 过载:0 帧数:0\n          发送数据包:34436 错误:0 丢弃:0 过载:0 载波:0\n          碰撞:0 发送队列长度:1000 \n          接收字节:210738565 (210.7 MB)  发送字节:3633455 (3.6 MB)\n\nlo        Link encap:本地环回  \n          inet 地址:127.0.0.1  掩码:255.0.0.0\n          inet6 地址: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  跃点数:1\n          接收数据包:1718 错误:0 丢弃:0 过载:0 帧数:0\n          发送数据包:1718 错误:0 丢弃:0 过载:0 载波:0\n          碰撞:0 发送队列长度:1 \n          接收字节:234769 (234.7 KB)  发送字节:234769 (234.7 KB)\n```\nVirtualBox设置端口转发\n---\n1. 在VirtualBox启动页面，右键Ubuntu --->设置\n2. 网络 ---> 连接方式 ---> 网络地址转换(NAT)\n3. 高级 ---> 端口转发 ---> 点击添加按钮\n\n| 名称 | 协议 | 主机IP | 主机端口 | 子系统IP | 子系统端口 |\n|:-----|:-----|:-----|:-----|:-----|:-----|\n| ssh | TCP | 127.0.0.1 | 2222 | 10.0.2.15 | 22 |\n\n子系统ip写你的虚拟机ip即可\n\nxshell链接Ubuntu虚拟机\n---\n在xshell链接Ubuntu虚拟机的时候\n\nip写上麦的主机ip：127.0.0.1\n\n端口写上面的主机端口：2222\n\n然后上面配置的端口转发就可以转发到虚拟机上，顺利连接！！！\n","source":"_posts/win下ssh连接VirtualBox-Ubuntu-16虚拟机.md","raw":"---\ntitle: win下ssh连接VirtualBox Ubuntu 16虚拟机\nkeywords: [win下ssh连接VirtualBox Ubuntu 16虚拟机,Ubuntu]\ntags: [linux,xshell连接Ubuntu虚拟机]\ndate: 2017-02-18 15:34:49\ncategories: linux\n---\n安装完虚拟机之后想在windows下用xshell链接Ubuntu虚拟机\n\n这种配置下，虚拟机能上网，又能跟win连接，感觉很完美\n\nVirtualBox的端口转发很不错，可以转发tomcat什么的\n\n\n准备工作\n---\n1.给Ubuntu安装openssh-server\n```\nsudo apt-get install openssh-server\n```\n<!--more-->\n2.查看虚拟机ip 我的是：10.0.2.15(看上面那段)\n```\nhisen@hisen-VirtualBox:/$ ifconfig -a\nenp0s3    Link encap:以太网  硬件地址 08:00:27:45:f3:35  \n          inet 地址:10.0.2.15  广播:10.0.2.255  掩码:255.255.255.0\n          inet6 地址: fe80::ed57:82d2:60cb:7f96/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1\n          接收数据包:169175 错误:0 丢弃:0 过载:0 帧数:0\n          发送数据包:34436 错误:0 丢弃:0 过载:0 载波:0\n          碰撞:0 发送队列长度:1000 \n          接收字节:210738565 (210.7 MB)  发送字节:3633455 (3.6 MB)\n\nlo        Link encap:本地环回  \n          inet 地址:127.0.0.1  掩码:255.0.0.0\n          inet6 地址: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  跃点数:1\n          接收数据包:1718 错误:0 丢弃:0 过载:0 帧数:0\n          发送数据包:1718 错误:0 丢弃:0 过载:0 载波:0\n          碰撞:0 发送队列长度:1 \n          接收字节:234769 (234.7 KB)  发送字节:234769 (234.7 KB)\n```\nVirtualBox设置端口转发\n---\n1. 在VirtualBox启动页面，右键Ubuntu --->设置\n2. 网络 ---> 连接方式 ---> 网络地址转换(NAT)\n3. 高级 ---> 端口转发 ---> 点击添加按钮\n\n| 名称 | 协议 | 主机IP | 主机端口 | 子系统IP | 子系统端口 |\n|:-----|:-----|:-----|:-----|:-----|:-----|\n| ssh | TCP | 127.0.0.1 | 2222 | 10.0.2.15 | 22 |\n\n子系统ip写你的虚拟机ip即可\n\nxshell链接Ubuntu虚拟机\n---\n在xshell链接Ubuntu虚拟机的时候\n\nip写上麦的主机ip：127.0.0.1\n\n端口写上面的主机端口：2222\n\n然后上面配置的端口转发就可以转发到虚拟机上，顺利连接！！！\n","slug":"win下ssh连接VirtualBox-Ubuntu-16虚拟机","published":1,"updated":"2017-02-18T07:56:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtl00b2olej82sfxdvj","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>安装完虚拟机之后想在windows下用xshell链接Ubuntu虚拟机</p><p>这种配置下，虚拟机能上网，又能跟win连接，感觉很完美</p><p>VirtualBox的端口转发很不错，可以转发tomcat什么的</p><h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><p>1.给Ubuntu安装openssh-server<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure><p></p><a id=\"more\"></a><p>2.查看虚拟机ip 我的是：10.0.2.15(看上面那段)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-VirtualBox:/$ ifconfig -a</span><br><span class=\"line\">enp0s3    Link encap:以太网  硬件地址 08:00:27:45:f3:35  </span><br><span class=\"line\">          inet 地址:10.0.2.15  广播:10.0.2.255  掩码:255.255.255.0</span><br><span class=\"line\">          inet6 地址: fe80::ed57:82d2:60cb:7f96/64 Scope:Link</span><br><span class=\"line\">          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1</span><br><span class=\"line\">          接收数据包:169175 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class=\"line\">          发送数据包:34436 错误:0 丢弃:0 过载:0 载波:0</span><br><span class=\"line\">          碰撞:0 发送队列长度:1000 </span><br><span class=\"line\">          接收字节:210738565 (210.7 MB)  发送字节:3633455 (3.6 MB)</span><br><span class=\"line\"></span><br><span class=\"line\">lo        Link encap:本地环回  </span><br><span class=\"line\">          inet 地址:127.0.0.1  掩码:255.0.0.0</span><br><span class=\"line\">          inet6 地址: ::1/128 Scope:Host</span><br><span class=\"line\">          UP LOOPBACK RUNNING  MTU:65536  跃点数:1</span><br><span class=\"line\">          接收数据包:1718 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class=\"line\">          发送数据包:1718 错误:0 丢弃:0 过载:0 载波:0</span><br><span class=\"line\">          碰撞:0 发送队列长度:1 </span><br><span class=\"line\">          接收字节:234769 (234.7 KB)  发送字节:234769 (234.7 KB)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"VirtualBox设置端口转发\"><a href=\"#VirtualBox设置端口转发\" class=\"headerlink\" title=\"VirtualBox设置端口转发\"></a>VirtualBox设置端口转发</h2><ol><li>在VirtualBox启动页面，右键Ubuntu —&gt;设置</li><li>网络 —&gt; 连接方式 —&gt; 网络地址转换(NAT)</li><li>高级 —&gt; 端口转发 —&gt; 点击添加按钮</li></ol><table><thead><tr><th style=\"text-align:left\">名称</th><th style=\"text-align:left\">协议</th><th style=\"text-align:left\">主机IP</th><th style=\"text-align:left\">主机端口</th><th style=\"text-align:left\">子系统IP</th><th style=\"text-align:left\">子系统端口</th></tr></thead><tbody><tr><td style=\"text-align:left\">ssh</td><td style=\"text-align:left\">TCP</td><td style=\"text-align:left\">127.0.0.1</td><td style=\"text-align:left\">2222</td><td style=\"text-align:left\">10.0.2.15</td><td style=\"text-align:left\">22</td></tr></tbody></table><p>子系统ip写你的虚拟机ip即可</p><h2 id=\"xshell链接Ubuntu虚拟机\"><a href=\"#xshell链接Ubuntu虚拟机\" class=\"headerlink\" title=\"xshell链接Ubuntu虚拟机\"></a>xshell链接Ubuntu虚拟机</h2><p>在xshell链接Ubuntu虚拟机的时候</p><p>ip写上麦的主机ip：127.0.0.1</p><p>端口写上面的主机端口：2222</p><p>然后上面配置的端口转发就可以转发到虚拟机上，顺利连接！！！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>安装完虚拟机之后想在windows下用xshell链接Ubuntu虚拟机</p><p>这种配置下，虚拟机能上网，又能跟win连接，感觉很完美</p><p>VirtualBox的端口转发很不错，可以转发tomcat什么的</p><h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><p>1.给Ubuntu安装openssh-server<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure><p></p>","more":"<p>2.查看虚拟机ip 我的是：10.0.2.15(看上面那段)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-VirtualBox:/$ ifconfig -a</span><br><span class=\"line\">enp0s3    Link encap:以太网  硬件地址 08:00:27:45:f3:35  </span><br><span class=\"line\">          inet 地址:10.0.2.15  广播:10.0.2.255  掩码:255.255.255.0</span><br><span class=\"line\">          inet6 地址: fe80::ed57:82d2:60cb:7f96/64 Scope:Link</span><br><span class=\"line\">          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1</span><br><span class=\"line\">          接收数据包:169175 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class=\"line\">          发送数据包:34436 错误:0 丢弃:0 过载:0 载波:0</span><br><span class=\"line\">          碰撞:0 发送队列长度:1000 </span><br><span class=\"line\">          接收字节:210738565 (210.7 MB)  发送字节:3633455 (3.6 MB)</span><br><span class=\"line\"></span><br><span class=\"line\">lo        Link encap:本地环回  </span><br><span class=\"line\">          inet 地址:127.0.0.1  掩码:255.0.0.0</span><br><span class=\"line\">          inet6 地址: ::1/128 Scope:Host</span><br><span class=\"line\">          UP LOOPBACK RUNNING  MTU:65536  跃点数:1</span><br><span class=\"line\">          接收数据包:1718 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class=\"line\">          发送数据包:1718 错误:0 丢弃:0 过载:0 载波:0</span><br><span class=\"line\">          碰撞:0 发送队列长度:1 </span><br><span class=\"line\">          接收字节:234769 (234.7 KB)  发送字节:234769 (234.7 KB)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"VirtualBox设置端口转发\"><a href=\"#VirtualBox设置端口转发\" class=\"headerlink\" title=\"VirtualBox设置端口转发\"></a>VirtualBox设置端口转发</h2><ol><li>在VirtualBox启动页面，右键Ubuntu —&gt;设置</li><li>网络 —&gt; 连接方式 —&gt; 网络地址转换(NAT)</li><li>高级 —&gt; 端口转发 —&gt; 点击添加按钮</li></ol><table><thead><tr><th style=\"text-align:left\">名称</th><th style=\"text-align:left\">协议</th><th style=\"text-align:left\">主机IP</th><th style=\"text-align:left\">主机端口</th><th style=\"text-align:left\">子系统IP</th><th style=\"text-align:left\">子系统端口</th></tr></thead><tbody><tr><td style=\"text-align:left\">ssh</td><td style=\"text-align:left\">TCP</td><td style=\"text-align:left\">127.0.0.1</td><td style=\"text-align:left\">2222</td><td style=\"text-align:left\">10.0.2.15</td><td style=\"text-align:left\">22</td></tr></tbody></table><p>子系统ip写你的虚拟机ip即可</p><h2 id=\"xshell链接Ubuntu虚拟机\"><a href=\"#xshell链接Ubuntu虚拟机\" class=\"headerlink\" title=\"xshell链接Ubuntu虚拟机\"></a>xshell链接Ubuntu虚拟机</h2><p>在xshell链接Ubuntu虚拟机的时候</p><p>ip写上麦的主机ip：127.0.0.1</p><p>端口写上面的主机端口：2222</p><p>然后上面配置的端口转发就可以转发到虚拟机上，顺利连接！！！</p><!-- rebuild by neat -->"},{"title":"zookeeper & dubbo搭建 - 在IDEA上运行阿里巴巴Dubbo-demo","keywords":["zookeeper dubbo搭建","dubbo搭建","dubbo-demo，dubbo-admin"],"date":"2017-04-19T02:17:00.000Z","_content":"<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1ferrzk70zwj20nb0diadw.jpg\" />\n\nIDEA上搭建dubbo服务的简单过程\n---\n只是简单的让例子在IntelliJ IDEA跑起来\n\n目前是最新的版本：2.5.4-SNAPSHOT\n\n本文档更新时间：2017年04月19日01:08:02\n\n\n一 、安装zookeeper\n---\n参考链接：<a href=\"http://hisen.me/20170224-Ubuntu-16-LTS-%E5%AE%89%E8%A3%85zookeeper%E5%B9%B6%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/\" target=\"_blank\">ubuntu apt-get安装zookeeper</a>\n\n二、Idea clone本项目\n---\n导出项目之后，配置一下tomcat，添加dubbo-admin：war到tomcat中\n\n项目github地址：<a href=\"https://github.com/hisen-yuan/dubbo\" target=\"_blank\">https://github.com/hisen-yuan/dubbo</a>\n\n三、启动tomcat，即可访问dubbo管理后台\n---\n默认账号：root\n\n默认密码：root\n\n四、启动服务提供者&消费者demo\n---\n\n1. 修改dubbo-demo-consumer配置文件中的注册中心地址\n```\n/dubbo/dubbo-demo/dubbo-demo-consumer/src/test/resources/dubbo.properties\n```\n\n```\n#dubbo.registry.address=multicast://224.5.6.7:1234\n#使用本地的zookeeper做注册中心\ndubbo.registry.address=zookeeper://127.0.0.1:2181\n```\n\n2. 修改ubbo-demo-provider配置文件中的注册中心地址\n```\n/dubbo/dubbo-demo/dubbo-demo-provider/src/test/resources/dubbo.properties\n```\n\n```\n#dubbo.registry.address=multicast://224.5.6.7:1234\n#使用本地的zookeeper做注册中心\ndubbo.registry.address=zookeeper://127.0.0.1:2181\n```\n\n3. 分别启动dubbo-demo下ubbo-demo-provider、dubbo-demo-consumer下的测试方法\n\n即可在后台看到有服务在运行\n","source":"_posts/zookeeper & dubbo搭建 - 在IDEA上运行阿里巴巴Dubbo-demo.md","raw":"---\ntitle: zookeeper & dubbo搭建 - 在IDEA上运行阿里巴巴Dubbo-demo\nkeywords: [zookeeper dubbo搭建,dubbo搭建,dubbo-demo，dubbo-admin]\ndate: 2017/4/19 10:17\ntags: [dubbo,zookeeper,java]\ncategories: java\n---\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1ferrzk70zwj20nb0diadw.jpg\" />\n\nIDEA上搭建dubbo服务的简单过程\n---\n只是简单的让例子在IntelliJ IDEA跑起来\n\n目前是最新的版本：2.5.4-SNAPSHOT\n\n本文档更新时间：2017年04月19日01:08:02\n\n\n一 、安装zookeeper\n---\n参考链接：<a href=\"http://hisen.me/20170224-Ubuntu-16-LTS-%E5%AE%89%E8%A3%85zookeeper%E5%B9%B6%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/\" target=\"_blank\">ubuntu apt-get安装zookeeper</a>\n\n二、Idea clone本项目\n---\n导出项目之后，配置一下tomcat，添加dubbo-admin：war到tomcat中\n\n项目github地址：<a href=\"https://github.com/hisen-yuan/dubbo\" target=\"_blank\">https://github.com/hisen-yuan/dubbo</a>\n\n三、启动tomcat，即可访问dubbo管理后台\n---\n默认账号：root\n\n默认密码：root\n\n四、启动服务提供者&消费者demo\n---\n\n1. 修改dubbo-demo-consumer配置文件中的注册中心地址\n```\n/dubbo/dubbo-demo/dubbo-demo-consumer/src/test/resources/dubbo.properties\n```\n\n```\n#dubbo.registry.address=multicast://224.5.6.7:1234\n#使用本地的zookeeper做注册中心\ndubbo.registry.address=zookeeper://127.0.0.1:2181\n```\n\n2. 修改ubbo-demo-provider配置文件中的注册中心地址\n```\n/dubbo/dubbo-demo/dubbo-demo-provider/src/test/resources/dubbo.properties\n```\n\n```\n#dubbo.registry.address=multicast://224.5.6.7:1234\n#使用本地的zookeeper做注册中心\ndubbo.registry.address=zookeeper://127.0.0.1:2181\n```\n\n3. 分别启动dubbo-demo下ubbo-demo-provider、dubbo-demo-consumer下的测试方法\n\n即可在后台看到有服务在运行\n","slug":"zookeeper & dubbo搭建 - 在IDEA上运行阿里巴巴Dubbo-demo","published":1,"updated":"2017-04-19T02:25:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdto00b5olejl8nh49sf","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1ferrzk70zwj20nb0diadw.jpg\"></p><h2 id=\"IDEA上搭建dubbo服务的简单过程\"><a href=\"#IDEA上搭建dubbo服务的简单过程\" class=\"headerlink\" title=\"IDEA上搭建dubbo服务的简单过程\"></a>IDEA上搭建dubbo服务的简单过程</h2><p>只是简单的让例子在IntelliJ IDEA跑起来</p><p>目前是最新的版本：2.5.4-SNAPSHOT</p><p>本文档更新时间：2017年04月19日01:08:02</p><h2 id=\"一-、安装zookeeper\"><a href=\"#一-、安装zookeeper\" class=\"headerlink\" title=\"一 、安装zookeeper\"></a>一 、安装zookeeper</h2><p>参考链接：<a href=\"http://hisen.me/20170224-Ubuntu-16-LTS-%E5%AE%89%E8%A3%85zookeeper%E5%B9%B6%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/\" target=\"_blank\">ubuntu apt-get安装zookeeper</a></p><h2 id=\"二、Idea-clone本项目\"><a href=\"#二、Idea-clone本项目\" class=\"headerlink\" title=\"二、Idea clone本项目\"></a>二、Idea clone本项目</h2><p>导出项目之后，配置一下tomcat，添加dubbo-admin：war到tomcat中</p><p>项目github地址：<a href=\"https://github.com/hisen-yuan/dubbo\" target=\"_blank\">https://github.com/hisen-yuan/dubbo</a></p><h2 id=\"三、启动tomcat，即可访问dubbo管理后台\"><a href=\"#三、启动tomcat，即可访问dubbo管理后台\" class=\"headerlink\" title=\"三、启动tomcat，即可访问dubbo管理后台\"></a>三、启动tomcat，即可访问dubbo管理后台</h2><p>默认账号：root</p><p>默认密码：root</p><h2 id=\"四、启动服务提供者-amp-消费者demo\"><a href=\"#四、启动服务提供者-amp-消费者demo\" class=\"headerlink\" title=\"四、启动服务提供者&amp;消费者demo\"></a>四、启动服务提供者&amp;消费者demo</h2><ol><li>修改dubbo-demo-consumer配置文件中的注册中心地址<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dubbo/dubbo-demo/dubbo-demo-consumer/src/test/resources/dubbo.properties</span><br></pre></td></tr></table></figure></li></ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#dubbo.registry.address=multicast://224.5.6.7:1234</span><br><span class=\"line\">#使用本地的zookeeper做注册中心</span><br><span class=\"line\">dubbo.registry.address=zookeeper://127.0.0.1:2181</span><br></pre></td></tr></table></figure><ol start=\"2\"><li>修改ubbo-demo-provider配置文件中的注册中心地址<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dubbo/dubbo-demo/dubbo-demo-provider/src/test/resources/dubbo.properties</span><br></pre></td></tr></table></figure></li></ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#dubbo.registry.address=multicast://224.5.6.7:1234</span><br><span class=\"line\">#使用本地的zookeeper做注册中心</span><br><span class=\"line\">dubbo.registry.address=zookeeper://127.0.0.1:2181</span><br></pre></td></tr></table></figure><ol start=\"3\"><li>分别启动dubbo-demo下ubbo-demo-provider、dubbo-demo-consumer下的测试方法</li></ol><p>即可在后台看到有服务在运行</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1ferrzk70zwj20nb0diadw.jpg\"></p><h2 id=\"IDEA上搭建dubbo服务的简单过程\"><a href=\"#IDEA上搭建dubbo服务的简单过程\" class=\"headerlink\" title=\"IDEA上搭建dubbo服务的简单过程\"></a>IDEA上搭建dubbo服务的简单过程</h2><p>只是简单的让例子在IntelliJ IDEA跑起来</p><p>目前是最新的版本：2.5.4-SNAPSHOT</p><p>本文档更新时间：2017年04月19日01:08:02</p><h2 id=\"一-、安装zookeeper\"><a href=\"#一-、安装zookeeper\" class=\"headerlink\" title=\"一 、安装zookeeper\"></a>一 、安装zookeeper</h2><p>参考链接：<a href=\"http://hisen.me/20170224-Ubuntu-16-LTS-%E5%AE%89%E8%A3%85zookeeper%E5%B9%B6%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/\" target=\"_blank\">ubuntu apt-get安装zookeeper</a></p><h2 id=\"二、Idea-clone本项目\"><a href=\"#二、Idea-clone本项目\" class=\"headerlink\" title=\"二、Idea clone本项目\"></a>二、Idea clone本项目</h2><p>导出项目之后，配置一下tomcat，添加dubbo-admin：war到tomcat中</p><p>项目github地址：<a href=\"https://github.com/hisen-yuan/dubbo\" target=\"_blank\">https://github.com/hisen-yuan/dubbo</a></p><h2 id=\"三、启动tomcat，即可访问dubbo管理后台\"><a href=\"#三、启动tomcat，即可访问dubbo管理后台\" class=\"headerlink\" title=\"三、启动tomcat，即可访问dubbo管理后台\"></a>三、启动tomcat，即可访问dubbo管理后台</h2><p>默认账号：root</p><p>默认密码：root</p><h2 id=\"四、启动服务提供者-amp-消费者demo\"><a href=\"#四、启动服务提供者-amp-消费者demo\" class=\"headerlink\" title=\"四、启动服务提供者&amp;消费者demo\"></a>四、启动服务提供者&amp;消费者demo</h2><ol><li>修改dubbo-demo-consumer配置文件中的注册中心地址<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dubbo/dubbo-demo/dubbo-demo-consumer/src/test/resources/dubbo.properties</span><br></pre></td></tr></table></figure></li></ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#dubbo.registry.address=multicast://224.5.6.7:1234</span><br><span class=\"line\">#使用本地的zookeeper做注册中心</span><br><span class=\"line\">dubbo.registry.address=zookeeper://127.0.0.1:2181</span><br></pre></td></tr></table></figure><ol start=\"2\"><li>修改ubbo-demo-provider配置文件中的注册中心地址<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dubbo/dubbo-demo/dubbo-demo-provider/src/test/resources/dubbo.properties</span><br></pre></td></tr></table></figure></li></ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#dubbo.registry.address=multicast://224.5.6.7:1234</span><br><span class=\"line\">#使用本地的zookeeper做注册中心</span><br><span class=\"line\">dubbo.registry.address=zookeeper://127.0.0.1:2181</span><br></pre></td></tr></table></figure><ol start=\"3\"><li>分别启动dubbo-demo下ubbo-demo-provider、dubbo-demo-consumer下的测试方法</li></ol><p>即可在后台看到有服务在运行</p><!-- rebuild by neat -->"},{"title":"为什么要使用队列 - Java","keywords":["队列","为什么要使用队列","队列的使用场景"],"date":"2017-08-01T08:03:00.000Z","_content":"一、java中的队列：Queue接口\n--\nQueue接口与List、Set同一级别，都是继承了Collection接口。LinkedList实现了Queue接口。Queue接口窄化了对LinkedList的方法的访问权限（即在方法中的参数类型如果是Queue时，就完全只能访问Queue接口所定义的方法 了，而不能直接访问 LinkedList的非Queue的方法），以使得只有恰当的方法才可以使用。BlockingQueue 继承了Queue接口。\n\n队列是一种数据结构．它有两个基本操作：在队列尾部加入一个元素，和从队列头部移除一个元素（注意不要弄混队列的头部和尾部）就是说，队列以一种先进先出的方式管理数据，如果你试图向一个 已经满了的阻塞队列中添加一个元素或者是从一个空的阻塞队列中移除一个元索，将导致线程阻塞．在多线程进行合作时，阻塞队列是很有用的工具。工作者线程可以定期地把中间结果存到阻塞队列中而其他工作者线程把中间结果取出并在将来修改它们。队列会自动平衡负载。如果第一个线程集运行得比第二个慢，则第二个 线程集在等待结果时就会阻塞。如果第一个线程集运行得快，那么它将等待第二个线程集赶上来。下表显示了jdk1.5中的阻塞队列的操作：\n\n| 排序方法 | 平均情况 | 最好情况 |\n|:-----|:-----|:-----|\n| add  | 增加一个元素 |  如果队列已满，则抛出一个IllegalSlabEepeplian异常 |\n| remove | 移除并返回队列头部的元素 | 如果队列为空，则抛出一个NoSuchElementException异常 |\n| element | 返回队列头部的元素 | 如果队列为空，则抛出一个NoSuchElementException异常 |\n| offer | 添加一个元素并返回true | 如果队列已满，则返回false |\n| poll | 移除并返问队列头部的元素  | 如果队列为空，则返回null |\n| peek | 返回队列头部的元素 | 如果队列为空，则返回null |\n| put | 返回队列头部的元素 | 如果队列满，则阻塞 |\n| take | 返回队列头部的元素 | 如果队列为空，则阻塞 |\n\n二、消息队列\n--\n介绍：\n\n消息队列中间件是分布式系统中重要的组件，主要解决应用耦合，异步消息，流量削锋等问题。\n\n实现高性能，高可用，可伸缩和最终一致性架构。\n\n是大型分布式系统不可缺少的中间件。\n\n目前在生产环境，使用较多的消息队列有ActiveMQ，RabbitMQ，ZeroMQ，Kafka，MetaMQ，RocketMQ等。\n\n场景：异步处理、应用解耦、流量削锋、日志处理\n\n---\n\n以上就是关于为什么要使用队列的大致说明\n\n---\n参考：\n1. <a href=\"http://blog.csdn.net/kangbin825/article/details/53966618\" target=\"_blank\">java中队列的使用</a>\n2. <a href=\"http://blog.csdn.net/he90227/article/details/50800646\" target=\"_blank\">消息队列的使用场景</a>","source":"_posts/为什么要使用队列 - Java.md","raw":"---\ntitle: 为什么要使用队列 - Java\nkeywords: [队列,为什么要使用队列,队列的使用场景]\ndate: 2017/8/1 16:03\ntags: [队列,java]\ncategories: java\n---\n一、java中的队列：Queue接口\n--\nQueue接口与List、Set同一级别，都是继承了Collection接口。LinkedList实现了Queue接口。Queue接口窄化了对LinkedList的方法的访问权限（即在方法中的参数类型如果是Queue时，就完全只能访问Queue接口所定义的方法 了，而不能直接访问 LinkedList的非Queue的方法），以使得只有恰当的方法才可以使用。BlockingQueue 继承了Queue接口。\n\n队列是一种数据结构．它有两个基本操作：在队列尾部加入一个元素，和从队列头部移除一个元素（注意不要弄混队列的头部和尾部）就是说，队列以一种先进先出的方式管理数据，如果你试图向一个 已经满了的阻塞队列中添加一个元素或者是从一个空的阻塞队列中移除一个元索，将导致线程阻塞．在多线程进行合作时，阻塞队列是很有用的工具。工作者线程可以定期地把中间结果存到阻塞队列中而其他工作者线程把中间结果取出并在将来修改它们。队列会自动平衡负载。如果第一个线程集运行得比第二个慢，则第二个 线程集在等待结果时就会阻塞。如果第一个线程集运行得快，那么它将等待第二个线程集赶上来。下表显示了jdk1.5中的阻塞队列的操作：\n\n| 排序方法 | 平均情况 | 最好情况 |\n|:-----|:-----|:-----|\n| add  | 增加一个元素 |  如果队列已满，则抛出一个IllegalSlabEepeplian异常 |\n| remove | 移除并返回队列头部的元素 | 如果队列为空，则抛出一个NoSuchElementException异常 |\n| element | 返回队列头部的元素 | 如果队列为空，则抛出一个NoSuchElementException异常 |\n| offer | 添加一个元素并返回true | 如果队列已满，则返回false |\n| poll | 移除并返问队列头部的元素  | 如果队列为空，则返回null |\n| peek | 返回队列头部的元素 | 如果队列为空，则返回null |\n| put | 返回队列头部的元素 | 如果队列满，则阻塞 |\n| take | 返回队列头部的元素 | 如果队列为空，则阻塞 |\n\n二、消息队列\n--\n介绍：\n\n消息队列中间件是分布式系统中重要的组件，主要解决应用耦合，异步消息，流量削锋等问题。\n\n实现高性能，高可用，可伸缩和最终一致性架构。\n\n是大型分布式系统不可缺少的中间件。\n\n目前在生产环境，使用较多的消息队列有ActiveMQ，RabbitMQ，ZeroMQ，Kafka，MetaMQ，RocketMQ等。\n\n场景：异步处理、应用解耦、流量削锋、日志处理\n\n---\n\n以上就是关于为什么要使用队列的大致说明\n\n---\n参考：\n1. <a href=\"http://blog.csdn.net/kangbin825/article/details/53966618\" target=\"_blank\">java中队列的使用</a>\n2. <a href=\"http://blog.csdn.net/he90227/article/details/50800646\" target=\"_blank\">消息队列的使用场景</a>","slug":"为什么要使用队列 - Java","published":1,"updated":"2017-08-01T08:29:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtp00b9olejd8kuq52h","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、java中的队列：Queue接口\"><a href=\"#一、java中的队列：Queue接口\" class=\"headerlink\" title=\"一、java中的队列：Queue接口\"></a>一、java中的队列：Queue接口</h2><p>Queue接口与List、Set同一级别，都是继承了Collection接口。LinkedList实现了Queue接口。Queue接口窄化了对LinkedList的方法的访问权限（即在方法中的参数类型如果是Queue时，就完全只能访问Queue接口所定义的方法 了，而不能直接访问 LinkedList的非Queue的方法），以使得只有恰当的方法才可以使用。BlockingQueue 继承了Queue接口。</p><p>队列是一种数据结构．它有两个基本操作：在队列尾部加入一个元素，和从队列头部移除一个元素（注意不要弄混队列的头部和尾部）就是说，队列以一种先进先出的方式管理数据，如果你试图向一个 已经满了的阻塞队列中添加一个元素或者是从一个空的阻塞队列中移除一个元索，将导致线程阻塞．在多线程进行合作时，阻塞队列是很有用的工具。工作者线程可以定期地把中间结果存到阻塞队列中而其他工作者线程把中间结果取出并在将来修改它们。队列会自动平衡负载。如果第一个线程集运行得比第二个慢，则第二个 线程集在等待结果时就会阻塞。如果第一个线程集运行得快，那么它将等待第二个线程集赶上来。下表显示了jdk1.5中的阻塞队列的操作：</p><table><thead><tr><th style=\"text-align:left\">排序方法</th><th style=\"text-align:left\">平均情况</th><th style=\"text-align:left\">最好情况</th></tr></thead><tbody><tr><td style=\"text-align:left\">add</td><td style=\"text-align:left\">增加一个元素</td><td style=\"text-align:left\">如果队列已满，则抛出一个IllegalSlabEepeplian异常</td></tr><tr><td style=\"text-align:left\">remove</td><td style=\"text-align:left\">移除并返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则抛出一个NoSuchElementException异常</td></tr><tr><td style=\"text-align:left\">element</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则抛出一个NoSuchElementException异常</td></tr><tr><td style=\"text-align:left\">offer</td><td style=\"text-align:left\">添加一个元素并返回true</td><td style=\"text-align:left\">如果队列已满，则返回false</td></tr><tr><td style=\"text-align:left\">poll</td><td style=\"text-align:left\">移除并返问队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则返回null</td></tr><tr><td style=\"text-align:left\">peek</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则返回null</td></tr><tr><td style=\"text-align:left\">put</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列满，则阻塞</td></tr><tr><td style=\"text-align:left\">take</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则阻塞</td></tr></tbody></table><h2 id=\"二、消息队列\"><a href=\"#二、消息队列\" class=\"headerlink\" title=\"二、消息队列\"></a>二、消息队列</h2><p>介绍：</p><p>消息队列中间件是分布式系统中重要的组件，主要解决应用耦合，异步消息，流量削锋等问题。</p><p>实现高性能，高可用，可伸缩和最终一致性架构。</p><p>是大型分布式系统不可缺少的中间件。</p><p>目前在生产环境，使用较多的消息队列有ActiveMQ，RabbitMQ，ZeroMQ，Kafka，MetaMQ，RocketMQ等。</p><p>场景：异步处理、应用解耦、流量削锋、日志处理</p><hr><p>以上就是关于为什么要使用队列的大致说明</p><hr><p>参考：</p><ol><li><a href=\"http://blog.csdn.net/kangbin825/article/details/53966618\" target=\"_blank\">java中队列的使用</a></li><li><a href=\"http://blog.csdn.net/he90227/article/details/50800646\" target=\"_blank\">消息队列的使用场景</a></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、java中的队列：Queue接口\"><a href=\"#一、java中的队列：Queue接口\" class=\"headerlink\" title=\"一、java中的队列：Queue接口\"></a>一、java中的队列：Queue接口</h2><p>Queue接口与List、Set同一级别，都是继承了Collection接口。LinkedList实现了Queue接口。Queue接口窄化了对LinkedList的方法的访问权限（即在方法中的参数类型如果是Queue时，就完全只能访问Queue接口所定义的方法 了，而不能直接访问 LinkedList的非Queue的方法），以使得只有恰当的方法才可以使用。BlockingQueue 继承了Queue接口。</p><p>队列是一种数据结构．它有两个基本操作：在队列尾部加入一个元素，和从队列头部移除一个元素（注意不要弄混队列的头部和尾部）就是说，队列以一种先进先出的方式管理数据，如果你试图向一个 已经满了的阻塞队列中添加一个元素或者是从一个空的阻塞队列中移除一个元索，将导致线程阻塞．在多线程进行合作时，阻塞队列是很有用的工具。工作者线程可以定期地把中间结果存到阻塞队列中而其他工作者线程把中间结果取出并在将来修改它们。队列会自动平衡负载。如果第一个线程集运行得比第二个慢，则第二个 线程集在等待结果时就会阻塞。如果第一个线程集运行得快，那么它将等待第二个线程集赶上来。下表显示了jdk1.5中的阻塞队列的操作：</p><table><thead><tr><th style=\"text-align:left\">排序方法</th><th style=\"text-align:left\">平均情况</th><th style=\"text-align:left\">最好情况</th></tr></thead><tbody><tr><td style=\"text-align:left\">add</td><td style=\"text-align:left\">增加一个元素</td><td style=\"text-align:left\">如果队列已满，则抛出一个IllegalSlabEepeplian异常</td></tr><tr><td style=\"text-align:left\">remove</td><td style=\"text-align:left\">移除并返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则抛出一个NoSuchElementException异常</td></tr><tr><td style=\"text-align:left\">element</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则抛出一个NoSuchElementException异常</td></tr><tr><td style=\"text-align:left\">offer</td><td style=\"text-align:left\">添加一个元素并返回true</td><td style=\"text-align:left\">如果队列已满，则返回false</td></tr><tr><td style=\"text-align:left\">poll</td><td style=\"text-align:left\">移除并返问队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则返回null</td></tr><tr><td style=\"text-align:left\">peek</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则返回null</td></tr><tr><td style=\"text-align:left\">put</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列满，则阻塞</td></tr><tr><td style=\"text-align:left\">take</td><td style=\"text-align:left\">返回队列头部的元素</td><td style=\"text-align:left\">如果队列为空，则阻塞</td></tr></tbody></table><h2 id=\"二、消息队列\"><a href=\"#二、消息队列\" class=\"headerlink\" title=\"二、消息队列\"></a>二、消息队列</h2><p>介绍：</p><p>消息队列中间件是分布式系统中重要的组件，主要解决应用耦合，异步消息，流量削锋等问题。</p><p>实现高性能，高可用，可伸缩和最终一致性架构。</p><p>是大型分布式系统不可缺少的中间件。</p><p>目前在生产环境，使用较多的消息队列有ActiveMQ，RabbitMQ，ZeroMQ，Kafka，MetaMQ，RocketMQ等。</p><p>场景：异步处理、应用解耦、流量削锋、日志处理</p><hr><p>以上就是关于为什么要使用队列的大致说明</p><hr><p>参考：</p><ol><li><a href=\"http://blog.csdn.net/kangbin825/article/details/53966618\" target=\"_blank\">java中队列的使用</a></li><li><a href=\"http://blog.csdn.net/he90227/article/details/50800646\" target=\"_blank\">消息队列的使用场景</a></li></ol><!-- rebuild by neat -->"},{"title":"企业邮箱签名模版","keywords":["企业邮箱签名模版"],"date":"2017-03-17T06:13:00.000Z","_content":"下面是源码，有些邮箱可以直接用html源码设置。\n\n我用得是网易邮箱大师，把代码存为本地网页打开全选复制\n\n粘贴到邮箱大师的签名里面即可！亲测有效，还挺好看的\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdptblhmqoj20f90iojt1.jpg\" />\n\n**代码如下：**\n<!--more-->\n```\n<html>\n <head></head>\n <body>\n  <div>\n   <style>.g {clear:both; height:0;}.mailsign {font-size:12px; color:#808080; margin:0 35px; line-height:22px;}.logo {width:305px; height:35px; margin:20px 0 10px -15px;}.name {font-weight:700; font-size:14px; float:left; color:#808080; height:30px; line-height:30px;}.position {float:left; margin-left:15px; color:#808080; height:30px; line-height:30px;}.company1 {clear:both; font-weight:700; font-size:14px; color:#808080; margin-top:10px;}.company2 {clear:both; font-weight:700; font-size:14px; color:#808080; margin-bottom:10px;}.add{}.add .zip { margin-left:5px; color:#a0a0a0; font-size:10px;}.tel {}.fax {}.phone {}.website {}.website a {color:#808080; text-decoration:none !important;}.eng {}.state {color:#a0a0a0; margin-top:20px; padding:15px; border:1px solid #CCC; border-radius:10px}.state h4 { margin:0;}.state p {margin:0; font-size:7.5pt;}</style>\n   \n   <div class=\"mailsign\">\n   <hr />\n    <div class=\"g\">\n     <div class=\"name\">\n      <t id=\"tname\">\n       HiSEN\n      </t>\n     </div>\n     <div class=\"position\">\n      <t id=\"tposition\">\n       中级java开发工程师\n      </t>\n     </div>\n    </div>\n    <div class=\"g\"></div>\n    <div class=\"company1\">\n     HiSEN网络在线技术有限公司\n    </div>\n    <div class=\"company2\">\n     <t id=\"tcompany\">\n      技术部\n     </t>\n    </div>\n    <div class=\"add\">\n     <span>地址/Add ：</span>\n     <t id=\"tadd\">\n      北京朝阳区xxx\n     </t>\n    <div class=\"mob\">\n     <span>手机/Mob：</span>\n     <t id=\"tmob\">\n      15555555555\n     </t>\n    </div>\n    <div class=\"website\">\n     <span>网址/URL    ：</span>\n     <a href=\"http://hisen.me/\" target=\"_blank\">hisen.me</a>\n    </div>\n    <div class=\"state\">\n     <h4>保密声明：</h4>\n     <p>此文件中可能含有机密类信息，仅限于上方提到的人员使用。若非以上人员或负责将该信息传送给上述人员的职员或代理人，严禁对此文件作任何形式的汇报、散布、传播及复制。若非此文件的指定收件人，请立即以邮件形式联系发件人并销毁所有原始文件的拷贝。</p>\n     <h4>CONFIDENTIALITY NOTICE:</h4>\n     <p>The information contained in this transmission may contain privileged and confidential information and is intended only for the use of the person(s) named above. If you are not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, any review, dissemination, distribution or duplication of this communication is strictly prohibited. If you are not the intended recipient, please contact the sender immediately by reply e-mail and destroy all copies of the original message.</p>\n    </div>\n   </div>\n  </div> \n </body>\n</html>\n```","source":"_posts/企业邮箱签名模版.md","raw":"---\ntitle: 企业邮箱签名模版\nkeywords: [企业邮箱签名模版]\ndate: 2017/3/17 14:13\ntags: [模版]\ncategories: 其他\n---\n下面是源码，有些邮箱可以直接用html源码设置。\n\n我用得是网易邮箱大师，把代码存为本地网页打开全选复制\n\n粘贴到邮箱大师的签名里面即可！亲测有效，还挺好看的\n<img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdptblhmqoj20f90iojt1.jpg\" />\n\n**代码如下：**\n<!--more-->\n```\n<html>\n <head></head>\n <body>\n  <div>\n   <style>.g {clear:both; height:0;}.mailsign {font-size:12px; color:#808080; margin:0 35px; line-height:22px;}.logo {width:305px; height:35px; margin:20px 0 10px -15px;}.name {font-weight:700; font-size:14px; float:left; color:#808080; height:30px; line-height:30px;}.position {float:left; margin-left:15px; color:#808080; height:30px; line-height:30px;}.company1 {clear:both; font-weight:700; font-size:14px; color:#808080; margin-top:10px;}.company2 {clear:both; font-weight:700; font-size:14px; color:#808080; margin-bottom:10px;}.add{}.add .zip { margin-left:5px; color:#a0a0a0; font-size:10px;}.tel {}.fax {}.phone {}.website {}.website a {color:#808080; text-decoration:none !important;}.eng {}.state {color:#a0a0a0; margin-top:20px; padding:15px; border:1px solid #CCC; border-radius:10px}.state h4 { margin:0;}.state p {margin:0; font-size:7.5pt;}</style>\n   \n   <div class=\"mailsign\">\n   <hr />\n    <div class=\"g\">\n     <div class=\"name\">\n      <t id=\"tname\">\n       HiSEN\n      </t>\n     </div>\n     <div class=\"position\">\n      <t id=\"tposition\">\n       中级java开发工程师\n      </t>\n     </div>\n    </div>\n    <div class=\"g\"></div>\n    <div class=\"company1\">\n     HiSEN网络在线技术有限公司\n    </div>\n    <div class=\"company2\">\n     <t id=\"tcompany\">\n      技术部\n     </t>\n    </div>\n    <div class=\"add\">\n     <span>地址/Add ：</span>\n     <t id=\"tadd\">\n      北京朝阳区xxx\n     </t>\n    <div class=\"mob\">\n     <span>手机/Mob：</span>\n     <t id=\"tmob\">\n      15555555555\n     </t>\n    </div>\n    <div class=\"website\">\n     <span>网址/URL    ：</span>\n     <a href=\"http://hisen.me/\" target=\"_blank\">hisen.me</a>\n    </div>\n    <div class=\"state\">\n     <h4>保密声明：</h4>\n     <p>此文件中可能含有机密类信息，仅限于上方提到的人员使用。若非以上人员或负责将该信息传送给上述人员的职员或代理人，严禁对此文件作任何形式的汇报、散布、传播及复制。若非此文件的指定收件人，请立即以邮件形式联系发件人并销毁所有原始文件的拷贝。</p>\n     <h4>CONFIDENTIALITY NOTICE:</h4>\n     <p>The information contained in this transmission may contain privileged and confidential information and is intended only for the use of the person(s) named above. If you are not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, any review, dissemination, distribution or duplication of this communication is strictly prohibited. If you are not the intended recipient, please contact the sender immediately by reply e-mail and destroy all copies of the original message.</p>\n    </div>\n   </div>\n  </div> \n </body>\n</html>\n```","slug":"企业邮箱签名模版","published":1,"updated":"2017-03-17T06:20:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtp00bcolejij548h81","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>下面是源码，有些邮箱可以直接用html源码设置。</p><p>我用得是网易邮箱大师，把代码存为本地网页打开全选复制</p><p>粘贴到邮箱大师的签名里面即可！亲测有效，还挺好看的<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdptblhmqoj20f90iojt1.jpg\"></p><p><strong>代码如下：</strong><br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\"> &lt;head&gt;&lt;/head&gt;</span><br><span class=\"line\"> &lt;body&gt;</span><br><span class=\"line\">  &lt;div&gt;</span><br><span class=\"line\">   &lt;style&gt;.g &#123;clear:both; height:0;&#125;.mailsign &#123;font-size:12px; color:#808080; margin:0 35px; line-height:22px;&#125;.logo &#123;width:305px; height:35px; margin:20px 0 10px -15px;&#125;.name &#123;font-weight:700; font-size:14px; float:left; color:#808080; height:30px; line-height:30px;&#125;.position &#123;float:left; margin-left:15px; color:#808080; height:30px; line-height:30px;&#125;.company1 &#123;clear:both; font-weight:700; font-size:14px; color:#808080; margin-top:10px;&#125;.company2 &#123;clear:both; font-weight:700; font-size:14px; color:#808080; margin-bottom:10px;&#125;.add&#123;&#125;.add .zip &#123; margin-left:5px; color:#a0a0a0; font-size:10px;&#125;.tel &#123;&#125;.fax &#123;&#125;.phone &#123;&#125;.website &#123;&#125;.website a &#123;color:#808080; text-decoration:none !important;&#125;.eng &#123;&#125;.state &#123;color:#a0a0a0; margin-top:20px; padding:15px; border:1px solid #CCC; border-radius:10px&#125;.state h4 &#123; margin:0;&#125;.state p &#123;margin:0; font-size:7.5pt;&#125;&lt;/style&gt;</span><br><span class=\"line\">   </span><br><span class=\"line\">   &lt;div class=&quot;mailsign&quot;&gt;</span><br><span class=\"line\">   &lt;hr /&gt;</span><br><span class=\"line\">    &lt;div class=&quot;g&quot;&gt;</span><br><span class=\"line\">     &lt;div class=&quot;name&quot;&gt;</span><br><span class=\"line\">      &lt;t id=&quot;tname&quot;&gt;</span><br><span class=\"line\">       HiSEN</span><br><span class=\"line\">      &lt;/t&gt;</span><br><span class=\"line\">     &lt;/div&gt;</span><br><span class=\"line\">     &lt;div class=&quot;position&quot;&gt;</span><br><span class=\"line\">      &lt;t id=&quot;tposition&quot;&gt;</span><br><span class=\"line\">       中级java开发工程师</span><br><span class=\"line\">      &lt;/t&gt;</span><br><span class=\"line\">     &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;g&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;company1&quot;&gt;</span><br><span class=\"line\">     HiSEN网络在线技术有限公司</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;company2&quot;&gt;</span><br><span class=\"line\">     &lt;t id=&quot;tcompany&quot;&gt;</span><br><span class=\"line\">      技术部</span><br><span class=\"line\">     &lt;/t&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;add&quot;&gt;</span><br><span class=\"line\">     &lt;span&gt;地址/Add ：&lt;/span&gt;</span><br><span class=\"line\">     &lt;t id=&quot;tadd&quot;&gt;</span><br><span class=\"line\">      北京朝阳区xxx</span><br><span class=\"line\">     &lt;/t&gt;</span><br><span class=\"line\">    &lt;div class=&quot;mob&quot;&gt;</span><br><span class=\"line\">     &lt;span&gt;手机/Mob：&lt;/span&gt;</span><br><span class=\"line\">     &lt;t id=&quot;tmob&quot;&gt;</span><br><span class=\"line\">      15555555555</span><br><span class=\"line\">     &lt;/t&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;website&quot;&gt;</span><br><span class=\"line\">     &lt;span&gt;网址/URL    ：&lt;/span&gt;</span><br><span class=\"line\">     &lt;a href=&quot;http://hisen.me/&quot; target=&quot;_blank&quot;&gt;hisen.me&lt;/a&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;state&quot;&gt;</span><br><span class=\"line\">     &lt;h4&gt;保密声明：&lt;/h4&gt;</span><br><span class=\"line\">     &lt;p&gt;此文件中可能含有机密类信息，仅限于上方提到的人员使用。若非以上人员或负责将该信息传送给上述人员的职员或代理人，严禁对此文件作任何形式的汇报、散布、传播及复制。若非此文件的指定收件人，请立即以邮件形式联系发件人并销毁所有原始文件的拷贝。&lt;/p&gt;</span><br><span class=\"line\">     &lt;h4&gt;CONFIDENTIALITY NOTICE:&lt;/h4&gt;</span><br><span class=\"line\">     &lt;p&gt;The information contained in this transmission may contain privileged and confidential information and is intended only for the use of the person(s) named above. If you are not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, any review, dissemination, distribution or duplication of this communication is strictly prohibited. If you are not the intended recipient, please contact the sender immediately by reply e-mail and destroy all copies of the original message.&lt;/p&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">   &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt; </span><br><span class=\"line\"> &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>下面是源码，有些邮箱可以直接用html源码设置。</p><p>我用得是网易邮箱大师，把代码存为本地网页打开全选复制</p><p>粘贴到邮箱大师的签名里面即可！亲测有效，还挺好看的<br><img src=\"http://wx3.sinaimg.cn/mw690/b2e389b6ly1fdptblhmqoj20f90iojt1.jpg\"></p><p><strong>代码如下：</strong><br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\"> &lt;head&gt;&lt;/head&gt;</span><br><span class=\"line\"> &lt;body&gt;</span><br><span class=\"line\">  &lt;div&gt;</span><br><span class=\"line\">   &lt;style&gt;.g &#123;clear:both; height:0;&#125;.mailsign &#123;font-size:12px; color:#808080; margin:0 35px; line-height:22px;&#125;.logo &#123;width:305px; height:35px; margin:20px 0 10px -15px;&#125;.name &#123;font-weight:700; font-size:14px; float:left; color:#808080; height:30px; line-height:30px;&#125;.position &#123;float:left; margin-left:15px; color:#808080; height:30px; line-height:30px;&#125;.company1 &#123;clear:both; font-weight:700; font-size:14px; color:#808080; margin-top:10px;&#125;.company2 &#123;clear:both; font-weight:700; font-size:14px; color:#808080; margin-bottom:10px;&#125;.add&#123;&#125;.add .zip &#123; margin-left:5px; color:#a0a0a0; font-size:10px;&#125;.tel &#123;&#125;.fax &#123;&#125;.phone &#123;&#125;.website &#123;&#125;.website a &#123;color:#808080; text-decoration:none !important;&#125;.eng &#123;&#125;.state &#123;color:#a0a0a0; margin-top:20px; padding:15px; border:1px solid #CCC; border-radius:10px&#125;.state h4 &#123; margin:0;&#125;.state p &#123;margin:0; font-size:7.5pt;&#125;&lt;/style&gt;</span><br><span class=\"line\">   </span><br><span class=\"line\">   &lt;div class=&quot;mailsign&quot;&gt;</span><br><span class=\"line\">   &lt;hr /&gt;</span><br><span class=\"line\">    &lt;div class=&quot;g&quot;&gt;</span><br><span class=\"line\">     &lt;div class=&quot;name&quot;&gt;</span><br><span class=\"line\">      &lt;t id=&quot;tname&quot;&gt;</span><br><span class=\"line\">       HiSEN</span><br><span class=\"line\">      &lt;/t&gt;</span><br><span class=\"line\">     &lt;/div&gt;</span><br><span class=\"line\">     &lt;div class=&quot;position&quot;&gt;</span><br><span class=\"line\">      &lt;t id=&quot;tposition&quot;&gt;</span><br><span class=\"line\">       中级java开发工程师</span><br><span class=\"line\">      &lt;/t&gt;</span><br><span class=\"line\">     &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;g&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;company1&quot;&gt;</span><br><span class=\"line\">     HiSEN网络在线技术有限公司</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;company2&quot;&gt;</span><br><span class=\"line\">     &lt;t id=&quot;tcompany&quot;&gt;</span><br><span class=\"line\">      技术部</span><br><span class=\"line\">     &lt;/t&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;add&quot;&gt;</span><br><span class=\"line\">     &lt;span&gt;地址/Add ：&lt;/span&gt;</span><br><span class=\"line\">     &lt;t id=&quot;tadd&quot;&gt;</span><br><span class=\"line\">      北京朝阳区xxx</span><br><span class=\"line\">     &lt;/t&gt;</span><br><span class=\"line\">    &lt;div class=&quot;mob&quot;&gt;</span><br><span class=\"line\">     &lt;span&gt;手机/Mob：&lt;/span&gt;</span><br><span class=\"line\">     &lt;t id=&quot;tmob&quot;&gt;</span><br><span class=\"line\">      15555555555</span><br><span class=\"line\">     &lt;/t&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;website&quot;&gt;</span><br><span class=\"line\">     &lt;span&gt;网址/URL    ：&lt;/span&gt;</span><br><span class=\"line\">     &lt;a href=&quot;http://hisen.me/&quot; target=&quot;_blank&quot;&gt;hisen.me&lt;/a&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div class=&quot;state&quot;&gt;</span><br><span class=\"line\">     &lt;h4&gt;保密声明：&lt;/h4&gt;</span><br><span class=\"line\">     &lt;p&gt;此文件中可能含有机密类信息，仅限于上方提到的人员使用。若非以上人员或负责将该信息传送给上述人员的职员或代理人，严禁对此文件作任何形式的汇报、散布、传播及复制。若非此文件的指定收件人，请立即以邮件形式联系发件人并销毁所有原始文件的拷贝。&lt;/p&gt;</span><br><span class=\"line\">     &lt;h4&gt;CONFIDENTIALITY NOTICE:&lt;/h4&gt;</span><br><span class=\"line\">     &lt;p&gt;The information contained in this transmission may contain privileged and confidential information and is intended only for the use of the person(s) named above. If you are not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, any review, dissemination, distribution or duplication of this communication is strictly prohibited. If you are not the intended recipient, please contact the sender immediately by reply e-mail and destroy all copies of the original message.&lt;/p&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">   &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt; </span><br><span class=\"line\"> &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"修改路由表：网线接内网、无线走外网 - 以及带来的问题","keywords":["内网外网同时存在免切换"],"date":"2017-10-31T08:02:00.000Z","_content":"```\n#删除原有的规则\nroute delete 0.0.0.0\n\n#新增外网 172.16.188.254为网关(修改之前先看好)\nroute add 0.0.0.0 mask 0.0.0.0 172.16.188.254 metric 30  -p\n\n#新增内网 16.0.0.0为内网网段 17.82.200.254为网关\nroute add 16.0.0.0 mask 255.0.0.0 17.82.200.254 metric 10 -p\n```\n\n带来的问题就是：\n内网的数据库，在启动之后。时不时会自动断开，导致影响正常工作，时不时得重启程序才能测试","source":"_posts/修改路由表：网线接内网、无线走外网 - 以及带来的问题.md","raw":"---\ntitle: 修改路由表：网线接内网、无线走外网 - 以及带来的问题\nkeywords: [内网外网同时存在免切换]\ndate: 2017/10/31 16:02\ntags: [软件]\ncategories: 软件\n---\n```\n#删除原有的规则\nroute delete 0.0.0.0\n\n#新增外网 172.16.188.254为网关(修改之前先看好)\nroute add 0.0.0.0 mask 0.0.0.0 172.16.188.254 metric 30  -p\n\n#新增内网 16.0.0.0为内网网段 17.82.200.254为网关\nroute add 16.0.0.0 mask 255.0.0.0 17.82.200.254 metric 10 -p\n```\n\n带来的问题就是：\n内网的数据库，在启动之后。时不时会自动断开，导致影响正常工作，时不时得重启程序才能测试","slug":"修改路由表：网线接内网、无线走外网 - 以及带来的问题","published":1,"updated":"2017-10-31T08:07:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtq00bfolej2qa5dowc","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#删除原有的规则</span><br><span class=\"line\">route delete 0.0.0.0</span><br><span class=\"line\"></span><br><span class=\"line\">#新增外网 172.16.188.254为网关(修改之前先看好)</span><br><span class=\"line\">route add 0.0.0.0 mask 0.0.0.0 172.16.188.254 metric 30  -p</span><br><span class=\"line\"></span><br><span class=\"line\">#新增内网 16.0.0.0为内网网段 17.82.200.254为网关</span><br><span class=\"line\">route add 16.0.0.0 mask 255.0.0.0 17.82.200.254 metric 10 -p</span><br></pre></td></tr></table></figure><p>带来的问题就是：<br>内网的数据库，在启动之后。时不时会自动断开，导致影响正常工作，时不时得重启程序才能测试</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#删除原有的规则</span><br><span class=\"line\">route delete 0.0.0.0</span><br><span class=\"line\"></span><br><span class=\"line\">#新增外网 172.16.188.254为网关(修改之前先看好)</span><br><span class=\"line\">route add 0.0.0.0 mask 0.0.0.0 172.16.188.254 metric 30  -p</span><br><span class=\"line\"></span><br><span class=\"line\">#新增内网 16.0.0.0为内网网段 17.82.200.254为网关</span><br><span class=\"line\">route add 16.0.0.0 mask 255.0.0.0 17.82.200.254 metric 10 -p</span><br></pre></td></tr></table></figure><p>带来的问题就是：<br>内网的数据库，在启动之后。时不时会自动断开，导致影响正常工作，时不时得重启程序才能测试</p><!-- rebuild by neat -->"},{"title":"利用IDEA写Hexo博客的一些技巧","keywords":["idea","hexo"],"date":"2017-03-03T02:51:00.000Z","_content":"今天偶然看到有人说用idea写博客\n\n刚开始我觉得这样会很麻烦，后来想想以前写博客也是醉了\n\n先新建一个 _post 的快捷方式\n\n进去，然后到博客根目录\n\n打开Git Bash，然后执行\n```\nhexo n \"你要写的文章题目\"\n```\n然后在 _post 快捷方式打开刚刚新建的markdown文件，用markdownpad打开编辑。。。\n\n编辑完了回到Git Bash。。。。想想就很麻烦\n\n---\n\n于是乎用IDEA打开博客根目录\n```\nsources -> _post -> new -> Edit File Templates\n```\n<!--more-->\nname：markdown extension：md\n内容：\n```\n---\ntitle: ${NAME}\nkeywords: []\ndate: ${DATE} ${TIME}\ntags: []\ncategories:\n---\n```\n接下来apply -> *.md -> 下面选择markdown\n\n以后新建markdown文件就会默认带上这个模版\n\n效果\n```\ntitle: 利用IDEA写Hexo博客的一些技巧\nkeywords: []\ndate: 2017/3/3 10:51\ntags: []\ncategories: hexo\n```\n\n接下来到了发布的时间，于是我们可以设置一下Terminal（在setting里面），设置为bash（git目录下）\n\n设置完了之后Alt + F12 调出 Terminal 即可进行git操作\n\n到此，大功告成，我要去更新博客了","source":"_posts/利用IDEA写Hexo博客的一些技巧.md","raw":"---\ntitle: 利用IDEA写Hexo博客的一些技巧\nkeywords: [idea,hexo]\ndate: 2017/3/3 10:51\ntags: [idea,hexo]\ncategories: hexo\n---\n今天偶然看到有人说用idea写博客\n\n刚开始我觉得这样会很麻烦，后来想想以前写博客也是醉了\n\n先新建一个 _post 的快捷方式\n\n进去，然后到博客根目录\n\n打开Git Bash，然后执行\n```\nhexo n \"你要写的文章题目\"\n```\n然后在 _post 快捷方式打开刚刚新建的markdown文件，用markdownpad打开编辑。。。\n\n编辑完了回到Git Bash。。。。想想就很麻烦\n\n---\n\n于是乎用IDEA打开博客根目录\n```\nsources -> _post -> new -> Edit File Templates\n```\n<!--more-->\nname：markdown extension：md\n内容：\n```\n---\ntitle: ${NAME}\nkeywords: []\ndate: ${DATE} ${TIME}\ntags: []\ncategories:\n---\n```\n接下来apply -> *.md -> 下面选择markdown\n\n以后新建markdown文件就会默认带上这个模版\n\n效果\n```\ntitle: 利用IDEA写Hexo博客的一些技巧\nkeywords: []\ndate: 2017/3/3 10:51\ntags: []\ncategories: hexo\n```\n\n接下来到了发布的时间，于是我们可以设置一下Terminal（在setting里面），设置为bash（git目录下）\n\n设置完了之后Alt + F12 调出 Terminal 即可进行git操作\n\n到此，大功告成，我要去更新博客了","slug":"利用IDEA写Hexo博客的一些技巧","published":1,"updated":"2017-03-03T03:08:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtr00bkolejy9an82ld","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>今天偶然看到有人说用idea写博客</p><p>刚开始我觉得这样会很麻烦，后来想想以前写博客也是醉了</p><p>先新建一个 _post 的快捷方式</p><p>进去，然后到博客根目录</p><p>打开Git Bash，然后执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n &quot;你要写的文章题目&quot;</span><br></pre></td></tr></table></figure><p></p><p>然后在 _post 快捷方式打开刚刚新建的markdown文件，用markdownpad打开编辑。。。</p><p>编辑完了回到Git Bash。。。。想想就很麻烦</p><hr><p>于是乎用IDEA打开博客根目录<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sources -&gt; _post -&gt; new -&gt; Edit File Templates</span><br></pre></td></tr></table></figure><p></p><a id=\"more\"></a><p>name：markdown extension：md<br>内容：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: $&#123;NAME&#125;</span><br><span class=\"line\">keywords: []</span><br><span class=\"line\">date: $&#123;DATE&#125; $&#123;TIME&#125;</span><br><span class=\"line\">tags: []</span><br><span class=\"line\">categories:</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure><p></p><p>接下来apply -&gt; *.md -&gt; 下面选择markdown</p><p>以后新建markdown文件就会默认带上这个模版</p><p>效果<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 利用IDEA写Hexo博客的一些技巧</span><br><span class=\"line\">keywords: []</span><br><span class=\"line\">date: 2017/3/3 10:51</span><br><span class=\"line\">tags: []</span><br><span class=\"line\">categories: hexo</span><br></pre></td></tr></table></figure><p></p><p>接下来到了发布的时间，于是我们可以设置一下Terminal（在setting里面），设置为bash（git目录下）</p><p>设置完了之后Alt + F12 调出 Terminal 即可进行git操作</p><p>到此，大功告成，我要去更新博客了</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>今天偶然看到有人说用idea写博客</p><p>刚开始我觉得这样会很麻烦，后来想想以前写博客也是醉了</p><p>先新建一个 _post 的快捷方式</p><p>进去，然后到博客根目录</p><p>打开Git Bash，然后执行<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n &quot;你要写的文章题目&quot;</span><br></pre></td></tr></table></figure><p></p><p>然后在 _post 快捷方式打开刚刚新建的markdown文件，用markdownpad打开编辑。。。</p><p>编辑完了回到Git Bash。。。。想想就很麻烦</p><hr><p>于是乎用IDEA打开博客根目录<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sources -&gt; _post -&gt; new -&gt; Edit File Templates</span><br></pre></td></tr></table></figure><p></p>","more":"<p>name：markdown extension：md<br>内容：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: $&#123;NAME&#125;</span><br><span class=\"line\">keywords: []</span><br><span class=\"line\">date: $&#123;DATE&#125; $&#123;TIME&#125;</span><br><span class=\"line\">tags: []</span><br><span class=\"line\">categories:</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure><p></p><p>接下来apply -&gt; *.md -&gt; 下面选择markdown</p><p>以后新建markdown文件就会默认带上这个模版</p><p>效果<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 利用IDEA写Hexo博客的一些技巧</span><br><span class=\"line\">keywords: []</span><br><span class=\"line\">date: 2017/3/3 10:51</span><br><span class=\"line\">tags: []</span><br><span class=\"line\">categories: hexo</span><br></pre></td></tr></table></figure><p></p><p>接下来到了发布的时间，于是我们可以设置一下Terminal（在setting里面），设置为bash（git目录下）</p><p>设置完了之后Alt + F12 调出 Terminal 即可进行git操作</p><p>到此，大功告成，我要去更新博客了</p><!-- rebuild by neat -->"},{"title":"利用Java构造二叉树 - 前序、中序、后续、层次遍历","keywords":["二叉树的遍历","java二叉树","java遍历二叉树"],"date":"2017-11-13T05:04:00.000Z","_content":"定义\n---\n最多有两棵子树的有序树，称为二叉树。二叉树是一种特殊的树。\n\n性质\n---\n这里规定二叉树的根结点的层次为1。\n\n1. 性质1：则二叉树的第i 层最多有2i-1个结点（在此二叉树的层次从1开始，i≥1）\n2. 性质2：深度为k的二叉树最多有2k-1个结点。(k≥1)\n3. 性质3：对任何一棵二叉树T, 如果其叶结点个数为n0, 度为2的非叶结点个数为n2, 则有\n             n0 = n2 + 1\n4. 性质4：具有 n(n>0)个结点的完全二叉树的深度为⎣log2n⎦+1；⎦x⎦表示不超过x的最大整数。\n5. 性质5：如果对一棵有n个结点的完全二叉树的结点按层序编号（从第1层到第⎣l og2n⎦ +1层，每层从左到右）,则对任一结点i（1≤i≤n),有：\n5.1 (1)如果i=1，则结点i无双亲，是二叉树的根；如果i>1，则其双亲是结点⎣i/2⎦。\n5.2 (2) 如果2i<=n, 则结点i的左孩子结点是2i；否则，结点i为叶子结点，无左孩子结点。\n5.3 (3)如果2i＋1<=n，则结点i的右孩子是结点2i＋1; 否则，结点i为叶子结点，无右孩子结点。\n\n完整代码\n---\n<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/tiger20171110/btree\" target=\"_blank\">https://github.com/hisenyuan/btree</a>\n\n二叉链表的实现\n---\n```\npackage com.hisen.interview.tiger20171110.btree;\n\n/**\n * @author : yhx\n * @date : 2017/11/10 18:42\n * @descriptor : 二叉树的 - 二叉链表实现\n */\npublic class LinkBTree implements BTree {\n\n  private Object data;\n  private BTree lChild;\n  private BTree rChild;\n\n  public LinkBTree() {\n    this.clearTree();\n  }\n\n  public LinkBTree(Object data) {\n    this.data = data;\n    this.rChild = null;\n    this.lChild = null;\n  }\n\n  @Override\n  public void addLfetTree(BTree lChild) {\n    this.lChild = lChild;\n  }\n\n  @Override\n  public BTree getLfetTree() {\n    return lChild;\n  }\n\n  @Override\n  public void addRightTree(BTree rChild) {\n    this.rChild = rChild;\n  }\n\n  @Override\n  public BTree getRightTree() {\n    return rChild;\n  }\n\n  @Override\n  public void clearTree() {\n    this.data = null;\n    this.rChild = null;\n    this.lChild = null;\n  }\n\n  @Override\n  public int getDeep() {\n    return deep(this);\n  }\n\n\n  @Override\n  public Object getRootData() {\n    return data;\n  }\n\n  @Override\n  public boolean hasLeftTree() {\n    if (lChild != null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public boolean hasRightTree() {\n    if (rChild != null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public boolean isEmptyTree() {\n    if ((lChild == null && rChild == null && data == null) || this == null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public boolean isLeaf() {\n    if (lChild == null && rChild == null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public void removeLeftTree() {\n    lChild = null;\n  }\n\n  @Override\n  public void removeRightTree() {\n    rChild = null;\n  }\n\n  @Override\n  public BTree getRoot() {\n    return this;\n  }\n\n  @Override\n  public void setRootData() {\n    this.data = data;\n  }\n\n  @Override\n  public int size() {\n    return size(this);\n  }\n\n  private int size(BTree bTree) {\n    if (bTree == null) {\n      return 0;\n    } else if (bTree.isLeaf()) {\n      return 1;\n    } else {\n      if (bTree.getLfetTree() == null) {\n        return size(bTree.getRightTree()) + 1;\n      } else if (bTree.getRightTree() == null) {\n        return size(bTree.getLfetTree()) + 1;\n      } else {\n        return size(bTree.getLfetTree()) + size(bTree.getRightTree()) + 1;\n      }\n    }\n  }\n\n  /**\n   * 计算二叉树的高度\n   */\n  private int deep(BTree bTree) {\n    if (bTree.isEmptyTree()) {\n      return 0;\n    } else if (bTree.isLeaf()) {\n      return 1;\n    } else {\n      if (bTree.getLfetTree() == null) {\n        return deep(bTree.getRightTree()) + 1;\n      } else if (bTree.getRightTree() == null) {\n        return deep(bTree.getLfetTree()) + 1;\n      } else {\n        return Math.max(deep(bTree.getLfetTree()), deep(bTree.getRightTree())) + 1;\n      }\n    }\n  }\n}\n```\n\n二叉树的各种遍历\n---\n遍历方式：前序、中序、后序、层次\n<!--more-->\n```\npackage com.hisen.interview.tiger20171110.btree;\n\nimport java.util.LinkedList;\n\n/**\n * @author : yhx\n * @date : 2017/11/13 12:15\n * @descriptor : 二叉树的遍历\n */\npublic class OrderBTree implements Visit {\n\n  /**\n   * 前序遍历\n   *\n   * @param root 根节点\n   */\n  public void preOrder(BTree root) {\n    visit(root);\n    if (root.getLfetTree() != null) {\n      preOrder(root.getLfetTree());\n    }\n    if (root.getRightTree() != null) {\n      preOrder(root.getRightTree());\n    }\n  }\n\n  /**\n   * 中序遍历\n   *\n   * @param root 根节点\n   */\n  public void inOrder(BTree root) {\n    if (root.getLfetTree() != null) {\n      inOrder(root.getLfetTree());\n    }\n    visit(root);\n    if (root.getRightTree() != null) {\n      inOrder(root.getRightTree());\n    }\n  }\n\n  /**\n   * 后序遍历\n   * @param root 根节点\n   */\n  public void postOrder(BTree root) {\n\n    if (root.getLfetTree() != null) {\n      postOrder(root.getLfetTree());\n    }\n    if (root.getRightTree() != null) {\n      postOrder(root.getRightTree());\n    }\n    visit(root);\n  }\n\n  /**\n   * 层次遍历 - 利用队列\n   * @param bTree 根节点\n   */\n  public void levelOrder(BTree bTree){\n    if (bTree == null){\n      return;\n    }\n    LinkedList<BTree> queue = new LinkedList<>();\n    BTree current = null;\n    // 将根节点入队列\n    queue.offer(bTree);\n    while (!queue.isEmpty()){\n      // 队头元素出队列\n      current = queue.poll();\n      visit(current);\n      // 如果左节点不为空，入队列\n      if (current.getLfetTree() != null){\n        queue.offer(current.getLfetTree());\n      }\n      // 如果右节点不为空，入队列\n      if (current.getRightTree() != null){\n        queue.offer(current.getRightTree());\n      }\n    }\n  }\n  /**\n   * 访问二叉树的节点\n   * @param bTree 树的节点\n   */\n  @Override\n  public void visit(BTree bTree) {\n    System.out.print(bTree.getRootData() + \"\\t\");\n  }\n}\n```\n\n参考\n---\nhttp://blog.csdn.net/luoweifu/article/details/9077521\n\nhttp://blog.csdn.net/snow_7/article/details/51815787","source":"_posts/利用Java构造二叉树 - 前序、中序、后续、层次遍历.md","raw":"---\ntitle: 利用Java构造二叉树 - 前序、中序、后续、层次遍历\nkeywords: [二叉树的遍历,java二叉树,java遍历二叉树]\ndate: 2017/11/13 13:04\ntags: [二叉树,java,数据结构]\ncategories: java\n---\n定义\n---\n最多有两棵子树的有序树，称为二叉树。二叉树是一种特殊的树。\n\n性质\n---\n这里规定二叉树的根结点的层次为1。\n\n1. 性质1：则二叉树的第i 层最多有2i-1个结点（在此二叉树的层次从1开始，i≥1）\n2. 性质2：深度为k的二叉树最多有2k-1个结点。(k≥1)\n3. 性质3：对任何一棵二叉树T, 如果其叶结点个数为n0, 度为2的非叶结点个数为n2, 则有\n             n0 = n2 + 1\n4. 性质4：具有 n(n>0)个结点的完全二叉树的深度为⎣log2n⎦+1；⎦x⎦表示不超过x的最大整数。\n5. 性质5：如果对一棵有n个结点的完全二叉树的结点按层序编号（从第1层到第⎣l og2n⎦ +1层，每层从左到右）,则对任一结点i（1≤i≤n),有：\n5.1 (1)如果i=1，则结点i无双亲，是二叉树的根；如果i>1，则其双亲是结点⎣i/2⎦。\n5.2 (2) 如果2i<=n, 则结点i的左孩子结点是2i；否则，结点i为叶子结点，无左孩子结点。\n5.3 (3)如果2i＋1<=n，则结点i的右孩子是结点2i＋1; 否则，结点i为叶子结点，无右孩子结点。\n\n完整代码\n---\n<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/tiger20171110/btree\" target=\"_blank\">https://github.com/hisenyuan/btree</a>\n\n二叉链表的实现\n---\n```\npackage com.hisen.interview.tiger20171110.btree;\n\n/**\n * @author : yhx\n * @date : 2017/11/10 18:42\n * @descriptor : 二叉树的 - 二叉链表实现\n */\npublic class LinkBTree implements BTree {\n\n  private Object data;\n  private BTree lChild;\n  private BTree rChild;\n\n  public LinkBTree() {\n    this.clearTree();\n  }\n\n  public LinkBTree(Object data) {\n    this.data = data;\n    this.rChild = null;\n    this.lChild = null;\n  }\n\n  @Override\n  public void addLfetTree(BTree lChild) {\n    this.lChild = lChild;\n  }\n\n  @Override\n  public BTree getLfetTree() {\n    return lChild;\n  }\n\n  @Override\n  public void addRightTree(BTree rChild) {\n    this.rChild = rChild;\n  }\n\n  @Override\n  public BTree getRightTree() {\n    return rChild;\n  }\n\n  @Override\n  public void clearTree() {\n    this.data = null;\n    this.rChild = null;\n    this.lChild = null;\n  }\n\n  @Override\n  public int getDeep() {\n    return deep(this);\n  }\n\n\n  @Override\n  public Object getRootData() {\n    return data;\n  }\n\n  @Override\n  public boolean hasLeftTree() {\n    if (lChild != null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public boolean hasRightTree() {\n    if (rChild != null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public boolean isEmptyTree() {\n    if ((lChild == null && rChild == null && data == null) || this == null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public boolean isLeaf() {\n    if (lChild == null && rChild == null) {\n      return true;\n    }\n    return false;\n  }\n\n  @Override\n  public void removeLeftTree() {\n    lChild = null;\n  }\n\n  @Override\n  public void removeRightTree() {\n    rChild = null;\n  }\n\n  @Override\n  public BTree getRoot() {\n    return this;\n  }\n\n  @Override\n  public void setRootData() {\n    this.data = data;\n  }\n\n  @Override\n  public int size() {\n    return size(this);\n  }\n\n  private int size(BTree bTree) {\n    if (bTree == null) {\n      return 0;\n    } else if (bTree.isLeaf()) {\n      return 1;\n    } else {\n      if (bTree.getLfetTree() == null) {\n        return size(bTree.getRightTree()) + 1;\n      } else if (bTree.getRightTree() == null) {\n        return size(bTree.getLfetTree()) + 1;\n      } else {\n        return size(bTree.getLfetTree()) + size(bTree.getRightTree()) + 1;\n      }\n    }\n  }\n\n  /**\n   * 计算二叉树的高度\n   */\n  private int deep(BTree bTree) {\n    if (bTree.isEmptyTree()) {\n      return 0;\n    } else if (bTree.isLeaf()) {\n      return 1;\n    } else {\n      if (bTree.getLfetTree() == null) {\n        return deep(bTree.getRightTree()) + 1;\n      } else if (bTree.getRightTree() == null) {\n        return deep(bTree.getLfetTree()) + 1;\n      } else {\n        return Math.max(deep(bTree.getLfetTree()), deep(bTree.getRightTree())) + 1;\n      }\n    }\n  }\n}\n```\n\n二叉树的各种遍历\n---\n遍历方式：前序、中序、后序、层次\n<!--more-->\n```\npackage com.hisen.interview.tiger20171110.btree;\n\nimport java.util.LinkedList;\n\n/**\n * @author : yhx\n * @date : 2017/11/13 12:15\n * @descriptor : 二叉树的遍历\n */\npublic class OrderBTree implements Visit {\n\n  /**\n   * 前序遍历\n   *\n   * @param root 根节点\n   */\n  public void preOrder(BTree root) {\n    visit(root);\n    if (root.getLfetTree() != null) {\n      preOrder(root.getLfetTree());\n    }\n    if (root.getRightTree() != null) {\n      preOrder(root.getRightTree());\n    }\n  }\n\n  /**\n   * 中序遍历\n   *\n   * @param root 根节点\n   */\n  public void inOrder(BTree root) {\n    if (root.getLfetTree() != null) {\n      inOrder(root.getLfetTree());\n    }\n    visit(root);\n    if (root.getRightTree() != null) {\n      inOrder(root.getRightTree());\n    }\n  }\n\n  /**\n   * 后序遍历\n   * @param root 根节点\n   */\n  public void postOrder(BTree root) {\n\n    if (root.getLfetTree() != null) {\n      postOrder(root.getLfetTree());\n    }\n    if (root.getRightTree() != null) {\n      postOrder(root.getRightTree());\n    }\n    visit(root);\n  }\n\n  /**\n   * 层次遍历 - 利用队列\n   * @param bTree 根节点\n   */\n  public void levelOrder(BTree bTree){\n    if (bTree == null){\n      return;\n    }\n    LinkedList<BTree> queue = new LinkedList<>();\n    BTree current = null;\n    // 将根节点入队列\n    queue.offer(bTree);\n    while (!queue.isEmpty()){\n      // 队头元素出队列\n      current = queue.poll();\n      visit(current);\n      // 如果左节点不为空，入队列\n      if (current.getLfetTree() != null){\n        queue.offer(current.getLfetTree());\n      }\n      // 如果右节点不为空，入队列\n      if (current.getRightTree() != null){\n        queue.offer(current.getRightTree());\n      }\n    }\n  }\n  /**\n   * 访问二叉树的节点\n   * @param bTree 树的节点\n   */\n  @Override\n  public void visit(BTree bTree) {\n    System.out.print(bTree.getRootData() + \"\\t\");\n  }\n}\n```\n\n参考\n---\nhttp://blog.csdn.net/luoweifu/article/details/9077521\n\nhttp://blog.csdn.net/snow_7/article/details/51815787","slug":"利用Java构造二叉树 - 前序、中序、后续、层次遍历","published":1,"updated":"2017-11-13T05:48:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdts00bnolejyvugrt4d","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>最多有两棵子树的有序树，称为二叉树。二叉树是一种特殊的树。</p><h2 id=\"性质\"><a href=\"#性质\" class=\"headerlink\" title=\"性质\"></a>性质</h2><p>这里规定二叉树的根结点的层次为1。</p><ol><li>性质1：则二叉树的第i 层最多有2i-1个结点（在此二叉树的层次从1开始，i≥1）</li><li>性质2：深度为k的二叉树最多有2k-1个结点。(k≥1)</li><li>性质3：对任何一棵二叉树T, 如果其叶结点个数为n0, 度为2的非叶结点个数为n2, 则有<pre><code>n0 = n2 + 1\n</code></pre></li><li>性质4：具有 n(n&gt;0)个结点的完全二叉树的深度为⎣log2n⎦+1；⎦x⎦表示不超过x的最大整数。</li><li>性质5：如果对一棵有n个结点的完全二叉树的结点按层序编号（从第1层到第⎣l og2n⎦ +1层，每层从左到右）,则对任一结点i（1≤i≤n),有：<br>5.1 (1)如果i=1，则结点i无双亲，是二叉树的根；如果i&gt;1，则其双亲是结点⎣i/2⎦。<br>5.2 (2) 如果2i&lt;=n, 则结点i的左孩子结点是2i；否则，结点i为叶子结点，无左孩子结点。<br>5.3 (3)如果2i＋1&lt;=n，则结点i的右孩子是结点2i＋1; 否则，结点i为叶子结点，无右孩子结点。</li></ol><h2 id=\"完整代码\"><a href=\"#完整代码\" class=\"headerlink\" title=\"完整代码\"></a>完整代码</h2><p><a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/tiger20171110/btree\" target=\"_blank\">https://github.com/hisenyuan/btree</a></p><h2 id=\"二叉链表的实现\"><a href=\"#二叉链表的实现\" class=\"headerlink\" title=\"二叉链表的实现\"></a>二叉链表的实现</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview.tiger20171110.btree;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author : yhx</span><br><span class=\"line\"> * @date : 2017/11/10 18:42</span><br><span class=\"line\"> * @descriptor : 二叉树的 - 二叉链表实现</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class LinkBTree implements BTree &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private Object data;</span><br><span class=\"line\">  private BTree lChild;</span><br><span class=\"line\">  private BTree rChild;</span><br><span class=\"line\"></span><br><span class=\"line\">  public LinkBTree() &#123;</span><br><span class=\"line\">    this.clearTree();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public LinkBTree(Object data) &#123;</span><br><span class=\"line\">    this.data = data;</span><br><span class=\"line\">    this.rChild = null;</span><br><span class=\"line\">    this.lChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void addLfetTree(BTree lChild) &#123;</span><br><span class=\"line\">    this.lChild = lChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public BTree getLfetTree() &#123;</span><br><span class=\"line\">    return lChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void addRightTree(BTree rChild) &#123;</span><br><span class=\"line\">    this.rChild = rChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public BTree getRightTree() &#123;</span><br><span class=\"line\">    return rChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void clearTree() &#123;</span><br><span class=\"line\">    this.data = null;</span><br><span class=\"line\">    this.rChild = null;</span><br><span class=\"line\">    this.lChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public int getDeep() &#123;</span><br><span class=\"line\">    return deep(this);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public Object getRootData() &#123;</span><br><span class=\"line\">    return data;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean hasLeftTree() &#123;</span><br><span class=\"line\">    if (lChild != null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean hasRightTree() &#123;</span><br><span class=\"line\">    if (rChild != null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean isEmptyTree() &#123;</span><br><span class=\"line\">    if ((lChild == null &amp;&amp; rChild == null &amp;&amp; data == null) || this == null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean isLeaf() &#123;</span><br><span class=\"line\">    if (lChild == null &amp;&amp; rChild == null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void removeLeftTree() &#123;</span><br><span class=\"line\">    lChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void removeRightTree() &#123;</span><br><span class=\"line\">    rChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public BTree getRoot() &#123;</span><br><span class=\"line\">    return this;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void setRootData() &#123;</span><br><span class=\"line\">    this.data = data;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public int size() &#123;</span><br><span class=\"line\">    return size(this);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private int size(BTree bTree) &#123;</span><br><span class=\"line\">    if (bTree == null) &#123;</span><br><span class=\"line\">      return 0;</span><br><span class=\"line\">    &#125; else if (bTree.isLeaf()) &#123;</span><br><span class=\"line\">      return 1;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      if (bTree.getLfetTree() == null) &#123;</span><br><span class=\"line\">        return size(bTree.getRightTree()) + 1;</span><br><span class=\"line\">      &#125; else if (bTree.getRightTree() == null) &#123;</span><br><span class=\"line\">        return size(bTree.getLfetTree()) + 1;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        return size(bTree.getLfetTree()) + size(bTree.getRightTree()) + 1;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 计算二叉树的高度</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private int deep(BTree bTree) &#123;</span><br><span class=\"line\">    if (bTree.isEmptyTree()) &#123;</span><br><span class=\"line\">      return 0;</span><br><span class=\"line\">    &#125; else if (bTree.isLeaf()) &#123;</span><br><span class=\"line\">      return 1;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      if (bTree.getLfetTree() == null) &#123;</span><br><span class=\"line\">        return deep(bTree.getRightTree()) + 1;</span><br><span class=\"line\">      &#125; else if (bTree.getRightTree() == null) &#123;</span><br><span class=\"line\">        return deep(bTree.getLfetTree()) + 1;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        return Math.max(deep(bTree.getLfetTree()), deep(bTree.getRightTree())) + 1;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h2 id=\"二叉树的各种遍历\"><a href=\"#二叉树的各种遍历\" class=\"headerlink\" title=\"二叉树的各种遍历\"></a>二叉树的各种遍历</h2><p>遍历方式：前序、中序、后序、层次<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview.tiger20171110.btree;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.LinkedList;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author : yhx</span><br><span class=\"line\"> * @date : 2017/11/13 12:15</span><br><span class=\"line\"> * @descriptor : 二叉树的遍历</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class OrderBTree implements Visit &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 前序遍历</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param root 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void preOrder(BTree root) &#123;</span><br><span class=\"line\">    visit(root);</span><br><span class=\"line\">    if (root.getLfetTree() != null) &#123;</span><br><span class=\"line\">      preOrder(root.getLfetTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (root.getRightTree() != null) &#123;</span><br><span class=\"line\">      preOrder(root.getRightTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 中序遍历</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param root 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void inOrder(BTree root) &#123;</span><br><span class=\"line\">    if (root.getLfetTree() != null) &#123;</span><br><span class=\"line\">      inOrder(root.getLfetTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    visit(root);</span><br><span class=\"line\">    if (root.getRightTree() != null) &#123;</span><br><span class=\"line\">      inOrder(root.getRightTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 后序遍历</span><br><span class=\"line\">   * @param root 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void postOrder(BTree root) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (root.getLfetTree() != null) &#123;</span><br><span class=\"line\">      postOrder(root.getLfetTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (root.getRightTree() != null) &#123;</span><br><span class=\"line\">      postOrder(root.getRightTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    visit(root);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 层次遍历 - 利用队列</span><br><span class=\"line\">   * @param bTree 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void levelOrder(BTree bTree)&#123;</span><br><span class=\"line\">    if (bTree == null)&#123;</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    LinkedList&lt;BTree&gt; queue = new LinkedList&lt;&gt;();</span><br><span class=\"line\">    BTree current = null;</span><br><span class=\"line\">    // 将根节点入队列</span><br><span class=\"line\">    queue.offer(bTree);</span><br><span class=\"line\">    while (!queue.isEmpty())&#123;</span><br><span class=\"line\">      // 队头元素出队列</span><br><span class=\"line\">      current = queue.poll();</span><br><span class=\"line\">      visit(current);</span><br><span class=\"line\">      // 如果左节点不为空，入队列</span><br><span class=\"line\">      if (current.getLfetTree() != null)&#123;</span><br><span class=\"line\">        queue.offer(current.getLfetTree());</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 如果右节点不为空，入队列</span><br><span class=\"line\">      if (current.getRightTree() != null)&#123;</span><br><span class=\"line\">        queue.offer(current.getRightTree());</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 访问二叉树的节点</span><br><span class=\"line\">   * @param bTree 树的节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void visit(BTree bTree) &#123;</span><br><span class=\"line\">    System.out.print(bTree.getRootData() + &quot;\\t&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><p><a href=\"http://blog.csdn.net/luoweifu/article/details/9077521\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/luoweifu/article/details/9077521</a></p><p><a href=\"http://blog.csdn.net/snow_7/article/details/51815787\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/snow_7/article/details/51815787</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>最多有两棵子树的有序树，称为二叉树。二叉树是一种特殊的树。</p><h2 id=\"性质\"><a href=\"#性质\" class=\"headerlink\" title=\"性质\"></a>性质</h2><p>这里规定二叉树的根结点的层次为1。</p><ol><li>性质1：则二叉树的第i 层最多有2i-1个结点（在此二叉树的层次从1开始，i≥1）</li><li>性质2：深度为k的二叉树最多有2k-1个结点。(k≥1)</li><li>性质3：对任何一棵二叉树T, 如果其叶结点个数为n0, 度为2的非叶结点个数为n2, 则有<pre><code>n0 = n2 + 1\n</code></pre></li><li>性质4：具有 n(n&gt;0)个结点的完全二叉树的深度为⎣log2n⎦+1；⎦x⎦表示不超过x的最大整数。</li><li>性质5：如果对一棵有n个结点的完全二叉树的结点按层序编号（从第1层到第⎣l og2n⎦ +1层，每层从左到右）,则对任一结点i（1≤i≤n),有：<br>5.1 (1)如果i=1，则结点i无双亲，是二叉树的根；如果i&gt;1，则其双亲是结点⎣i/2⎦。<br>5.2 (2) 如果2i&lt;=n, 则结点i的左孩子结点是2i；否则，结点i为叶子结点，无左孩子结点。<br>5.3 (3)如果2i＋1&lt;=n，则结点i的右孩子是结点2i＋1; 否则，结点i为叶子结点，无右孩子结点。</li></ol><h2 id=\"完整代码\"><a href=\"#完整代码\" class=\"headerlink\" title=\"完整代码\"></a>完整代码</h2><p><a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/tiger20171110/btree\" target=\"_blank\">https://github.com/hisenyuan/btree</a></p><h2 id=\"二叉链表的实现\"><a href=\"#二叉链表的实现\" class=\"headerlink\" title=\"二叉链表的实现\"></a>二叉链表的实现</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview.tiger20171110.btree;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author : yhx</span><br><span class=\"line\"> * @date : 2017/11/10 18:42</span><br><span class=\"line\"> * @descriptor : 二叉树的 - 二叉链表实现</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class LinkBTree implements BTree &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private Object data;</span><br><span class=\"line\">  private BTree lChild;</span><br><span class=\"line\">  private BTree rChild;</span><br><span class=\"line\"></span><br><span class=\"line\">  public LinkBTree() &#123;</span><br><span class=\"line\">    this.clearTree();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public LinkBTree(Object data) &#123;</span><br><span class=\"line\">    this.data = data;</span><br><span class=\"line\">    this.rChild = null;</span><br><span class=\"line\">    this.lChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void addLfetTree(BTree lChild) &#123;</span><br><span class=\"line\">    this.lChild = lChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public BTree getLfetTree() &#123;</span><br><span class=\"line\">    return lChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void addRightTree(BTree rChild) &#123;</span><br><span class=\"line\">    this.rChild = rChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public BTree getRightTree() &#123;</span><br><span class=\"line\">    return rChild;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void clearTree() &#123;</span><br><span class=\"line\">    this.data = null;</span><br><span class=\"line\">    this.rChild = null;</span><br><span class=\"line\">    this.lChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public int getDeep() &#123;</span><br><span class=\"line\">    return deep(this);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public Object getRootData() &#123;</span><br><span class=\"line\">    return data;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean hasLeftTree() &#123;</span><br><span class=\"line\">    if (lChild != null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean hasRightTree() &#123;</span><br><span class=\"line\">    if (rChild != null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean isEmptyTree() &#123;</span><br><span class=\"line\">    if ((lChild == null &amp;&amp; rChild == null &amp;&amp; data == null) || this == null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public boolean isLeaf() &#123;</span><br><span class=\"line\">    if (lChild == null &amp;&amp; rChild == null) &#123;</span><br><span class=\"line\">      return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return false;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void removeLeftTree() &#123;</span><br><span class=\"line\">    lChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void removeRightTree() &#123;</span><br><span class=\"line\">    rChild = null;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public BTree getRoot() &#123;</span><br><span class=\"line\">    return this;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void setRootData() &#123;</span><br><span class=\"line\">    this.data = data;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public int size() &#123;</span><br><span class=\"line\">    return size(this);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private int size(BTree bTree) &#123;</span><br><span class=\"line\">    if (bTree == null) &#123;</span><br><span class=\"line\">      return 0;</span><br><span class=\"line\">    &#125; else if (bTree.isLeaf()) &#123;</span><br><span class=\"line\">      return 1;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      if (bTree.getLfetTree() == null) &#123;</span><br><span class=\"line\">        return size(bTree.getRightTree()) + 1;</span><br><span class=\"line\">      &#125; else if (bTree.getRightTree() == null) &#123;</span><br><span class=\"line\">        return size(bTree.getLfetTree()) + 1;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        return size(bTree.getLfetTree()) + size(bTree.getRightTree()) + 1;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 计算二叉树的高度</span><br><span class=\"line\">   */</span><br><span class=\"line\">  private int deep(BTree bTree) &#123;</span><br><span class=\"line\">    if (bTree.isEmptyTree()) &#123;</span><br><span class=\"line\">      return 0;</span><br><span class=\"line\">    &#125; else if (bTree.isLeaf()) &#123;</span><br><span class=\"line\">      return 1;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      if (bTree.getLfetTree() == null) &#123;</span><br><span class=\"line\">        return deep(bTree.getRightTree()) + 1;</span><br><span class=\"line\">      &#125; else if (bTree.getRightTree() == null) &#123;</span><br><span class=\"line\">        return deep(bTree.getLfetTree()) + 1;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        return Math.max(deep(bTree.getLfetTree()), deep(bTree.getRightTree())) + 1;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h2 id=\"二叉树的各种遍历\"><a href=\"#二叉树的各种遍历\" class=\"headerlink\" title=\"二叉树的各种遍历\"></a>二叉树的各种遍历</h2><p>遍历方式：前序、中序、后序、层次<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview.tiger20171110.btree;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.LinkedList;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author : yhx</span><br><span class=\"line\"> * @date : 2017/11/13 12:15</span><br><span class=\"line\"> * @descriptor : 二叉树的遍历</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class OrderBTree implements Visit &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 前序遍历</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param root 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void preOrder(BTree root) &#123;</span><br><span class=\"line\">    visit(root);</span><br><span class=\"line\">    if (root.getLfetTree() != null) &#123;</span><br><span class=\"line\">      preOrder(root.getLfetTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (root.getRightTree() != null) &#123;</span><br><span class=\"line\">      preOrder(root.getRightTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 中序遍历</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param root 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void inOrder(BTree root) &#123;</span><br><span class=\"line\">    if (root.getLfetTree() != null) &#123;</span><br><span class=\"line\">      inOrder(root.getLfetTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    visit(root);</span><br><span class=\"line\">    if (root.getRightTree() != null) &#123;</span><br><span class=\"line\">      inOrder(root.getRightTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 后序遍历</span><br><span class=\"line\">   * @param root 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void postOrder(BTree root) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (root.getLfetTree() != null) &#123;</span><br><span class=\"line\">      postOrder(root.getLfetTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (root.getRightTree() != null) &#123;</span><br><span class=\"line\">      postOrder(root.getRightTree());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    visit(root);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 层次遍历 - 利用队列</span><br><span class=\"line\">   * @param bTree 根节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public void levelOrder(BTree bTree)&#123;</span><br><span class=\"line\">    if (bTree == null)&#123;</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    LinkedList&lt;BTree&gt; queue = new LinkedList&lt;&gt;();</span><br><span class=\"line\">    BTree current = null;</span><br><span class=\"line\">    // 将根节点入队列</span><br><span class=\"line\">    queue.offer(bTree);</span><br><span class=\"line\">    while (!queue.isEmpty())&#123;</span><br><span class=\"line\">      // 队头元素出队列</span><br><span class=\"line\">      current = queue.poll();</span><br><span class=\"line\">      visit(current);</span><br><span class=\"line\">      // 如果左节点不为空，入队列</span><br><span class=\"line\">      if (current.getLfetTree() != null)&#123;</span><br><span class=\"line\">        queue.offer(current.getLfetTree());</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 如果右节点不为空，入队列</span><br><span class=\"line\">      if (current.getRightTree() != null)&#123;</span><br><span class=\"line\">        queue.offer(current.getRightTree());</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 访问二叉树的节点</span><br><span class=\"line\">   * @param bTree 树的节点</span><br><span class=\"line\">   */</span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public void visit(BTree bTree) &#123;</span><br><span class=\"line\">    System.out.print(bTree.getRootData() + &quot;\\t&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><p><a href=\"http://blog.csdn.net/luoweifu/article/details/9077521\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/luoweifu/article/details/9077521</a></p><p><a href=\"http://blog.csdn.net/snow_7/article/details/51815787\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/snow_7/article/details/51815787</a></p><!-- rebuild by neat -->"},{"title":"基本排序算法的时间/空间复杂度表","date":"2017-01-20T10:08:18.000Z","_content":"\n\n| 排序方法 | 平均情况 | 最好情况 | 最坏情况 | 辅助空间 | 稳定性 |\n|:-----|:-----|:-----|:-----|:-----|:-----|\n| 冒泡排序 | O(n²) | O(nlogn) | O(n²) | O(1) | 稳定 |\n| 简单选择 | O(n²) | O(n²) | O(n²) | O(1) | 稳定 |\n| 直接插入 | O(n²) | O(n) | O(n²) | O(1) | 稳定 |\n| 希尔排序 | O(nlogn)~O(n²) | O(n^1.3) | O(n²) | O(1) | 不稳定 |\n| 堆排序 | O(nlogn) | O(nlogn) | O(nlogn) | O(1) | 不稳定 |\n| 归并排序 | O(nlogn) | O(nlogn) | O(nlogn) | O(n) | 不稳定 |\n| 快速排序 | O(nlogn) | O(nlogn) | O(n²) | O(nlogn)~O(n) | 不稳定 |\n\n以上","source":"_posts/基本排序算法的时间-空间复杂度表.md","raw":"---\ntitle: 基本排序算法的时间/空间复杂度表\ndate: 2017-01-20 18:08:18\ntags: [java,算法,排序]\ncategories: java\n---\n\n\n| 排序方法 | 平均情况 | 最好情况 | 最坏情况 | 辅助空间 | 稳定性 |\n|:-----|:-----|:-----|:-----|:-----|:-----|\n| 冒泡排序 | O(n²) | O(nlogn) | O(n²) | O(1) | 稳定 |\n| 简单选择 | O(n²) | O(n²) | O(n²) | O(1) | 稳定 |\n| 直接插入 | O(n²) | O(n) | O(n²) | O(1) | 稳定 |\n| 希尔排序 | O(nlogn)~O(n²) | O(n^1.3) | O(n²) | O(1) | 不稳定 |\n| 堆排序 | O(nlogn) | O(nlogn) | O(nlogn) | O(1) | 不稳定 |\n| 归并排序 | O(nlogn) | O(nlogn) | O(nlogn) | O(n) | 不稳定 |\n| 快速排序 | O(nlogn) | O(nlogn) | O(n²) | O(nlogn)~O(n) | 不稳定 |\n\n以上","slug":"基本排序算法的时间-空间复杂度表","published":1,"updated":"2017-02-17T08:27:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtt00bqolejerhv4hq8","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><table><thead><tr><th style=\"text-align:left\">排序方法</th><th style=\"text-align:left\">平均情况</th><th style=\"text-align:left\">最好情况</th><th style=\"text-align:left\">最坏情况</th><th style=\"text-align:left\">辅助空间</th><th style=\"text-align:left\">稳定性</th></tr></thead><tbody><tr><td style=\"text-align:left\">冒泡排序</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">稳定</td></tr><tr><td style=\"text-align:left\">简单选择</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">稳定</td></tr><tr><td style=\"text-align:left\">直接插入</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(n)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">稳定</td></tr><tr><td style=\"text-align:left\">希尔排序</td><td style=\"text-align:left\">O(nlogn)~O(n²)</td><td style=\"text-align:left\">O(n^1.3)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">不稳定</td></tr><tr><td style=\"text-align:left\">堆排序</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">不稳定</td></tr><tr><td style=\"text-align:left\">归并排序</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(n)</td><td style=\"text-align:left\">不稳定</td></tr><tr><td style=\"text-align:left\">快速排序</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(nlogn)~O(n)</td><td style=\"text-align:left\">不稳定</td></tr></tbody></table><p>以上</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><table><thead><tr><th style=\"text-align:left\">排序方法</th><th style=\"text-align:left\">平均情况</th><th style=\"text-align:left\">最好情况</th><th style=\"text-align:left\">最坏情况</th><th style=\"text-align:left\">辅助空间</th><th style=\"text-align:left\">稳定性</th></tr></thead><tbody><tr><td style=\"text-align:left\">冒泡排序</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">稳定</td></tr><tr><td style=\"text-align:left\">简单选择</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">稳定</td></tr><tr><td style=\"text-align:left\">直接插入</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(n)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">稳定</td></tr><tr><td style=\"text-align:left\">希尔排序</td><td style=\"text-align:left\">O(nlogn)~O(n²)</td><td style=\"text-align:left\">O(n^1.3)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">不稳定</td></tr><tr><td style=\"text-align:left\">堆排序</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(1)</td><td style=\"text-align:left\">不稳定</td></tr><tr><td style=\"text-align:left\">归并排序</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(n)</td><td style=\"text-align:left\">不稳定</td></tr><tr><td style=\"text-align:left\">快速排序</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(nlogn)</td><td style=\"text-align:left\">O(n²)</td><td style=\"text-align:left\">O(nlogn)~O(n)</td><td style=\"text-align:left\">不稳定</td></tr></tbody></table><p>以上</p><!-- rebuild by neat -->"},{"title":"多线程基础 & 进阶 丨 系统架构 - CSDN博主：说好不能打脸","keywords":["java","多线程","多线程集合","多线程讲解"],"date":"2017-08-18T03:24:00.000Z","_content":"发现一个不错的技术博客，分享一下\n\n有时间多学习\n[多线程基础 & 进阶](http://blog.csdn.net/yinwenjie/article/category/6039439)\n[系统架构](http://blog.csdn.net/yinwenjie/article/category/5585451)\n","source":"_posts/多线程基础 & 进阶 - CSDN博主：说好不能打脸.md","raw":"---\ntitle: 多线程基础 & 进阶 丨 系统架构 - CSDN博主：说好不能打脸\nkeywords: [java,多线程,多线程集合,多线程讲解]\ndate: 2017/8/18 11:24\ntags: [java,多线程]\ncategories: java\n---\n发现一个不错的技术博客，分享一下\n\n有时间多学习\n[多线程基础 & 进阶](http://blog.csdn.net/yinwenjie/article/category/6039439)\n[系统架构](http://blog.csdn.net/yinwenjie/article/category/5585451)\n","slug":"多线程基础 & 进阶 - CSDN博主：说好不能打脸","published":1,"updated":"2017-08-18T03:29:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtu00btolejs0udc1tr","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>发现一个不错的技术博客，分享一下</p><p>有时间多学习<br><a href=\"http://blog.csdn.net/yinwenjie/article/category/6039439\" target=\"_blank\" rel=\"noopener\">多线程基础 &amp; 进阶</a><br><a href=\"http://blog.csdn.net/yinwenjie/article/category/5585451\" target=\"_blank\" rel=\"noopener\">系统架构</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>发现一个不错的技术博客，分享一下</p><p>有时间多学习<br><a href=\"http://blog.csdn.net/yinwenjie/article/category/6039439\" target=\"_blank\" rel=\"noopener\">多线程基础 &amp; 进阶</a><br><a href=\"http://blog.csdn.net/yinwenjie/article/category/5585451\" target=\"_blank\" rel=\"noopener\">系统架构</a></p><!-- rebuild by neat -->"},{"title":"如何学习NIO - NIO简单的例子","keywords":["如何学习NIO","NIO简单的例子","java nio","java"],"date":"2017-02-27T14:44:30.000Z","_content":"这里参照一些例子写了个简单的CS模型\n\n例子代码：<a href=\"https://github.com/hisen-yuan/Practice/tree/master/src/com/hisen/nio/cs\" target=\"_blank\">NIO应用之简单的CS模型</a>\n\n\n可以用来简单的理解一下java nio\n\n---\n\n深入的理解可以看看下面的链接。\n\nJava NIO 系列教程:<a href=\"http://www.iteye.com/magazines/132-Java-NIO\" target=\"_blank\">点击查看</a>\n\n\n如何学习Java的NIO？:<a href=\"https://www.zhihu.com/question/29005375\" target=\"_blank\">点击查看</a>\n\n---\n","source":"_posts/如何学习NIO-NIO简单的例子.md","raw":"---\ntitle: 如何学习NIO - NIO简单的例子\nkeywords: [如何学习NIO,NIO简单的例子,java nio,java]\ntags: [java,nio]\ndate: 2017-02-27 22:44:30\ncategories: java\n---\n这里参照一些例子写了个简单的CS模型\n\n例子代码：<a href=\"https://github.com/hisen-yuan/Practice/tree/master/src/com/hisen/nio/cs\" target=\"_blank\">NIO应用之简单的CS模型</a>\n\n\n可以用来简单的理解一下java nio\n\n---\n\n深入的理解可以看看下面的链接。\n\nJava NIO 系列教程:<a href=\"http://www.iteye.com/magazines/132-Java-NIO\" target=\"_blank\">点击查看</a>\n\n\n如何学习Java的NIO？:<a href=\"https://www.zhihu.com/question/29005375\" target=\"_blank\">点击查看</a>\n\n---\n","slug":"如何学习NIO-NIO简单的例子","published":1,"updated":"2017-02-27T14:50:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtv00bxolej9jxjnobt","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这里参照一些例子写了个简单的CS模型</p><p>例子代码：<a href=\"https://github.com/hisen-yuan/Practice/tree/master/src/com/hisen/nio/cs\" target=\"_blank\">NIO应用之简单的CS模型</a></p><p>可以用来简单的理解一下java nio</p><hr><p>深入的理解可以看看下面的链接。</p><p>Java NIO 系列教程:<a href=\"http://www.iteye.com/magazines/132-Java-NIO\" target=\"_blank\">点击查看</a></p><p>如何学习Java的NIO？:<a href=\"https://www.zhihu.com/question/29005375\" target=\"_blank\">点击查看</a></p><hr><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这里参照一些例子写了个简单的CS模型</p><p>例子代码：<a href=\"https://github.com/hisen-yuan/Practice/tree/master/src/com/hisen/nio/cs\" target=\"_blank\">NIO应用之简单的CS模型</a></p><p>可以用来简单的理解一下java nio</p><hr><p>深入的理解可以看看下面的链接。</p><p>Java NIO 系列教程:<a href=\"http://www.iteye.com/magazines/132-Java-NIO\" target=\"_blank\">点击查看</a></p><p>如何学习Java的NIO？:<a href=\"https://www.zhihu.com/question/29005375\" target=\"_blank\">点击查看</a></p><hr><!-- rebuild by neat -->"},{"title":"如何检测Linux VPS系统架构是Xen、KVM还是OpenVZ","date":"2017-02-08T13:12:06.000Z","_content":"结果\n---\n```\n[root]# virt-what\nxen\nxen-hvm\n```\n\nCentos\n---\n```\nwget http://people.redhat.com/~rjones/virt-what/files/virt-what-1.12.tar.gz\ntar zxvf virt-what-1.12.tar.gz\ncd virt-what-1.12/\n./configure\nmake && make install\nvirt-what\n```\n\nUbuntu/debian\n---\n```\napt-get install virt-what\nvirt-what\n```","source":"_posts/如何检测Linux-VPS系统架构是Xen、KVM还是OpenVZ.md","raw":"---\ntitle: 如何检测Linux VPS系统架构是Xen、KVM还是OpenVZ\ndate: 2017-02-08 21:12:06\ntags: [linux]\n---\n结果\n---\n```\n[root]# virt-what\nxen\nxen-hvm\n```\n\nCentos\n---\n```\nwget http://people.redhat.com/~rjones/virt-what/files/virt-what-1.12.tar.gz\ntar zxvf virt-what-1.12.tar.gz\ncd virt-what-1.12/\n./configure\nmake && make install\nvirt-what\n```\n\nUbuntu/debian\n---\n```\napt-get install virt-what\nvirt-what\n```","slug":"如何检测Linux-VPS系统架构是Xen、KVM还是OpenVZ","published":1,"updated":"2017-02-08T13:14:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtw00c0olej4zq6f7oo","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root]# virt-what</span><br><span class=\"line\">xen</span><br><span class=\"line\">xen-hvm</span><br></pre></td></tr></table></figure><h2 id=\"Centos\"><a href=\"#Centos\" class=\"headerlink\" title=\"Centos\"></a>Centos</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://people.redhat.com/~rjones/virt-what/files/virt-what-1.12.tar.gz</span><br><span class=\"line\">tar zxvf virt-what-1.12.tar.gz</span><br><span class=\"line\">cd virt-what-1.12/</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\">virt-what</span><br></pre></td></tr></table></figure><h2 id=\"Ubuntu-debian\"><a href=\"#Ubuntu-debian\" class=\"headerlink\" title=\"Ubuntu/debian\"></a>Ubuntu/debian</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install virt-what</span><br><span class=\"line\">virt-what</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root]# virt-what</span><br><span class=\"line\">xen</span><br><span class=\"line\">xen-hvm</span><br></pre></td></tr></table></figure><h2 id=\"Centos\"><a href=\"#Centos\" class=\"headerlink\" title=\"Centos\"></a>Centos</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://people.redhat.com/~rjones/virt-what/files/virt-what-1.12.tar.gz</span><br><span class=\"line\">tar zxvf virt-what-1.12.tar.gz</span><br><span class=\"line\">cd virt-what-1.12/</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\">virt-what</span><br></pre></td></tr></table></figure><h2 id=\"Ubuntu-debian\"><a href=\"#Ubuntu-debian\" class=\"headerlink\" title=\"Ubuntu/debian\"></a>Ubuntu/debian</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install virt-what</span><br><span class=\"line\">virt-what</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"如何线程安全的使用HashMap","keywords":["HashMap","HashMap线程安全"],"date":"2017-11-14T15:21:00.000Z","_content":"\n线程不安全的原因\n---\n1. HashMap底层是一个Entry数组，一旦发生Hash冲突的的时候，HashMap采用拉链法解决碰撞冲突.\n2. put方法也不是同步的\n3. 扩容的方法也不是同步的\n\n参考：https://www.cnblogs.com/qiumingcheng/p/5259892.html\n\n如何线程安全的使用\n---\n<!--more-->\n1. Hashtable\n2. ConcurrentHashMap\n3. SynchronizedMap\n\n####例子\n```\n//Hashtable\nMap<String, String> hashtable = new Hashtable<>();\n//synchronizedMap\nMap<String, String> synchronizedHashMap = Collections.synchronizedMap(new HashMap<String, String>());\n//ConcurrentHashMap\nMap<String, String> concurrentHashMap = new ConcurrentHashMap<>();\n```\n####性能对比\n使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。\n\n从数据可以看出，ConcurrentHashMap效率最高\n\n代码如下\n<!--more-->\n```\npackage com.hisen.collection.map;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Hashtable;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\n/**\n * @author : yhx\n * @date : 2017/11/14 23:36\n * @descriptor : 测试不同的Map - 使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。\n */\npublic class CrunchifyConcurrentHashMapVsSynchronizedMap {\n  private static final int THREAD_POOL_SIZE = 5;\n  public static Map<String, Integer> crunchifyHashTableObject = null;\n  public static Map<String, Integer> crunchifySynchronizedMapObject = null;\n  public static Map<String, Integer> crunchifyConcurrentHashMapObject = null;\n\n  public static void main(String[] args) throws InterruptedException {\n    // Test with Hashtable Object\n    crunchifyHashTableObject = new Hashtable<>();\n    crunchifyPerformTest(crunchifyHashTableObject);\n\n    // Test with synchronizedMap Object\n    crunchifySynchronizedMapObject = Collections.synchronizedMap(new HashMap<String, Integer>());\n    crunchifyPerformTest(crunchifySynchronizedMapObject);\n\n    // Test with ConcurrentHashMap Object\n    crunchifyConcurrentHashMapObject = new ConcurrentHashMap<>();\n    crunchifyPerformTest(crunchifyConcurrentHashMapObject);\n\n    /**\n     * 测试结果\n     Test start for:class java.util.Hashtable\n     2500K entried added/retrieved in 2953 ms\n     2500K entried added/retrieved in 4649 ms\n     2500K entried added/retrieved in 2736 ms\n     2500K entried added/retrieved in 2628 ms\n     2500K entried added/retrieved in 2621 ms\n     For class java.util.Hashtable the average time is 3117 ms\n\n     Test start for:class java.util.Collections$SynchronizedMap\n     2500K entried added/retrieved in 3036 ms\n     2500K entried added/retrieved in 2881 ms\n     2500K entried added/retrieved in 2692 ms\n     2500K entried added/retrieved in 3020 ms\n     2500K entried added/retrieved in 2806 ms\n     For class java.util.Collections$SynchronizedMap the average time is 2887 ms\n\n     Test start for:class java.util.concurrent.ConcurrentHashMap\n     2500K entried added/retrieved in 4378 ms\n     2500K entried added/retrieved in 1126 ms\n     2500K entried added/retrieved in 1008 ms\n     2500K entried added/retrieved in 935 ms\n     2500K entried added/retrieved in 1069 ms\n     For class java.util.concurrent.ConcurrentHashMap the average time is 1703 ms\n     */\n  }\n\n  private static void crunchifyPerformTest(Map<String, Integer> crunchifyThreads)\n      throws InterruptedException {\n    System.out.println(\"Test start for:\" + crunchifyThreads.getClass());\n    long avgTime = 0;\n    for (int i = 0; i < 5; i++) {\n      long startTime = System.nanoTime();\n\n      ExecutorService executorService = Executors.newFixedThreadPool(THREAD_POOL_SIZE);\n      for (int j = 0; j < THREAD_POOL_SIZE; j++) {\n        executorService.execute(new Runnable() {\n          @Override\n          public void run() {\n            for (int k = 0; k < 500000; k++) {\n              Integer crunchifyRandomNumber = (int) Math.ceil(Math.random() * 550000);\n              // Retrieve value. We are not using it anywhere\n              Integer crunchifyValue = crunchifyThreads.get(String.valueOf(crunchifyRandomNumber));\n              // Put value\n              crunchifyThreads.put(String.valueOf(crunchifyRandomNumber), crunchifyRandomNumber);\n            }\n          }\n        });\n      }\n      // Make sure executor stops\n      executorService.shutdown();\n      // Blocks until all tasks have completed execution after a shutdown request\n      executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n      long entTime = System.nanoTime();\n      long totalTime = (entTime - startTime) / 1000000L;\n      avgTime += totalTime;\n      System.out.println(\"2500K entried added/retrieved in \" + totalTime + \" ms\");\n    }\n    System.out.println(\"For \" + crunchifyThreads.getClass() + \" the average time is \" + avgTime / 5 + \" ms\\n\");\n  }\n}\n```\n","source":"_posts/如何线程安全的使用HashMap.md","raw":"---\ntitle: 如何线程安全的使用HashMap\nkeywords: [HashMap,HashMap线程安全]\ndate: 2017/11/14 23:21\ntags: [HashMap]\ncategories: java\n---\n\n线程不安全的原因\n---\n1. HashMap底层是一个Entry数组，一旦发生Hash冲突的的时候，HashMap采用拉链法解决碰撞冲突.\n2. put方法也不是同步的\n3. 扩容的方法也不是同步的\n\n参考：https://www.cnblogs.com/qiumingcheng/p/5259892.html\n\n如何线程安全的使用\n---\n<!--more-->\n1. Hashtable\n2. ConcurrentHashMap\n3. SynchronizedMap\n\n####例子\n```\n//Hashtable\nMap<String, String> hashtable = new Hashtable<>();\n//synchronizedMap\nMap<String, String> synchronizedHashMap = Collections.synchronizedMap(new HashMap<String, String>());\n//ConcurrentHashMap\nMap<String, String> concurrentHashMap = new ConcurrentHashMap<>();\n```\n####性能对比\n使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。\n\n从数据可以看出，ConcurrentHashMap效率最高\n\n代码如下\n<!--more-->\n```\npackage com.hisen.collection.map;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Hashtable;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\n/**\n * @author : yhx\n * @date : 2017/11/14 23:36\n * @descriptor : 测试不同的Map - 使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。\n */\npublic class CrunchifyConcurrentHashMapVsSynchronizedMap {\n  private static final int THREAD_POOL_SIZE = 5;\n  public static Map<String, Integer> crunchifyHashTableObject = null;\n  public static Map<String, Integer> crunchifySynchronizedMapObject = null;\n  public static Map<String, Integer> crunchifyConcurrentHashMapObject = null;\n\n  public static void main(String[] args) throws InterruptedException {\n    // Test with Hashtable Object\n    crunchifyHashTableObject = new Hashtable<>();\n    crunchifyPerformTest(crunchifyHashTableObject);\n\n    // Test with synchronizedMap Object\n    crunchifySynchronizedMapObject = Collections.synchronizedMap(new HashMap<String, Integer>());\n    crunchifyPerformTest(crunchifySynchronizedMapObject);\n\n    // Test with ConcurrentHashMap Object\n    crunchifyConcurrentHashMapObject = new ConcurrentHashMap<>();\n    crunchifyPerformTest(crunchifyConcurrentHashMapObject);\n\n    /**\n     * 测试结果\n     Test start for:class java.util.Hashtable\n     2500K entried added/retrieved in 2953 ms\n     2500K entried added/retrieved in 4649 ms\n     2500K entried added/retrieved in 2736 ms\n     2500K entried added/retrieved in 2628 ms\n     2500K entried added/retrieved in 2621 ms\n     For class java.util.Hashtable the average time is 3117 ms\n\n     Test start for:class java.util.Collections$SynchronizedMap\n     2500K entried added/retrieved in 3036 ms\n     2500K entried added/retrieved in 2881 ms\n     2500K entried added/retrieved in 2692 ms\n     2500K entried added/retrieved in 3020 ms\n     2500K entried added/retrieved in 2806 ms\n     For class java.util.Collections$SynchronizedMap the average time is 2887 ms\n\n     Test start for:class java.util.concurrent.ConcurrentHashMap\n     2500K entried added/retrieved in 4378 ms\n     2500K entried added/retrieved in 1126 ms\n     2500K entried added/retrieved in 1008 ms\n     2500K entried added/retrieved in 935 ms\n     2500K entried added/retrieved in 1069 ms\n     For class java.util.concurrent.ConcurrentHashMap the average time is 1703 ms\n     */\n  }\n\n  private static void crunchifyPerformTest(Map<String, Integer> crunchifyThreads)\n      throws InterruptedException {\n    System.out.println(\"Test start for:\" + crunchifyThreads.getClass());\n    long avgTime = 0;\n    for (int i = 0; i < 5; i++) {\n      long startTime = System.nanoTime();\n\n      ExecutorService executorService = Executors.newFixedThreadPool(THREAD_POOL_SIZE);\n      for (int j = 0; j < THREAD_POOL_SIZE; j++) {\n        executorService.execute(new Runnable() {\n          @Override\n          public void run() {\n            for (int k = 0; k < 500000; k++) {\n              Integer crunchifyRandomNumber = (int) Math.ceil(Math.random() * 550000);\n              // Retrieve value. We are not using it anywhere\n              Integer crunchifyValue = crunchifyThreads.get(String.valueOf(crunchifyRandomNumber));\n              // Put value\n              crunchifyThreads.put(String.valueOf(crunchifyRandomNumber), crunchifyRandomNumber);\n            }\n          }\n        });\n      }\n      // Make sure executor stops\n      executorService.shutdown();\n      // Blocks until all tasks have completed execution after a shutdown request\n      executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n      long entTime = System.nanoTime();\n      long totalTime = (entTime - startTime) / 1000000L;\n      avgTime += totalTime;\n      System.out.println(\"2500K entried added/retrieved in \" + totalTime + \" ms\");\n    }\n    System.out.println(\"For \" + crunchifyThreads.getClass() + \" the average time is \" + avgTime / 5 + \" ms\\n\");\n  }\n}\n```\n","slug":"如何线程安全的使用HashMap","published":1,"updated":"2017-11-14T15:57:46.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtx00c4olej8c7l1ym0","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"线程不安全的原因\"><a href=\"#线程不安全的原因\" class=\"headerlink\" title=\"线程不安全的原因\"></a>线程不安全的原因</h2><ol><li>HashMap底层是一个Entry数组，一旦发生Hash冲突的的时候，HashMap采用拉链法解决碰撞冲突.</li><li>put方法也不是同步的</li><li>扩容的方法也不是同步的</li></ol><p>参考：<a href=\"https://www.cnblogs.com/qiumingcheng/p/5259892.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/qiumingcheng/p/5259892.html</a></p><h2 id=\"如何线程安全的使用\"><a href=\"#如何线程安全的使用\" class=\"headerlink\" title=\"如何线程安全的使用\"></a>如何线程安全的使用</h2><a id=\"more\"></a><ol><li>Hashtable</li><li>ConcurrentHashMap</li><li>SynchronizedMap</li></ol><p>####例子<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Hashtable</span><br><span class=\"line\">Map&lt;String, String&gt; hashtable = new Hashtable&lt;&gt;();</span><br><span class=\"line\">//synchronizedMap</span><br><span class=\"line\">Map&lt;String, String&gt; synchronizedHashMap = Collections.synchronizedMap(new HashMap&lt;String, String&gt;());</span><br><span class=\"line\">//ConcurrentHashMap</span><br><span class=\"line\">Map&lt;String, String&gt; concurrentHashMap = new ConcurrentHashMap&lt;&gt;();</span><br></pre></td></tr></table></figure><p></p><p>####性能对比<br>使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。</p><p>从数据可以看出，ConcurrentHashMap效率最高</p><p>代码如下<br><!--more--><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.collection.map;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.Collections;</span><br><span class=\"line\">import java.util.HashMap;</span><br><span class=\"line\">import java.util.Hashtable;</span><br><span class=\"line\">import java.util.Map;</span><br><span class=\"line\">import java.util.concurrent.ConcurrentHashMap;</span><br><span class=\"line\">import java.util.concurrent.ExecutorService;</span><br><span class=\"line\">import java.util.concurrent.Executors;</span><br><span class=\"line\">import java.util.concurrent.TimeUnit;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author : yhx</span><br><span class=\"line\"> * @date : 2017/11/14 23:36</span><br><span class=\"line\"> * @descriptor : 测试不同的Map - 使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class CrunchifyConcurrentHashMapVsSynchronizedMap &#123;</span><br><span class=\"line\">  private static final int THREAD_POOL_SIZE = 5;</span><br><span class=\"line\">  public static Map&lt;String, Integer&gt; crunchifyHashTableObject = null;</span><br><span class=\"line\">  public static Map&lt;String, Integer&gt; crunchifySynchronizedMapObject = null;</span><br><span class=\"line\">  public static Map&lt;String, Integer&gt; crunchifyConcurrentHashMapObject = null;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) throws InterruptedException &#123;</span><br><span class=\"line\">    // Test with Hashtable Object</span><br><span class=\"line\">    crunchifyHashTableObject = new Hashtable&lt;&gt;();</span><br><span class=\"line\">    crunchifyPerformTest(crunchifyHashTableObject);</span><br><span class=\"line\"></span><br><span class=\"line\">    // Test with synchronizedMap Object</span><br><span class=\"line\">    crunchifySynchronizedMapObject = Collections.synchronizedMap(new HashMap&lt;String, Integer&gt;());</span><br><span class=\"line\">    crunchifyPerformTest(crunchifySynchronizedMapObject);</span><br><span class=\"line\"></span><br><span class=\"line\">    // Test with ConcurrentHashMap Object</span><br><span class=\"line\">    crunchifyConcurrentHashMapObject = new ConcurrentHashMap&lt;&gt;();</span><br><span class=\"line\">    crunchifyPerformTest(crunchifyConcurrentHashMapObject);</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 测试结果</span><br><span class=\"line\">     Test start for:class java.util.Hashtable</span><br><span class=\"line\">     2500K entried added/retrieved in 2953 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 4649 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2736 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2628 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2621 ms</span><br><span class=\"line\">     For class java.util.Hashtable the average time is 3117 ms</span><br><span class=\"line\"></span><br><span class=\"line\">     Test start for:class java.util.Collections$SynchronizedMap</span><br><span class=\"line\">     2500K entried added/retrieved in 3036 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2881 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2692 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 3020 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2806 ms</span><br><span class=\"line\">     For class java.util.Collections$SynchronizedMap the average time is 2887 ms</span><br><span class=\"line\"></span><br><span class=\"line\">     Test start for:class java.util.concurrent.ConcurrentHashMap</span><br><span class=\"line\">     2500K entried added/retrieved in 4378 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 1126 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 1008 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 935 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 1069 ms</span><br><span class=\"line\">     For class java.util.concurrent.ConcurrentHashMap the average time is 1703 ms</span><br><span class=\"line\">     */</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private static void crunchifyPerformTest(Map&lt;String, Integer&gt; crunchifyThreads)</span><br><span class=\"line\">      throws InterruptedException &#123;</span><br><span class=\"line\">    System.out.println(&quot;Test start for:&quot; + crunchifyThreads.getClass());</span><br><span class=\"line\">    long avgTime = 0;</span><br><span class=\"line\">    for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class=\"line\">      long startTime = System.nanoTime();</span><br><span class=\"line\"></span><br><span class=\"line\">      ExecutorService executorService = Executors.newFixedThreadPool(THREAD_POOL_SIZE);</span><br><span class=\"line\">      for (int j = 0; j &lt; THREAD_POOL_SIZE; j++) &#123;</span><br><span class=\"line\">        executorService.execute(new Runnable() &#123;</span><br><span class=\"line\">          @Override</span><br><span class=\"line\">          public void run() &#123;</span><br><span class=\"line\">            for (int k = 0; k &lt; 500000; k++) &#123;</span><br><span class=\"line\">              Integer crunchifyRandomNumber = (int) Math.ceil(Math.random() * 550000);</span><br><span class=\"line\">              // Retrieve value. We are not using it anywhere</span><br><span class=\"line\">              Integer crunchifyValue = crunchifyThreads.get(String.valueOf(crunchifyRandomNumber));</span><br><span class=\"line\">              // Put value</span><br><span class=\"line\">              crunchifyThreads.put(String.valueOf(crunchifyRandomNumber), crunchifyRandomNumber);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // Make sure executor stops</span><br><span class=\"line\">      executorService.shutdown();</span><br><span class=\"line\">      // Blocks until all tasks have completed execution after a shutdown request</span><br><span class=\"line\">      executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);</span><br><span class=\"line\">      long entTime = System.nanoTime();</span><br><span class=\"line\">      long totalTime = (entTime - startTime) / 1000000L;</span><br><span class=\"line\">      avgTime += totalTime;</span><br><span class=\"line\">      System.out.println(&quot;2500K entried added/retrieved in &quot; + totalTime + &quot; ms&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(&quot;For &quot; + crunchifyThreads.getClass() + &quot; the average time is &quot; + avgTime / 5 + &quot; ms\\n&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"线程不安全的原因\"><a href=\"#线程不安全的原因\" class=\"headerlink\" title=\"线程不安全的原因\"></a>线程不安全的原因</h2><ol><li>HashMap底层是一个Entry数组，一旦发生Hash冲突的的时候，HashMap采用拉链法解决碰撞冲突.</li><li>put方法也不是同步的</li><li>扩容的方法也不是同步的</li></ol><p>参考：<a href=\"https://www.cnblogs.com/qiumingcheng/p/5259892.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/qiumingcheng/p/5259892.html</a></p><h2 id=\"如何线程安全的使用\"><a href=\"#如何线程安全的使用\" class=\"headerlink\" title=\"如何线程安全的使用\"></a>如何线程安全的使用</h2>","more":"<ol><li>Hashtable</li><li>ConcurrentHashMap</li><li>SynchronizedMap</li></ol><p>####例子<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Hashtable</span><br><span class=\"line\">Map&lt;String, String&gt; hashtable = new Hashtable&lt;&gt;();</span><br><span class=\"line\">//synchronizedMap</span><br><span class=\"line\">Map&lt;String, String&gt; synchronizedHashMap = Collections.synchronizedMap(new HashMap&lt;String, String&gt;());</span><br><span class=\"line\">//ConcurrentHashMap</span><br><span class=\"line\">Map&lt;String, String&gt; concurrentHashMap = new ConcurrentHashMap&lt;&gt;();</span><br></pre></td></tr></table></figure><p></p><p>####性能对比<br>使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。</p><p>从数据可以看出，ConcurrentHashMap效率最高</p><p>代码如下<br><!--more--><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.collection.map;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.Collections;</span><br><span class=\"line\">import java.util.HashMap;</span><br><span class=\"line\">import java.util.Hashtable;</span><br><span class=\"line\">import java.util.Map;</span><br><span class=\"line\">import java.util.concurrent.ConcurrentHashMap;</span><br><span class=\"line\">import java.util.concurrent.ExecutorService;</span><br><span class=\"line\">import java.util.concurrent.Executors;</span><br><span class=\"line\">import java.util.concurrent.TimeUnit;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @author : yhx</span><br><span class=\"line\"> * @date : 2017/11/14 23:36</span><br><span class=\"line\"> * @descriptor : 测试不同的Map - 使用ExecutorService来并发运行5个线程，每个线程添加/获取500K个元素。</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class CrunchifyConcurrentHashMapVsSynchronizedMap &#123;</span><br><span class=\"line\">  private static final int THREAD_POOL_SIZE = 5;</span><br><span class=\"line\">  public static Map&lt;String, Integer&gt; crunchifyHashTableObject = null;</span><br><span class=\"line\">  public static Map&lt;String, Integer&gt; crunchifySynchronizedMapObject = null;</span><br><span class=\"line\">  public static Map&lt;String, Integer&gt; crunchifyConcurrentHashMapObject = null;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) throws InterruptedException &#123;</span><br><span class=\"line\">    // Test with Hashtable Object</span><br><span class=\"line\">    crunchifyHashTableObject = new Hashtable&lt;&gt;();</span><br><span class=\"line\">    crunchifyPerformTest(crunchifyHashTableObject);</span><br><span class=\"line\"></span><br><span class=\"line\">    // Test with synchronizedMap Object</span><br><span class=\"line\">    crunchifySynchronizedMapObject = Collections.synchronizedMap(new HashMap&lt;String, Integer&gt;());</span><br><span class=\"line\">    crunchifyPerformTest(crunchifySynchronizedMapObject);</span><br><span class=\"line\"></span><br><span class=\"line\">    // Test with ConcurrentHashMap Object</span><br><span class=\"line\">    crunchifyConcurrentHashMapObject = new ConcurrentHashMap&lt;&gt;();</span><br><span class=\"line\">    crunchifyPerformTest(crunchifyConcurrentHashMapObject);</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 测试结果</span><br><span class=\"line\">     Test start for:class java.util.Hashtable</span><br><span class=\"line\">     2500K entried added/retrieved in 2953 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 4649 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2736 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2628 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2621 ms</span><br><span class=\"line\">     For class java.util.Hashtable the average time is 3117 ms</span><br><span class=\"line\"></span><br><span class=\"line\">     Test start for:class java.util.Collections$SynchronizedMap</span><br><span class=\"line\">     2500K entried added/retrieved in 3036 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2881 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2692 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 3020 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 2806 ms</span><br><span class=\"line\">     For class java.util.Collections$SynchronizedMap the average time is 2887 ms</span><br><span class=\"line\"></span><br><span class=\"line\">     Test start for:class java.util.concurrent.ConcurrentHashMap</span><br><span class=\"line\">     2500K entried added/retrieved in 4378 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 1126 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 1008 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 935 ms</span><br><span class=\"line\">     2500K entried added/retrieved in 1069 ms</span><br><span class=\"line\">     For class java.util.concurrent.ConcurrentHashMap the average time is 1703 ms</span><br><span class=\"line\">     */</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private static void crunchifyPerformTest(Map&lt;String, Integer&gt; crunchifyThreads)</span><br><span class=\"line\">      throws InterruptedException &#123;</span><br><span class=\"line\">    System.out.println(&quot;Test start for:&quot; + crunchifyThreads.getClass());</span><br><span class=\"line\">    long avgTime = 0;</span><br><span class=\"line\">    for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class=\"line\">      long startTime = System.nanoTime();</span><br><span class=\"line\"></span><br><span class=\"line\">      ExecutorService executorService = Executors.newFixedThreadPool(THREAD_POOL_SIZE);</span><br><span class=\"line\">      for (int j = 0; j &lt; THREAD_POOL_SIZE; j++) &#123;</span><br><span class=\"line\">        executorService.execute(new Runnable() &#123;</span><br><span class=\"line\">          @Override</span><br><span class=\"line\">          public void run() &#123;</span><br><span class=\"line\">            for (int k = 0; k &lt; 500000; k++) &#123;</span><br><span class=\"line\">              Integer crunchifyRandomNumber = (int) Math.ceil(Math.random() * 550000);</span><br><span class=\"line\">              // Retrieve value. We are not using it anywhere</span><br><span class=\"line\">              Integer crunchifyValue = crunchifyThreads.get(String.valueOf(crunchifyRandomNumber));</span><br><span class=\"line\">              // Put value</span><br><span class=\"line\">              crunchifyThreads.put(String.valueOf(crunchifyRandomNumber), crunchifyRandomNumber);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // Make sure executor stops</span><br><span class=\"line\">      executorService.shutdown();</span><br><span class=\"line\">      // Blocks until all tasks have completed execution after a shutdown request</span><br><span class=\"line\">      executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);</span><br><span class=\"line\">      long entTime = System.nanoTime();</span><br><span class=\"line\">      long totalTime = (entTime - startTime) / 1000000L;</span><br><span class=\"line\">      avgTime += totalTime;</span><br><span class=\"line\">      System.out.println(&quot;2500K entried added/retrieved in &quot; + totalTime + &quot; ms&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(&quot;For &quot; + crunchifyThreads.getClass() + &quot; the average time is &quot; + avgTime / 5 + &quot; ms\\n&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"安全的重叠构造器 - 最佳实践：Build Pattern","keywords":["java"],"date":"2018-01-27T16:20:00.000Z","_content":"```\neffective java # 2\n```\nBuilder模式，不直接生成想要的对象，而是让客户端利用所有必要的参数调用构造器，\n\n得到一个builder对象。然后客户端在builder对象上调用类似于setter的方法，\n\n来设置每个相关可选的参数，最后调用无参的build来生成不可变的对象。\n\n完整代码+测试：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no2buildpatter\" target=\"_blank\">github:完整代码+测试</a>\n```\npublic class NutritionFacts {\n\n  private final int servingSize;\n  private final int servings;\n  private final int calories;\n  private final int fat;\n  private final int sodium;\n  private final int carbohydrate;\n\n  private NutritionFacts(Builder builder) {\n    servingSize = builder.servingSize;\n    servings = builder.servings;\n    calories = builder.calories;\n    fat = builder.fat;\n    sodium = builder.sodium;\n    carbohydrate = builder.carbohydrate;\n  }\n\n  public static class Builder {\n\n    // Required parameters\n    private final int servingSize;\n    private final int servings;\n\n    private int calories = 0;\n    private int fat = 0;\n    private int carbohydrate = 0;\n    private int sodium = 0;\n\n    public Builder(int servingSize, int servings) {\n      this.servingSize = servingSize;\n      this.servings = servings;\n    }\n\n    public Builder calories(int val) {\n      calories = val;\n      return this;\n    }\n\n    public Builder fat(int val) {\n      this.fat = val;\n      return this;\n    }\n\n    public Builder carbohydrate(int val) {\n      this.carbohydrate = val;\n      return this;\n    }\n\n    public Builder sodium(int val) {\n      this.sodium = val;\n      return this;\n    }\n\n    public NutritionFacts build() {\n      return new NutritionFacts(this);\n    }\n  }\n\n\n\n  @Override\n  public String toString() {\n    return \"NutritionFacts{\" +\n        \"servingSize=\" + servingSize +\n        \", servings=\" + servings +\n        \", calories=\" + calories +\n        \", fat=\" + fat +\n        \", sodium=\" + sodium +\n        \", carbohydrate=\" + carbohydrate +\n        '}';\n  }\n}\n```","source":"_posts/安全的重叠构造器 - 最佳实践：Build Pattern.md","raw":"---\ntitle: 安全的重叠构造器 - 最佳实践：Build Pattern\nkeywords: [java]\ndate: 2018/1/28 0:20\ntags: [java]\ncategories: java\n---\n```\neffective java # 2\n```\nBuilder模式，不直接生成想要的对象，而是让客户端利用所有必要的参数调用构造器，\n\n得到一个builder对象。然后客户端在builder对象上调用类似于setter的方法，\n\n来设置每个相关可选的参数，最后调用无参的build来生成不可变的对象。\n\n完整代码+测试：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no2buildpatter\" target=\"_blank\">github:完整代码+测试</a>\n```\npublic class NutritionFacts {\n\n  private final int servingSize;\n  private final int servings;\n  private final int calories;\n  private final int fat;\n  private final int sodium;\n  private final int carbohydrate;\n\n  private NutritionFacts(Builder builder) {\n    servingSize = builder.servingSize;\n    servings = builder.servings;\n    calories = builder.calories;\n    fat = builder.fat;\n    sodium = builder.sodium;\n    carbohydrate = builder.carbohydrate;\n  }\n\n  public static class Builder {\n\n    // Required parameters\n    private final int servingSize;\n    private final int servings;\n\n    private int calories = 0;\n    private int fat = 0;\n    private int carbohydrate = 0;\n    private int sodium = 0;\n\n    public Builder(int servingSize, int servings) {\n      this.servingSize = servingSize;\n      this.servings = servings;\n    }\n\n    public Builder calories(int val) {\n      calories = val;\n      return this;\n    }\n\n    public Builder fat(int val) {\n      this.fat = val;\n      return this;\n    }\n\n    public Builder carbohydrate(int val) {\n      this.carbohydrate = val;\n      return this;\n    }\n\n    public Builder sodium(int val) {\n      this.sodium = val;\n      return this;\n    }\n\n    public NutritionFacts build() {\n      return new NutritionFacts(this);\n    }\n  }\n\n\n\n  @Override\n  public String toString() {\n    return \"NutritionFacts{\" +\n        \"servingSize=\" + servingSize +\n        \", servings=\" + servings +\n        \", calories=\" + calories +\n        \", fat=\" + fat +\n        \", sodium=\" + sodium +\n        \", carbohydrate=\" + carbohydrate +\n        '}';\n  }\n}\n```","slug":"安全的重叠构造器 - 最佳实践：Build Pattern","published":1,"updated":"2018-01-27T16:28:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdty00c7olejygv5oxpn","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">effective java # 2</span><br></pre></td></tr></table></figure><p>Builder模式，不直接生成想要的对象，而是让客户端利用所有必要的参数调用构造器，</p><p>得到一个builder对象。然后客户端在builder对象上调用类似于setter的方法，</p><p>来设置每个相关可选的参数，最后调用无参的build来生成不可变的对象。</p><p>完整代码+测试：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no2buildpatter\" target=\"_blank\">github:完整代码+测试</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class NutritionFacts &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private final int servingSize;</span><br><span class=\"line\">  private final int servings;</span><br><span class=\"line\">  private final int calories;</span><br><span class=\"line\">  private final int fat;</span><br><span class=\"line\">  private final int sodium;</span><br><span class=\"line\">  private final int carbohydrate;</span><br><span class=\"line\"></span><br><span class=\"line\">  private NutritionFacts(Builder builder) &#123;</span><br><span class=\"line\">    servingSize = builder.servingSize;</span><br><span class=\"line\">    servings = builder.servings;</span><br><span class=\"line\">    calories = builder.calories;</span><br><span class=\"line\">    fat = builder.fat;</span><br><span class=\"line\">    sodium = builder.sodium;</span><br><span class=\"line\">    carbohydrate = builder.carbohydrate;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static class Builder &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    // Required parameters</span><br><span class=\"line\">    private final int servingSize;</span><br><span class=\"line\">    private final int servings;</span><br><span class=\"line\"></span><br><span class=\"line\">    private int calories = 0;</span><br><span class=\"line\">    private int fat = 0;</span><br><span class=\"line\">    private int carbohydrate = 0;</span><br><span class=\"line\">    private int sodium = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder(int servingSize, int servings) &#123;</span><br><span class=\"line\">      this.servingSize = servingSize;</span><br><span class=\"line\">      this.servings = servings;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder calories(int val) &#123;</span><br><span class=\"line\">      calories = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder fat(int val) &#123;</span><br><span class=\"line\">      this.fat = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder carbohydrate(int val) &#123;</span><br><span class=\"line\">      this.carbohydrate = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder sodium(int val) &#123;</span><br><span class=\"line\">      this.sodium = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public NutritionFacts build() &#123;</span><br><span class=\"line\">      return new NutritionFacts(this);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public String toString() &#123;</span><br><span class=\"line\">    return &quot;NutritionFacts&#123;&quot; +</span><br><span class=\"line\">        &quot;servingSize=&quot; + servingSize +</span><br><span class=\"line\">        &quot;, servings=&quot; + servings +</span><br><span class=\"line\">        &quot;, calories=&quot; + calories +</span><br><span class=\"line\">        &quot;, fat=&quot; + fat +</span><br><span class=\"line\">        &quot;, sodium=&quot; + sodium +</span><br><span class=\"line\">        &quot;, carbohydrate=&quot; + carbohydrate +</span><br><span class=\"line\">        &apos;&#125;&apos;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">effective java # 2</span><br></pre></td></tr></table></figure><p>Builder模式，不直接生成想要的对象，而是让客户端利用所有必要的参数调用构造器，</p><p>得到一个builder对象。然后客户端在builder对象上调用类似于setter的方法，</p><p>来设置每个相关可选的参数，最后调用无参的build来生成不可变的对象。</p><p>完整代码+测试：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no2buildpatter\" target=\"_blank\">github:完整代码+测试</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class NutritionFacts &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private final int servingSize;</span><br><span class=\"line\">  private final int servings;</span><br><span class=\"line\">  private final int calories;</span><br><span class=\"line\">  private final int fat;</span><br><span class=\"line\">  private final int sodium;</span><br><span class=\"line\">  private final int carbohydrate;</span><br><span class=\"line\"></span><br><span class=\"line\">  private NutritionFacts(Builder builder) &#123;</span><br><span class=\"line\">    servingSize = builder.servingSize;</span><br><span class=\"line\">    servings = builder.servings;</span><br><span class=\"line\">    calories = builder.calories;</span><br><span class=\"line\">    fat = builder.fat;</span><br><span class=\"line\">    sodium = builder.sodium;</span><br><span class=\"line\">    carbohydrate = builder.carbohydrate;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static class Builder &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    // Required parameters</span><br><span class=\"line\">    private final int servingSize;</span><br><span class=\"line\">    private final int servings;</span><br><span class=\"line\"></span><br><span class=\"line\">    private int calories = 0;</span><br><span class=\"line\">    private int fat = 0;</span><br><span class=\"line\">    private int carbohydrate = 0;</span><br><span class=\"line\">    private int sodium = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder(int servingSize, int servings) &#123;</span><br><span class=\"line\">      this.servingSize = servingSize;</span><br><span class=\"line\">      this.servings = servings;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder calories(int val) &#123;</span><br><span class=\"line\">      calories = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder fat(int val) &#123;</span><br><span class=\"line\">      this.fat = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder carbohydrate(int val) &#123;</span><br><span class=\"line\">      this.carbohydrate = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public Builder sodium(int val) &#123;</span><br><span class=\"line\">      this.sodium = val;</span><br><span class=\"line\">      return this;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public NutritionFacts build() &#123;</span><br><span class=\"line\">      return new NutritionFacts(this);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  public String toString() &#123;</span><br><span class=\"line\">    return &quot;NutritionFacts&#123;&quot; +</span><br><span class=\"line\">        &quot;servingSize=&quot; + servingSize +</span><br><span class=\"line\">        &quot;, servings=&quot; + servings +</span><br><span class=\"line\">        &quot;, calories=&quot; + calories +</span><br><span class=\"line\">        &quot;, fat=&quot; + fat +</span><br><span class=\"line\">        &quot;, sodium=&quot; + sodium +</span><br><span class=\"line\">        &quot;, carbohydrate=&quot; + carbohydrate +</span><br><span class=\"line\">        &apos;&#125;&apos;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java实现Singleton最佳方法 - Enum","keywords":["java","singleton","enum"],"date":"2018-01-27T15:42:00.000Z","_content":"effective java：\n```\n单元素的枚举类型已经成为实现Singleton的最佳方法\n```\n理由：\n1. 因为枚举单例有序列化和线程安全的保证\n2. 避免反射和并发困扰\n\n单例模式模式：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no3enumsingleton\" target=\"_blank\">完整代码+测试</a>\n主要代码：\n```\npublic class EnumSingleton {\n\n  private EnumSingleton() {\n  }\n\n  public static EnumSingleton getInstance() {\n    return Singleton.INSTANCE.getInstance();\n  }\n\n  private enum Singleton {\n    INSTANCE;\n    private EnumSingleton singleton;\n\n    Singleton() {\n      singleton = new EnumSingleton();\n    }\n\n    public EnumSingleton getInstance() {\n      return singleton;\n    }\n  }\n}\n```\n","source":"_posts/实现Singleton最佳方法 - Enum.md","raw":"---\ntitle: Java实现Singleton最佳方法 - Enum\nkeywords: [java,singleton,enum]\ndate: 2018/1/27 23:42\ntags: [java]\ncategories: java\n---\neffective java：\n```\n单元素的枚举类型已经成为实现Singleton的最佳方法\n```\n理由：\n1. 因为枚举单例有序列化和线程安全的保证\n2. 避免反射和并发困扰\n\n单例模式模式：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no3enumsingleton\" target=\"_blank\">完整代码+测试</a>\n主要代码：\n```\npublic class EnumSingleton {\n\n  private EnumSingleton() {\n  }\n\n  public static EnumSingleton getInstance() {\n    return Singleton.INSTANCE.getInstance();\n  }\n\n  private enum Singleton {\n    INSTANCE;\n    private EnumSingleton singleton;\n\n    Singleton() {\n      singleton = new EnumSingleton();\n    }\n\n    public EnumSingleton getInstance() {\n      return singleton;\n    }\n  }\n}\n```\n","slug":"实现Singleton最佳方法 - Enum","published":1,"updated":"2018-01-27T15:50:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdtz00cbolejdsf6pv0l","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>effective java：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">单元素的枚举类型已经成为实现Singleton的最佳方法</span><br></pre></td></tr></table></figure><p></p><p>理由：</p><ol><li>因为枚举单例有序列化和线程安全的保证</li><li>避免反射和并发困扰</li></ol><p>单例模式模式：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no3enumsingleton\" target=\"_blank\">完整代码+测试</a><br>主要代码：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class EnumSingleton &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private EnumSingleton() &#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static EnumSingleton getInstance() &#123;</span><br><span class=\"line\">    return Singleton.INSTANCE.getInstance();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private enum Singleton &#123;</span><br><span class=\"line\">    INSTANCE;</span><br><span class=\"line\">    private EnumSingleton singleton;</span><br><span class=\"line\"></span><br><span class=\"line\">    Singleton() &#123;</span><br><span class=\"line\">      singleton = new EnumSingleton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public EnumSingleton getInstance() &#123;</span><br><span class=\"line\">      return singleton;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>effective java：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">单元素的枚举类型已经成为实现Singleton的最佳方法</span><br></pre></td></tr></table></figure><p></p><p>理由：</p><ol><li>因为枚举单例有序列化和线程安全的保证</li><li>避免反射和并发困扰</li></ol><p>单例模式模式：<a href=\"https://github.com/hisenyuan/IDEAPractice/tree/master/src/main/java/com/hisen/interview/effective/no3enumsingleton\" target=\"_blank\">完整代码+测试</a><br>主要代码：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class EnumSingleton &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  private EnumSingleton() &#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static EnumSingleton getInstance() &#123;</span><br><span class=\"line\">    return Singleton.INSTANCE.getInstance();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private enum Singleton &#123;</span><br><span class=\"line\">    INSTANCE;</span><br><span class=\"line\">    private EnumSingleton singleton;</span><br><span class=\"line\"></span><br><span class=\"line\">    Singleton() &#123;</span><br><span class=\"line\">      singleton = new EnumSingleton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public EnumSingleton getInstance() &#123;</span><br><span class=\"line\">      return singleton;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"尝试使用NIO读取文件","keywords":["nio","java","文件读取"],"date":"2017-06-01T06:45:00.000Z","_content":"\n具体代码如下，这里获取出来的文件大小是准确的\n\nFileInputStream方式获取出来的大小会有差异\n\nNIO与IO的对比详见：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/9b237de2874042b896c134a911c5965b46c4ce25/src/main/java/com/hisen/nio/copyFile/NIOCopy.java\" target=\"_blank\">NIOCopy.java</a>\n```\n/**\n   * 利用NIO进行读写文件\n   *\n   * @param oldFileName 原文件的路径\n   * @param newFileName 新文件的路径\n   */\n  public static void nioCopy(String oldFileName, String newFileName) {\n    try {\n      FileChannel fileChannelIn = new FileInputStream(new File(oldFileName)).getChannel();\n      FileChannel fileChannelOut = new FileOutputStream(new File(newFileName)).getChannel();\n      //获取文件大小\n      long size = fileChannelIn.size();\n      System.out.printf(\"文件大小为：%s byte \\n\",size);\n      //缓冲\n      ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n\n      long start = System.currentTimeMillis();\n      while (fileChannelIn.read(byteBuffer) != -1) {\n        //准备写\n        byteBuffer.flip();\n        fileChannelOut.write(byteBuffer);\n        //准备读\n        byteBuffer.clear();\n      }\n      long end = System.currentTimeMillis();\n      System.out.printf(\"NIO方式复制完成，耗时 %s 秒\\n\",(end-start)/1000);\n      //关闭\n      fileChannelIn.close();\n      fileChannelOut.close();\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n```","source":"_posts/尝试使用NIO读取文件.md","raw":"---\ntitle: 尝试使用NIO读取文件\nkeywords: [nio,java,文件读取]\ndate: 2017/6/1 14:45\ntags: [java]\ncategories: java\n---\n\n具体代码如下，这里获取出来的文件大小是准确的\n\nFileInputStream方式获取出来的大小会有差异\n\nNIO与IO的对比详见：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/9b237de2874042b896c134a911c5965b46c4ce25/src/main/java/com/hisen/nio/copyFile/NIOCopy.java\" target=\"_blank\">NIOCopy.java</a>\n```\n/**\n   * 利用NIO进行读写文件\n   *\n   * @param oldFileName 原文件的路径\n   * @param newFileName 新文件的路径\n   */\n  public static void nioCopy(String oldFileName, String newFileName) {\n    try {\n      FileChannel fileChannelIn = new FileInputStream(new File(oldFileName)).getChannel();\n      FileChannel fileChannelOut = new FileOutputStream(new File(newFileName)).getChannel();\n      //获取文件大小\n      long size = fileChannelIn.size();\n      System.out.printf(\"文件大小为：%s byte \\n\",size);\n      //缓冲\n      ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n\n      long start = System.currentTimeMillis();\n      while (fileChannelIn.read(byteBuffer) != -1) {\n        //准备写\n        byteBuffer.flip();\n        fileChannelOut.write(byteBuffer);\n        //准备读\n        byteBuffer.clear();\n      }\n      long end = System.currentTimeMillis();\n      System.out.printf(\"NIO方式复制完成，耗时 %s 秒\\n\",(end-start)/1000);\n      //关闭\n      fileChannelIn.close();\n      fileChannelOut.close();\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n```","slug":"尝试使用NIO读取文件","published":1,"updated":"2017-06-01T06:50:14.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu000ceolej49jazm52","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>具体代码如下，这里获取出来的文件大小是准确的</p><p>FileInputStream方式获取出来的大小会有差异</p><p>NIO与IO的对比详见：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/9b237de2874042b896c134a911c5965b46c4ce25/src/main/java/com/hisen/nio/copyFile/NIOCopy.java\" target=\"_blank\">NIOCopy.java</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">   * 利用NIO进行读写文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param oldFileName 原文件的路径</span><br><span class=\"line\">   * @param newFileName 新文件的路径</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public static void nioCopy(String oldFileName, String newFileName) &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      FileChannel fileChannelIn = new FileInputStream(new File(oldFileName)).getChannel();</span><br><span class=\"line\">      FileChannel fileChannelOut = new FileOutputStream(new File(newFileName)).getChannel();</span><br><span class=\"line\">      //获取文件大小</span><br><span class=\"line\">      long size = fileChannelIn.size();</span><br><span class=\"line\">      System.out.printf(&quot;文件大小为：%s byte \\n&quot;,size);</span><br><span class=\"line\">      //缓冲</span><br><span class=\"line\">      ByteBuffer byteBuffer = ByteBuffer.allocate(1024);</span><br><span class=\"line\"></span><br><span class=\"line\">      long start = System.currentTimeMillis();</span><br><span class=\"line\">      while (fileChannelIn.read(byteBuffer) != -1) &#123;</span><br><span class=\"line\">        //准备写</span><br><span class=\"line\">        byteBuffer.flip();</span><br><span class=\"line\">        fileChannelOut.write(byteBuffer);</span><br><span class=\"line\">        //准备读</span><br><span class=\"line\">        byteBuffer.clear();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      long end = System.currentTimeMillis();</span><br><span class=\"line\">      System.out.printf(&quot;NIO方式复制完成，耗时 %s 秒\\n&quot;,(end-start)/1000);</span><br><span class=\"line\">      //关闭</span><br><span class=\"line\">      fileChannelIn.close();</span><br><span class=\"line\">      fileChannelOut.close();</span><br><span class=\"line\">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>具体代码如下，这里获取出来的文件大小是准确的</p><p>FileInputStream方式获取出来的大小会有差异</p><p>NIO与IO的对比详见：<a href=\"https://github.com/hisen-yuan/IDEAPractice/blob/9b237de2874042b896c134a911c5965b46c4ce25/src/main/java/com/hisen/nio/copyFile/NIOCopy.java\" target=\"_blank\">NIOCopy.java</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">   * 利用NIO进行读写文件</span><br><span class=\"line\">   *</span><br><span class=\"line\">   * @param oldFileName 原文件的路径</span><br><span class=\"line\">   * @param newFileName 新文件的路径</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public static void nioCopy(String oldFileName, String newFileName) &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      FileChannel fileChannelIn = new FileInputStream(new File(oldFileName)).getChannel();</span><br><span class=\"line\">      FileChannel fileChannelOut = new FileOutputStream(new File(newFileName)).getChannel();</span><br><span class=\"line\">      //获取文件大小</span><br><span class=\"line\">      long size = fileChannelIn.size();</span><br><span class=\"line\">      System.out.printf(&quot;文件大小为：%s byte \\n&quot;,size);</span><br><span class=\"line\">      //缓冲</span><br><span class=\"line\">      ByteBuffer byteBuffer = ByteBuffer.allocate(1024);</span><br><span class=\"line\"></span><br><span class=\"line\">      long start = System.currentTimeMillis();</span><br><span class=\"line\">      while (fileChannelIn.read(byteBuffer) != -1) &#123;</span><br><span class=\"line\">        //准备写</span><br><span class=\"line\">        byteBuffer.flip();</span><br><span class=\"line\">        fileChannelOut.write(byteBuffer);</span><br><span class=\"line\">        //准备读</span><br><span class=\"line\">        byteBuffer.clear();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      long end = System.currentTimeMillis();</span><br><span class=\"line\">      System.out.printf(&quot;NIO方式复制完成，耗时 %s 秒\\n&quot;,(end-start)/1000);</span><br><span class=\"line\">      //关闭</span><br><span class=\"line\">      fileChannelIn.close();</span><br><span class=\"line\">      fileChannelOut.close();</span><br><span class=\"line\">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; catch (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"布隆过滤器 丨 简介 - Java demo","keywords":["布隆过滤器","java布隆过滤器"],"date":"2017-09-07T02:48:00.000Z","_content":"## 概述\n布隆过滤器的作用是加快判定一个元素是否在集合中出现的方法。\n\n因为其主要是过滤掉了大部分元素间的精确匹配，故称为过滤器。\n\n---\n\n其应用场景为需要频繁在一个海量的集合中查找某个元素是否存在。\n\n并且通常，这个值不在集合中。\n\n比如Google chrome用此方法检查一个url是否在恶意url库中。\n\n## 简单的例子\n假设有一些字符串，假设有一个字符串a，要在集合B中查找其是否在集合B中。最笨的方法是遍历集合B中的每个元素bi，精确匹配a是否等于bi。若集合B中有N个元素，则最坏情况下需要执行N次精确匹配。\n\n一个改进的方法是将a和B中每个字符串按照特定规则映射为数字，称为hash值。规则可以任意设置。比如取各字符串的首字母和尾字母的编码之乘积，取奇数个字符的编码执行异或，等。将比较字符串问题变成一个比较数字的问题。比较字符串需要从头到尾比较，而数字的比较会快很多。\n\n需要注意的是，当两个字符串相同时，采用相同的映射规则得到的数字一定相同。但当两个字符串不同时，得到的字符串不一定不同。所以，当我们发现两个字符串的hash值相同时，两个字符串不一定相同，所以需要进一步去精确匹配两个字符串是否相同。但采用hash值方法已经能够过滤掉一部分以前需要精确匹配的计算量。仅当hash值相同（假设hash值通过字符串首尾字母计算得来，则当两个字符串首尾字母相同时hash值相同）时才去比较字符串本身。若选择hash值合理，则性能将大幅提高。\n\n布隆过滤器通过将一个字符串使用多个不同的hash值计算方法，映射为多个不同的hash值，当所有这些hash值完全相同时，才认为两个字符串相同。从而进一步降低了放生hash值相同的可能性，从而进一步提高了过滤的性能。\n## Java代码实现\n算法使用了md5值来生成n个不同的hash值\n<!--more-->\n```\npackage com.hisen.interview;\n\nimport java.math.BigInteger;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.ArrayList;\n\n/**\n * 布隆过滤器 - 测试某个元素不存在集合中\n * Created by hisenyuan on 2017/9/7 at 8:50.\n */\npublic class BloomFilter {\n  public static final int NUM_SLOTS = 1024 * 1024 * 8;\n  public static final int NUM_HASH = 8;\n  private BigInteger bitmap = new BigInteger(\"0\");\n\n  public static void main(String[] args) {\n    BloomFilter bf = new BloomFilter();\n    ArrayList<String> contents = new ArrayList<>();\n    contents.add(\"sldkjelsjf\");\n    contents.add(\"ggl;ker;gekr\");\n    contents.add(\"wieoneomfwe\");\n    contents.add(\"sldkjelsvrnlkjf\");\n    contents.add(\"ksldkflefwefwefe\");\n    for (int i = 0; i < contents.size(); i++) {\n      bf.adElement(contents.get(i));\n    }\n    System.out.println(bf.check(\"sldkjelsvrnlkjf\"));\n    System.out.println(bf.check(\"sldkjelsvrnkjf\"));\n  }\n  private void adElement(String message) {\n    for (int i = 0; i < NUM_HASH; i++) {\n      int hashCode = getHash(message, i);\n      if (!bitmap.testBit(hashCode)) {\n        bitmap = bitmap.or(new BigInteger(\"1\").shiftLeft(hashCode));\n      }\n    }\n  }\n  private boolean check(String message) {\n    for (int i = 0; i < NUM_HASH; i++) {\n      int hashCode = getHash(message,i);\n      if (this.bitmap.testBit(hashCode)){\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private int getHash(String message, int i) {\n    try {\n      MessageDigest md5 = MessageDigest.getInstance(\"md5\");\n      message = message + String.valueOf(i);\n      byte[] bytes = message.getBytes();\n      md5.update(bytes);\n      BigInteger bi = new BigInteger(md5.digest());\n      return Math.abs(bi.intValue()) % NUM_SLOTS;\n    } catch (NoSuchAlgorithmException e) {\n      e.printStackTrace();\n    }\n    return -1;\n  }\n}\n```","source":"_posts/布隆过滤器 丨 简介 - Java demo.md","raw":"---\ntitle: 布隆过滤器 丨 简介 - Java demo\nkeywords: [布隆过滤器,java布隆过滤器]\ndate: 2017/9/7 10:48\ntags: [算法]\ncategories: java\n---\n## 概述\n布隆过滤器的作用是加快判定一个元素是否在集合中出现的方法。\n\n因为其主要是过滤掉了大部分元素间的精确匹配，故称为过滤器。\n\n---\n\n其应用场景为需要频繁在一个海量的集合中查找某个元素是否存在。\n\n并且通常，这个值不在集合中。\n\n比如Google chrome用此方法检查一个url是否在恶意url库中。\n\n## 简单的例子\n假设有一些字符串，假设有一个字符串a，要在集合B中查找其是否在集合B中。最笨的方法是遍历集合B中的每个元素bi，精确匹配a是否等于bi。若集合B中有N个元素，则最坏情况下需要执行N次精确匹配。\n\n一个改进的方法是将a和B中每个字符串按照特定规则映射为数字，称为hash值。规则可以任意设置。比如取各字符串的首字母和尾字母的编码之乘积，取奇数个字符的编码执行异或，等。将比较字符串问题变成一个比较数字的问题。比较字符串需要从头到尾比较，而数字的比较会快很多。\n\n需要注意的是，当两个字符串相同时，采用相同的映射规则得到的数字一定相同。但当两个字符串不同时，得到的字符串不一定不同。所以，当我们发现两个字符串的hash值相同时，两个字符串不一定相同，所以需要进一步去精确匹配两个字符串是否相同。但采用hash值方法已经能够过滤掉一部分以前需要精确匹配的计算量。仅当hash值相同（假设hash值通过字符串首尾字母计算得来，则当两个字符串首尾字母相同时hash值相同）时才去比较字符串本身。若选择hash值合理，则性能将大幅提高。\n\n布隆过滤器通过将一个字符串使用多个不同的hash值计算方法，映射为多个不同的hash值，当所有这些hash值完全相同时，才认为两个字符串相同。从而进一步降低了放生hash值相同的可能性，从而进一步提高了过滤的性能。\n## Java代码实现\n算法使用了md5值来生成n个不同的hash值\n<!--more-->\n```\npackage com.hisen.interview;\n\nimport java.math.BigInteger;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.ArrayList;\n\n/**\n * 布隆过滤器 - 测试某个元素不存在集合中\n * Created by hisenyuan on 2017/9/7 at 8:50.\n */\npublic class BloomFilter {\n  public static final int NUM_SLOTS = 1024 * 1024 * 8;\n  public static final int NUM_HASH = 8;\n  private BigInteger bitmap = new BigInteger(\"0\");\n\n  public static void main(String[] args) {\n    BloomFilter bf = new BloomFilter();\n    ArrayList<String> contents = new ArrayList<>();\n    contents.add(\"sldkjelsjf\");\n    contents.add(\"ggl;ker;gekr\");\n    contents.add(\"wieoneomfwe\");\n    contents.add(\"sldkjelsvrnlkjf\");\n    contents.add(\"ksldkflefwefwefe\");\n    for (int i = 0; i < contents.size(); i++) {\n      bf.adElement(contents.get(i));\n    }\n    System.out.println(bf.check(\"sldkjelsvrnlkjf\"));\n    System.out.println(bf.check(\"sldkjelsvrnkjf\"));\n  }\n  private void adElement(String message) {\n    for (int i = 0; i < NUM_HASH; i++) {\n      int hashCode = getHash(message, i);\n      if (!bitmap.testBit(hashCode)) {\n        bitmap = bitmap.or(new BigInteger(\"1\").shiftLeft(hashCode));\n      }\n    }\n  }\n  private boolean check(String message) {\n    for (int i = 0; i < NUM_HASH; i++) {\n      int hashCode = getHash(message,i);\n      if (this.bitmap.testBit(hashCode)){\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private int getHash(String message, int i) {\n    try {\n      MessageDigest md5 = MessageDigest.getInstance(\"md5\");\n      message = message + String.valueOf(i);\n      byte[] bytes = message.getBytes();\n      md5.update(bytes);\n      BigInteger bi = new BigInteger(md5.digest());\n      return Math.abs(bi.intValue()) % NUM_SLOTS;\n    } catch (NoSuchAlgorithmException e) {\n      e.printStackTrace();\n    }\n    return -1;\n  }\n}\n```","slug":"布隆过滤器 丨 简介 - Java demo","published":1,"updated":"2017-09-07T03:09:44.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu100ciolej2up17iv7","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>布隆过滤器的作用是加快判定一个元素是否在集合中出现的方法。</p><p>因为其主要是过滤掉了大部分元素间的精确匹配，故称为过滤器。</p><hr><p>其应用场景为需要频繁在一个海量的集合中查找某个元素是否存在。</p><p>并且通常，这个值不在集合中。</p><p>比如Google chrome用此方法检查一个url是否在恶意url库中。</p><h2 id=\"简单的例子\"><a href=\"#简单的例子\" class=\"headerlink\" title=\"简单的例子\"></a>简单的例子</h2><p>假设有一些字符串，假设有一个字符串a，要在集合B中查找其是否在集合B中。最笨的方法是遍历集合B中的每个元素bi，精确匹配a是否等于bi。若集合B中有N个元素，则最坏情况下需要执行N次精确匹配。</p><p>一个改进的方法是将a和B中每个字符串按照特定规则映射为数字，称为hash值。规则可以任意设置。比如取各字符串的首字母和尾字母的编码之乘积，取奇数个字符的编码执行异或，等。将比较字符串问题变成一个比较数字的问题。比较字符串需要从头到尾比较，而数字的比较会快很多。</p><p>需要注意的是，当两个字符串相同时，采用相同的映射规则得到的数字一定相同。但当两个字符串不同时，得到的字符串不一定不同。所以，当我们发现两个字符串的hash值相同时，两个字符串不一定相同，所以需要进一步去精确匹配两个字符串是否相同。但采用hash值方法已经能够过滤掉一部分以前需要精确匹配的计算量。仅当hash值相同（假设hash值通过字符串首尾字母计算得来，则当两个字符串首尾字母相同时hash值相同）时才去比较字符串本身。若选择hash值合理，则性能将大幅提高。</p><p>布隆过滤器通过将一个字符串使用多个不同的hash值计算方法，映射为多个不同的hash值，当所有这些hash值完全相同时，才认为两个字符串相同。从而进一步降低了放生hash值相同的可能性，从而进一步提高了过滤的性能。</p><h2 id=\"Java代码实现\"><a href=\"#Java代码实现\" class=\"headerlink\" title=\"Java代码实现\"></a>Java代码实现</h2><p>算法使用了md5值来生成n个不同的hash值<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.math.BigInteger;</span><br><span class=\"line\">import java.security.MessageDigest;</span><br><span class=\"line\">import java.security.NoSuchAlgorithmException;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 布隆过滤器 - 测试某个元素不存在集合中</span><br><span class=\"line\"> * Created by hisenyuan on 2017/9/7 at 8:50.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class BloomFilter &#123;</span><br><span class=\"line\">  public static final int NUM_SLOTS = 1024 * 1024 * 8;</span><br><span class=\"line\">  public static final int NUM_HASH = 8;</span><br><span class=\"line\">  private BigInteger bitmap = new BigInteger(&quot;0&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    BloomFilter bf = new BloomFilter();</span><br><span class=\"line\">    ArrayList&lt;String&gt; contents = new ArrayList&lt;&gt;();</span><br><span class=\"line\">    contents.add(&quot;sldkjelsjf&quot;);</span><br><span class=\"line\">    contents.add(&quot;ggl;ker;gekr&quot;);</span><br><span class=\"line\">    contents.add(&quot;wieoneomfwe&quot;);</span><br><span class=\"line\">    contents.add(&quot;sldkjelsvrnlkjf&quot;);</span><br><span class=\"line\">    contents.add(&quot;ksldkflefwefwefe&quot;);</span><br><span class=\"line\">    for (int i = 0; i &lt; contents.size(); i++) &#123;</span><br><span class=\"line\">      bf.adElement(contents.get(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(bf.check(&quot;sldkjelsvrnlkjf&quot;));</span><br><span class=\"line\">    System.out.println(bf.check(&quot;sldkjelsvrnkjf&quot;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  private void adElement(String message) &#123;</span><br><span class=\"line\">    for (int i = 0; i &lt; NUM_HASH; i++) &#123;</span><br><span class=\"line\">      int hashCode = getHash(message, i);</span><br><span class=\"line\">      if (!bitmap.testBit(hashCode)) &#123;</span><br><span class=\"line\">        bitmap = bitmap.or(new BigInteger(&quot;1&quot;).shiftLeft(hashCode));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  private boolean check(String message) &#123;</span><br><span class=\"line\">    for (int i = 0; i &lt; NUM_HASH; i++) &#123;</span><br><span class=\"line\">      int hashCode = getHash(message,i);</span><br><span class=\"line\">      if (this.bitmap.testBit(hashCode))&#123;</span><br><span class=\"line\">        return false;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private int getHash(String message, int i) &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      MessageDigest md5 = MessageDigest.getInstance(&quot;md5&quot;);</span><br><span class=\"line\">      message = message + String.valueOf(i);</span><br><span class=\"line\">      byte[] bytes = message.getBytes();</span><br><span class=\"line\">      md5.update(bytes);</span><br><span class=\"line\">      BigInteger bi = new BigInteger(md5.digest());</span><br><span class=\"line\">      return Math.abs(bi.intValue()) % NUM_SLOTS;</span><br><span class=\"line\">    &#125; catch (NoSuchAlgorithmException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return -1;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>布隆过滤器的作用是加快判定一个元素是否在集合中出现的方法。</p><p>因为其主要是过滤掉了大部分元素间的精确匹配，故称为过滤器。</p><hr><p>其应用场景为需要频繁在一个海量的集合中查找某个元素是否存在。</p><p>并且通常，这个值不在集合中。</p><p>比如Google chrome用此方法检查一个url是否在恶意url库中。</p><h2 id=\"简单的例子\"><a href=\"#简单的例子\" class=\"headerlink\" title=\"简单的例子\"></a>简单的例子</h2><p>假设有一些字符串，假设有一个字符串a，要在集合B中查找其是否在集合B中。最笨的方法是遍历集合B中的每个元素bi，精确匹配a是否等于bi。若集合B中有N个元素，则最坏情况下需要执行N次精确匹配。</p><p>一个改进的方法是将a和B中每个字符串按照特定规则映射为数字，称为hash值。规则可以任意设置。比如取各字符串的首字母和尾字母的编码之乘积，取奇数个字符的编码执行异或，等。将比较字符串问题变成一个比较数字的问题。比较字符串需要从头到尾比较，而数字的比较会快很多。</p><p>需要注意的是，当两个字符串相同时，采用相同的映射规则得到的数字一定相同。但当两个字符串不同时，得到的字符串不一定不同。所以，当我们发现两个字符串的hash值相同时，两个字符串不一定相同，所以需要进一步去精确匹配两个字符串是否相同。但采用hash值方法已经能够过滤掉一部分以前需要精确匹配的计算量。仅当hash值相同（假设hash值通过字符串首尾字母计算得来，则当两个字符串首尾字母相同时hash值相同）时才去比较字符串本身。若选择hash值合理，则性能将大幅提高。</p><p>布隆过滤器通过将一个字符串使用多个不同的hash值计算方法，映射为多个不同的hash值，当所有这些hash值完全相同时，才认为两个字符串相同。从而进一步降低了放生hash值相同的可能性，从而进一步提高了过滤的性能。</p><h2 id=\"Java代码实现\"><a href=\"#Java代码实现\" class=\"headerlink\" title=\"Java代码实现\"></a>Java代码实现</h2><p>算法使用了md5值来生成n个不同的hash值<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.interview;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.math.BigInteger;</span><br><span class=\"line\">import java.security.MessageDigest;</span><br><span class=\"line\">import java.security.NoSuchAlgorithmException;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 布隆过滤器 - 测试某个元素不存在集合中</span><br><span class=\"line\"> * Created by hisenyuan on 2017/9/7 at 8:50.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class BloomFilter &#123;</span><br><span class=\"line\">  public static final int NUM_SLOTS = 1024 * 1024 * 8;</span><br><span class=\"line\">  public static final int NUM_HASH = 8;</span><br><span class=\"line\">  private BigInteger bitmap = new BigInteger(&quot;0&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    BloomFilter bf = new BloomFilter();</span><br><span class=\"line\">    ArrayList&lt;String&gt; contents = new ArrayList&lt;&gt;();</span><br><span class=\"line\">    contents.add(&quot;sldkjelsjf&quot;);</span><br><span class=\"line\">    contents.add(&quot;ggl;ker;gekr&quot;);</span><br><span class=\"line\">    contents.add(&quot;wieoneomfwe&quot;);</span><br><span class=\"line\">    contents.add(&quot;sldkjelsvrnlkjf&quot;);</span><br><span class=\"line\">    contents.add(&quot;ksldkflefwefwefe&quot;);</span><br><span class=\"line\">    for (int i = 0; i &lt; contents.size(); i++) &#123;</span><br><span class=\"line\">      bf.adElement(contents.get(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(bf.check(&quot;sldkjelsvrnlkjf&quot;));</span><br><span class=\"line\">    System.out.println(bf.check(&quot;sldkjelsvrnkjf&quot;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  private void adElement(String message) &#123;</span><br><span class=\"line\">    for (int i = 0; i &lt; NUM_HASH; i++) &#123;</span><br><span class=\"line\">      int hashCode = getHash(message, i);</span><br><span class=\"line\">      if (!bitmap.testBit(hashCode)) &#123;</span><br><span class=\"line\">        bitmap = bitmap.or(new BigInteger(&quot;1&quot;).shiftLeft(hashCode));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  private boolean check(String message) &#123;</span><br><span class=\"line\">    for (int i = 0; i &lt; NUM_HASH; i++) &#123;</span><br><span class=\"line\">      int hashCode = getHash(message,i);</span><br><span class=\"line\">      if (this.bitmap.testBit(hashCode))&#123;</span><br><span class=\"line\">        return false;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  private int getHash(String message, int i) &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      MessageDigest md5 = MessageDigest.getInstance(&quot;md5&quot;);</span><br><span class=\"line\">      message = message + String.valueOf(i);</span><br><span class=\"line\">      byte[] bytes = message.getBytes();</span><br><span class=\"line\">      md5.update(bytes);</span><br><span class=\"line\">      BigInteger bi = new BigInteger(md5.digest());</span><br><span class=\"line\">      return Math.abs(bi.intValue()) % NUM_SLOTS;</span><br><span class=\"line\">    &#125; catch (NoSuchAlgorithmException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return -1;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"手机平板电脑原样显示html效果 - html知识","date":"2017-02-08T13:15:36.000Z","_content":"有时候可能你会发现\n在电脑上显示300x300大小的东西看起来很正常\n但是用手机去访问的话，就出现等比例缩小了\n但是300x300的大小完全不用缩小\n直接等大不是更好？\n\n在head加上这两行代码，可以做到原样输出\n```\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n```","source":"_posts/手机平板电脑原样显示html效果-html知识.md","raw":"---\ntitle: 手机平板电脑原样显示html效果 - html知识\ndate: 2017-02-08 21:15:36\ntags: [html]\n---\n有时候可能你会发现\n在电脑上显示300x300大小的东西看起来很正常\n但是用手机去访问的话，就出现等比例缩小了\n但是300x300的大小完全不用缩小\n直接等大不是更好？\n\n在head加上这两行代码，可以做到原样输出\n```\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n```","slug":"手机平板电脑原样显示html效果-html知识","published":1,"updated":"2017-02-08T13:16:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu200clolejqydcy3mq","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候可能你会发现<br>在电脑上显示300x300大小的东西看起来很正常<br>但是用手机去访问的话，就出现等比例缩小了<br>但是300x300的大小完全不用缩小<br>直接等大不是更好？</p><p>在head加上这两行代码，可以做到原样输出<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge,chrome=1&quot;&gt;</span><br><span class=\"line\">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>有时候可能你会发现<br>在电脑上显示300x300大小的东西看起来很正常<br>但是用手机去访问的话，就出现等比例缩小了<br>但是300x300的大小完全不用缩小<br>直接等大不是更好？</p><p>在head加上这两行代码，可以做到原样输出<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge,chrome=1&quot;&gt;</span><br><span class=\"line\">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"常见算法：Java求最小公倍数和最大公约数三种算法","keywords":["算法","Java","java求最大公约最小公倍数"],"date":"2017-10-21T03:23:00.000Z","_content":"最小公倍数：\n数论中的一种概念，两个整数公有的倍数成为他们的公倍数\n\n其中一个最小的公倍数是他们的最小公倍数\n\n同样地，若干个整数公有的倍数中最小的正整数称为它们的最小公倍数\n\n---\n\n求最小公倍数算法：\n\n最小公倍数=两整数的乘积÷最大公约数\n\n---\n\n求最大公约数算法：\n### (1) 辗转相除法\n有两整数a和b：\n1. a%b得余数c\n2. 若c=0，则b即为两数的最大公约数\n3. 若c≠0，则a=b，b=c，再回去执行**1**\n\n例如:求27和15的最大公约数过程为\n1. 27÷15余12\n2. 5÷12余3\n3. 12÷3余0\n\n因此，3即为最大公约数\n\n---\n\n代码实现：\n```\n  /**\n   * 最大公约数\n   */\n  public int getGCD(int m, int n) {\n    if (n == 0) {\n      return m;\n    }\n    return getGCD(n, m % n);\n  }\n\n  /**\n   * 最小公倍数\n   * @param m\n   * @param n\n   * @return\n   */\n  public int getLCM(int m, int n) {\n    int mn = m * n;\n    return mn / getGCD(m, n);\n  }\n  \n  /**\n     * 辗转相除求最大公约数\n     * 有两整数a和b：\n     * ① a%b得余数c\n     * ② 若c=0，则b即为两数的最大公约数\n     * ③ 若c≠0，则a=b，b=c，再回去执行①\n     */\n    public int divisionGCD(int m, int n) {\n      int a;\n      while (n != 0) {\n        a = m % n;\n        m = n;\n        n = a;\n      }\n      return m;\n    }\n    /**\n     * 相减法求最大公约数\n     * 有两整数a和b：\n     * ① 若a>b，则a=a-b\n     * ② 若a<b，则b=b-a\n     * ③ 若a=b，则a（或b）即为两数的最大公约数\n     * ④ 若a≠b，则再回去执行①\n     */\n    public int subtractionGCD(int m,int n){\n      while(m != n){\n        if (m>n){\n          m = m-n;\n        }else {\n          n = n - m;\n        }\n      }\n      return m;\n    }\n```\n\n\n","source":"_posts/常见算法：Java求最小公倍数和最大公约数三种算法.md","raw":"---\ntitle: 常见算法：Java求最小公倍数和最大公约数三种算法\nkeywords: [算法,Java,java求最大公约最小公倍数]\ndate: 2017/10/21 11:23\ntags: [算法,java]\ncategories: 算法\n---\n最小公倍数：\n数论中的一种概念，两个整数公有的倍数成为他们的公倍数\n\n其中一个最小的公倍数是他们的最小公倍数\n\n同样地，若干个整数公有的倍数中最小的正整数称为它们的最小公倍数\n\n---\n\n求最小公倍数算法：\n\n最小公倍数=两整数的乘积÷最大公约数\n\n---\n\n求最大公约数算法：\n### (1) 辗转相除法\n有两整数a和b：\n1. a%b得余数c\n2. 若c=0，则b即为两数的最大公约数\n3. 若c≠0，则a=b，b=c，再回去执行**1**\n\n例如:求27和15的最大公约数过程为\n1. 27÷15余12\n2. 5÷12余3\n3. 12÷3余0\n\n因此，3即为最大公约数\n\n---\n\n代码实现：\n```\n  /**\n   * 最大公约数\n   */\n  public int getGCD(int m, int n) {\n    if (n == 0) {\n      return m;\n    }\n    return getGCD(n, m % n);\n  }\n\n  /**\n   * 最小公倍数\n   * @param m\n   * @param n\n   * @return\n   */\n  public int getLCM(int m, int n) {\n    int mn = m * n;\n    return mn / getGCD(m, n);\n  }\n  \n  /**\n     * 辗转相除求最大公约数\n     * 有两整数a和b：\n     * ① a%b得余数c\n     * ② 若c=0，则b即为两数的最大公约数\n     * ③ 若c≠0，则a=b，b=c，再回去执行①\n     */\n    public int divisionGCD(int m, int n) {\n      int a;\n      while (n != 0) {\n        a = m % n;\n        m = n;\n        n = a;\n      }\n      return m;\n    }\n    /**\n     * 相减法求最大公约数\n     * 有两整数a和b：\n     * ① 若a>b，则a=a-b\n     * ② 若a<b，则b=b-a\n     * ③ 若a=b，则a（或b）即为两数的最大公约数\n     * ④ 若a≠b，则再回去执行①\n     */\n    public int subtractionGCD(int m,int n){\n      while(m != n){\n        if (m>n){\n          m = m-n;\n        }else {\n          n = n - m;\n        }\n      }\n      return m;\n    }\n```\n\n\n","slug":"常见算法：Java求最小公倍数和最大公约数三种算法","published":1,"updated":"2017-10-22T08:45:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu300coolejza1i5wa7","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>最小公倍数：<br>数论中的一种概念，两个整数公有的倍数成为他们的公倍数</p><p>其中一个最小的公倍数是他们的最小公倍数</p><p>同样地，若干个整数公有的倍数中最小的正整数称为它们的最小公倍数</p><hr><p>求最小公倍数算法：</p><p>最小公倍数=两整数的乘积÷最大公约数</p><hr><p>求最大公约数算法：</p><h3 id=\"1-辗转相除法\"><a href=\"#1-辗转相除法\" class=\"headerlink\" title=\"(1) 辗转相除法\"></a>(1) 辗转相除法</h3><p>有两整数a和b：</p><ol><li>a%b得余数c</li><li>若c=0，则b即为两数的最大公约数</li><li>若c≠0，则a=b，b=c，再回去执行<strong>1</strong></li></ol><p>例如:求27和15的最大公约数过程为</p><ol><li>27÷15余12</li><li>5÷12余3</li><li>12÷3余0</li></ol><p>因此，3即为最大公约数</p><hr><p>代码实现：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * 最大公约数</span><br><span class=\"line\"> */</span><br><span class=\"line\">public int getGCD(int m, int n) &#123;</span><br><span class=\"line\">  if (n == 0) &#123;</span><br><span class=\"line\">    return m;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return getGCD(n, m % n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 最小公倍数</span><br><span class=\"line\"> * @param m</span><br><span class=\"line\"> * @param n</span><br><span class=\"line\"> * @return</span><br><span class=\"line\"> */</span><br><span class=\"line\">public int getLCM(int m, int n) &#123;</span><br><span class=\"line\">  int mn = m * n;</span><br><span class=\"line\">  return mn / getGCD(m, n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">   * 辗转相除求最大公约数</span><br><span class=\"line\">   * 有两整数a和b：</span><br><span class=\"line\">   * ① a%b得余数c</span><br><span class=\"line\">   * ② 若c=0，则b即为两数的最大公约数</span><br><span class=\"line\">   * ③ 若c≠0，则a=b，b=c，再回去执行①</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public int divisionGCD(int m, int n) &#123;</span><br><span class=\"line\">    int a;</span><br><span class=\"line\">    while (n != 0) &#123;</span><br><span class=\"line\">      a = m % n;</span><br><span class=\"line\">      m = n;</span><br><span class=\"line\">      n = a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return m;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 相减法求最大公约数</span><br><span class=\"line\">   * 有两整数a和b：</span><br><span class=\"line\">   * ① 若a&gt;b，则a=a-b</span><br><span class=\"line\">   * ② 若a&lt;b，则b=b-a</span><br><span class=\"line\">   * ③ 若a=b，则a（或b）即为两数的最大公约数</span><br><span class=\"line\">   * ④ 若a≠b，则再回去执行①</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public int subtractionGCD(int m,int n)&#123;</span><br><span class=\"line\">    while(m != n)&#123;</span><br><span class=\"line\">      if (m&gt;n)&#123;</span><br><span class=\"line\">        m = m-n;</span><br><span class=\"line\">      &#125;else &#123;</span><br><span class=\"line\">        n = n - m;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return m;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>最小公倍数：<br>数论中的一种概念，两个整数公有的倍数成为他们的公倍数</p><p>其中一个最小的公倍数是他们的最小公倍数</p><p>同样地，若干个整数公有的倍数中最小的正整数称为它们的最小公倍数</p><hr><p>求最小公倍数算法：</p><p>最小公倍数=两整数的乘积÷最大公约数</p><hr><p>求最大公约数算法：</p><h3 id=\"1-辗转相除法\"><a href=\"#1-辗转相除法\" class=\"headerlink\" title=\"(1) 辗转相除法\"></a>(1) 辗转相除法</h3><p>有两整数a和b：</p><ol><li>a%b得余数c</li><li>若c=0，则b即为两数的最大公约数</li><li>若c≠0，则a=b，b=c，再回去执行<strong>1</strong></li></ol><p>例如:求27和15的最大公约数过程为</p><ol><li>27÷15余12</li><li>5÷12余3</li><li>12÷3余0</li></ol><p>因此，3即为最大公约数</p><hr><p>代码实现：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * 最大公约数</span><br><span class=\"line\"> */</span><br><span class=\"line\">public int getGCD(int m, int n) &#123;</span><br><span class=\"line\">  if (n == 0) &#123;</span><br><span class=\"line\">    return m;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return getGCD(n, m % n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 最小公倍数</span><br><span class=\"line\"> * @param m</span><br><span class=\"line\"> * @param n</span><br><span class=\"line\"> * @return</span><br><span class=\"line\"> */</span><br><span class=\"line\">public int getLCM(int m, int n) &#123;</span><br><span class=\"line\">  int mn = m * n;</span><br><span class=\"line\">  return mn / getGCD(m, n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">   * 辗转相除求最大公约数</span><br><span class=\"line\">   * 有两整数a和b：</span><br><span class=\"line\">   * ① a%b得余数c</span><br><span class=\"line\">   * ② 若c=0，则b即为两数的最大公约数</span><br><span class=\"line\">   * ③ 若c≠0，则a=b，b=c，再回去执行①</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public int divisionGCD(int m, int n) &#123;</span><br><span class=\"line\">    int a;</span><br><span class=\"line\">    while (n != 0) &#123;</span><br><span class=\"line\">      a = m % n;</span><br><span class=\"line\">      m = n;</span><br><span class=\"line\">      n = a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return m;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  /**</span><br><span class=\"line\">   * 相减法求最大公约数</span><br><span class=\"line\">   * 有两整数a和b：</span><br><span class=\"line\">   * ① 若a&gt;b，则a=a-b</span><br><span class=\"line\">   * ② 若a&lt;b，则b=b-a</span><br><span class=\"line\">   * ③ 若a=b，则a（或b）即为两数的最大公约数</span><br><span class=\"line\">   * ④ 若a≠b，则再回去执行①</span><br><span class=\"line\">   */</span><br><span class=\"line\">  public int subtractionGCD(int m,int n)&#123;</span><br><span class=\"line\">    while(m != n)&#123;</span><br><span class=\"line\">      if (m&gt;n)&#123;</span><br><span class=\"line\">        m = m-n;</span><br><span class=\"line\">      &#125;else &#123;</span><br><span class=\"line\">        n = n - m;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return m;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"有道云笔记支持的markdown语法 - hexo试一试","keywords":[],"date":"2017-08-07T01:48:00.000Z","_content":"\nmarkdown语法\n--\n\n分割线\n\n---\n\n1. 列表1\n2. 列表2\n3. 列表3\n\n```\n//插入代码\npublic void main(String[] args){\n    System.out.println(\"Hello World!\");\n}\n```\n\n# 一级标题\n## 二级标题\n### 三级标题\n#### 四级标题\n##### 五级标题\n###### 六级标题\n\n~~删除线~~\n\n> 引用，只能写在一行\n\n- [ ] 未勾选\n- [x] 勾选的\n\n[梦殇国际](http://www.714.hk)\n\n![image](http://www.714.hk/logo.png)\n\nmarkdown源码\n--\n<!--more-->\n```\nmarkdown语法\n--\n\n分割线\n\n---\n\n1. 列表1\n2. 列表2\n3. 列表3\n\n//插入代码\npublic void main(String[] args){\n    System.out.println(\"Hello World!\");\n}\n\n# 一级标题\n## 二级标题\n### 三级标题\n#### 四级标题\n##### 五级标题\n###### 六级标题\n\n~~删除线~~\n\n> 引用，只能写在一行\n\n- [ ] 未勾选\n- [x] 勾选的\n\n[梦殇国际](http://www.714.hk)\n\n![image](http://www.714.hk/logo.png)\n```","source":"_posts/有道云笔记支持的markdown语法 - hexo试一试.md","raw":"---\ntitle: 有道云笔记支持的markdown语法 - hexo试一试\nkeywords: []\ndate: 2017/8/7 9:48\ntags: []\ncategories:\n---\n\nmarkdown语法\n--\n\n分割线\n\n---\n\n1. 列表1\n2. 列表2\n3. 列表3\n\n```\n//插入代码\npublic void main(String[] args){\n    System.out.println(\"Hello World!\");\n}\n```\n\n# 一级标题\n## 二级标题\n### 三级标题\n#### 四级标题\n##### 五级标题\n###### 六级标题\n\n~~删除线~~\n\n> 引用，只能写在一行\n\n- [ ] 未勾选\n- [x] 勾选的\n\n[梦殇国际](http://www.714.hk)\n\n![image](http://www.714.hk/logo.png)\n\nmarkdown源码\n--\n<!--more-->\n```\nmarkdown语法\n--\n\n分割线\n\n---\n\n1. 列表1\n2. 列表2\n3. 列表3\n\n//插入代码\npublic void main(String[] args){\n    System.out.println(\"Hello World!\");\n}\n\n# 一级标题\n## 二级标题\n### 三级标题\n#### 四级标题\n##### 五级标题\n###### 六级标题\n\n~~删除线~~\n\n> 引用，只能写在一行\n\n- [ ] 未勾选\n- [x] 勾选的\n\n[梦殇国际](http://www.714.hk)\n\n![image](http://www.714.hk/logo.png)\n```","slug":"有道云笔记支持的markdown语法 - hexo试一试","published":1,"updated":"2017-08-08T01:22:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu400csolejc33n2dob","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"markdown语法\"><a href=\"#markdown语法\" class=\"headerlink\" title=\"markdown语法\"></a>markdown语法</h2><p>分割线</p><hr><ol><li>列表1</li><li>列表2</li><li>列表3</li></ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//插入代码</span><br><span class=\"line\">public void main(String[] args)&#123;</span><br><span class=\"line\">    System.out.println(&quot;Hello World!&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h1 id=\"一级标题\"><a href=\"#一级标题\" class=\"headerlink\" title=\"一级标题\"></a>一级标题</h1><h2 id=\"二级标题\"><a href=\"#二级标题\" class=\"headerlink\" title=\"二级标题\"></a>二级标题</h2><h3 id=\"三级标题\"><a href=\"#三级标题\" class=\"headerlink\" title=\"三级标题\"></a>三级标题</h3><h4 id=\"四级标题\"><a href=\"#四级标题\" class=\"headerlink\" title=\"四级标题\"></a>四级标题</h4><h5 id=\"五级标题\"><a href=\"#五级标题\" class=\"headerlink\" title=\"五级标题\"></a>五级标题</h5><h6 id=\"六级标题\"><a href=\"#六级标题\" class=\"headerlink\" title=\"六级标题\"></a>六级标题</h6><p><del>删除线</del></p><blockquote><p>引用，只能写在一行</p></blockquote><ul><li>[ ] 未勾选</li><li>[x] 勾选的</li></ul><p><a href=\"http://www.714.hk\" target=\"_blank\" rel=\"noopener\">梦殇国际</a></p><p><img src=\"http://www.714.hk/logo.png\" alt=\"image\"></p><h2 id=\"markdown源码\"><a href=\"#markdown源码\" class=\"headerlink\" title=\"markdown源码\"></a>markdown源码</h2><a id=\"more\"></a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">markdown语法</span><br><span class=\"line\">--</span><br><span class=\"line\"></span><br><span class=\"line\">分割线</span><br><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">1. 列表1</span><br><span class=\"line\">2. 列表2</span><br><span class=\"line\">3. 列表3</span><br><span class=\"line\"></span><br><span class=\"line\">//插入代码</span><br><span class=\"line\">public void main(String[] args)&#123;</span><br><span class=\"line\">    System.out.println(&quot;Hello World!&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># 一级标题</span><br><span class=\"line\">## 二级标题</span><br><span class=\"line\">### 三级标题</span><br><span class=\"line\">#### 四级标题</span><br><span class=\"line\">##### 五级标题</span><br><span class=\"line\">###### 六级标题</span><br><span class=\"line\"></span><br><span class=\"line\">~~删除线~~</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 引用，只能写在一行</span><br><span class=\"line\"></span><br><span class=\"line\">- [ ] 未勾选</span><br><span class=\"line\">- [x] 勾选的</span><br><span class=\"line\"></span><br><span class=\"line\">[梦殇国际](http://www.714.hk)</span><br><span class=\"line\"></span><br><span class=\"line\">![image](http://www.714.hk/logo.png)</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"markdown语法\"><a href=\"#markdown语法\" class=\"headerlink\" title=\"markdown语法\"></a>markdown语法</h2><p>分割线</p><hr><ol><li>列表1</li><li>列表2</li><li>列表3</li></ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//插入代码</span><br><span class=\"line\">public void main(String[] args)&#123;</span><br><span class=\"line\">    System.out.println(&quot;Hello World!&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><h1 id=\"一级标题\"><a href=\"#一级标题\" class=\"headerlink\" title=\"一级标题\"></a>一级标题</h1><h2 id=\"二级标题\"><a href=\"#二级标题\" class=\"headerlink\" title=\"二级标题\"></a>二级标题</h2><h3 id=\"三级标题\"><a href=\"#三级标题\" class=\"headerlink\" title=\"三级标题\"></a>三级标题</h3><h4 id=\"四级标题\"><a href=\"#四级标题\" class=\"headerlink\" title=\"四级标题\"></a>四级标题</h4><h5 id=\"五级标题\"><a href=\"#五级标题\" class=\"headerlink\" title=\"五级标题\"></a>五级标题</h5><h6 id=\"六级标题\"><a href=\"#六级标题\" class=\"headerlink\" title=\"六级标题\"></a>六级标题</h6><p><del>删除线</del></p><blockquote><p>引用，只能写在一行</p></blockquote><ul><li>[ ] 未勾选</li><li>[x] 勾选的</li></ul><p><a href=\"http://www.714.hk\" target=\"_blank\" rel=\"noopener\">梦殇国际</a></p><p><img src=\"http://www.714.hk/logo.png\" alt=\"image\"></p><h2 id=\"markdown源码\"><a href=\"#markdown源码\" class=\"headerlink\" title=\"markdown源码\"></a>markdown源码</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">markdown语法</span><br><span class=\"line\">--</span><br><span class=\"line\"></span><br><span class=\"line\">分割线</span><br><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">1. 列表1</span><br><span class=\"line\">2. 列表2</span><br><span class=\"line\">3. 列表3</span><br><span class=\"line\"></span><br><span class=\"line\">//插入代码</span><br><span class=\"line\">public void main(String[] args)&#123;</span><br><span class=\"line\">    System.out.println(&quot;Hello World!&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># 一级标题</span><br><span class=\"line\">## 二级标题</span><br><span class=\"line\">### 三级标题</span><br><span class=\"line\">#### 四级标题</span><br><span class=\"line\">##### 五级标题</span><br><span class=\"line\">###### 六级标题</span><br><span class=\"line\"></span><br><span class=\"line\">~~删除线~~</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 引用，只能写在一行</span><br><span class=\"line\"></span><br><span class=\"line\">- [ ] 未勾选</span><br><span class=\"line\">- [x] 勾选的</span><br><span class=\"line\"></span><br><span class=\"line\">[梦殇国际](http://www.714.hk)</span><br><span class=\"line\"></span><br><span class=\"line\">![image](http://www.714.hk/logo.png)</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"最近在看的Java系列文章 - 计算机程序的思维逻辑","keywords":["java","计算机程序的思维逻辑"],"date":"2017-08-14T02:06:00.000Z","_content":"## 计算机程序的思维逻辑\n这个系列的文章还不错\n\n[目录---微信公众号](http://mp.weixin.qq.com/s/u_WmkE5meMWuZ81G5gHhBQ)\n\n[目录---掘金(1-6缺失)](https://juejin.im/user/5791632a165abd00584bb496)\n\n## 相关笔记或者代码\n[相关笔记或者代码 - github地址](https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/programLogicOfThinking)\n\n## 说明\n版权归原作者所有\n\n感觉文章不错，一边看一边实践。\n\n有时候从头开始学习也会有另一番风味。\n\n兴趣是最好的老师，唯有坚持才是实现梦想的唯一途径。","source":"_posts/最近在看的Java系列文章 - 计算机程序的思维逻辑.md","raw":"---\ntitle: 最近在看的Java系列文章 - 计算机程序的思维逻辑\nkeywords: [java,计算机程序的思维逻辑]\ndate: 2017/8/14 10:06\ntags: [java]\ncategories: java\n---\n## 计算机程序的思维逻辑\n这个系列的文章还不错\n\n[目录---微信公众号](http://mp.weixin.qq.com/s/u_WmkE5meMWuZ81G5gHhBQ)\n\n[目录---掘金(1-6缺失)](https://juejin.im/user/5791632a165abd00584bb496)\n\n## 相关笔记或者代码\n[相关笔记或者代码 - github地址](https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/programLogicOfThinking)\n\n## 说明\n版权归原作者所有\n\n感觉文章不错，一边看一边实践。\n\n有时候从头开始学习也会有另一番风味。\n\n兴趣是最好的老师，唯有坚持才是实现梦想的唯一途径。","slug":"最近在看的Java系列文章 - 计算机程序的思维逻辑","published":1,"updated":"2017-08-14T02:10:54.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu500cwolejgsbq14cf","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"计算机程序的思维逻辑\"><a href=\"#计算机程序的思维逻辑\" class=\"headerlink\" title=\"计算机程序的思维逻辑\"></a>计算机程序的思维逻辑</h2><p>这个系列的文章还不错</p><p><a href=\"http://mp.weixin.qq.com/s/u_WmkE5meMWuZ81G5gHhBQ\" target=\"_blank\" rel=\"noopener\">目录—微信公众号</a></p><p><a href=\"https://juejin.im/user/5791632a165abd00584bb496\" target=\"_blank\" rel=\"noopener\">目录—掘金(1-6缺失)</a></p><h2 id=\"相关笔记或者代码\"><a href=\"#相关笔记或者代码\" class=\"headerlink\" title=\"相关笔记或者代码\"></a>相关笔记或者代码</h2><p><a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/programLogicOfThinking\" target=\"_blank\" rel=\"noopener\">相关笔记或者代码 - github地址</a></p><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>版权归原作者所有</p><p>感觉文章不错，一边看一边实践。</p><p>有时候从头开始学习也会有另一番风味。</p><p>兴趣是最好的老师，唯有坚持才是实现梦想的唯一途径。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"计算机程序的思维逻辑\"><a href=\"#计算机程序的思维逻辑\" class=\"headerlink\" title=\"计算机程序的思维逻辑\"></a>计算机程序的思维逻辑</h2><p>这个系列的文章还不错</p><p><a href=\"http://mp.weixin.qq.com/s/u_WmkE5meMWuZ81G5gHhBQ\" target=\"_blank\" rel=\"noopener\">目录—微信公众号</a></p><p><a href=\"https://juejin.im/user/5791632a165abd00584bb496\" target=\"_blank\" rel=\"noopener\">目录—掘金(1-6缺失)</a></p><h2 id=\"相关笔记或者代码\"><a href=\"#相关笔记或者代码\" class=\"headerlink\" title=\"相关笔记或者代码\"></a>相关笔记或者代码</h2><p><a href=\"https://github.com/hisen-yuan/IDEAPractice/tree/master/src/main/java/com/hisen/programLogicOfThinking\" target=\"_blank\" rel=\"noopener\">相关笔记或者代码 - github地址</a></p><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>版权归原作者所有</p><p>感觉文章不错，一边看一边实践。</p><p>有时候从头开始学习也会有另一番风味。</p><p>兴趣是最好的老师，唯有坚持才是实现梦想的唯一途径。</p><!-- rebuild by neat -->"},{"title":"查看linux进程 - 多重方式","keywords":["linux查看进程","linux进程查看"],"date":"2017-02-27T01:14:02.000Z","_content":"可以使用ps命令。\n它能显示当前运行中进程的相关信息，包括进程的PID。\n\nLinux和UNIX都支持ps命令，显示所有运行中进程的相关信息。\n\nps命令能提供一份当前进程的**快照**。如果想状态可以自动刷新，可以使用top命令。\n\n## ps命令 ##\n\n输入下面的ps命令，显示所有运行中的进程：\n```\nps aux | less\n```\n**这个命令按  q  退出**\n后面加了“**| less**”就会分页显示，如果去掉会一次性显示出所有结果\n\n输出：\n<!--more-->\n```\nhisen@hisen-server:~$ ps aux | less\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot         1  0.2  0.5  37956  6028 ?        Ss   09:03   0:02 /sbin/init\nroot         2  0.0  0.0      0     0 ?        S    09:03   0:00 [kthreadd]\nroot         3  0.0  0.0      0     0 ?        S    09:03   0:00 [ksoftirqd/0]\nroot         4  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:0]\nroot         5  0.0  0.0      0     0 ?        S<   09:03   0:00 [kworker/0:0H]\nroot         6  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:0]\nroot         7  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_sched]\nroot         8  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_bh]\nroot         9  0.0  0.0      0     0 ?        S    09:03   0:00 [migration/0]\nroot        10  0.0  0.0      0     0 ?        S    09:03   0:00 [watchdog/0]\nroot        11  0.0  0.0      0     0 ?        S    09:03   0:00 [kdevtmpfs]\nroot        12  0.0  0.0      0     0 ?        S<   09:03   0:00 [netns]\nroot        13  0.0  0.0      0     0 ?        S<   09:03   0:00 [perf]\nroot        14  0.0  0.0      0     0 ?        S    09:03   0:00 [khungtaskd]\nroot        15  0.0  0.0      0     0 ?        S<   09:03   0:00 [writeback]\nroot        16  0.0  0.0      0     0 ?        SN   09:03   0:00 [ksmd]\nroot        17  0.0  0.0      0     0 ?        SN   09:03   0:00 [khugepaged]\nroot        18  0.0  0.0      0     0 ?        S<   09:03   0:00 [crypto]\nroot        19  0.0  0.0      0     0 ?        S<   09:03   0:00 [kintegrityd]\nroot        20  0.0  0.0      0     0 ?        S<   09:03   0:00 [bioset]\nroot        21  0.0  0.0      0     0 ?        S<   09:03   0:00 [kblockd]\nroot        22  0.0  0.0      0     0 ?        S<   09:03   0:00 [ata_sff]\nroot        23  0.0  0.0      0     0 ?        S<   09:03   0:00 [md]\nroot        24  0.0  0.0      0     0 ?        S<   09:03   0:00 [devfreq_wq]\nroot        25  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:1]\nroot        26  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:1]\nroot        28  0.0  0.0      0     0 ?        S    09:03   0:00 [kswapd0]\nroot        29  0.0  0.0      0     0 ?        S<   09:03   0:00 [vmstat]\nroot        30  0.0  0.0      0     0 ?        S    09:03   0:00 [fsnotify_mark]\nroot        31  0.0  0.0      0     0 ?        S    09:03   0:00 [ecryptfs-kthrea]\n:\n```\n\n---\n\n## 查看系统中的每个进程 ##\n\n```\nps -A\nps -e\n```\n-A：显示所有进程\n\na：显示终端中包括其它用户的所有进程\n\nx：显示无控制终端的进程\n\n## 显示进程的树状图 ##\n\n```\npstree\n```\n输出\n```\nhisen@hisen-server:~$ pstree\nsystemd─┬─accounts-daemon─┬─{gdbus}\n        │                 └─{gmain}\n        ├─acpid\n        ├─agetty\n        ├─atd\n        ├─cron\n        ├─dbus-daemon\n        ├─dhclient\n        ├─2*[iscsid]\n        ├─java───14*[{java}]\n        ├─lvmetad\n        ├─lxcfs───2*[{lxcfs}]\n        ├─mdadm\n        ├─polkitd─┬─{gdbus}\n        │         └─{gmain}\n        ├─redis-server───2*[{redis-server}]\n        ├─rsyslogd─┬─{in:imklog}\n        │          ├─{in:imuxsock}\n        │          └─{rs:main Q:Reg}\n        ├─snapd───5*[{snapd}]\n        ├─sshd───sshd───sshd───bash───pstree\n        ├─systemd───(sd-pam)\n        ├─systemd-journal\n        ├─systemd-logind\n        ├─systemd-timesyn───{sd-resolve}\n        └─systemd-udevd\n```","source":"_posts/查看linux进程-多重方式.md","raw":"---\ntitle: 查看linux进程 - 多重方式\nkeywords: [linux查看进程,linux进程查看]\ntags: [linux]\ndate: 2017-02-27 09:14:02\ncategories: linux\n---\n可以使用ps命令。\n它能显示当前运行中进程的相关信息，包括进程的PID。\n\nLinux和UNIX都支持ps命令，显示所有运行中进程的相关信息。\n\nps命令能提供一份当前进程的**快照**。如果想状态可以自动刷新，可以使用top命令。\n\n## ps命令 ##\n\n输入下面的ps命令，显示所有运行中的进程：\n```\nps aux | less\n```\n**这个命令按  q  退出**\n后面加了“**| less**”就会分页显示，如果去掉会一次性显示出所有结果\n\n输出：\n<!--more-->\n```\nhisen@hisen-server:~$ ps aux | less\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot         1  0.2  0.5  37956  6028 ?        Ss   09:03   0:02 /sbin/init\nroot         2  0.0  0.0      0     0 ?        S    09:03   0:00 [kthreadd]\nroot         3  0.0  0.0      0     0 ?        S    09:03   0:00 [ksoftirqd/0]\nroot         4  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:0]\nroot         5  0.0  0.0      0     0 ?        S<   09:03   0:00 [kworker/0:0H]\nroot         6  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:0]\nroot         7  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_sched]\nroot         8  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_bh]\nroot         9  0.0  0.0      0     0 ?        S    09:03   0:00 [migration/0]\nroot        10  0.0  0.0      0     0 ?        S    09:03   0:00 [watchdog/0]\nroot        11  0.0  0.0      0     0 ?        S    09:03   0:00 [kdevtmpfs]\nroot        12  0.0  0.0      0     0 ?        S<   09:03   0:00 [netns]\nroot        13  0.0  0.0      0     0 ?        S<   09:03   0:00 [perf]\nroot        14  0.0  0.0      0     0 ?        S    09:03   0:00 [khungtaskd]\nroot        15  0.0  0.0      0     0 ?        S<   09:03   0:00 [writeback]\nroot        16  0.0  0.0      0     0 ?        SN   09:03   0:00 [ksmd]\nroot        17  0.0  0.0      0     0 ?        SN   09:03   0:00 [khugepaged]\nroot        18  0.0  0.0      0     0 ?        S<   09:03   0:00 [crypto]\nroot        19  0.0  0.0      0     0 ?        S<   09:03   0:00 [kintegrityd]\nroot        20  0.0  0.0      0     0 ?        S<   09:03   0:00 [bioset]\nroot        21  0.0  0.0      0     0 ?        S<   09:03   0:00 [kblockd]\nroot        22  0.0  0.0      0     0 ?        S<   09:03   0:00 [ata_sff]\nroot        23  0.0  0.0      0     0 ?        S<   09:03   0:00 [md]\nroot        24  0.0  0.0      0     0 ?        S<   09:03   0:00 [devfreq_wq]\nroot        25  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:1]\nroot        26  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:1]\nroot        28  0.0  0.0      0     0 ?        S    09:03   0:00 [kswapd0]\nroot        29  0.0  0.0      0     0 ?        S<   09:03   0:00 [vmstat]\nroot        30  0.0  0.0      0     0 ?        S    09:03   0:00 [fsnotify_mark]\nroot        31  0.0  0.0      0     0 ?        S    09:03   0:00 [ecryptfs-kthrea]\n:\n```\n\n---\n\n## 查看系统中的每个进程 ##\n\n```\nps -A\nps -e\n```\n-A：显示所有进程\n\na：显示终端中包括其它用户的所有进程\n\nx：显示无控制终端的进程\n\n## 显示进程的树状图 ##\n\n```\npstree\n```\n输出\n```\nhisen@hisen-server:~$ pstree\nsystemd─┬─accounts-daemon─┬─{gdbus}\n        │                 └─{gmain}\n        ├─acpid\n        ├─agetty\n        ├─atd\n        ├─cron\n        ├─dbus-daemon\n        ├─dhclient\n        ├─2*[iscsid]\n        ├─java───14*[{java}]\n        ├─lvmetad\n        ├─lxcfs───2*[{lxcfs}]\n        ├─mdadm\n        ├─polkitd─┬─{gdbus}\n        │         └─{gmain}\n        ├─redis-server───2*[{redis-server}]\n        ├─rsyslogd─┬─{in:imklog}\n        │          ├─{in:imuxsock}\n        │          └─{rs:main Q:Reg}\n        ├─snapd───5*[{snapd}]\n        ├─sshd───sshd───sshd───bash───pstree\n        ├─systemd───(sd-pam)\n        ├─systemd-journal\n        ├─systemd-logind\n        ├─systemd-timesyn───{sd-resolve}\n        └─systemd-udevd\n```","slug":"查看linux进程-多重方式","published":1,"updated":"2017-02-27T01:22:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu600czolejk7kofm1i","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>可以使用ps命令。<br>它能显示当前运行中进程的相关信息，包括进程的PID。</p><p>Linux和UNIX都支持ps命令，显示所有运行中进程的相关信息。</p><p>ps命令能提供一份当前进程的<strong>快照</strong>。如果想状态可以自动刷新，可以使用top命令。</p><h2 id=\"ps命令\"><a href=\"#ps命令\" class=\"headerlink\" title=\"ps命令\"></a>ps命令</h2><p>输入下面的ps命令，显示所有运行中的进程：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps aux | less</span><br></pre></td></tr></table></figure><p></p><p><strong>这个命令按 q 退出</strong><br>后面加了“<strong>| less</strong>”就会分页显示，如果去掉会一次性显示出所有结果</p><p>输出：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:~$ ps aux | less</span><br><span class=\"line\">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class=\"line\">root         1  0.2  0.5  37956  6028 ?        Ss   09:03   0:02 /sbin/init</span><br><span class=\"line\">root         2  0.0  0.0      0     0 ?        S    09:03   0:00 [kthreadd]</span><br><span class=\"line\">root         3  0.0  0.0      0     0 ?        S    09:03   0:00 [ksoftirqd/0]</span><br><span class=\"line\">root         4  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:0]</span><br><span class=\"line\">root         5  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [kworker/0:0H]</span><br><span class=\"line\">root         6  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:0]</span><br><span class=\"line\">root         7  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_sched]</span><br><span class=\"line\">root         8  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_bh]</span><br><span class=\"line\">root         9  0.0  0.0      0     0 ?        S    09:03   0:00 [migration/0]</span><br><span class=\"line\">root        10  0.0  0.0      0     0 ?        S    09:03   0:00 [watchdog/0]</span><br><span class=\"line\">root        11  0.0  0.0      0     0 ?        S    09:03   0:00 [kdevtmpfs]</span><br><span class=\"line\">root        12  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [netns]</span><br><span class=\"line\">root        13  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [perf]</span><br><span class=\"line\">root        14  0.0  0.0      0     0 ?        S    09:03   0:00 [khungtaskd]</span><br><span class=\"line\">root        15  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [writeback]</span><br><span class=\"line\">root        16  0.0  0.0      0     0 ?        SN   09:03   0:00 [ksmd]</span><br><span class=\"line\">root        17  0.0  0.0      0     0 ?        SN   09:03   0:00 [khugepaged]</span><br><span class=\"line\">root        18  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [crypto]</span><br><span class=\"line\">root        19  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [kintegrityd]</span><br><span class=\"line\">root        20  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [bioset]</span><br><span class=\"line\">root        21  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [kblockd]</span><br><span class=\"line\">root        22  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [ata_sff]</span><br><span class=\"line\">root        23  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [md]</span><br><span class=\"line\">root        24  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [devfreq_wq]</span><br><span class=\"line\">root        25  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:1]</span><br><span class=\"line\">root        26  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:1]</span><br><span class=\"line\">root        28  0.0  0.0      0     0 ?        S    09:03   0:00 [kswapd0]</span><br><span class=\"line\">root        29  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [vmstat]</span><br><span class=\"line\">root        30  0.0  0.0      0     0 ?        S    09:03   0:00 [fsnotify_mark]</span><br><span class=\"line\">root        31  0.0  0.0      0     0 ?        S    09:03   0:00 [ecryptfs-kthrea]</span><br><span class=\"line\">:</span><br></pre></td></tr></table></figure><p></p><hr><h2 id=\"查看系统中的每个进程\"><a href=\"#查看系统中的每个进程\" class=\"headerlink\" title=\"查看系统中的每个进程\"></a>查看系统中的每个进程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -A</span><br><span class=\"line\">ps -e</span><br></pre></td></tr></table></figure><p>-A：显示所有进程</p><p>a：显示终端中包括其它用户的所有进程</p><p>x：显示无控制终端的进程</p><h2 id=\"显示进程的树状图\"><a href=\"#显示进程的树状图\" class=\"headerlink\" title=\"显示进程的树状图\"></a>显示进程的树状图</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pstree</span><br></pre></td></tr></table></figure><p>输出<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:~$ pstree</span><br><span class=\"line\">systemd─┬─accounts-daemon─┬─&#123;gdbus&#125;</span><br><span class=\"line\">        │                 └─&#123;gmain&#125;</span><br><span class=\"line\">        ├─acpid</span><br><span class=\"line\">        ├─agetty</span><br><span class=\"line\">        ├─atd</span><br><span class=\"line\">        ├─cron</span><br><span class=\"line\">        ├─dbus-daemon</span><br><span class=\"line\">        ├─dhclient</span><br><span class=\"line\">        ├─2*[iscsid]</span><br><span class=\"line\">        ├─java───14*[&#123;java&#125;]</span><br><span class=\"line\">        ├─lvmetad</span><br><span class=\"line\">        ├─lxcfs───2*[&#123;lxcfs&#125;]</span><br><span class=\"line\">        ├─mdadm</span><br><span class=\"line\">        ├─polkitd─┬─&#123;gdbus&#125;</span><br><span class=\"line\">        │         └─&#123;gmain&#125;</span><br><span class=\"line\">        ├─redis-server───2*[&#123;redis-server&#125;]</span><br><span class=\"line\">        ├─rsyslogd─┬─&#123;in:imklog&#125;</span><br><span class=\"line\">        │          ├─&#123;in:imuxsock&#125;</span><br><span class=\"line\">        │          └─&#123;rs:main Q:Reg&#125;</span><br><span class=\"line\">        ├─snapd───5*[&#123;snapd&#125;]</span><br><span class=\"line\">        ├─sshd───sshd───sshd───bash───pstree</span><br><span class=\"line\">        ├─systemd───(sd-pam)</span><br><span class=\"line\">        ├─systemd-journal</span><br><span class=\"line\">        ├─systemd-logind</span><br><span class=\"line\">        ├─systemd-timesyn───&#123;sd-resolve&#125;</span><br><span class=\"line\">        └─systemd-udevd</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>可以使用ps命令。<br>它能显示当前运行中进程的相关信息，包括进程的PID。</p><p>Linux和UNIX都支持ps命令，显示所有运行中进程的相关信息。</p><p>ps命令能提供一份当前进程的<strong>快照</strong>。如果想状态可以自动刷新，可以使用top命令。</p><h2 id=\"ps命令\"><a href=\"#ps命令\" class=\"headerlink\" title=\"ps命令\"></a>ps命令</h2><p>输入下面的ps命令，显示所有运行中的进程：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps aux | less</span><br></pre></td></tr></table></figure><p></p><p><strong>这个命令按 q 退出</strong><br>后面加了“<strong>| less</strong>”就会分页显示，如果去掉会一次性显示出所有结果</p><p>输出：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:~$ ps aux | less</span><br><span class=\"line\">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class=\"line\">root         1  0.2  0.5  37956  6028 ?        Ss   09:03   0:02 /sbin/init</span><br><span class=\"line\">root         2  0.0  0.0      0     0 ?        S    09:03   0:00 [kthreadd]</span><br><span class=\"line\">root         3  0.0  0.0      0     0 ?        S    09:03   0:00 [ksoftirqd/0]</span><br><span class=\"line\">root         4  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:0]</span><br><span class=\"line\">root         5  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [kworker/0:0H]</span><br><span class=\"line\">root         6  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:0]</span><br><span class=\"line\">root         7  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_sched]</span><br><span class=\"line\">root         8  0.0  0.0      0     0 ?        S    09:03   0:00 [rcu_bh]</span><br><span class=\"line\">root         9  0.0  0.0      0     0 ?        S    09:03   0:00 [migration/0]</span><br><span class=\"line\">root        10  0.0  0.0      0     0 ?        S    09:03   0:00 [watchdog/0]</span><br><span class=\"line\">root        11  0.0  0.0      0     0 ?        S    09:03   0:00 [kdevtmpfs]</span><br><span class=\"line\">root        12  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [netns]</span><br><span class=\"line\">root        13  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [perf]</span><br><span class=\"line\">root        14  0.0  0.0      0     0 ?        S    09:03   0:00 [khungtaskd]</span><br><span class=\"line\">root        15  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [writeback]</span><br><span class=\"line\">root        16  0.0  0.0      0     0 ?        SN   09:03   0:00 [ksmd]</span><br><span class=\"line\">root        17  0.0  0.0      0     0 ?        SN   09:03   0:00 [khugepaged]</span><br><span class=\"line\">root        18  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [crypto]</span><br><span class=\"line\">root        19  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [kintegrityd]</span><br><span class=\"line\">root        20  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [bioset]</span><br><span class=\"line\">root        21  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [kblockd]</span><br><span class=\"line\">root        22  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [ata_sff]</span><br><span class=\"line\">root        23  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [md]</span><br><span class=\"line\">root        24  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [devfreq_wq]</span><br><span class=\"line\">root        25  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/u2:1]</span><br><span class=\"line\">root        26  0.0  0.0      0     0 ?        S    09:03   0:00 [kworker/0:1]</span><br><span class=\"line\">root        28  0.0  0.0      0     0 ?        S    09:03   0:00 [kswapd0]</span><br><span class=\"line\">root        29  0.0  0.0      0     0 ?        S&lt;   09:03   0:00 [vmstat]</span><br><span class=\"line\">root        30  0.0  0.0      0     0 ?        S    09:03   0:00 [fsnotify_mark]</span><br><span class=\"line\">root        31  0.0  0.0      0     0 ?        S    09:03   0:00 [ecryptfs-kthrea]</span><br><span class=\"line\">:</span><br></pre></td></tr></table></figure><p></p><hr><h2 id=\"查看系统中的每个进程\"><a href=\"#查看系统中的每个进程\" class=\"headerlink\" title=\"查看系统中的每个进程\"></a>查看系统中的每个进程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -A</span><br><span class=\"line\">ps -e</span><br></pre></td></tr></table></figure><p>-A：显示所有进程</p><p>a：显示终端中包括其它用户的所有进程</p><p>x：显示无控制终端的进程</p><h2 id=\"显示进程的树状图\"><a href=\"#显示进程的树状图\" class=\"headerlink\" title=\"显示进程的树状图\"></a>显示进程的树状图</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pstree</span><br></pre></td></tr></table></figure><p>输出<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-server:~$ pstree</span><br><span class=\"line\">systemd─┬─accounts-daemon─┬─&#123;gdbus&#125;</span><br><span class=\"line\">        │                 └─&#123;gmain&#125;</span><br><span class=\"line\">        ├─acpid</span><br><span class=\"line\">        ├─agetty</span><br><span class=\"line\">        ├─atd</span><br><span class=\"line\">        ├─cron</span><br><span class=\"line\">        ├─dbus-daemon</span><br><span class=\"line\">        ├─dhclient</span><br><span class=\"line\">        ├─2*[iscsid]</span><br><span class=\"line\">        ├─java───14*[&#123;java&#125;]</span><br><span class=\"line\">        ├─lvmetad</span><br><span class=\"line\">        ├─lxcfs───2*[&#123;lxcfs&#125;]</span><br><span class=\"line\">        ├─mdadm</span><br><span class=\"line\">        ├─polkitd─┬─&#123;gdbus&#125;</span><br><span class=\"line\">        │         └─&#123;gmain&#125;</span><br><span class=\"line\">        ├─redis-server───2*[&#123;redis-server&#125;]</span><br><span class=\"line\">        ├─rsyslogd─┬─&#123;in:imklog&#125;</span><br><span class=\"line\">        │          ├─&#123;in:imuxsock&#125;</span><br><span class=\"line\">        │          └─&#123;rs:main Q:Reg&#125;</span><br><span class=\"line\">        ├─snapd───5*[&#123;snapd&#125;]</span><br><span class=\"line\">        ├─sshd───sshd───sshd───bash───pstree</span><br><span class=\"line\">        ├─systemd───(sd-pam)</span><br><span class=\"line\">        ├─systemd-journal</span><br><span class=\"line\">        ├─systemd-logind</span><br><span class=\"line\">        ├─systemd-timesyn───&#123;sd-resolve&#125;</span><br><span class=\"line\">        └─systemd-udevd</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"浏览器出现：Reimage Repair - zh.reimageplus.com","keywords":["Reimage Repair","zh.reimageplus.com"],"date":"2017-07-05T13:36:00.000Z","_content":"近期使用chrome出现打开一些网站老是弹出莫名其妙的网址\n\n最终指向的都是Reimage Repair，网址zh.reimageplus.com\n<img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6gy1fh9ch85t3lj20sb0h8acu.jpg\" alt=\"Reimage Repair\" />\n网上一查，貌似因为插件被污染的原因\n\n我关闭chrome所有的插件，一个一个排查，最后找到了一个插件出问题\n\n本来还想去举报，发现这个插件被下架了\n\n问题排查\n```\n右上角菜单按钮 ---更多工具 --- 扩展程序 --- 关闭所有插件\n然后一个个打开，测试某些网页是否还会继续跳出那恶心的东西\n然后就找到问题了。\n```","source":"_posts/浏览器出现：Reimage Repair - zh.reimageplus.com.md","raw":"---\ntitle: 浏览器出现：Reimage Repair - zh.reimageplus.com\nkeywords: [Reimage Repair,zh.reimageplus.com]\ndate: 2017/7/5 21:36\ntags: [毒瘤]\ncategories: 软件\n---\n近期使用chrome出现打开一些网站老是弹出莫名其妙的网址\n\n最终指向的都是Reimage Repair，网址zh.reimageplus.com\n<img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6gy1fh9ch85t3lj20sb0h8acu.jpg\" alt=\"Reimage Repair\" />\n网上一查，貌似因为插件被污染的原因\n\n我关闭chrome所有的插件，一个一个排查，最后找到了一个插件出问题\n\n本来还想去举报，发现这个插件被下架了\n\n问题排查\n```\n右上角菜单按钮 ---更多工具 --- 扩展程序 --- 关闭所有插件\n然后一个个打开，测试某些网页是否还会继续跳出那恶心的东西\n然后就找到问题了。\n```","slug":"浏览器出现：Reimage Repair - zh.reimageplus.com","published":1,"updated":"2017-07-05T13:49:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu600d1olejbp4qs3r3","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>近期使用chrome出现打开一些网站老是弹出莫名其妙的网址</p><p>最终指向的都是Reimage Repair，网址zh.reimageplus.com<br><img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6gy1fh9ch85t3lj20sb0h8acu.jpg\" alt=\"Reimage Repair\"><br>网上一查，貌似因为插件被污染的原因</p><p>我关闭chrome所有的插件，一个一个排查，最后找到了一个插件出问题</p><p>本来还想去举报，发现这个插件被下架了</p><p>问题排查<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">右上角菜单按钮 ---更多工具 --- 扩展程序 --- 关闭所有插件</span><br><span class=\"line\">然后一个个打开，测试某些网页是否还会继续跳出那恶心的东西</span><br><span class=\"line\">然后就找到问题了。</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>近期使用chrome出现打开一些网站老是弹出莫名其妙的网址</p><p>最终指向的都是Reimage Repair，网址zh.reimageplus.com<br><img src=\"http://wx2.sinaimg.cn/mw690/b2e389b6gy1fh9ch85t3lj20sb0h8acu.jpg\" alt=\"Reimage Repair\"><br>网上一查，貌似因为插件被污染的原因</p><p>我关闭chrome所有的插件，一个一个排查，最后找到了一个插件出问题</p><p>本来还想去举报，发现这个插件被下架了</p><p>问题排查<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">右上角菜单按钮 ---更多工具 --- 扩展程序 --- 关闭所有插件</span><br><span class=\"line\">然后一个个打开，测试某些网页是否还会继续跳出那恶心的东西</span><br><span class=\"line\">然后就找到问题了。</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"笔记 - 读后感：《第一本Docker书》","keywords":["docker","第一本docker书"],"date":"2018-01-27T12:59:00.000Z","_content":"忘记开始是在什么地方看到docker这个东西\n\n后面觉得挺好玩，也试了很多次，找过很多的教程。\n\n搭建了一个zookeeper的集群(docker-compose)\n\n然后当我需要搭建redis集群的时候，发现里面很多的概念还不是很懂\n\n比如：volume network\n\n然后加了docker的群，遇到了在以前idea群里面熟的一个人\n\n花了一天的时间看完他传的一本书，昨天买的几本书晚上也到了。\n（docker从入门到实践、java并发编程的艺术、effective java中文版 2）\n\n这本书总体来说还行，就是过时了，还在用link，毕竟三年前的东西\n\n有些例子也报错，主要是ruby相关的不行，提醒需要2.2以上的版本\n\n下面是随便做的一点笔记\n<!--more-->\n```\n# 所有容器，不加-a只显示正在运行的；-1 列出最后一次运行的\ndocker ps -a\n# 启动一个已经停止的容器(id，--name 都可以)\ndocker start hisen_container\n# 进入容器(容器重启之后进入交换行)\ndocker attach hisen_container\n# 创建一个守护式容器\ndocker -d\n# 查看日志 可选 -f 类似tail -f Ctrl+c 退出\ndocker logs hisen_container\n# 查看容器内的进程\ndocker top hisen_container\n# 在容器内部运行进程\ndocker exec -d hisen_container touch /etc/new_conf_file\n# 停止守护式容器\ndocker stop hisen_container\n# 自动重启容器\ndocker run --restart=always ....\n=on-failure:5 当容器退出代码为非0时，docker会自动重启，最多重试5次\n# 深入容器,会以json串显示更多容器信息\ndocker inspect hisen_container \n# 删除容器，要先stop才行\ndocker rm hisen_container\n# 删除所有容器 -a:所有容器 -q:只返回容器的ID\ndocker rm 'docker ps -a -q'\n# 启动新的名字为other_hisen_container的容器，并且进入bash shell\ndocker run -i -t --name other_hisen_container ubuntu /bin/bash\n# docker文件系统层\n可写容器\n镜像(比如tomcat)\n基础镜像(比如ubuntu)\n引导文件系统(容器组、命名空间、设备映射)\n内核\n# docker简单构成\n顶层的读写层+底部不可变的可读层还有一些配置，就成了一个容器。\n# 列出所有镜像\ndocker images\n# 仓库名:tag 如果没有指定，默认latest\n# 推荐使用Dockerfile构建镜像\nFROM ubuntu:14.04\nMAINTAINER hisenyuan \"hisenyuan@gmail.com\"\nRUN apt-get update \\\n&& apt-getinstall -y nginx \\\n&& echo 'Hi,I am in your container' \\\n   /usr/share/nginx/html/index.html\nEXPOSE 80\n# 构建镜像，在上面的dockerfile目录\ndocker build -t=\"hisenyuan/static_web\" .\n# 查看构建过程，以及镜像的每一层\ndocker history 791397495f7a\n# 运行构建的镜像 -p端口映射 nginx -g \"daemon off;\" 前台运行nginx\ndocker run -d -p 80:80 --name static_web hisenyuan/static_web nginx -g \"daemon off;\"\n# Dockerfile指令\nRUN 镜像构建的时候才会执行\nCMD 启动一个容器的时候要运行的命令，如有多个，只会生效最后一个，前面的多个会被忽略\nENTRYPOINT 例子:ENTRYPOINT [\"/usr/sbin/nginx\",\"-g\",\"daemon off;\"],这个命令不容易覆盖，CMD容易被RUN覆盖\nWORKDIR 设定工作目录，ENTRYPOINT CMD 会在这个目录执行\nENV 设置构建时的环境变量，设置之后可以在后续的RUN命令使用\nUSER 设置运行的用户\nVOLUME 向基于镜像创建的容器添加卷。\n1.卷可以在容器间共享和重用\n2.一个容器不是必须和其他容器共享卷\n3.对卷的修改是立即生效的\n4.对卷的修改不会对更新镜像产生影响\n5.卷会一直存在，直到没有任何容器再使用他\nVOLUME [\"/opt/project\"] 创建一个名为/opt/project的挂载点\nADD 添加上下文目录的文件到构架容器中，如果是压缩包，会自动解压。会使构建缓存无效\nCOPY 类似ADD、只会在上下文复制文件、也不会解压\nONBUILD 为镜像添加触发器，当一个镜像被用作其他镜像的基础镜像时，该镜像中的触发器将会被执行。\n# 删除镜像，会删除这个镜像的每一层\ndocker rmi hisenyuan/static_web\n# 运行一个registry\ndocker run -p 5000:5000 registry\n# 推送镜像到registry\ndocker tag 791397495f7a yourip:5000/hisenyuan/static_web #打标签\ndocker push yourip:5000/hisenyuan/static_web #推送到本地注册容器\ndocker run -t -i docker yourip:5000/hisenyuan/static_web /bin/bash #从registry运行一个容器\n\n==========第五章 在测试中使用docker==========\n5.1 使用docker测试静态网站\n5.1.1 sample网站的初始Dockerfile\nhisen@docker1:~/docker$ mkdir sample\nhisen@docker1:~/docker$ cd sample/\nhisen@docker1:~/docker/sample$ touch Dockerfile\nhisen@docker1:~/docker/sample$ mkdir nginx && cd nginx\nhisen@docker1:~/docker/sample/nginx$ vi global.conf\nserver {\n        listen          0.0.0.0:80;\n        server_name     _;\n\n        root            /var/www/html/website;\n        index           index.html index.htm;\n\n        access_log      /var/log/nginx/default_access.log;\n        error_log       /var/log/nginx/default_error.log;\n}\n\nhisen@docker1:~/docker/sample/nginx$ vi nginx.conf\nuser www-data;\nworker_processes 4;\npid /run/nginx.pid;\ndaemon off;\n\nevents {  }\n\nhttp {\n  sendfile on;\n  tcp_nopush on;\n  tcp_nodelay on;\n  keepalive_timeout 65;\n  types_hash_max_size 2048;\n  include /etc/nginx/mime.types;\n  default_type application/octet-stream;\n  access_log /var/log/nginx/access.log;\n  error_log /var/log/nginx/error.log;\n  gzip on;\n  gzip_disable \"msie6\";\n  include /etc/nginx/conf.d/*.conf;\n}\nhisen@docker1:~/docker/sample/nginx$ vi Dockerfile\nFROM ubuntu:14.04\nMAINTAINER hisenyuan \"hisenyuan@gmail.com\"\nENV REFRESHED_AT 2018-01-27\nRUN apt-get update \\\n && apt-get -y -q install nginx \\\n && mkdir -p /var/www/html\nADD nginx/global.conf /etc/nginx/conf.d/\nADD nginx/nginx.conf /etc/nginx/nginx.conf\nEXPOSE 80\nhisen@docker1:~/docker/sample/nginx/website$ vi index.html\n<head>\n\t<title>Test website</title>\n</head>\n<body>\n\t<h1>This is a test website</h1>\n</body>\nhisen@docker1:~/docker/sample/nginx$ docker build -t hisenyuan/nginx .\nhisen@docker1:~/docker/sample/nginx$ docker run -d -p 8080:80 --name website \\\n> -v $PWD/website:/var/www/html/website \\\n> hisenyuan/nginx nginx # 因为已经在配置文件指定了daemon off，所以能直接启动\n# -v 指定了卷的源目录，挂载本地$PWD/website到容器/var/www/html/website目录，conf配置文件指定了工作目录\n\n# 修改之后，刷新浏览器，立马就生效\nhisen@docker1:~/docker/sample/nginx$ vi $PWD/website/index.html\n<head>\n<title>Test website - hisenyuan</title>\n</head>\n<body>\n<h1>This is a test website</h1>\n<h2>2018年1月27日 13:20:13</h2>\n</body>\n\n5.2 使用docker构建并测试web应用程序\n5.2.1 构建sinatra应用程序\n# 创建Dockerfile\nhisen@docker1:~/docker/sinatra$ vi Dockerfile\nFROM ubuntu:14.04\nMAINTINER hisenyuan \"hisenyuan@gmail.com\"\nENV REFRESHED 2018-01-27\nRUN apt-get upate \\\n && apt-get -y install ruby ruby-dev build-essential redis-tools \\\n && gem install --no-rdoc --no-ri sinatra json redis \\\n && mkdir -p /opt/webapp\nEXPOSE 4567\n\n# 代码网站：https://dockerbook.com/code/5/sinatra/webapp/\nwget --cut-dir=3 -nH -r --no-parent https://dockerbook.com/code/5/sinatra/webapp/\n\n5.3 docker用于持续集成\n\n==========第六章 使用docker构建服务==========\n6.1 构建第一个应用\n==========第七章 Consul、服务发现与注册==========\n```","source":"_posts/笔记 - 读后感：《第一本Docker书》.md","raw":"---\ntitle: 笔记 - 读后感：《第一本Docker书》\nkeywords: [docker,第一本docker书]\ndate: 2018/1/27 20:59\ntags: [docker]\ncategories: docker\n---\n忘记开始是在什么地方看到docker这个东西\n\n后面觉得挺好玩，也试了很多次，找过很多的教程。\n\n搭建了一个zookeeper的集群(docker-compose)\n\n然后当我需要搭建redis集群的时候，发现里面很多的概念还不是很懂\n\n比如：volume network\n\n然后加了docker的群，遇到了在以前idea群里面熟的一个人\n\n花了一天的时间看完他传的一本书，昨天买的几本书晚上也到了。\n（docker从入门到实践、java并发编程的艺术、effective java中文版 2）\n\n这本书总体来说还行，就是过时了，还在用link，毕竟三年前的东西\n\n有些例子也报错，主要是ruby相关的不行，提醒需要2.2以上的版本\n\n下面是随便做的一点笔记\n<!--more-->\n```\n# 所有容器，不加-a只显示正在运行的；-1 列出最后一次运行的\ndocker ps -a\n# 启动一个已经停止的容器(id，--name 都可以)\ndocker start hisen_container\n# 进入容器(容器重启之后进入交换行)\ndocker attach hisen_container\n# 创建一个守护式容器\ndocker -d\n# 查看日志 可选 -f 类似tail -f Ctrl+c 退出\ndocker logs hisen_container\n# 查看容器内的进程\ndocker top hisen_container\n# 在容器内部运行进程\ndocker exec -d hisen_container touch /etc/new_conf_file\n# 停止守护式容器\ndocker stop hisen_container\n# 自动重启容器\ndocker run --restart=always ....\n=on-failure:5 当容器退出代码为非0时，docker会自动重启，最多重试5次\n# 深入容器,会以json串显示更多容器信息\ndocker inspect hisen_container \n# 删除容器，要先stop才行\ndocker rm hisen_container\n# 删除所有容器 -a:所有容器 -q:只返回容器的ID\ndocker rm 'docker ps -a -q'\n# 启动新的名字为other_hisen_container的容器，并且进入bash shell\ndocker run -i -t --name other_hisen_container ubuntu /bin/bash\n# docker文件系统层\n可写容器\n镜像(比如tomcat)\n基础镜像(比如ubuntu)\n引导文件系统(容器组、命名空间、设备映射)\n内核\n# docker简单构成\n顶层的读写层+底部不可变的可读层还有一些配置，就成了一个容器。\n# 列出所有镜像\ndocker images\n# 仓库名:tag 如果没有指定，默认latest\n# 推荐使用Dockerfile构建镜像\nFROM ubuntu:14.04\nMAINTAINER hisenyuan \"hisenyuan@gmail.com\"\nRUN apt-get update \\\n&& apt-getinstall -y nginx \\\n&& echo 'Hi,I am in your container' \\\n   /usr/share/nginx/html/index.html\nEXPOSE 80\n# 构建镜像，在上面的dockerfile目录\ndocker build -t=\"hisenyuan/static_web\" .\n# 查看构建过程，以及镜像的每一层\ndocker history 791397495f7a\n# 运行构建的镜像 -p端口映射 nginx -g \"daemon off;\" 前台运行nginx\ndocker run -d -p 80:80 --name static_web hisenyuan/static_web nginx -g \"daemon off;\"\n# Dockerfile指令\nRUN 镜像构建的时候才会执行\nCMD 启动一个容器的时候要运行的命令，如有多个，只会生效最后一个，前面的多个会被忽略\nENTRYPOINT 例子:ENTRYPOINT [\"/usr/sbin/nginx\",\"-g\",\"daemon off;\"],这个命令不容易覆盖，CMD容易被RUN覆盖\nWORKDIR 设定工作目录，ENTRYPOINT CMD 会在这个目录执行\nENV 设置构建时的环境变量，设置之后可以在后续的RUN命令使用\nUSER 设置运行的用户\nVOLUME 向基于镜像创建的容器添加卷。\n1.卷可以在容器间共享和重用\n2.一个容器不是必须和其他容器共享卷\n3.对卷的修改是立即生效的\n4.对卷的修改不会对更新镜像产生影响\n5.卷会一直存在，直到没有任何容器再使用他\nVOLUME [\"/opt/project\"] 创建一个名为/opt/project的挂载点\nADD 添加上下文目录的文件到构架容器中，如果是压缩包，会自动解压。会使构建缓存无效\nCOPY 类似ADD、只会在上下文复制文件、也不会解压\nONBUILD 为镜像添加触发器，当一个镜像被用作其他镜像的基础镜像时，该镜像中的触发器将会被执行。\n# 删除镜像，会删除这个镜像的每一层\ndocker rmi hisenyuan/static_web\n# 运行一个registry\ndocker run -p 5000:5000 registry\n# 推送镜像到registry\ndocker tag 791397495f7a yourip:5000/hisenyuan/static_web #打标签\ndocker push yourip:5000/hisenyuan/static_web #推送到本地注册容器\ndocker run -t -i docker yourip:5000/hisenyuan/static_web /bin/bash #从registry运行一个容器\n\n==========第五章 在测试中使用docker==========\n5.1 使用docker测试静态网站\n5.1.1 sample网站的初始Dockerfile\nhisen@docker1:~/docker$ mkdir sample\nhisen@docker1:~/docker$ cd sample/\nhisen@docker1:~/docker/sample$ touch Dockerfile\nhisen@docker1:~/docker/sample$ mkdir nginx && cd nginx\nhisen@docker1:~/docker/sample/nginx$ vi global.conf\nserver {\n        listen          0.0.0.0:80;\n        server_name     _;\n\n        root            /var/www/html/website;\n        index           index.html index.htm;\n\n        access_log      /var/log/nginx/default_access.log;\n        error_log       /var/log/nginx/default_error.log;\n}\n\nhisen@docker1:~/docker/sample/nginx$ vi nginx.conf\nuser www-data;\nworker_processes 4;\npid /run/nginx.pid;\ndaemon off;\n\nevents {  }\n\nhttp {\n  sendfile on;\n  tcp_nopush on;\n  tcp_nodelay on;\n  keepalive_timeout 65;\n  types_hash_max_size 2048;\n  include /etc/nginx/mime.types;\n  default_type application/octet-stream;\n  access_log /var/log/nginx/access.log;\n  error_log /var/log/nginx/error.log;\n  gzip on;\n  gzip_disable \"msie6\";\n  include /etc/nginx/conf.d/*.conf;\n}\nhisen@docker1:~/docker/sample/nginx$ vi Dockerfile\nFROM ubuntu:14.04\nMAINTAINER hisenyuan \"hisenyuan@gmail.com\"\nENV REFRESHED_AT 2018-01-27\nRUN apt-get update \\\n && apt-get -y -q install nginx \\\n && mkdir -p /var/www/html\nADD nginx/global.conf /etc/nginx/conf.d/\nADD nginx/nginx.conf /etc/nginx/nginx.conf\nEXPOSE 80\nhisen@docker1:~/docker/sample/nginx/website$ vi index.html\n<head>\n\t<title>Test website</title>\n</head>\n<body>\n\t<h1>This is a test website</h1>\n</body>\nhisen@docker1:~/docker/sample/nginx$ docker build -t hisenyuan/nginx .\nhisen@docker1:~/docker/sample/nginx$ docker run -d -p 8080:80 --name website \\\n> -v $PWD/website:/var/www/html/website \\\n> hisenyuan/nginx nginx # 因为已经在配置文件指定了daemon off，所以能直接启动\n# -v 指定了卷的源目录，挂载本地$PWD/website到容器/var/www/html/website目录，conf配置文件指定了工作目录\n\n# 修改之后，刷新浏览器，立马就生效\nhisen@docker1:~/docker/sample/nginx$ vi $PWD/website/index.html\n<head>\n<title>Test website - hisenyuan</title>\n</head>\n<body>\n<h1>This is a test website</h1>\n<h2>2018年1月27日 13:20:13</h2>\n</body>\n\n5.2 使用docker构建并测试web应用程序\n5.2.1 构建sinatra应用程序\n# 创建Dockerfile\nhisen@docker1:~/docker/sinatra$ vi Dockerfile\nFROM ubuntu:14.04\nMAINTINER hisenyuan \"hisenyuan@gmail.com\"\nENV REFRESHED 2018-01-27\nRUN apt-get upate \\\n && apt-get -y install ruby ruby-dev build-essential redis-tools \\\n && gem install --no-rdoc --no-ri sinatra json redis \\\n && mkdir -p /opt/webapp\nEXPOSE 4567\n\n# 代码网站：https://dockerbook.com/code/5/sinatra/webapp/\nwget --cut-dir=3 -nH -r --no-parent https://dockerbook.com/code/5/sinatra/webapp/\n\n5.3 docker用于持续集成\n\n==========第六章 使用docker构建服务==========\n6.1 构建第一个应用\n==========第七章 Consul、服务发现与注册==========\n```","slug":"笔记 - 读后感：《第一本Docker书》","published":1,"updated":"2018-01-27T13:06:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu700d4olej737i48iu","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>忘记开始是在什么地方看到docker这个东西</p><p>后面觉得挺好玩，也试了很多次，找过很多的教程。</p><p>搭建了一个zookeeper的集群(docker-compose)</p><p>然后当我需要搭建redis集群的时候，发现里面很多的概念还不是很懂</p><p>比如：volume network</p><p>然后加了docker的群，遇到了在以前idea群里面熟的一个人</p><p>花了一天的时间看完他传的一本书，昨天买的几本书晚上也到了。<br>（docker从入门到实践、java并发编程的艺术、effective java中文版 2）</p><p>这本书总体来说还行，就是过时了，还在用link，毕竟三年前的东西</p><p>有些例子也报错，主要是ruby相关的不行，提醒需要2.2以上的版本</p><p>下面是随便做的一点笔记<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 所有容器，不加-a只显示正在运行的；-1 列出最后一次运行的</span><br><span class=\"line\">docker ps -a</span><br><span class=\"line\"># 启动一个已经停止的容器(id，--name 都可以)</span><br><span class=\"line\">docker start hisen_container</span><br><span class=\"line\"># 进入容器(容器重启之后进入交换行)</span><br><span class=\"line\">docker attach hisen_container</span><br><span class=\"line\"># 创建一个守护式容器</span><br><span class=\"line\">docker -d</span><br><span class=\"line\"># 查看日志 可选 -f 类似tail -f Ctrl+c 退出</span><br><span class=\"line\">docker logs hisen_container</span><br><span class=\"line\"># 查看容器内的进程</span><br><span class=\"line\">docker top hisen_container</span><br><span class=\"line\"># 在容器内部运行进程</span><br><span class=\"line\">docker exec -d hisen_container touch /etc/new_conf_file</span><br><span class=\"line\"># 停止守护式容器</span><br><span class=\"line\">docker stop hisen_container</span><br><span class=\"line\"># 自动重启容器</span><br><span class=\"line\">docker run --restart=always ....</span><br><span class=\"line\">=on-failure:5 当容器退出代码为非0时，docker会自动重启，最多重试5次</span><br><span class=\"line\"># 深入容器,会以json串显示更多容器信息</span><br><span class=\"line\">docker inspect hisen_container </span><br><span class=\"line\"># 删除容器，要先stop才行</span><br><span class=\"line\">docker rm hisen_container</span><br><span class=\"line\"># 删除所有容器 -a:所有容器 -q:只返回容器的ID</span><br><span class=\"line\">docker rm &apos;docker ps -a -q&apos;</span><br><span class=\"line\"># 启动新的名字为other_hisen_container的容器，并且进入bash shell</span><br><span class=\"line\">docker run -i -t --name other_hisen_container ubuntu /bin/bash</span><br><span class=\"line\"># docker文件系统层</span><br><span class=\"line\">可写容器</span><br><span class=\"line\">镜像(比如tomcat)</span><br><span class=\"line\">基础镜像(比如ubuntu)</span><br><span class=\"line\">引导文件系统(容器组、命名空间、设备映射)</span><br><span class=\"line\">内核</span><br><span class=\"line\"># docker简单构成</span><br><span class=\"line\">顶层的读写层+底部不可变的可读层还有一些配置，就成了一个容器。</span><br><span class=\"line\"># 列出所有镜像</span><br><span class=\"line\">docker images</span><br><span class=\"line\"># 仓库名:tag 如果没有指定，默认latest</span><br><span class=\"line\"># 推荐使用Dockerfile构建镜像</span><br><span class=\"line\">FROM ubuntu:14.04</span><br><span class=\"line\">MAINTAINER hisenyuan &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">RUN apt-get update \\</span><br><span class=\"line\">&amp;&amp; apt-getinstall -y nginx \\</span><br><span class=\"line\">&amp;&amp; echo &apos;Hi,I am in your container&apos; \\</span><br><span class=\"line\">   /usr/share/nginx/html/index.html</span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\"># 构建镜像，在上面的dockerfile目录</span><br><span class=\"line\">docker build -t=&quot;hisenyuan/static_web&quot; .</span><br><span class=\"line\"># 查看构建过程，以及镜像的每一层</span><br><span class=\"line\">docker history 791397495f7a</span><br><span class=\"line\"># 运行构建的镜像 -p端口映射 nginx -g &quot;daemon off;&quot; 前台运行nginx</span><br><span class=\"line\">docker run -d -p 80:80 --name static_web hisenyuan/static_web nginx -g &quot;daemon off;&quot;</span><br><span class=\"line\"># Dockerfile指令</span><br><span class=\"line\">RUN 镜像构建的时候才会执行</span><br><span class=\"line\">CMD 启动一个容器的时候要运行的命令，如有多个，只会生效最后一个，前面的多个会被忽略</span><br><span class=\"line\">ENTRYPOINT 例子:ENTRYPOINT [&quot;/usr/sbin/nginx&quot;,&quot;-g&quot;,&quot;daemon off;&quot;],这个命令不容易覆盖，CMD容易被RUN覆盖</span><br><span class=\"line\">WORKDIR 设定工作目录，ENTRYPOINT CMD 会在这个目录执行</span><br><span class=\"line\">ENV 设置构建时的环境变量，设置之后可以在后续的RUN命令使用</span><br><span class=\"line\">USER 设置运行的用户</span><br><span class=\"line\">VOLUME 向基于镜像创建的容器添加卷。</span><br><span class=\"line\">1.卷可以在容器间共享和重用</span><br><span class=\"line\">2.一个容器不是必须和其他容器共享卷</span><br><span class=\"line\">3.对卷的修改是立即生效的</span><br><span class=\"line\">4.对卷的修改不会对更新镜像产生影响</span><br><span class=\"line\">5.卷会一直存在，直到没有任何容器再使用他</span><br><span class=\"line\">VOLUME [&quot;/opt/project&quot;] 创建一个名为/opt/project的挂载点</span><br><span class=\"line\">ADD 添加上下文目录的文件到构架容器中，如果是压缩包，会自动解压。会使构建缓存无效</span><br><span class=\"line\">COPY 类似ADD、只会在上下文复制文件、也不会解压</span><br><span class=\"line\">ONBUILD 为镜像添加触发器，当一个镜像被用作其他镜像的基础镜像时，该镜像中的触发器将会被执行。</span><br><span class=\"line\"># 删除镜像，会删除这个镜像的每一层</span><br><span class=\"line\">docker rmi hisenyuan/static_web</span><br><span class=\"line\"># 运行一个registry</span><br><span class=\"line\">docker run -p 5000:5000 registry</span><br><span class=\"line\"># 推送镜像到registry</span><br><span class=\"line\">docker tag 791397495f7a yourip:5000/hisenyuan/static_web #打标签</span><br><span class=\"line\">docker push yourip:5000/hisenyuan/static_web #推送到本地注册容器</span><br><span class=\"line\">docker run -t -i docker yourip:5000/hisenyuan/static_web /bin/bash #从registry运行一个容器</span><br><span class=\"line\"></span><br><span class=\"line\">==========第五章 在测试中使用docker==========</span><br><span class=\"line\">5.1 使用docker测试静态网站</span><br><span class=\"line\">5.1.1 sample网站的初始Dockerfile</span><br><span class=\"line\">hisen@docker1:~/docker$ mkdir sample</span><br><span class=\"line\">hisen@docker1:~/docker$ cd sample/</span><br><span class=\"line\">hisen@docker1:~/docker/sample$ touch Dockerfile</span><br><span class=\"line\">hisen@docker1:~/docker/sample$ mkdir nginx &amp;&amp; cd nginx</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi global.conf</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">        listen          0.0.0.0:80;</span><br><span class=\"line\">        server_name     _;</span><br><span class=\"line\"></span><br><span class=\"line\">        root            /var/www/html/website;</span><br><span class=\"line\">        index           index.html index.htm;</span><br><span class=\"line\"></span><br><span class=\"line\">        access_log      /var/log/nginx/default_access.log;</span><br><span class=\"line\">        error_log       /var/log/nginx/default_error.log;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi nginx.conf</span><br><span class=\"line\">user www-data;</span><br><span class=\"line\">worker_processes 4;</span><br><span class=\"line\">pid /run/nginx.pid;</span><br><span class=\"line\">daemon off;</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">  sendfile on;</span><br><span class=\"line\">  tcp_nopush on;</span><br><span class=\"line\">  tcp_nodelay on;</span><br><span class=\"line\">  keepalive_timeout 65;</span><br><span class=\"line\">  types_hash_max_size 2048;</span><br><span class=\"line\">  include /etc/nginx/mime.types;</span><br><span class=\"line\">  default_type application/octet-stream;</span><br><span class=\"line\">  access_log /var/log/nginx/access.log;</span><br><span class=\"line\">  error_log /var/log/nginx/error.log;</span><br><span class=\"line\">  gzip on;</span><br><span class=\"line\">  gzip_disable &quot;msie6&quot;;</span><br><span class=\"line\">  include /etc/nginx/conf.d/*.conf;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi Dockerfile</span><br><span class=\"line\">FROM ubuntu:14.04</span><br><span class=\"line\">MAINTAINER hisenyuan &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">ENV REFRESHED_AT 2018-01-27</span><br><span class=\"line\">RUN apt-get update \\</span><br><span class=\"line\"> &amp;&amp; apt-get -y -q install nginx \\</span><br><span class=\"line\"> &amp;&amp; mkdir -p /var/www/html</span><br><span class=\"line\">ADD nginx/global.conf /etc/nginx/conf.d/</span><br><span class=\"line\">ADD nginx/nginx.conf /etc/nginx/nginx.conf</span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx/website$ vi index.html</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">\t&lt;title&gt;Test website&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">\t&lt;h1&gt;This is a test website&lt;/h1&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ docker build -t hisenyuan/nginx .</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ docker run -d -p 8080:80 --name website \\</span><br><span class=\"line\">&gt; -v $PWD/website:/var/www/html/website \\</span><br><span class=\"line\">&gt; hisenyuan/nginx nginx # 因为已经在配置文件指定了daemon off，所以能直接启动</span><br><span class=\"line\"># -v 指定了卷的源目录，挂载本地$PWD/website到容器/var/www/html/website目录，conf配置文件指定了工作目录</span><br><span class=\"line\"></span><br><span class=\"line\"># 修改之后，刷新浏览器，立马就生效</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi $PWD/website/index.html</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;Test website - hisenyuan&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;This is a test website&lt;/h1&gt;</span><br><span class=\"line\">&lt;h2&gt;2018年1月27日 13:20:13&lt;/h2&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">5.2 使用docker构建并测试web应用程序</span><br><span class=\"line\">5.2.1 构建sinatra应用程序</span><br><span class=\"line\"># 创建Dockerfile</span><br><span class=\"line\">hisen@docker1:~/docker/sinatra$ vi Dockerfile</span><br><span class=\"line\">FROM ubuntu:14.04</span><br><span class=\"line\">MAINTINER hisenyuan &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">ENV REFRESHED 2018-01-27</span><br><span class=\"line\">RUN apt-get upate \\</span><br><span class=\"line\"> &amp;&amp; apt-get -y install ruby ruby-dev build-essential redis-tools \\</span><br><span class=\"line\"> &amp;&amp; gem install --no-rdoc --no-ri sinatra json redis \\</span><br><span class=\"line\"> &amp;&amp; mkdir -p /opt/webapp</span><br><span class=\"line\">EXPOSE 4567</span><br><span class=\"line\"></span><br><span class=\"line\"># 代码网站：https://dockerbook.com/code/5/sinatra/webapp/</span><br><span class=\"line\">wget --cut-dir=3 -nH -r --no-parent https://dockerbook.com/code/5/sinatra/webapp/</span><br><span class=\"line\"></span><br><span class=\"line\">5.3 docker用于持续集成</span><br><span class=\"line\"></span><br><span class=\"line\">==========第六章 使用docker构建服务==========</span><br><span class=\"line\">6.1 构建第一个应用</span><br><span class=\"line\">==========第七章 Consul、服务发现与注册==========</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>忘记开始是在什么地方看到docker这个东西</p><p>后面觉得挺好玩，也试了很多次，找过很多的教程。</p><p>搭建了一个zookeeper的集群(docker-compose)</p><p>然后当我需要搭建redis集群的时候，发现里面很多的概念还不是很懂</p><p>比如：volume network</p><p>然后加了docker的群，遇到了在以前idea群里面熟的一个人</p><p>花了一天的时间看完他传的一本书，昨天买的几本书晚上也到了。<br>（docker从入门到实践、java并发编程的艺术、effective java中文版 2）</p><p>这本书总体来说还行，就是过时了，还在用link，毕竟三年前的东西</p><p>有些例子也报错，主要是ruby相关的不行，提醒需要2.2以上的版本</p><p>下面是随便做的一点笔记<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 所有容器，不加-a只显示正在运行的；-1 列出最后一次运行的</span><br><span class=\"line\">docker ps -a</span><br><span class=\"line\"># 启动一个已经停止的容器(id，--name 都可以)</span><br><span class=\"line\">docker start hisen_container</span><br><span class=\"line\"># 进入容器(容器重启之后进入交换行)</span><br><span class=\"line\">docker attach hisen_container</span><br><span class=\"line\"># 创建一个守护式容器</span><br><span class=\"line\">docker -d</span><br><span class=\"line\"># 查看日志 可选 -f 类似tail -f Ctrl+c 退出</span><br><span class=\"line\">docker logs hisen_container</span><br><span class=\"line\"># 查看容器内的进程</span><br><span class=\"line\">docker top hisen_container</span><br><span class=\"line\"># 在容器内部运行进程</span><br><span class=\"line\">docker exec -d hisen_container touch /etc/new_conf_file</span><br><span class=\"line\"># 停止守护式容器</span><br><span class=\"line\">docker stop hisen_container</span><br><span class=\"line\"># 自动重启容器</span><br><span class=\"line\">docker run --restart=always ....</span><br><span class=\"line\">=on-failure:5 当容器退出代码为非0时，docker会自动重启，最多重试5次</span><br><span class=\"line\"># 深入容器,会以json串显示更多容器信息</span><br><span class=\"line\">docker inspect hisen_container </span><br><span class=\"line\"># 删除容器，要先stop才行</span><br><span class=\"line\">docker rm hisen_container</span><br><span class=\"line\"># 删除所有容器 -a:所有容器 -q:只返回容器的ID</span><br><span class=\"line\">docker rm &apos;docker ps -a -q&apos;</span><br><span class=\"line\"># 启动新的名字为other_hisen_container的容器，并且进入bash shell</span><br><span class=\"line\">docker run -i -t --name other_hisen_container ubuntu /bin/bash</span><br><span class=\"line\"># docker文件系统层</span><br><span class=\"line\">可写容器</span><br><span class=\"line\">镜像(比如tomcat)</span><br><span class=\"line\">基础镜像(比如ubuntu)</span><br><span class=\"line\">引导文件系统(容器组、命名空间、设备映射)</span><br><span class=\"line\">内核</span><br><span class=\"line\"># docker简单构成</span><br><span class=\"line\">顶层的读写层+底部不可变的可读层还有一些配置，就成了一个容器。</span><br><span class=\"line\"># 列出所有镜像</span><br><span class=\"line\">docker images</span><br><span class=\"line\"># 仓库名:tag 如果没有指定，默认latest</span><br><span class=\"line\"># 推荐使用Dockerfile构建镜像</span><br><span class=\"line\">FROM ubuntu:14.04</span><br><span class=\"line\">MAINTAINER hisenyuan &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">RUN apt-get update \\</span><br><span class=\"line\">&amp;&amp; apt-getinstall -y nginx \\</span><br><span class=\"line\">&amp;&amp; echo &apos;Hi,I am in your container&apos; \\</span><br><span class=\"line\">   /usr/share/nginx/html/index.html</span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\"># 构建镜像，在上面的dockerfile目录</span><br><span class=\"line\">docker build -t=&quot;hisenyuan/static_web&quot; .</span><br><span class=\"line\"># 查看构建过程，以及镜像的每一层</span><br><span class=\"line\">docker history 791397495f7a</span><br><span class=\"line\"># 运行构建的镜像 -p端口映射 nginx -g &quot;daemon off;&quot; 前台运行nginx</span><br><span class=\"line\">docker run -d -p 80:80 --name static_web hisenyuan/static_web nginx -g &quot;daemon off;&quot;</span><br><span class=\"line\"># Dockerfile指令</span><br><span class=\"line\">RUN 镜像构建的时候才会执行</span><br><span class=\"line\">CMD 启动一个容器的时候要运行的命令，如有多个，只会生效最后一个，前面的多个会被忽略</span><br><span class=\"line\">ENTRYPOINT 例子:ENTRYPOINT [&quot;/usr/sbin/nginx&quot;,&quot;-g&quot;,&quot;daemon off;&quot;],这个命令不容易覆盖，CMD容易被RUN覆盖</span><br><span class=\"line\">WORKDIR 设定工作目录，ENTRYPOINT CMD 会在这个目录执行</span><br><span class=\"line\">ENV 设置构建时的环境变量，设置之后可以在后续的RUN命令使用</span><br><span class=\"line\">USER 设置运行的用户</span><br><span class=\"line\">VOLUME 向基于镜像创建的容器添加卷。</span><br><span class=\"line\">1.卷可以在容器间共享和重用</span><br><span class=\"line\">2.一个容器不是必须和其他容器共享卷</span><br><span class=\"line\">3.对卷的修改是立即生效的</span><br><span class=\"line\">4.对卷的修改不会对更新镜像产生影响</span><br><span class=\"line\">5.卷会一直存在，直到没有任何容器再使用他</span><br><span class=\"line\">VOLUME [&quot;/opt/project&quot;] 创建一个名为/opt/project的挂载点</span><br><span class=\"line\">ADD 添加上下文目录的文件到构架容器中，如果是压缩包，会自动解压。会使构建缓存无效</span><br><span class=\"line\">COPY 类似ADD、只会在上下文复制文件、也不会解压</span><br><span class=\"line\">ONBUILD 为镜像添加触发器，当一个镜像被用作其他镜像的基础镜像时，该镜像中的触发器将会被执行。</span><br><span class=\"line\"># 删除镜像，会删除这个镜像的每一层</span><br><span class=\"line\">docker rmi hisenyuan/static_web</span><br><span class=\"line\"># 运行一个registry</span><br><span class=\"line\">docker run -p 5000:5000 registry</span><br><span class=\"line\"># 推送镜像到registry</span><br><span class=\"line\">docker tag 791397495f7a yourip:5000/hisenyuan/static_web #打标签</span><br><span class=\"line\">docker push yourip:5000/hisenyuan/static_web #推送到本地注册容器</span><br><span class=\"line\">docker run -t -i docker yourip:5000/hisenyuan/static_web /bin/bash #从registry运行一个容器</span><br><span class=\"line\"></span><br><span class=\"line\">==========第五章 在测试中使用docker==========</span><br><span class=\"line\">5.1 使用docker测试静态网站</span><br><span class=\"line\">5.1.1 sample网站的初始Dockerfile</span><br><span class=\"line\">hisen@docker1:~/docker$ mkdir sample</span><br><span class=\"line\">hisen@docker1:~/docker$ cd sample/</span><br><span class=\"line\">hisen@docker1:~/docker/sample$ touch Dockerfile</span><br><span class=\"line\">hisen@docker1:~/docker/sample$ mkdir nginx &amp;&amp; cd nginx</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi global.conf</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">        listen          0.0.0.0:80;</span><br><span class=\"line\">        server_name     _;</span><br><span class=\"line\"></span><br><span class=\"line\">        root            /var/www/html/website;</span><br><span class=\"line\">        index           index.html index.htm;</span><br><span class=\"line\"></span><br><span class=\"line\">        access_log      /var/log/nginx/default_access.log;</span><br><span class=\"line\">        error_log       /var/log/nginx/default_error.log;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi nginx.conf</span><br><span class=\"line\">user www-data;</span><br><span class=\"line\">worker_processes 4;</span><br><span class=\"line\">pid /run/nginx.pid;</span><br><span class=\"line\">daemon off;</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">  sendfile on;</span><br><span class=\"line\">  tcp_nopush on;</span><br><span class=\"line\">  tcp_nodelay on;</span><br><span class=\"line\">  keepalive_timeout 65;</span><br><span class=\"line\">  types_hash_max_size 2048;</span><br><span class=\"line\">  include /etc/nginx/mime.types;</span><br><span class=\"line\">  default_type application/octet-stream;</span><br><span class=\"line\">  access_log /var/log/nginx/access.log;</span><br><span class=\"line\">  error_log /var/log/nginx/error.log;</span><br><span class=\"line\">  gzip on;</span><br><span class=\"line\">  gzip_disable &quot;msie6&quot;;</span><br><span class=\"line\">  include /etc/nginx/conf.d/*.conf;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi Dockerfile</span><br><span class=\"line\">FROM ubuntu:14.04</span><br><span class=\"line\">MAINTAINER hisenyuan &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">ENV REFRESHED_AT 2018-01-27</span><br><span class=\"line\">RUN apt-get update \\</span><br><span class=\"line\"> &amp;&amp; apt-get -y -q install nginx \\</span><br><span class=\"line\"> &amp;&amp; mkdir -p /var/www/html</span><br><span class=\"line\">ADD nginx/global.conf /etc/nginx/conf.d/</span><br><span class=\"line\">ADD nginx/nginx.conf /etc/nginx/nginx.conf</span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx/website$ vi index.html</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">\t&lt;title&gt;Test website&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">\t&lt;h1&gt;This is a test website&lt;/h1&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ docker build -t hisenyuan/nginx .</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ docker run -d -p 8080:80 --name website \\</span><br><span class=\"line\">&gt; -v $PWD/website:/var/www/html/website \\</span><br><span class=\"line\">&gt; hisenyuan/nginx nginx # 因为已经在配置文件指定了daemon off，所以能直接启动</span><br><span class=\"line\"># -v 指定了卷的源目录，挂载本地$PWD/website到容器/var/www/html/website目录，conf配置文件指定了工作目录</span><br><span class=\"line\"></span><br><span class=\"line\"># 修改之后，刷新浏览器，立马就生效</span><br><span class=\"line\">hisen@docker1:~/docker/sample/nginx$ vi $PWD/website/index.html</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;Test website - hisenyuan&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;This is a test website&lt;/h1&gt;</span><br><span class=\"line\">&lt;h2&gt;2018年1月27日 13:20:13&lt;/h2&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">5.2 使用docker构建并测试web应用程序</span><br><span class=\"line\">5.2.1 构建sinatra应用程序</span><br><span class=\"line\"># 创建Dockerfile</span><br><span class=\"line\">hisen@docker1:~/docker/sinatra$ vi Dockerfile</span><br><span class=\"line\">FROM ubuntu:14.04</span><br><span class=\"line\">MAINTINER hisenyuan &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\">ENV REFRESHED 2018-01-27</span><br><span class=\"line\">RUN apt-get upate \\</span><br><span class=\"line\"> &amp;&amp; apt-get -y install ruby ruby-dev build-essential redis-tools \\</span><br><span class=\"line\"> &amp;&amp; gem install --no-rdoc --no-ri sinatra json redis \\</span><br><span class=\"line\"> &amp;&amp; mkdir -p /opt/webapp</span><br><span class=\"line\">EXPOSE 4567</span><br><span class=\"line\"></span><br><span class=\"line\"># 代码网站：https://dockerbook.com/code/5/sinatra/webapp/</span><br><span class=\"line\">wget --cut-dir=3 -nH -r --no-parent https://dockerbook.com/code/5/sinatra/webapp/</span><br><span class=\"line\"></span><br><span class=\"line\">5.3 docker用于持续集成</span><br><span class=\"line\"></span><br><span class=\"line\">==========第六章 使用docker构建服务==========</span><br><span class=\"line\">6.1 构建第一个应用</span><br><span class=\"line\">==========第七章 Consul、服务发现与注册==========</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"网关、快捷支付，代收代付，账户托管，二维码扫码支付","keywords":["网关","快捷支付","代收代付","账户托管","二维码扫码支付"],"date":"2017-02-13T13:44:47.000Z","_content":"一、网关支付\n---\n这是在线支付的最普遍形式。\n大致支付过程：第三方支付公司作为代理（网关），接入一堆银行。用户在网关页面（可以在商户端，也可以第三方支付平台端）选择银行，页面跳转到第三方支付平台，然后重定向到对应的银行，用户在银行电子银行官网，采用网银（个人网银或企业网银）完成支付。\n\n网关支付分为：B2C、B2B两类。\n涉及的概念：网银支付、银行卡支付。\n\n我们一般说的网关支付是指在PC上的在线支付，由于国内银行基本上都要求安装对应的安全控件，且需要银行的网银客户端，这也是大家经常抱怨网银不支持MAC/Linux等操作系统、不支持除IE外的浏览器等兼容性问题。\n在手机端也有类似网关支付的形态，但由于操作过程较为麻烦，体验不好，一般都采用快捷支付等支付形式。\n\n二、快捷支付\n---\n<!--more-->\n快捷支付一般是指首次需要验证卡要素，生成协议号或者TOKEN,后面支付直接凭协议号扣款。走的交易形式是消费。快捷支付相比于我们原先说的无磁无密支付[MOTO]在限额上有劣势，体验上有优势。\n一个相当于长期关系，MOTO相当于一次性关系，每次来都要输入卡要素。\n\n三、代收代付\n---\n代收代付业务是我社利用自身的结算便利，接受客户的委托代为办理指定款项的收付事宜的业务。\n\n由中介公司或第三方代为收取和支付费用。\n\n顾名思义，代收代付是指先付出去，然后再收回来，金额必须相等。\n\n比如代办运输业务，如果是收取一定比率的手续费，就改变了性质。\n\n代收代付业务分录：\n\n代付时，借：其他应收款  贷：银行存款\n\n收回时，借：银行存款    贷：其他应收款\n\n四、账户托管\n---\n待完善\n\n五、二维码扫码支付\n--\n微信扫码业务流程说明：\n\n1. 商户后台系统根据用户选购的商品生成订单。\n2. 用户确认支付后调用微信支付【统一下单API】生成预支付交易；\n3. 微信支付系统收到请求后生成预支付交易单，并返回交易会话的二维码链接code_url。\n4. 商户后台系统根据返回的code_url生成二维码。\n5. 用户打开微信“扫一扫”扫描二维码，微信客户端将扫码内容发送到微信支付系统。\n6. 微信支付系统收到客户端请求，验证链接有效性后发起用户支付，要求用户授权。\n7. 用户在微信客户端输入密码，确认支付后，微信客户端提交授权。\n8. 微信支付系统根据用户授权完成支付交易。\n9. 微信支付系统完成支付交易后给微信客户端返回交易结果，并将交易结果通过短信、微信消息提示用户。微信客户端展示支付交易结果页面。\n10. 微信支付系统通过发送异步消息通知商户后台系统支付结果。商户后台系统需回复接收情况，通知微信后台系统不再发送该单的支付通知。\n11. 未收到支付通知的情况，商户后台系统调用【查询订单API】。\n12. 商户确认订单已支付后给用户发货。\n\n\n日后需要用到这方面的东西，先整理一番\n\n系统的学习或者理解之后再来说说深层次的东西。","source":"_posts/网关、快捷支付，代收代付，账户托管，二维码扫码支付.md","raw":"---\ntitle: 网关、快捷支付，代收代付，账户托管，二维码扫码支付\nkeywords: [网关,快捷支付,代收代付,账户托管,二维码扫码支付]\ntags: [支付]\ndate: 2017-02-13 21:44:47\ncategories: [三方支付]\n---\n一、网关支付\n---\n这是在线支付的最普遍形式。\n大致支付过程：第三方支付公司作为代理（网关），接入一堆银行。用户在网关页面（可以在商户端，也可以第三方支付平台端）选择银行，页面跳转到第三方支付平台，然后重定向到对应的银行，用户在银行电子银行官网，采用网银（个人网银或企业网银）完成支付。\n\n网关支付分为：B2C、B2B两类。\n涉及的概念：网银支付、银行卡支付。\n\n我们一般说的网关支付是指在PC上的在线支付，由于国内银行基本上都要求安装对应的安全控件，且需要银行的网银客户端，这也是大家经常抱怨网银不支持MAC/Linux等操作系统、不支持除IE外的浏览器等兼容性问题。\n在手机端也有类似网关支付的形态，但由于操作过程较为麻烦，体验不好，一般都采用快捷支付等支付形式。\n\n二、快捷支付\n---\n<!--more-->\n快捷支付一般是指首次需要验证卡要素，生成协议号或者TOKEN,后面支付直接凭协议号扣款。走的交易形式是消费。快捷支付相比于我们原先说的无磁无密支付[MOTO]在限额上有劣势，体验上有优势。\n一个相当于长期关系，MOTO相当于一次性关系，每次来都要输入卡要素。\n\n三、代收代付\n---\n代收代付业务是我社利用自身的结算便利，接受客户的委托代为办理指定款项的收付事宜的业务。\n\n由中介公司或第三方代为收取和支付费用。\n\n顾名思义，代收代付是指先付出去，然后再收回来，金额必须相等。\n\n比如代办运输业务，如果是收取一定比率的手续费，就改变了性质。\n\n代收代付业务分录：\n\n代付时，借：其他应收款  贷：银行存款\n\n收回时，借：银行存款    贷：其他应收款\n\n四、账户托管\n---\n待完善\n\n五、二维码扫码支付\n--\n微信扫码业务流程说明：\n\n1. 商户后台系统根据用户选购的商品生成订单。\n2. 用户确认支付后调用微信支付【统一下单API】生成预支付交易；\n3. 微信支付系统收到请求后生成预支付交易单，并返回交易会话的二维码链接code_url。\n4. 商户后台系统根据返回的code_url生成二维码。\n5. 用户打开微信“扫一扫”扫描二维码，微信客户端将扫码内容发送到微信支付系统。\n6. 微信支付系统收到客户端请求，验证链接有效性后发起用户支付，要求用户授权。\n7. 用户在微信客户端输入密码，确认支付后，微信客户端提交授权。\n8. 微信支付系统根据用户授权完成支付交易。\n9. 微信支付系统完成支付交易后给微信客户端返回交易结果，并将交易结果通过短信、微信消息提示用户。微信客户端展示支付交易结果页面。\n10. 微信支付系统通过发送异步消息通知商户后台系统支付结果。商户后台系统需回复接收情况，通知微信后台系统不再发送该单的支付通知。\n11. 未收到支付通知的情况，商户后台系统调用【查询订单API】。\n12. 商户确认订单已支付后给用户发货。\n\n\n日后需要用到这方面的东西，先整理一番\n\n系统的学习或者理解之后再来说说深层次的东西。","slug":"网关、快捷支付，代收代付，账户托管，二维码扫码支付","published":1,"updated":"2017-02-13T14:04:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdu800d7olejfvkv7ezc","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、网关支付\"><a href=\"#一、网关支付\" class=\"headerlink\" title=\"一、网关支付\"></a>一、网关支付</h2><p>这是在线支付的最普遍形式。<br>大致支付过程：第三方支付公司作为代理（网关），接入一堆银行。用户在网关页面（可以在商户端，也可以第三方支付平台端）选择银行，页面跳转到第三方支付平台，然后重定向到对应的银行，用户在银行电子银行官网，采用网银（个人网银或企业网银）完成支付。</p><p>网关支付分为：B2C、B2B两类。<br>涉及的概念：网银支付、银行卡支付。</p><p>我们一般说的网关支付是指在PC上的在线支付，由于国内银行基本上都要求安装对应的安全控件，且需要银行的网银客户端，这也是大家经常抱怨网银不支持MAC/Linux等操作系统、不支持除IE外的浏览器等兼容性问题。<br>在手机端也有类似网关支付的形态，但由于操作过程较为麻烦，体验不好，一般都采用快捷支付等支付形式。</p><h2 id=\"二、快捷支付\"><a href=\"#二、快捷支付\" class=\"headerlink\" title=\"二、快捷支付\"></a>二、快捷支付</h2><a id=\"more\"></a><p>快捷支付一般是指首次需要验证卡要素，生成协议号或者TOKEN,后面支付直接凭协议号扣款。走的交易形式是消费。快捷支付相比于我们原先说的无磁无密支付[MOTO]在限额上有劣势，体验上有优势。<br>一个相当于长期关系，MOTO相当于一次性关系，每次来都要输入卡要素。</p><h2 id=\"三、代收代付\"><a href=\"#三、代收代付\" class=\"headerlink\" title=\"三、代收代付\"></a>三、代收代付</h2><p>代收代付业务是我社利用自身的结算便利，接受客户的委托代为办理指定款项的收付事宜的业务。</p><p>由中介公司或第三方代为收取和支付费用。</p><p>顾名思义，代收代付是指先付出去，然后再收回来，金额必须相等。</p><p>比如代办运输业务，如果是收取一定比率的手续费，就改变了性质。</p><p>代收代付业务分录：</p><p>代付时，借：其他应收款 贷：银行存款</p><p>收回时，借：银行存款 贷：其他应收款</p><h2 id=\"四、账户托管\"><a href=\"#四、账户托管\" class=\"headerlink\" title=\"四、账户托管\"></a>四、账户托管</h2><p>待完善</p><h2 id=\"五、二维码扫码支付\"><a href=\"#五、二维码扫码支付\" class=\"headerlink\" title=\"五、二维码扫码支付\"></a>五、二维码扫码支付</h2><p>微信扫码业务流程说明：</p><ol><li>商户后台系统根据用户选购的商品生成订单。</li><li>用户确认支付后调用微信支付【统一下单API】生成预支付交易；</li><li>微信支付系统收到请求后生成预支付交易单，并返回交易会话的二维码链接code_url。</li><li>商户后台系统根据返回的code_url生成二维码。</li><li>用户打开微信“扫一扫”扫描二维码，微信客户端将扫码内容发送到微信支付系统。</li><li>微信支付系统收到客户端请求，验证链接有效性后发起用户支付，要求用户授权。</li><li>用户在微信客户端输入密码，确认支付后，微信客户端提交授权。</li><li>微信支付系统根据用户授权完成支付交易。</li><li>微信支付系统完成支付交易后给微信客户端返回交易结果，并将交易结果通过短信、微信消息提示用户。微信客户端展示支付交易结果页面。</li><li>微信支付系统通过发送异步消息通知商户后台系统支付结果。商户后台系统需回复接收情况，通知微信后台系统不再发送该单的支付通知。</li><li>未收到支付通知的情况，商户后台系统调用【查询订单API】。</li><li>商户确认订单已支付后给用户发货。</li></ol><p>日后需要用到这方面的东西，先整理一番</p><p>系统的学习或者理解之后再来说说深层次的东西。</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、网关支付\"><a href=\"#一、网关支付\" class=\"headerlink\" title=\"一、网关支付\"></a>一、网关支付</h2><p>这是在线支付的最普遍形式。<br>大致支付过程：第三方支付公司作为代理（网关），接入一堆银行。用户在网关页面（可以在商户端，也可以第三方支付平台端）选择银行，页面跳转到第三方支付平台，然后重定向到对应的银行，用户在银行电子银行官网，采用网银（个人网银或企业网银）完成支付。</p><p>网关支付分为：B2C、B2B两类。<br>涉及的概念：网银支付、银行卡支付。</p><p>我们一般说的网关支付是指在PC上的在线支付，由于国内银行基本上都要求安装对应的安全控件，且需要银行的网银客户端，这也是大家经常抱怨网银不支持MAC/Linux等操作系统、不支持除IE外的浏览器等兼容性问题。<br>在手机端也有类似网关支付的形态，但由于操作过程较为麻烦，体验不好，一般都采用快捷支付等支付形式。</p><h2 id=\"二、快捷支付\"><a href=\"#二、快捷支付\" class=\"headerlink\" title=\"二、快捷支付\"></a>二、快捷支付</h2>","more":"<p>快捷支付一般是指首次需要验证卡要素，生成协议号或者TOKEN,后面支付直接凭协议号扣款。走的交易形式是消费。快捷支付相比于我们原先说的无磁无密支付[MOTO]在限额上有劣势，体验上有优势。<br>一个相当于长期关系，MOTO相当于一次性关系，每次来都要输入卡要素。</p><h2 id=\"三、代收代付\"><a href=\"#三、代收代付\" class=\"headerlink\" title=\"三、代收代付\"></a>三、代收代付</h2><p>代收代付业务是我社利用自身的结算便利，接受客户的委托代为办理指定款项的收付事宜的业务。</p><p>由中介公司或第三方代为收取和支付费用。</p><p>顾名思义，代收代付是指先付出去，然后再收回来，金额必须相等。</p><p>比如代办运输业务，如果是收取一定比率的手续费，就改变了性质。</p><p>代收代付业务分录：</p><p>代付时，借：其他应收款 贷：银行存款</p><p>收回时，借：银行存款 贷：其他应收款</p><h2 id=\"四、账户托管\"><a href=\"#四、账户托管\" class=\"headerlink\" title=\"四、账户托管\"></a>四、账户托管</h2><p>待完善</p><h2 id=\"五、二维码扫码支付\"><a href=\"#五、二维码扫码支付\" class=\"headerlink\" title=\"五、二维码扫码支付\"></a>五、二维码扫码支付</h2><p>微信扫码业务流程说明：</p><ol><li>商户后台系统根据用户选购的商品生成订单。</li><li>用户确认支付后调用微信支付【统一下单API】生成预支付交易；</li><li>微信支付系统收到请求后生成预支付交易单，并返回交易会话的二维码链接code_url。</li><li>商户后台系统根据返回的code_url生成二维码。</li><li>用户打开微信“扫一扫”扫描二维码，微信客户端将扫码内容发送到微信支付系统。</li><li>微信支付系统收到客户端请求，验证链接有效性后发起用户支付，要求用户授权。</li><li>用户在微信客户端输入密码，确认支付后，微信客户端提交授权。</li><li>微信支付系统根据用户授权完成支付交易。</li><li>微信支付系统完成支付交易后给微信客户端返回交易结果，并将交易结果通过短信、微信消息提示用户。微信客户端展示支付交易结果页面。</li><li>微信支付系统通过发送异步消息通知商户后台系统支付结果。商户后台系统需回复接收情况，通知微信后台系统不再发送该单的支付通知。</li><li>未收到支付通知的情况，商户后台系统调用【查询订单API】。</li><li>商户确认订单已支付后给用户发货。</li></ol><p>日后需要用到这方面的东西，先整理一番</p><p>系统的学习或者理解之后再来说说深层次的东西。</p><!-- rebuild by neat -->"},{"title":"笔记本在BIOS Setup里面设置双显卡模式","keywords":["笔记本设置独显","笔记本设置双显卡","笔记本显卡"],"date":"2017-05-09T01:18:00.000Z","_content":"我的本子是双显卡的，英特尔的核芯显卡和英伟达的独显\n\n但是之前完全没有把独显用上，在英伟达的设置里选择使用显卡感觉也没有用\n\n后来找到在BIOS里面设置，貌似管用，联想的机子可以看看\n\n其他的机子应该也差不多\n\n连接：<a href=\"http://iknow.lenovo.com/detail/dc_102471.html\" target=\"_blank\">http://iknow.lenovo.com/detail/dc_102471.html</a>\n```\n6. IdeaPad Z380/Z480/Z580/U310/U410，Lenovo G480A/V370A/V470A/V570A\n依次选择“Configuration”、“Graphic Device”，其中有两个选项：Optimus表示可切换显卡模式；\nUMA Only表示集显模式。选择好后，按F10并根据提示保存退出即可。\n```\n我的默认居然是：UMA Only","source":"_posts/笔记本在BIOS Setup里面设置双显卡模式.md","raw":"---\ntitle: 笔记本在BIOS Setup里面设置双显卡模式\nkeywords: [笔记本设置独显,笔记本设置双显卡,笔记本显卡]\ndate: 2017/5/9 9:18\ntags: [软件]\ncategories: 软件\n---\n我的本子是双显卡的，英特尔的核芯显卡和英伟达的独显\n\n但是之前完全没有把独显用上，在英伟达的设置里选择使用显卡感觉也没有用\n\n后来找到在BIOS里面设置，貌似管用，联想的机子可以看看\n\n其他的机子应该也差不多\n\n连接：<a href=\"http://iknow.lenovo.com/detail/dc_102471.html\" target=\"_blank\">http://iknow.lenovo.com/detail/dc_102471.html</a>\n```\n6. IdeaPad Z380/Z480/Z580/U310/U410，Lenovo G480A/V370A/V470A/V570A\n依次选择“Configuration”、“Graphic Device”，其中有两个选项：Optimus表示可切换显卡模式；\nUMA Only表示集显模式。选择好后，按F10并根据提示保存退出即可。\n```\n我的默认居然是：UMA Only","slug":"笔记本在BIOS Setup里面设置双显卡模式","published":1,"updated":"2017-05-09T01:26:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdua00dcolejv0al6bxf","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>我的本子是双显卡的，英特尔的核芯显卡和英伟达的独显</p><p>但是之前完全没有把独显用上，在英伟达的设置里选择使用显卡感觉也没有用</p><p>后来找到在BIOS里面设置，貌似管用，联想的机子可以看看</p><p>其他的机子应该也差不多</p><p>连接：<a href=\"http://iknow.lenovo.com/detail/dc_102471.html\" target=\"_blank\">http://iknow.lenovo.com/detail/dc_102471.html</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">6. IdeaPad Z380/Z480/Z580/U310/U410，Lenovo G480A/V370A/V470A/V570A</span><br><span class=\"line\">依次选择“Configuration”、“Graphic Device”，其中有两个选项：Optimus表示可切换显卡模式；</span><br><span class=\"line\">UMA Only表示集显模式。选择好后，按F10并根据提示保存退出即可。</span><br></pre></td></tr></table></figure><p></p><p>我的默认居然是：UMA Only</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>我的本子是双显卡的，英特尔的核芯显卡和英伟达的独显</p><p>但是之前完全没有把独显用上，在英伟达的设置里选择使用显卡感觉也没有用</p><p>后来找到在BIOS里面设置，貌似管用，联想的机子可以看看</p><p>其他的机子应该也差不多</p><p>连接：<a href=\"http://iknow.lenovo.com/detail/dc_102471.html\" target=\"_blank\">http://iknow.lenovo.com/detail/dc_102471.html</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">6. IdeaPad Z380/Z480/Z580/U310/U410，Lenovo G480A/V370A/V470A/V570A</span><br><span class=\"line\">依次选择“Configuration”、“Graphic Device”，其中有两个选项：Optimus表示可切换显卡模式；</span><br><span class=\"line\">UMA Only表示集显模式。选择好后，按F10并根据提示保存退出即可。</span><br></pre></td></tr></table></figure><p></p><p>我的默认居然是：UMA Only</p><!-- rebuild by neat -->"},{"title":"解决：eclipse下*.properties显示Unicode乱码","date":"2017-02-08T12:53:30.000Z","_content":"\neclipse的*.properties文件，默认的编码方式是iso-8859-1\n\nWindow -> preferences -> general -> Contents Types -> Text(展开)\n -> Java Aroperties File(点击) -> *.properties(locked)(点击)\n -> 把iso-8859-1改为 UTF-8 -> Update -> OK\n\n然后就可以正常显示中文了","source":"_posts/解决：eclipse下-properties显示Unicode乱码.md","raw":"---\ntitle: 解决：eclipse下*.properties显示Unicode乱码\ndate: 2017-02-08 20:53:30\ntags: [java,乱码,properties]\n---\n\neclipse的*.properties文件，默认的编码方式是iso-8859-1\n\nWindow -> preferences -> general -> Contents Types -> Text(展开)\n -> Java Aroperties File(点击) -> *.properties(locked)(点击)\n -> 把iso-8859-1改为 UTF-8 -> Update -> OK\n\n然后就可以正常显示中文了","slug":"解决：eclipse下-properties显示Unicode乱码","published":1,"updated":"2017-02-08T12:54:14.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdub00dfolejpr0icsrl","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>eclipse的*.properties文件，默认的编码方式是iso-8859-1</p><p>Window -&gt; preferences -&gt; general -&gt; Contents Types -&gt; Text(展开)<br>-&gt; Java Aroperties File(点击) -&gt; *.properties(locked)(点击)<br>-&gt; 把iso-8859-1改为 UTF-8 -&gt; Update -&gt; OK</p><p>然后就可以正常显示中文了</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>eclipse的*.properties文件，默认的编码方式是iso-8859-1</p><p>Window -&gt; preferences -&gt; general -&gt; Contents Types -&gt; Text(展开)<br>-&gt; Java Aroperties File(点击) -&gt; *.properties(locked)(点击)<br>-&gt; 把iso-8859-1改为 UTF-8 -&gt; Update -&gt; OK</p><p>然后就可以正常显示中文了</p><!-- rebuild by neat -->"},{"title":"解决：html rendering error - MarkdownPad 2","date":"2017-01-19T15:10:54.000Z","_content":"\nMarkdownPad 2在windows 10上会遇到这个错误\n\n官方发布了这个问题的解决办法\n\n详见：<a href=\"http://markdownpad.com/faq.html\" target=\"_blank\">点击前往</a> 页面中搜索：This view has crashed\n\n## 解决办法 ##\nwindows 10系统 需要下载 一个  awesomium_v1.6.6_sdk_win\n\n这是一个 HTML UI ENGINE\n\n下载地址：<a href=\"http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe\" target=\"_blank\">http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe</a>","source":"_posts/解决：html-rendering-error-MarkdownPad-2.md","raw":"---\ntitle: 解决：html rendering error - MarkdownPad 2\ndate: 2017-01-19 23:10:54\ntags: [MarkdownPad,html rendering error]\n---\n\nMarkdownPad 2在windows 10上会遇到这个错误\n\n官方发布了这个问题的解决办法\n\n详见：<a href=\"http://markdownpad.com/faq.html\" target=\"_blank\">点击前往</a> 页面中搜索：This view has crashed\n\n## 解决办法 ##\nwindows 10系统 需要下载 一个  awesomium_v1.6.6_sdk_win\n\n这是一个 HTML UI ENGINE\n\n下载地址：<a href=\"http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe\" target=\"_blank\">http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe</a>","slug":"解决：html-rendering-error-MarkdownPad-2","published":1,"updated":"2017-01-19T15:33:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskduc00diolejy3oegfmc","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>MarkdownPad 2在windows 10上会遇到这个错误</p><p>官方发布了这个问题的解决办法</p><p>详见：<a href=\"http://markdownpad.com/faq.html\" target=\"_blank\">点击前往</a> 页面中搜索：This view has crashed</p><h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>windows 10系统 需要下载 一个 awesomium_v1.6.6_sdk_win</p><p>这是一个 HTML UI ENGINE</p><p>下载地址：<a href=\"http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe\" target=\"_blank\">http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>MarkdownPad 2在windows 10上会遇到这个错误</p><p>官方发布了这个问题的解决办法</p><p>详见：<a href=\"http://markdownpad.com/faq.html\" target=\"_blank\">点击前往</a> 页面中搜索：This view has crashed</p><h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>windows 10系统 需要下载 一个 awesomium_v1.6.6_sdk_win</p><p>这是一个 HTML UI ENGINE</p><p>下载地址：<a href=\"http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe\" target=\"_blank\">http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe</a></p><!-- rebuild by neat -->"},{"title":"记录一次面试过程中交流的一些题","date":"2017-01-25T16:01:16.000Z","_content":"\n以下是面试一家支付类公司的过程当中遇到的面试题\n\n主要是交流比较多，不是先笔试\n\n直接是把这些问题带入到具体的情景当中去\n\n可能这样更能考验出一个人真正的技术水平\n\n1，很多文件，读出数字，加1写回，谈谈你的想法\n\n2，能继承string类?\n```\n不可以，因为String类有final修饰符，而final修饰的类是不能被继承的，实现细节不允许改变。\n```\n3，能有个包名一样的String类?如果有一样的会调用哪个？\n\n\n4，一个主线程等待其他线程完成，如果其中有线程出错怎么办？\n```\n把线程可能会出现的问题处理掉\n出错了能保证让他重新执行\n```\n\n5，Oracle默认端口？\n\n    1521\n\n6，b继承a，b的对象能强转成a嘛？\n\n    不能把一个对象强制转换成另外一个对象\n\n7，数据库去重，删除所有重复记录，只留下一条\n```+sql\nDELETE\nFROM EMP E\nWHERE E.ROWID >\n    (SELECT MIN(X.ROWID)\n     FROM EMP X\n     WHERE X.EMP_NO = E.EMP_NO);\n```\n\n<!-- more -->\n8，try c里面，没打印出错误来，是为什么？\n```\n1.可能是程序执行是正确的\n2.可能存在调用，但是调用的方法里面出现了错误，没有抛出或者是运行时错误\n```\n\n9，JAVA数据类型\n\n| 简单类型 | 二进制位数 | 封装器类 |\n|:-----|:-----|:-----|\n| boolean | 1 | Boolean |\n| byte | 8 | Byte |\n| char | 16 | Character |\n| short | 16 | Short |\n| Int | 32 | Integer |\n| long | 64 | Long |\n| float | 32 | Float |\n| double | 64 | Double |\n| void | -- | Void |\n\n10，银行金额字段\n\n    金融数字是BigDecimal类型\n\n11，用什么解析XML，有什么优缺点\n\n```\nDOM4J(Document Object Model for Java)\n虽然DOM4J代表了完全独立的开发结果，但最初，它是JDOM的一种智能分支。\n它合并了许多超出基本XML文档表示的功能，\n包括集成的XPath支持、XML Schema支持以及用于大文档或流化文档的基于事件的处理。\n它还提供了构建文档表示的选项，它通过DOM4J API和标准DOM接口具有并行访问功能。\n从2000下半年开始，它就一直处于开发之中。\n\n为支持所有这些功能，DOM4J使用接口和抽象基本类方法。\nDOM4J大量使用了API中的Collections类，但是在许多情况下，\n它还提供一些替代方法以允许更好的性能或更直接的编码方法。\n直接好处是，虽然DOM4J付出了更复杂的API的代价，但是它提供了比JDOM大得多的灵活性。\n\n在添加灵活性、XPath集成和对大文档处理的目标时，\nDOM4J的目标与JDOM是一样的：针对Java开发者的易用性和直观操作。\n它还致力于成为比JDOM更完整的解决方案，实现在本质上处理所有Java/XML问题的目标。\n在完成该目标时，它比JDOM更少强调防止不正确的应用程序行为。\n\nDOM4J是一个非常非常优秀的Java XML API，\n具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。\n如今你可以看到越来越多的Java软件都在使用DOM4J来读写XML，\n特别值得一提的是连Sun的JAXM也在用DOM4J.\n\n【优点】\n①大量使用了Java集合类，方便Java开发人员，同时提供一些提高性能的替代方法。\n②支持XPath。\n③有很好的性能。\n\n【缺点】\n①大量使用了接口，API较为复杂。\n```\n\n12，阿贾克斯熟悉吗？能发起请求下载文档吗？返回类型有哪些，遇到错误怎么提示用户\n```\n不能发起文档下载，返回的类型只有字符型，\n出错了alert出错误\n```\n\n13，jquery选择器\n```\njQuery 元素选择器\njQuery 使用 CSS 选择器来选取 HTML 元素。\n$(\"p\") 选取 <p> 元素。\n$(\"p.intro\") 选取所有 class=\"intro\" 的 <p> 元素。\n$(\"p#demo\") 选取所有 id=\"demo\" 的 <p> 元素。\n\njQuery 属性选择器\njQuery 使用 XPath 表达式来选择带有给定属性的元素。\n$(\"[href]\") 选取所有带有 href 属性的元素。\n$(\"[href='#']\") 选取所有带有 href 值等于 \"#\" 的元素。\n$(\"[href!='#']\") 选取所有带有 href 值不等于 \"#\" 的元素。\n$(\"[href$='.jpg']\") 选取所有 href 值以 \".jpg\" 结尾的元素。\n```\n\n14，空指针异常，怎么定位错误\n```\n定位到出现错误的行数\n看看附近的各种调用是否存可能出现空指针异常，再慢慢排除\n```","source":"_posts/记录一次面试过程中交流的一些题.md","raw":"---\ntitle: 记录一次面试过程中交流的一些题\ndate: 2017-01-26 00:01:16\ntags: [java,面试]\n---\n\n以下是面试一家支付类公司的过程当中遇到的面试题\n\n主要是交流比较多，不是先笔试\n\n直接是把这些问题带入到具体的情景当中去\n\n可能这样更能考验出一个人真正的技术水平\n\n1，很多文件，读出数字，加1写回，谈谈你的想法\n\n2，能继承string类?\n```\n不可以，因为String类有final修饰符，而final修饰的类是不能被继承的，实现细节不允许改变。\n```\n3，能有个包名一样的String类?如果有一样的会调用哪个？\n\n\n4，一个主线程等待其他线程完成，如果其中有线程出错怎么办？\n```\n把线程可能会出现的问题处理掉\n出错了能保证让他重新执行\n```\n\n5，Oracle默认端口？\n\n    1521\n\n6，b继承a，b的对象能强转成a嘛？\n\n    不能把一个对象强制转换成另外一个对象\n\n7，数据库去重，删除所有重复记录，只留下一条\n```+sql\nDELETE\nFROM EMP E\nWHERE E.ROWID >\n    (SELECT MIN(X.ROWID)\n     FROM EMP X\n     WHERE X.EMP_NO = E.EMP_NO);\n```\n\n<!-- more -->\n8，try c里面，没打印出错误来，是为什么？\n```\n1.可能是程序执行是正确的\n2.可能存在调用，但是调用的方法里面出现了错误，没有抛出或者是运行时错误\n```\n\n9，JAVA数据类型\n\n| 简单类型 | 二进制位数 | 封装器类 |\n|:-----|:-----|:-----|\n| boolean | 1 | Boolean |\n| byte | 8 | Byte |\n| char | 16 | Character |\n| short | 16 | Short |\n| Int | 32 | Integer |\n| long | 64 | Long |\n| float | 32 | Float |\n| double | 64 | Double |\n| void | -- | Void |\n\n10，银行金额字段\n\n    金融数字是BigDecimal类型\n\n11，用什么解析XML，有什么优缺点\n\n```\nDOM4J(Document Object Model for Java)\n虽然DOM4J代表了完全独立的开发结果，但最初，它是JDOM的一种智能分支。\n它合并了许多超出基本XML文档表示的功能，\n包括集成的XPath支持、XML Schema支持以及用于大文档或流化文档的基于事件的处理。\n它还提供了构建文档表示的选项，它通过DOM4J API和标准DOM接口具有并行访问功能。\n从2000下半年开始，它就一直处于开发之中。\n\n为支持所有这些功能，DOM4J使用接口和抽象基本类方法。\nDOM4J大量使用了API中的Collections类，但是在许多情况下，\n它还提供一些替代方法以允许更好的性能或更直接的编码方法。\n直接好处是，虽然DOM4J付出了更复杂的API的代价，但是它提供了比JDOM大得多的灵活性。\n\n在添加灵活性、XPath集成和对大文档处理的目标时，\nDOM4J的目标与JDOM是一样的：针对Java开发者的易用性和直观操作。\n它还致力于成为比JDOM更完整的解决方案，实现在本质上处理所有Java/XML问题的目标。\n在完成该目标时，它比JDOM更少强调防止不正确的应用程序行为。\n\nDOM4J是一个非常非常优秀的Java XML API，\n具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。\n如今你可以看到越来越多的Java软件都在使用DOM4J来读写XML，\n特别值得一提的是连Sun的JAXM也在用DOM4J.\n\n【优点】\n①大量使用了Java集合类，方便Java开发人员，同时提供一些提高性能的替代方法。\n②支持XPath。\n③有很好的性能。\n\n【缺点】\n①大量使用了接口，API较为复杂。\n```\n\n12，阿贾克斯熟悉吗？能发起请求下载文档吗？返回类型有哪些，遇到错误怎么提示用户\n```\n不能发起文档下载，返回的类型只有字符型，\n出错了alert出错误\n```\n\n13，jquery选择器\n```\njQuery 元素选择器\njQuery 使用 CSS 选择器来选取 HTML 元素。\n$(\"p\") 选取 <p> 元素。\n$(\"p.intro\") 选取所有 class=\"intro\" 的 <p> 元素。\n$(\"p#demo\") 选取所有 id=\"demo\" 的 <p> 元素。\n\njQuery 属性选择器\njQuery 使用 XPath 表达式来选择带有给定属性的元素。\n$(\"[href]\") 选取所有带有 href 属性的元素。\n$(\"[href='#']\") 选取所有带有 href 值等于 \"#\" 的元素。\n$(\"[href!='#']\") 选取所有带有 href 值不等于 \"#\" 的元素。\n$(\"[href$='.jpg']\") 选取所有 href 值以 \".jpg\" 结尾的元素。\n```\n\n14，空指针异常，怎么定位错误\n```\n定位到出现错误的行数\n看看附近的各种调用是否存可能出现空指针异常，再慢慢排除\n```","slug":"记录一次面试过程中交流的一些题","published":1,"updated":"2017-02-09T13:58:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdud00dmolejbabbpw45","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>以下是面试一家支付类公司的过程当中遇到的面试题</p><p>主要是交流比较多，不是先笔试</p><p>直接是把这些问题带入到具体的情景当中去</p><p>可能这样更能考验出一个人真正的技术水平</p><p>1，很多文件，读出数字，加1写回，谈谈你的想法</p><p>2，能继承string类?<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不可以，因为String类有final修饰符，而final修饰的类是不能被继承的，实现细节不允许改变。</span><br></pre></td></tr></table></figure><p></p><p>3，能有个包名一样的String类?如果有一样的会调用哪个？</p><p>4，一个主线程等待其他线程完成，如果其中有线程出错怎么办？<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">把线程可能会出现的问题处理掉</span><br><span class=\"line\">出错了能保证让他重新执行</span><br></pre></td></tr></table></figure><p></p><p>5，Oracle默认端口？</p><pre><code>1521\n</code></pre><p>6，b继承a，b的对象能强转成a嘛？</p><pre><code>不能把一个对象强制转换成另外一个对象\n</code></pre><p>7，数据库去重，删除所有重复记录，只留下一条<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE</span><br><span class=\"line\">FROM EMP E</span><br><span class=\"line\">WHERE E.ROWID &gt;</span><br><span class=\"line\">    (SELECT MIN(X.ROWID)</span><br><span class=\"line\">     FROM EMP X</span><br><span class=\"line\">     WHERE X.EMP_NO = E.EMP_NO);</span><br></pre></td></tr></table></figure><p></p><a id=\"more\"></a><p>8，try c里面，没打印出错误来，是为什么？<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.可能是程序执行是正确的</span><br><span class=\"line\">2.可能存在调用，但是调用的方法里面出现了错误，没有抛出或者是运行时错误</span><br></pre></td></tr></table></figure><p></p><p>9，JAVA数据类型</p><table><thead><tr><th style=\"text-align:left\">简单类型</th><th style=\"text-align:left\">二进制位数</th><th style=\"text-align:left\">封装器类</th></tr></thead><tbody><tr><td style=\"text-align:left\">boolean</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">Boolean</td></tr><tr><td style=\"text-align:left\">byte</td><td style=\"text-align:left\">8</td><td style=\"text-align:left\">Byte</td></tr><tr><td style=\"text-align:left\">char</td><td style=\"text-align:left\">16</td><td style=\"text-align:left\">Character</td></tr><tr><td style=\"text-align:left\">short</td><td style=\"text-align:left\">16</td><td style=\"text-align:left\">Short</td></tr><tr><td style=\"text-align:left\">Int</td><td style=\"text-align:left\">32</td><td style=\"text-align:left\">Integer</td></tr><tr><td style=\"text-align:left\">long</td><td style=\"text-align:left\">64</td><td style=\"text-align:left\">Long</td></tr><tr><td style=\"text-align:left\">float</td><td style=\"text-align:left\">32</td><td style=\"text-align:left\">Float</td></tr><tr><td style=\"text-align:left\">double</td><td style=\"text-align:left\">64</td><td style=\"text-align:left\">Double</td></tr><tr><td style=\"text-align:left\">void</td><td style=\"text-align:left\">–</td><td style=\"text-align:left\">Void</td></tr></tbody></table><p>10，银行金额字段</p><pre><code>金融数字是BigDecimal类型\n</code></pre><p>11，用什么解析XML，有什么优缺点</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DOM4J(Document Object Model for Java)</span><br><span class=\"line\">虽然DOM4J代表了完全独立的开发结果，但最初，它是JDOM的一种智能分支。</span><br><span class=\"line\">它合并了许多超出基本XML文档表示的功能，</span><br><span class=\"line\">包括集成的XPath支持、XML Schema支持以及用于大文档或流化文档的基于事件的处理。</span><br><span class=\"line\">它还提供了构建文档表示的选项，它通过DOM4J API和标准DOM接口具有并行访问功能。</span><br><span class=\"line\">从2000下半年开始，它就一直处于开发之中。</span><br><span class=\"line\"></span><br><span class=\"line\">为支持所有这些功能，DOM4J使用接口和抽象基本类方法。</span><br><span class=\"line\">DOM4J大量使用了API中的Collections类，但是在许多情况下，</span><br><span class=\"line\">它还提供一些替代方法以允许更好的性能或更直接的编码方法。</span><br><span class=\"line\">直接好处是，虽然DOM4J付出了更复杂的API的代价，但是它提供了比JDOM大得多的灵活性。</span><br><span class=\"line\"></span><br><span class=\"line\">在添加灵活性、XPath集成和对大文档处理的目标时，</span><br><span class=\"line\">DOM4J的目标与JDOM是一样的：针对Java开发者的易用性和直观操作。</span><br><span class=\"line\">它还致力于成为比JDOM更完整的解决方案，实现在本质上处理所有Java/XML问题的目标。</span><br><span class=\"line\">在完成该目标时，它比JDOM更少强调防止不正确的应用程序行为。</span><br><span class=\"line\"></span><br><span class=\"line\">DOM4J是一个非常非常优秀的Java XML API，</span><br><span class=\"line\">具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。</span><br><span class=\"line\">如今你可以看到越来越多的Java软件都在使用DOM4J来读写XML，</span><br><span class=\"line\">特别值得一提的是连Sun的JAXM也在用DOM4J.</span><br><span class=\"line\"></span><br><span class=\"line\">【优点】</span><br><span class=\"line\">①大量使用了Java集合类，方便Java开发人员，同时提供一些提高性能的替代方法。</span><br><span class=\"line\">②支持XPath。</span><br><span class=\"line\">③有很好的性能。</span><br><span class=\"line\"></span><br><span class=\"line\">【缺点】</span><br><span class=\"line\">①大量使用了接口，API较为复杂。</span><br></pre></td></tr></table></figure><p>12，阿贾克斯熟悉吗？能发起请求下载文档吗？返回类型有哪些，遇到错误怎么提示用户<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不能发起文档下载，返回的类型只有字符型，</span><br><span class=\"line\">出错了alert出错误</span><br></pre></td></tr></table></figure><p></p><p>13，jquery选择器<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jQuery 元素选择器</span><br><span class=\"line\">jQuery 使用 CSS 选择器来选取 HTML 元素。</span><br><span class=\"line\">$(&quot;p&quot;) 选取 &lt;p&gt; 元素。</span><br><span class=\"line\">$(&quot;p.intro&quot;) 选取所有 class=&quot;intro&quot; 的 &lt;p&gt; 元素。</span><br><span class=\"line\">$(&quot;p#demo&quot;) 选取所有 id=&quot;demo&quot; 的 &lt;p&gt; 元素。</span><br><span class=\"line\"></span><br><span class=\"line\">jQuery 属性选择器</span><br><span class=\"line\">jQuery 使用 XPath 表达式来选择带有给定属性的元素。</span><br><span class=\"line\">$(&quot;[href]&quot;) 选取所有带有 href 属性的元素。</span><br><span class=\"line\">$(&quot;[href=&apos;#&apos;]&quot;) 选取所有带有 href 值等于 &quot;#&quot; 的元素。</span><br><span class=\"line\">$(&quot;[href!=&apos;#&apos;]&quot;) 选取所有带有 href 值不等于 &quot;#&quot; 的元素。</span><br><span class=\"line\">$(&quot;[href$=&apos;.jpg&apos;]&quot;) 选取所有 href 值以 &quot;.jpg&quot; 结尾的元素。</span><br></pre></td></tr></table></figure><p></p><p>14，空指针异常，怎么定位错误<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">定位到出现错误的行数</span><br><span class=\"line\">看看附近的各种调用是否存可能出现空指针异常，再慢慢排除</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>以下是面试一家支付类公司的过程当中遇到的面试题</p><p>主要是交流比较多，不是先笔试</p><p>直接是把这些问题带入到具体的情景当中去</p><p>可能这样更能考验出一个人真正的技术水平</p><p>1，很多文件，读出数字，加1写回，谈谈你的想法</p><p>2，能继承string类?<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不可以，因为String类有final修饰符，而final修饰的类是不能被继承的，实现细节不允许改变。</span><br></pre></td></tr></table></figure><p></p><p>3，能有个包名一样的String类?如果有一样的会调用哪个？</p><p>4，一个主线程等待其他线程完成，如果其中有线程出错怎么办？<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">把线程可能会出现的问题处理掉</span><br><span class=\"line\">出错了能保证让他重新执行</span><br></pre></td></tr></table></figure><p></p><p>5，Oracle默认端口？</p><pre><code>1521\n</code></pre><p>6，b继承a，b的对象能强转成a嘛？</p><pre><code>不能把一个对象强制转换成另外一个对象\n</code></pre><p>7，数据库去重，删除所有重复记录，只留下一条<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE</span><br><span class=\"line\">FROM EMP E</span><br><span class=\"line\">WHERE E.ROWID &gt;</span><br><span class=\"line\">    (SELECT MIN(X.ROWID)</span><br><span class=\"line\">     FROM EMP X</span><br><span class=\"line\">     WHERE X.EMP_NO = E.EMP_NO);</span><br></pre></td></tr></table></figure><p></p>","more":"<p>8，try c里面，没打印出错误来，是为什么？<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.可能是程序执行是正确的</span><br><span class=\"line\">2.可能存在调用，但是调用的方法里面出现了错误，没有抛出或者是运行时错误</span><br></pre></td></tr></table></figure><p></p><p>9，JAVA数据类型</p><table><thead><tr><th style=\"text-align:left\">简单类型</th><th style=\"text-align:left\">二进制位数</th><th style=\"text-align:left\">封装器类</th></tr></thead><tbody><tr><td style=\"text-align:left\">boolean</td><td style=\"text-align:left\">1</td><td style=\"text-align:left\">Boolean</td></tr><tr><td style=\"text-align:left\">byte</td><td style=\"text-align:left\">8</td><td style=\"text-align:left\">Byte</td></tr><tr><td style=\"text-align:left\">char</td><td style=\"text-align:left\">16</td><td style=\"text-align:left\">Character</td></tr><tr><td style=\"text-align:left\">short</td><td style=\"text-align:left\">16</td><td style=\"text-align:left\">Short</td></tr><tr><td style=\"text-align:left\">Int</td><td style=\"text-align:left\">32</td><td style=\"text-align:left\">Integer</td></tr><tr><td style=\"text-align:left\">long</td><td style=\"text-align:left\">64</td><td style=\"text-align:left\">Long</td></tr><tr><td style=\"text-align:left\">float</td><td style=\"text-align:left\">32</td><td style=\"text-align:left\">Float</td></tr><tr><td style=\"text-align:left\">double</td><td style=\"text-align:left\">64</td><td style=\"text-align:left\">Double</td></tr><tr><td style=\"text-align:left\">void</td><td style=\"text-align:left\">–</td><td style=\"text-align:left\">Void</td></tr></tbody></table><p>10，银行金额字段</p><pre><code>金融数字是BigDecimal类型\n</code></pre><p>11，用什么解析XML，有什么优缺点</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DOM4J(Document Object Model for Java)</span><br><span class=\"line\">虽然DOM4J代表了完全独立的开发结果，但最初，它是JDOM的一种智能分支。</span><br><span class=\"line\">它合并了许多超出基本XML文档表示的功能，</span><br><span class=\"line\">包括集成的XPath支持、XML Schema支持以及用于大文档或流化文档的基于事件的处理。</span><br><span class=\"line\">它还提供了构建文档表示的选项，它通过DOM4J API和标准DOM接口具有并行访问功能。</span><br><span class=\"line\">从2000下半年开始，它就一直处于开发之中。</span><br><span class=\"line\"></span><br><span class=\"line\">为支持所有这些功能，DOM4J使用接口和抽象基本类方法。</span><br><span class=\"line\">DOM4J大量使用了API中的Collections类，但是在许多情况下，</span><br><span class=\"line\">它还提供一些替代方法以允许更好的性能或更直接的编码方法。</span><br><span class=\"line\">直接好处是，虽然DOM4J付出了更复杂的API的代价，但是它提供了比JDOM大得多的灵活性。</span><br><span class=\"line\"></span><br><span class=\"line\">在添加灵活性、XPath集成和对大文档处理的目标时，</span><br><span class=\"line\">DOM4J的目标与JDOM是一样的：针对Java开发者的易用性和直观操作。</span><br><span class=\"line\">它还致力于成为比JDOM更完整的解决方案，实现在本质上处理所有Java/XML问题的目标。</span><br><span class=\"line\">在完成该目标时，它比JDOM更少强调防止不正确的应用程序行为。</span><br><span class=\"line\"></span><br><span class=\"line\">DOM4J是一个非常非常优秀的Java XML API，</span><br><span class=\"line\">具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。</span><br><span class=\"line\">如今你可以看到越来越多的Java软件都在使用DOM4J来读写XML，</span><br><span class=\"line\">特别值得一提的是连Sun的JAXM也在用DOM4J.</span><br><span class=\"line\"></span><br><span class=\"line\">【优点】</span><br><span class=\"line\">①大量使用了Java集合类，方便Java开发人员，同时提供一些提高性能的替代方法。</span><br><span class=\"line\">②支持XPath。</span><br><span class=\"line\">③有很好的性能。</span><br><span class=\"line\"></span><br><span class=\"line\">【缺点】</span><br><span class=\"line\">①大量使用了接口，API较为复杂。</span><br></pre></td></tr></table></figure><p>12，阿贾克斯熟悉吗？能发起请求下载文档吗？返回类型有哪些，遇到错误怎么提示用户<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不能发起文档下载，返回的类型只有字符型，</span><br><span class=\"line\">出错了alert出错误</span><br></pre></td></tr></table></figure><p></p><p>13，jquery选择器<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jQuery 元素选择器</span><br><span class=\"line\">jQuery 使用 CSS 选择器来选取 HTML 元素。</span><br><span class=\"line\">$(&quot;p&quot;) 选取 &lt;p&gt; 元素。</span><br><span class=\"line\">$(&quot;p.intro&quot;) 选取所有 class=&quot;intro&quot; 的 &lt;p&gt; 元素。</span><br><span class=\"line\">$(&quot;p#demo&quot;) 选取所有 id=&quot;demo&quot; 的 &lt;p&gt; 元素。</span><br><span class=\"line\"></span><br><span class=\"line\">jQuery 属性选择器</span><br><span class=\"line\">jQuery 使用 XPath 表达式来选择带有给定属性的元素。</span><br><span class=\"line\">$(&quot;[href]&quot;) 选取所有带有 href 属性的元素。</span><br><span class=\"line\">$(&quot;[href=&apos;#&apos;]&quot;) 选取所有带有 href 值等于 &quot;#&quot; 的元素。</span><br><span class=\"line\">$(&quot;[href!=&apos;#&apos;]&quot;) 选取所有带有 href 值不等于 &quot;#&quot; 的元素。</span><br><span class=\"line\">$(&quot;[href$=&apos;.jpg&apos;]&quot;) 选取所有 href 值以 &quot;.jpg&quot; 结尾的元素。</span><br></pre></td></tr></table></figure><p></p><p>14，空指针异常，怎么定位错误<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">定位到出现错误的行数</span><br><span class=\"line\">看看附近的各种调用是否存可能出现空指针异常，再慢慢排除</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"该Java语句创建了多少个对象？","date":"2017-01-20T06:22:34.000Z","_content":"```+java\nString str = new String(\"java\");\n```\n答案：最少一个，最多两个\n\n\n1. java中有常量池的概念，常量池和类文件相关，其数据存放的区域是在方法区中（方法区是jvm中内存模型的概念）\n2. 因为当你使用关键字new的时候是一定会生成一个String类的实例，当你使用直接量的方式定义了一个字符串时，假如这个字符串在常量池中，则不会去实例化String，反之则会生成一个String类的实例，并置入常量池","source":"_posts/该Java语句创建了多少个对象？.md","raw":"---\ntitle: 该Java语句创建了多少个对象？\ndate: 2017-01-20 14:22:34\ntags: java\n---\n```+java\nString str = new String(\"java\");\n```\n答案：最少一个，最多两个\n\n\n1. java中有常量池的概念，常量池和类文件相关，其数据存放的区域是在方法区中（方法区是jvm中内存模型的概念）\n2. 因为当你使用关键字new的时候是一定会生成一个String类的实例，当你使用直接量的方式定义了一个字符串时，假如这个字符串在常量池中，则不会去实例化String，反之则会生成一个String类的实例，并置入常量池","slug":"该Java语句创建了多少个对象？","published":1,"updated":"2017-01-20T06:26:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdue00dpoleja0g3wtk7","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String str = new String(&quot;java&quot;);</span><br></pre></td></tr></table></figure><p>答案：最少一个，最多两个</p><ol><li>java中有常量池的概念，常量池和类文件相关，其数据存放的区域是在方法区中（方法区是jvm中内存模型的概念）</li><li>因为当你使用关键字new的时候是一定会生成一个String类的实例，当你使用直接量的方式定义了一个字符串时，假如这个字符串在常量池中，则不会去实例化String，反之则会生成一个String类的实例，并置入常量池</li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String str = new String(&quot;java&quot;);</span><br></pre></td></tr></table></figure><p>答案：最少一个，最多两个</p><ol><li>java中有常量池的概念，常量池和类文件相关，其数据存放的区域是在方法区中（方法区是jvm中内存模型的概念）</li><li>因为当你使用关键字new的时候是一定会生成一个String类的实例，当你使用直接量的方式定义了一个字符串时，假如这个字符串在常量池中，则不会去实例化String，反之则会生成一个String类的实例，并置入常量池</li></ol><!-- rebuild by neat -->"},{"title":"阿里巴巴Java开发手册，摘要&下载链接","keywords":["阿里巴巴Java开发手册","java","java开发"],"date":"2017-02-13T10:17:09.000Z","_content":"\n阿里巴巴java开发手册\n\n看了几个小时，感觉还是不错\n\n都按规范来写，可以避免很多错误\n\n\n下载链接\n---\n<!--more-->\n<a href=\"http://techforum-img.cn-hangzhou.oss-pub.aliyun-inc.com/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8Cv1.0.1.pdf\" target=\"_target\">点击下载</a>","source":"_posts/阿里巴巴Java开发手册，摘要-下载链接.md","raw":"---\ntitle: 阿里巴巴Java开发手册，摘要&下载链接\nkeywords: [阿里巴巴Java开发手册,java,java开发]\ntags: [java]\ndate: 2017-02-13 18:17:09\ncategories: java\n---\n\n阿里巴巴java开发手册\n\n看了几个小时，感觉还是不错\n\n都按规范来写，可以避免很多错误\n\n\n下载链接\n---\n<!--more-->\n<a href=\"http://techforum-img.cn-hangzhou.oss-pub.aliyun-inc.com/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8Cv1.0.1.pdf\" target=\"_target\">点击下载</a>","slug":"阿里巴巴Java开发手册，摘要-下载链接","published":1,"updated":"2017-02-17T08:23:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskduf00dtolejmamvzcgo","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>阿里巴巴java开发手册</p><p>看了几个小时，感觉还是不错</p><p>都按规范来写，可以避免很多错误</p><h2 id=\"下载链接\"><a href=\"#下载链接\" class=\"headerlink\" title=\"下载链接\"></a>下载链接</h2><a id=\"more\"></a><p><a href=\"http://techforum-img.cn-hangzhou.oss-pub.aliyun-inc.com/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8Cv1.0.1.pdf\" target=\"_target\">点击下载</a></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>阿里巴巴java开发手册</p><p>看了几个小时，感觉还是不错</p><p>都按规范来写，可以避免很多错误</p><h2 id=\"下载链接\"><a href=\"#下载链接\" class=\"headerlink\" title=\"下载链接\"></a>下载链接</h2>","more":"<p><a href=\"http://techforum-img.cn-hangzhou.oss-pub.aliyun-inc.com/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8Cv1.0.1.pdf\" target=\"_target\">点击下载</a></p><!-- rebuild by neat -->"},{"title":"面试题收集 - Java - 2017","keywords":["java面试","2017java面试题","京东面试题"],"date":"2017-08-08T07:37:00.000Z","_content":"我只是收集一下题目，检查一下自己。\n## 京东平台产品研发部 - Java\n背景：一年工作经验，做电子政务\n\n1. 一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。\n2. static都能用在哪里？\n3. 1M 等于多少个1\n4. 面向对象的特性\n5. 写出两种单例模式\n6. HashMap有哪些方法\n7. HashMap的底层实现\n8. List和Set的区别\n9. 重载和重写的区别，多态如何体现\n10. 判断字符串是否含有此Url：www.jd.com\n11. \n```\n    Long l1 = new Long(1024L);\n    Long l2 = new Long(1024L);\n    System.out.println(l1 == l2);//false\n    Integer i1 = 100;\n    Integer i2 = 100;\n    System.out.println(i1 == i2);//true\n    i1 = 100;\n    i2 = 100;\n    System.out.println(i1 == i2);//true\n```\n12. Spring自定义注解、拦截器相关\n13. 为什么使用注解、有什么好处\n14. Spring中运用了哪些设计模式\n15. Sping和SpringBoot各有什么优缺点\n16. Spring的事物隔离机制\n17. 说说AOP、DI、IOC\n18. redis等用过没\n19. 缓存和memorycache\n20. http://www.jd.com/...username=... 为了防止sql注入，怎么写正则。\n21. mybatis如何防止sql注入\n22. mybatis使用变量时怎么表示\n23. 使用js遍历json数据\n24. 使用Map遍历json数据\n25. elasticsearch相关\n26. 你曾经在社区接触过的技术有哪些\n27. 项目相关：做了哪些部分、职责、用到哪些技术、设计了哪些\n28. 介绍一下RPC调用\n\n## 谷歌淘来的一个总结\n[面试题总结 —— JAVA高级工程师](http://blog.csdn.net/moneyshi/article/details/50786786)\n\n## 部分答案\n<!--more-->\n1. 一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。\n```\n /**\n   * \n   * 功能：求解一维无序数组中三个数字乘积最大值（正负零均存在）\n   */\n  @Test\n  public void getMaxThreeNum() {\n    // 首先对数组进行升序排序\n    // 1. 数组左端是0，那么不存在负数，最大值为：i[-1]*i[-2]*i[-3]\n    // 2. 数组左端是正数，同上\n    // 3. 数组左端是负数，那么可能会负负得正，由于是升序，最大值为：i[0]*i[1]*i[-1]\n    // 4. 去上面两个的最大值即可\n    int[] i = {0,-10, -9, -8, 7, 6, 5, 4, 3, 2, 1};\n    Arrays.sort(i);\n    int length = i.length;\n    int a = i[0] * i[1] * i[length - 1];\n    int b = i[length - 1] * i[length - 2] * i[length - 3];\n    if (a > b) {//-10 * -9 * 7 = 630\n      System.out.println(i[0] + \" * \" + i[1] + \" * \" + i[length - 1] + \" = \" + a);\n    } else {\n      System.out.println(i[length - 1] + \" * \" + i[length - 2] + \" * \" + i[length - 3] + \" = \" + b);\n    }\n  }\n```\n3. 1M 等于多少个1\n```\n  @Test\n  public void get1McanHoldInt(){\n    // int 占用4个字节 4Byte = 4 * 8bit\n    System.out.println(1*1024*1024/4);\n  }\n```\n5. 写出两种单例模式\n```\n//懒汉模式\npublic class LazySingleton {\n    private static LazySingleton instance = null;\n    private LazySingleton(){\n        super();\n    }\n    public static LazySingleton getInstance(){\n        if(instance == null){\n            // 静态方法，使用当前类本身充当进程锁\n            synchronized(LazySingleton.class){\n                instance = new LazySingleton();\n            }\n        }\n        return instance;\n    }\n}\n\n// 饿汉式单例模式\npublic class EagerSingleton {\n    private static EagerSingleton instance = new EagerSingleton();\n    private EagerSingleton(){\n        super();\n    }\n    // 不需要同步（类加载时已经初始化，不存在多线程的问题）\n    // 始终只有一个对象\n    public EagerSingleton getInstance(){\n        return instance;\n    }\n}\n```\n10. 判断字符串是否含有此Url：www.jd.com\n```\n  @Test\n  public void isHaveUrl(){\n    String url = \"这是京东官网：www.jd.com\";\n    Pattern pattern = Pattern.compile(\".*www.jd.com.*\");\n    Matcher matcher = pattern.matcher(url);\n    if (matcher.find()){\n      System.out.println(matcher.group());\n    }else {\n      System.out.println(\"未匹配\");\n    }\n  }\n```\n20. http://www.jd.com/...username=... 为了防止sql注入，怎么写正则。\n```\n将包含有 单引号(')，分号(;) 和 注释符号(--)的语句给替换掉来防止SQL注入\nstr.replaceAll(\"([';])+|(--)+\",\"\");\n```\n21. mybatis如何防止sql注入\n```\n防护一：sql语句不在使用${}表达式，改为#{}\n<select id=\"getBlogById\" resultType=\"Blog\" parameterType=”int”>\n         SELECT id,title,author,content\n         FROM blog\nWHERE id=#{id}\n</select>\n\n编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = ? (能避免sql注入)\n\n<select id=\"getBlogById\" resultType=\"Blog\" parameterType=”int”>\n         SELECT id,title,author,content\n         FROM blog\nWHERE id=${id} <!--假如id= 3 -->\n</select>\n\n编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = 3 (无法避免sql注入)\n\nSQL注入只能对编译过程起作用\n#{}：相当于JDBC中的PreparedStatement\n${}：是输出变量的值\n\n#{}是经过预编译的，是安全的；\n${}是未经过预编译的，仅仅是取变量的值，是非安全的，存在SQL注入。\n\n\n防护二：采用阿里的druid数据连接池，添加如下配置\n<!-- 配置监控统计拦截的filters,和防sql注入 -->\n<property name=\"filters\" value=\"stat,wall\" />\n\n防护三：使用正则表达式过滤输入参数\n```\n22. mybatis使用变量时怎么表示\n```\n#与$的区别\n1.#是把传入的数据当作字符串，如#field#传入的是id,则sql语句生成是这样，order by \"id\",这当然会报错．． \n2.$传入的数据直接生成在sql里，如$field$传入的是id,则sql语句生成是这样，order by id, 这就对了． \n3.#方式能够很大程度防止sql注入． \n4.$方式无法防止sql注入． \n5.$方式一般用于传入数据库对象．例如传入表名. \n6.一般能用#的就别用$. \n```\n23. 使用js遍历json数据\n```\nvar data=[{name:\"a\",age:12},{name:\"b\",age:11},{name:\"c\",age:13},{name:\"d\",age:14}];  \n      for(var o in data){  \n        alert(\"text:\"+data[o].name+\" value:\"+data[o].age );  \n      }  \n```","source":"_posts/面试题收集 - Java - 2017.md","raw":"---\ntitle: 面试题收集 - Java - 2017\nkeywords: [java面试,2017java面试题,京东面试题]\ndate: 2017/8/8 15:37\ntags: [java,面试题]\ncategories: java\n---\n我只是收集一下题目，检查一下自己。\n## 京东平台产品研发部 - Java\n背景：一年工作经验，做电子政务\n\n1. 一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。\n2. static都能用在哪里？\n3. 1M 等于多少个1\n4. 面向对象的特性\n5. 写出两种单例模式\n6. HashMap有哪些方法\n7. HashMap的底层实现\n8. List和Set的区别\n9. 重载和重写的区别，多态如何体现\n10. 判断字符串是否含有此Url：www.jd.com\n11. \n```\n    Long l1 = new Long(1024L);\n    Long l2 = new Long(1024L);\n    System.out.println(l1 == l2);//false\n    Integer i1 = 100;\n    Integer i2 = 100;\n    System.out.println(i1 == i2);//true\n    i1 = 100;\n    i2 = 100;\n    System.out.println(i1 == i2);//true\n```\n12. Spring自定义注解、拦截器相关\n13. 为什么使用注解、有什么好处\n14. Spring中运用了哪些设计模式\n15. Sping和SpringBoot各有什么优缺点\n16. Spring的事物隔离机制\n17. 说说AOP、DI、IOC\n18. redis等用过没\n19. 缓存和memorycache\n20. http://www.jd.com/...username=... 为了防止sql注入，怎么写正则。\n21. mybatis如何防止sql注入\n22. mybatis使用变量时怎么表示\n23. 使用js遍历json数据\n24. 使用Map遍历json数据\n25. elasticsearch相关\n26. 你曾经在社区接触过的技术有哪些\n27. 项目相关：做了哪些部分、职责、用到哪些技术、设计了哪些\n28. 介绍一下RPC调用\n\n## 谷歌淘来的一个总结\n[面试题总结 —— JAVA高级工程师](http://blog.csdn.net/moneyshi/article/details/50786786)\n\n## 部分答案\n<!--more-->\n1. 一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。\n```\n /**\n   * \n   * 功能：求解一维无序数组中三个数字乘积最大值（正负零均存在）\n   */\n  @Test\n  public void getMaxThreeNum() {\n    // 首先对数组进行升序排序\n    // 1. 数组左端是0，那么不存在负数，最大值为：i[-1]*i[-2]*i[-3]\n    // 2. 数组左端是正数，同上\n    // 3. 数组左端是负数，那么可能会负负得正，由于是升序，最大值为：i[0]*i[1]*i[-1]\n    // 4. 去上面两个的最大值即可\n    int[] i = {0,-10, -9, -8, 7, 6, 5, 4, 3, 2, 1};\n    Arrays.sort(i);\n    int length = i.length;\n    int a = i[0] * i[1] * i[length - 1];\n    int b = i[length - 1] * i[length - 2] * i[length - 3];\n    if (a > b) {//-10 * -9 * 7 = 630\n      System.out.println(i[0] + \" * \" + i[1] + \" * \" + i[length - 1] + \" = \" + a);\n    } else {\n      System.out.println(i[length - 1] + \" * \" + i[length - 2] + \" * \" + i[length - 3] + \" = \" + b);\n    }\n  }\n```\n3. 1M 等于多少个1\n```\n  @Test\n  public void get1McanHoldInt(){\n    // int 占用4个字节 4Byte = 4 * 8bit\n    System.out.println(1*1024*1024/4);\n  }\n```\n5. 写出两种单例模式\n```\n//懒汉模式\npublic class LazySingleton {\n    private static LazySingleton instance = null;\n    private LazySingleton(){\n        super();\n    }\n    public static LazySingleton getInstance(){\n        if(instance == null){\n            // 静态方法，使用当前类本身充当进程锁\n            synchronized(LazySingleton.class){\n                instance = new LazySingleton();\n            }\n        }\n        return instance;\n    }\n}\n\n// 饿汉式单例模式\npublic class EagerSingleton {\n    private static EagerSingleton instance = new EagerSingleton();\n    private EagerSingleton(){\n        super();\n    }\n    // 不需要同步（类加载时已经初始化，不存在多线程的问题）\n    // 始终只有一个对象\n    public EagerSingleton getInstance(){\n        return instance;\n    }\n}\n```\n10. 判断字符串是否含有此Url：www.jd.com\n```\n  @Test\n  public void isHaveUrl(){\n    String url = \"这是京东官网：www.jd.com\";\n    Pattern pattern = Pattern.compile(\".*www.jd.com.*\");\n    Matcher matcher = pattern.matcher(url);\n    if (matcher.find()){\n      System.out.println(matcher.group());\n    }else {\n      System.out.println(\"未匹配\");\n    }\n  }\n```\n20. http://www.jd.com/...username=... 为了防止sql注入，怎么写正则。\n```\n将包含有 单引号(')，分号(;) 和 注释符号(--)的语句给替换掉来防止SQL注入\nstr.replaceAll(\"([';])+|(--)+\",\"\");\n```\n21. mybatis如何防止sql注入\n```\n防护一：sql语句不在使用${}表达式，改为#{}\n<select id=\"getBlogById\" resultType=\"Blog\" parameterType=”int”>\n         SELECT id,title,author,content\n         FROM blog\nWHERE id=#{id}\n</select>\n\n编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = ? (能避免sql注入)\n\n<select id=\"getBlogById\" resultType=\"Blog\" parameterType=”int”>\n         SELECT id,title,author,content\n         FROM blog\nWHERE id=${id} <!--假如id= 3 -->\n</select>\n\n编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = 3 (无法避免sql注入)\n\nSQL注入只能对编译过程起作用\n#{}：相当于JDBC中的PreparedStatement\n${}：是输出变量的值\n\n#{}是经过预编译的，是安全的；\n${}是未经过预编译的，仅仅是取变量的值，是非安全的，存在SQL注入。\n\n\n防护二：采用阿里的druid数据连接池，添加如下配置\n<!-- 配置监控统计拦截的filters,和防sql注入 -->\n<property name=\"filters\" value=\"stat,wall\" />\n\n防护三：使用正则表达式过滤输入参数\n```\n22. mybatis使用变量时怎么表示\n```\n#与$的区别\n1.#是把传入的数据当作字符串，如#field#传入的是id,则sql语句生成是这样，order by \"id\",这当然会报错．． \n2.$传入的数据直接生成在sql里，如$field$传入的是id,则sql语句生成是这样，order by id, 这就对了． \n3.#方式能够很大程度防止sql注入． \n4.$方式无法防止sql注入． \n5.$方式一般用于传入数据库对象．例如传入表名. \n6.一般能用#的就别用$. \n```\n23. 使用js遍历json数据\n```\nvar data=[{name:\"a\",age:12},{name:\"b\",age:11},{name:\"c\",age:13},{name:\"d\",age:14}];  \n      for(var o in data){  \n        alert(\"text:\"+data[o].name+\" value:\"+data[o].age );  \n      }  \n```","slug":"面试题收集 - Java - 2017","published":1,"updated":"2017-08-10T09:32:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskduf00dvolejs94a8qi6","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>我只是收集一下题目，检查一下自己。</p><h2 id=\"京东平台产品研发部-Java\"><a href=\"#京东平台产品研发部-Java\" class=\"headerlink\" title=\"京东平台产品研发部 - Java\"></a>京东平台产品研发部 - Java</h2><p>背景：一年工作经验，做电子政务</p><ol><li>一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。</li><li>static都能用在哪里？</li><li>1M 等于多少个1</li><li>面向对象的特性</li><li>写出两种单例模式</li><li>HashMap有哪些方法</li><li>HashMap的底层实现</li><li>List和Set的区别</li><li>重载和重写的区别，多态如何体现</li><li>判断字符串是否含有此Url：<a href=\"http://www.jd.com\" target=\"_blank\" rel=\"noopener\">www.jd.com</a></li><li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Long l1 = new Long(1024L);</span><br><span class=\"line\">Long l2 = new Long(1024L);</span><br><span class=\"line\">System.out.println(l1 == l2);//false</span><br><span class=\"line\">Integer i1 = 100;</span><br><span class=\"line\">Integer i2 = 100;</span><br><span class=\"line\">System.out.println(i1 == i2);//true</span><br><span class=\"line\">i1 = 100;</span><br><span class=\"line\">i2 = 100;</span><br><span class=\"line\">System.out.println(i1 == i2);//true</span><br></pre></td></tr></table></figure></li><li><p>Spring自定义注解、拦截器相关</p></li><li>为什么使用注解、有什么好处</li><li>Spring中运用了哪些设计模式</li><li>Sping和SpringBoot各有什么优缺点</li><li>Spring的事物隔离机制</li><li>说说AOP、DI、IOC</li><li>redis等用过没</li><li>缓存和memorycache</li><li><a href=\"http://www.jd.com/...username=..\" target=\"_blank\" rel=\"noopener\">http://www.jd.com/...username=..</a>. 为了防止sql注入，怎么写正则。</li><li>mybatis如何防止sql注入</li><li>mybatis使用变量时怎么表示</li><li>使用js遍历json数据</li><li>使用Map遍历json数据</li><li>elasticsearch相关</li><li>你曾经在社区接触过的技术有哪些</li><li>项目相关：做了哪些部分、职责、用到哪些技术、设计了哪些</li><li>介绍一下RPC调用</li></ol><h2 id=\"谷歌淘来的一个总结\"><a href=\"#谷歌淘来的一个总结\" class=\"headerlink\" title=\"谷歌淘来的一个总结\"></a>谷歌淘来的一个总结</h2><p><a href=\"http://blog.csdn.net/moneyshi/article/details/50786786\" target=\"_blank\" rel=\"noopener\">面试题总结 —— JAVA高级工程师</a></p><h2 id=\"部分答案\"><a href=\"#部分答案\" class=\"headerlink\" title=\"部分答案\"></a>部分答案</h2><a id=\"more\"></a><ol><li><p>一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">  * </span><br><span class=\"line\">  * 功能：求解一维无序数组中三个数字乘积最大值（正负零均存在）</span><br><span class=\"line\">  */</span><br><span class=\"line\"> @Test</span><br><span class=\"line\"> public void getMaxThreeNum() &#123;</span><br><span class=\"line\">   // 首先对数组进行升序排序</span><br><span class=\"line\">   // 1. 数组左端是0，那么不存在负数，最大值为：i[-1]*i[-2]*i[-3]</span><br><span class=\"line\">   // 2. 数组左端是正数，同上</span><br><span class=\"line\">   // 3. 数组左端是负数，那么可能会负负得正，由于是升序，最大值为：i[0]*i[1]*i[-1]</span><br><span class=\"line\">   // 4. 去上面两个的最大值即可</span><br><span class=\"line\">   int[] i = &#123;0,-10, -9, -8, 7, 6, 5, 4, 3, 2, 1&#125;;</span><br><span class=\"line\">   Arrays.sort(i);</span><br><span class=\"line\">   int length = i.length;</span><br><span class=\"line\">   int a = i[0] * i[1] * i[length - 1];</span><br><span class=\"line\">   int b = i[length - 1] * i[length - 2] * i[length - 3];</span><br><span class=\"line\">   if (a &gt; b) &#123;//-10 * -9 * 7 = 630</span><br><span class=\"line\">     System.out.println(i[0] + &quot; * &quot; + i[1] + &quot; * &quot; + i[length - 1] + &quot; = &quot; + a);</span><br><span class=\"line\">   &#125; else &#123;</span><br><span class=\"line\">     System.out.println(i[length - 1] + &quot; * &quot; + i[length - 2] + &quot; * &quot; + i[length - 3] + &quot; = &quot; + b);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure></li><li><p>1M 等于多少个1</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Test</span><br><span class=\"line\">public void get1McanHoldInt()&#123;</span><br><span class=\"line\">  // int 占用4个字节 4Byte = 4 * 8bit</span><br><span class=\"line\">  System.out.println(1*1024*1024/4);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p>写出两种单例模式</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//懒汉模式</span><br><span class=\"line\">public class LazySingleton &#123;</span><br><span class=\"line\">    private static LazySingleton instance = null;</span><br><span class=\"line\">    private LazySingleton()&#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    public static LazySingleton getInstance()&#123;</span><br><span class=\"line\">        if(instance == null)&#123;</span><br><span class=\"line\">            // 静态方法，使用当前类本身充当进程锁</span><br><span class=\"line\">            synchronized(LazySingleton.class)&#123;</span><br><span class=\"line\">                instance = new LazySingleton();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 饿汉式单例模式</span><br><span class=\"line\">public class EagerSingleton &#123;</span><br><span class=\"line\">    private static EagerSingleton instance = new EagerSingleton();</span><br><span class=\"line\">    private EagerSingleton()&#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 不需要同步（类加载时已经初始化，不存在多线程的问题）</span><br><span class=\"line\">    // 始终只有一个对象</span><br><span class=\"line\">    public EagerSingleton getInstance()&#123;</span><br><span class=\"line\">        return instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p>判断字符串是否含有此Url：<a href=\"http://www.jd.com\" target=\"_blank\" rel=\"noopener\">www.jd.com</a></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Test</span><br><span class=\"line\">public void isHaveUrl()&#123;</span><br><span class=\"line\">  String url = &quot;这是京东官网：www.jd.com&quot;;</span><br><span class=\"line\">  Pattern pattern = Pattern.compile(&quot;.*www.jd.com.*&quot;);</span><br><span class=\"line\">  Matcher matcher = pattern.matcher(url);</span><br><span class=\"line\">  if (matcher.find())&#123;</span><br><span class=\"line\">    System.out.println(matcher.group());</span><br><span class=\"line\">  &#125;else &#123;</span><br><span class=\"line\">    System.out.println(&quot;未匹配&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p><a href=\"http://www.jd.com/...username=..\" target=\"_blank\" rel=\"noopener\">http://www.jd.com/...username=..</a>. 为了防止sql注入，怎么写正则。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">将包含有 单引号(&apos;)，分号(;) 和 注释符号(--)的语句给替换掉来防止SQL注入</span><br><span class=\"line\">str.replaceAll(&quot;([&apos;;])+|(--)+&quot;,&quot;&quot;);</span><br></pre></td></tr></table></figure></li><li><p>mybatis如何防止sql注入</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">防护一：sql语句不在使用$&#123;&#125;表达式，改为#&#123;&#125;</span><br><span class=\"line\">&lt;select id=&quot;getBlogById&quot; resultType=&quot;Blog&quot; parameterType=”int”&gt;</span><br><span class=\"line\">         SELECT id,title,author,content</span><br><span class=\"line\">         FROM blog</span><br><span class=\"line\">WHERE id=#&#123;id&#125;</span><br><span class=\"line\">&lt;/select&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = ? (能避免sql注入)</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;select id=&quot;getBlogById&quot; resultType=&quot;Blog&quot; parameterType=”int”&gt;</span><br><span class=\"line\">         SELECT id,title,author,content</span><br><span class=\"line\">         FROM blog</span><br><span class=\"line\">WHERE id=$&#123;id&#125; &lt;!--假如id= 3 --&gt;</span><br><span class=\"line\">&lt;/select&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = 3 (无法避免sql注入)</span><br><span class=\"line\"></span><br><span class=\"line\">SQL注入只能对编译过程起作用</span><br><span class=\"line\">#&#123;&#125;：相当于JDBC中的PreparedStatement</span><br><span class=\"line\">$&#123;&#125;：是输出变量的值</span><br><span class=\"line\"></span><br><span class=\"line\">#&#123;&#125;是经过预编译的，是安全的；</span><br><span class=\"line\">$&#123;&#125;是未经过预编译的，仅仅是取变量的值，是非安全的，存在SQL注入。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">防护二：采用阿里的druid数据连接池，添加如下配置</span><br><span class=\"line\">&lt;!-- 配置监控统计拦截的filters,和防sql注入 --&gt;</span><br><span class=\"line\">&lt;property name=&quot;filters&quot; value=&quot;stat,wall&quot; /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">防护三：使用正则表达式过滤输入参数</span><br></pre></td></tr></table></figure></li><li><p>mybatis使用变量时怎么表示</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#与$的区别</span><br><span class=\"line\">1.#是把传入的数据当作字符串，如#field#传入的是id,则sql语句生成是这样，order by &quot;id&quot;,这当然会报错．． </span><br><span class=\"line\">2.$传入的数据直接生成在sql里，如$field$传入的是id,则sql语句生成是这样，order by id, 这就对了． </span><br><span class=\"line\">3.#方式能够很大程度防止sql注入． </span><br><span class=\"line\">4.$方式无法防止sql注入． </span><br><span class=\"line\">5.$方式一般用于传入数据库对象．例如传入表名. </span><br><span class=\"line\">6.一般能用#的就别用$.</span><br></pre></td></tr></table></figure></li><li><p>使用js遍历json数据</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var data=[&#123;name:&quot;a&quot;,age:12&#125;,&#123;name:&quot;b&quot;,age:11&#125;,&#123;name:&quot;c&quot;,age:13&#125;,&#123;name:&quot;d&quot;,age:14&#125;];  </span><br><span class=\"line\">      for(var o in data)&#123;  </span><br><span class=\"line\">        alert(&quot;text:&quot;+data[o].name+&quot; value:&quot;+data[o].age );  </span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>我只是收集一下题目，检查一下自己。</p><h2 id=\"京东平台产品研发部-Java\"><a href=\"#京东平台产品研发部-Java\" class=\"headerlink\" title=\"京东平台产品研发部 - Java\"></a>京东平台产品研发部 - Java</h2><p>背景：一年工作经验，做电子政务</p><ol><li>一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。</li><li>static都能用在哪里？</li><li>1M 等于多少个1</li><li>面向对象的特性</li><li>写出两种单例模式</li><li>HashMap有哪些方法</li><li>HashMap的底层实现</li><li>List和Set的区别</li><li>重载和重写的区别，多态如何体现</li><li>判断字符串是否含有此Url：<a href=\"http://www.jd.com\" target=\"_blank\" rel=\"noopener\">www.jd.com</a></li><li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Long l1 = new Long(1024L);</span><br><span class=\"line\">Long l2 = new Long(1024L);</span><br><span class=\"line\">System.out.println(l1 == l2);//false</span><br><span class=\"line\">Integer i1 = 100;</span><br><span class=\"line\">Integer i2 = 100;</span><br><span class=\"line\">System.out.println(i1 == i2);//true</span><br><span class=\"line\">i1 = 100;</span><br><span class=\"line\">i2 = 100;</span><br><span class=\"line\">System.out.println(i1 == i2);//true</span><br></pre></td></tr></table></figure></li><li><p>Spring自定义注解、拦截器相关</p></li><li>为什么使用注解、有什么好处</li><li>Spring中运用了哪些设计模式</li><li>Sping和SpringBoot各有什么优缺点</li><li>Spring的事物隔离机制</li><li>说说AOP、DI、IOC</li><li>redis等用过没</li><li>缓存和memorycache</li><li><a href=\"http://www.jd.com/...username=..\" target=\"_blank\" rel=\"noopener\">http://www.jd.com/...username=..</a>. 为了防止sql注入，怎么写正则。</li><li>mybatis如何防止sql注入</li><li>mybatis使用变量时怎么表示</li><li>使用js遍历json数据</li><li>使用Map遍历json数据</li><li>elasticsearch相关</li><li>你曾经在社区接触过的技术有哪些</li><li>项目相关：做了哪些部分、职责、用到哪些技术、设计了哪些</li><li>介绍一下RPC调用</li></ol><h2 id=\"谷歌淘来的一个总结\"><a href=\"#谷歌淘来的一个总结\" class=\"headerlink\" title=\"谷歌淘来的一个总结\"></a>谷歌淘来的一个总结</h2><p><a href=\"http://blog.csdn.net/moneyshi/article/details/50786786\" target=\"_blank\" rel=\"noopener\">面试题总结 —— JAVA高级工程师</a></p><h2 id=\"部分答案\"><a href=\"#部分答案\" class=\"headerlink\" title=\"部分答案\"></a>部分答案</h2>","more":"<ol><li><p>一个数组 i[] = [-1000 ~ 1000] 中的任意一些数字，求乘积最大的三个数。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">  * </span><br><span class=\"line\">  * 功能：求解一维无序数组中三个数字乘积最大值（正负零均存在）</span><br><span class=\"line\">  */</span><br><span class=\"line\"> @Test</span><br><span class=\"line\"> public void getMaxThreeNum() &#123;</span><br><span class=\"line\">   // 首先对数组进行升序排序</span><br><span class=\"line\">   // 1. 数组左端是0，那么不存在负数，最大值为：i[-1]*i[-2]*i[-3]</span><br><span class=\"line\">   // 2. 数组左端是正数，同上</span><br><span class=\"line\">   // 3. 数组左端是负数，那么可能会负负得正，由于是升序，最大值为：i[0]*i[1]*i[-1]</span><br><span class=\"line\">   // 4. 去上面两个的最大值即可</span><br><span class=\"line\">   int[] i = &#123;0,-10, -9, -8, 7, 6, 5, 4, 3, 2, 1&#125;;</span><br><span class=\"line\">   Arrays.sort(i);</span><br><span class=\"line\">   int length = i.length;</span><br><span class=\"line\">   int a = i[0] * i[1] * i[length - 1];</span><br><span class=\"line\">   int b = i[length - 1] * i[length - 2] * i[length - 3];</span><br><span class=\"line\">   if (a &gt; b) &#123;//-10 * -9 * 7 = 630</span><br><span class=\"line\">     System.out.println(i[0] + &quot; * &quot; + i[1] + &quot; * &quot; + i[length - 1] + &quot; = &quot; + a);</span><br><span class=\"line\">   &#125; else &#123;</span><br><span class=\"line\">     System.out.println(i[length - 1] + &quot; * &quot; + i[length - 2] + &quot; * &quot; + i[length - 3] + &quot; = &quot; + b);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure></li><li><p>1M 等于多少个1</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Test</span><br><span class=\"line\">public void get1McanHoldInt()&#123;</span><br><span class=\"line\">  // int 占用4个字节 4Byte = 4 * 8bit</span><br><span class=\"line\">  System.out.println(1*1024*1024/4);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p>写出两种单例模式</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//懒汉模式</span><br><span class=\"line\">public class LazySingleton &#123;</span><br><span class=\"line\">    private static LazySingleton instance = null;</span><br><span class=\"line\">    private LazySingleton()&#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    public static LazySingleton getInstance()&#123;</span><br><span class=\"line\">        if(instance == null)&#123;</span><br><span class=\"line\">            // 静态方法，使用当前类本身充当进程锁</span><br><span class=\"line\">            synchronized(LazySingleton.class)&#123;</span><br><span class=\"line\">                instance = new LazySingleton();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 饿汉式单例模式</span><br><span class=\"line\">public class EagerSingleton &#123;</span><br><span class=\"line\">    private static EagerSingleton instance = new EagerSingleton();</span><br><span class=\"line\">    private EagerSingleton()&#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 不需要同步（类加载时已经初始化，不存在多线程的问题）</span><br><span class=\"line\">    // 始终只有一个对象</span><br><span class=\"line\">    public EagerSingleton getInstance()&#123;</span><br><span class=\"line\">        return instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p>判断字符串是否含有此Url：<a href=\"http://www.jd.com\" target=\"_blank\" rel=\"noopener\">www.jd.com</a></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Test</span><br><span class=\"line\">public void isHaveUrl()&#123;</span><br><span class=\"line\">  String url = &quot;这是京东官网：www.jd.com&quot;;</span><br><span class=\"line\">  Pattern pattern = Pattern.compile(&quot;.*www.jd.com.*&quot;);</span><br><span class=\"line\">  Matcher matcher = pattern.matcher(url);</span><br><span class=\"line\">  if (matcher.find())&#123;</span><br><span class=\"line\">    System.out.println(matcher.group());</span><br><span class=\"line\">  &#125;else &#123;</span><br><span class=\"line\">    System.out.println(&quot;未匹配&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p><a href=\"http://www.jd.com/...username=..\" target=\"_blank\" rel=\"noopener\">http://www.jd.com/...username=..</a>. 为了防止sql注入，怎么写正则。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">将包含有 单引号(&apos;)，分号(;) 和 注释符号(--)的语句给替换掉来防止SQL注入</span><br><span class=\"line\">str.replaceAll(&quot;([&apos;;])+|(--)+&quot;,&quot;&quot;);</span><br></pre></td></tr></table></figure></li><li><p>mybatis如何防止sql注入</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">防护一：sql语句不在使用$&#123;&#125;表达式，改为#&#123;&#125;</span><br><span class=\"line\">&lt;select id=&quot;getBlogById&quot; resultType=&quot;Blog&quot; parameterType=”int”&gt;</span><br><span class=\"line\">         SELECT id,title,author,content</span><br><span class=\"line\">         FROM blog</span><br><span class=\"line\">WHERE id=#&#123;id&#125;</span><br><span class=\"line\">&lt;/select&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = ? (能避免sql注入)</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;select id=&quot;getBlogById&quot; resultType=&quot;Blog&quot; parameterType=”int”&gt;</span><br><span class=\"line\">         SELECT id,title,author,content</span><br><span class=\"line\">         FROM blog</span><br><span class=\"line\">WHERE id=$&#123;id&#125; &lt;!--假如id= 3 --&gt;</span><br><span class=\"line\">&lt;/select&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">编译后的SQL：SELECT id,title,author,content FROM blog WHERE id = 3 (无法避免sql注入)</span><br><span class=\"line\"></span><br><span class=\"line\">SQL注入只能对编译过程起作用</span><br><span class=\"line\">#&#123;&#125;：相当于JDBC中的PreparedStatement</span><br><span class=\"line\">$&#123;&#125;：是输出变量的值</span><br><span class=\"line\"></span><br><span class=\"line\">#&#123;&#125;是经过预编译的，是安全的；</span><br><span class=\"line\">$&#123;&#125;是未经过预编译的，仅仅是取变量的值，是非安全的，存在SQL注入。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">防护二：采用阿里的druid数据连接池，添加如下配置</span><br><span class=\"line\">&lt;!-- 配置监控统计拦截的filters,和防sql注入 --&gt;</span><br><span class=\"line\">&lt;property name=&quot;filters&quot; value=&quot;stat,wall&quot; /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">防护三：使用正则表达式过滤输入参数</span><br></pre></td></tr></table></figure></li><li><p>mybatis使用变量时怎么表示</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#与$的区别</span><br><span class=\"line\">1.#是把传入的数据当作字符串，如#field#传入的是id,则sql语句生成是这样，order by &quot;id&quot;,这当然会报错．． </span><br><span class=\"line\">2.$传入的数据直接生成在sql里，如$field$传入的是id,则sql语句生成是这样，order by id, 这就对了． </span><br><span class=\"line\">3.#方式能够很大程度防止sql注入． </span><br><span class=\"line\">4.$方式无法防止sql注入． </span><br><span class=\"line\">5.$方式一般用于传入数据库对象．例如传入表名. </span><br><span class=\"line\">6.一般能用#的就别用$.</span><br></pre></td></tr></table></figure></li><li><p>使用js遍历json数据</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var data=[&#123;name:&quot;a&quot;,age:12&#125;,&#123;name:&quot;b&quot;,age:11&#125;,&#123;name:&quot;c&quot;,age:13&#125;,&#123;name:&quot;d&quot;,age:14&#125;];  </span><br><span class=\"line\">      for(var o in data)&#123;  </span><br><span class=\"line\">        alert(&quot;text:&quot;+data[o].name+&quot; value:&quot;+data[o].age );  </span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure></li></ol><!-- rebuild by neat -->"},{"title":"Docker 入门实践","keywords":["Docker"],"date":"2017-09-29T01:56:00.000Z","_content":"早些天不忙的时候看的入门，从有道云笔记搬过来的\n\n# 简介\nDocker 是一个开源的应用容器引擎，基于 Go 语言 并遵从Apache2.0协议开源。\nDocker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。\n容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。\n\n## Docker的应用场景\n1. Web 应用的自动化打包和发布。\n2. 自动化测试和持续集成、发布。\n3. 在服务型环境中部署和调整数据库或其他的后台应用。\n4. 从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境。\n<!--more-->\n## Docker的优点\n1. **简化程序**：Docker 让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，便可以实现虚拟化。Docker改变了虚拟化的方式，使开发者可以直接将自己的成果放入Docker中进行管理。方便快捷已经是 Docker的最大优势，过去需要用数天乃至数周的\t任务，在Docker容器的处理下，只需要数秒就能完成。\n2. **避免选择恐惧症**：如果你有选择恐惧症，还是资深患者。Docker 帮你\t打包你的纠结！比如 Docker 镜像；Docker 镜像中包含了运行环境和配置，所以 Docker 可以简化部署多种应用实例工作。比如 Web 应用、后台应用、数据库应用、大数据应用比如 Hadoop 集群、消息队列等等都可以打包成一个镜像部署。\n3. **节省开支**：一方面，云计算时代到来，使开发者不必为了追求效果而配置高额的硬件，Docker 改变了高性能必然高价格的思维定势。Docker 与云的结合，让云空间得到更充分的利用。不仅解决了硬件管理的问题，也改变了虚拟化的方式。\n## Docker 架构\n\n| 中文 | 英文 | 解释 |\n|:-----|:-----|:-----|\n| 镜像|Docker Images | Docker 镜像是用于创建 Docker 容器的模板。|\n|容器|Docker Container|容器是独立运行的一个或一组应用。|\n|客户端|Docker Client|Docker 客户端通过命令行或者其他工具使用 Docker API ([查看API](https://docs.docker.com/reference/api/docker_remote_api)) 与 Docker 的守护进程通信。|\n|主机|Docker Host|一个物理或者虚拟的机器用于执行 Docker 守护进程和容器。|\n|仓库|Docker Registry|Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。Docker Hub([查看镜像](https://hub.docker.com)) 提供了庞大的镜像集合供使用。|\n|工具|Docker Machine|Docker Machine是一个简化Docker安装的命令行工具，通过一个简单的命令行即可在相应的平台上安装Docker，比如VirtualBox、 Digital Ocean、Microsoft Azure。|\n\n# Ubuntu Docker 安装\n## 使用脚本安装\n### 下载最新的安装包\n```\nhisen@hisen-pc:~$ wget -qO- https://get.docker.com/ | sh\n```\n### hello-world\n```\n#启动\nsudo service docker start\n\n#运行hello-world\ndocker run hello-world\n##报错\ndocker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.31/containers/create: dial unix /var/run/docker.sock: connect: permission denied.\n##解决:su 以root方式运行\n\n#docker run hello-world\n##提示:没有image,然后自动下载\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nb04784fba78d: Pull complete \nDigest: sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\n#已经启动成功\n```\n# Docker 使用\n```\n#启动某个指定的镜像,运行hello-world\nroot@hisen-pc:/home/hisen# docker run ubuntu:15.10 /bin/echo \"Hello world\"\nUnable to find image 'ubuntu:15.10' locally\n15.10: Pulling from library/ubuntu\n7dcf5a444392: Downloading   6.29MB/51.07MB\n759aa75f3cee: Download complete \n3fa871dc8a2b: Download complete \n224c42ae46e7: Download complete \n\n```\n## 各个参数解析\ndocker run ubuntu:15.10 /bin/echo \"Hello world\"\n\n\n|参数|解释|\n|:-----|:-----|\n|docker|Docker 的二进制执行文件|\n|run|与前面的 docker 组合来运行一个容器|\n|ubuntu:15.10|指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。|\n|/bin/echo \"Hello world\"|在启动的容器里执行的命令|\n\n以上命令完整的意思可以解释为：Docker 以 ubuntu15.10 镜像创建一个新容器，然后在容器里执行 bin/echo \"Hello world\"，然后输出结果。\n\n## 运行交互式的容器\n```\nroot@hisen-pc:/home/hisen# docker run -i -t ubuntu:15.10 /bin/bash\n##这时,我们已经进入了ubuntu:15.10的系统\n##这时就是进入了命令行,可以执行相关命令\nroot@6265d70f44d2:/# \n##\n运行exit命令或者使用CTRL+D来退出容器\n```\n-t:在新容器内指定一个伪终端或终端。\n-i:允许你对容器内的标准输入 (STDIN) 进行交互。\n\n## 启动容器（后台模式）\n```\nroot@hisen-pc:/home/hisen# docker run -d ubuntu:15.10 /bin/sh -c \"while true; do echo hello world; sleep 1; done\"\n8c2a843273608eb155279ce4e4f9f4c5442c2af3524ba50ca2d6c8ccbd207081\n```\n后台启动完成,会返回一串容器的ID\n```\n##查看是否有容器启动\nroot@hisen-pc:/home/hisen# docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS               NAMES\n8c2a84327360        ubuntu:15.10        \"/bin/sh -c 'while...\"   About a minute ago   Up About a minute \n```\nCONTAINER ID:容器ID(这里是:==8c2a84327360==)\n\nNAMES:自动分配的容器名称\n\n```\n## 查看上面那个ID的容器的log\nroot@hisen-pc:/home/hisen# docker logs 8c2a84327360\n## 输出内容\nhello world\nhello world\n\n## 停止容器(指定ID:8c2a84327360)\nroot@hisen-pc:/home/hisen# docker stop 8c2a84327360\n## 输出ID,说明已经停止成功\n8c2a84327360\n\n## 检查是否真的关闭\nroot@hisen-pc:/home/hisen# docker ps\n## 输出没有,说明真的关闭了\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n```\n## Docker 客户端\ndocker 客户端非常简单 ,我们可以直接输入 docker 命令来查看到 Docker 客户端的所有命令选项。\n```\n## 调出帮助\nroot@hisen-pc:/home/hisen# docker\n##　输出帮助信息\nUsage:\tdocker COMMAND\n\nA self-sufficient runtime for containers\n\nOptions:\n      --config string      Location of client config files (default \"/root/.docker\")\n  -D, --debug              Enable debug mode\n      --help               Print usage\n  -H, --host list          Daemon socket(s) to connect to\n  -l, --log-level string   Set the logging level\n\n## 了解更详细的帮助信息\nroot@hisen-pc:/home/hisen#docker　stats --help\n\n## 输出详细帮助信息\nUsage:\tdocker stats [OPTIONS] [CONTAINER...]\n\nDisplay a live stream of container(s) resource usage statistics\n\nOptions:\n  -a, --all             Show all containers (default shows just running)\n      --format string   Pretty-print images using a Go template\n      --help            Print usage\n      --no-stream       Disable streaming stats and only pull the first result\n\n```\n## 运行一个WEB容器\n运行一个 Python Flask 应用 来搭建一个web应用\n```\n## -d:让容器在后台运行。\n## -P:将容器内部使用的网络端口映射到我们使用的主机上。\nroot@hisen-pc:/home/hisen# docker run -d -P training/webapp python app.py\n## 提示本地没有,远程下载\nUnable to find image 'training/webapp:latest' locally\nlatest: Pulling from training/webapp\ne190868d63f8: Pull complete \n909cd34c6fd7: Pull complete \n0b9bfabab7c1: Pull complete \na3ed95caeb02: Pull complete \n10bbbc0fc0ff: Pull complete \nfca59b508e9f: Pull complete \ne7ae2541b15b: Pull complete \n9dd97ef58ce9: Pull complete \na4c1b0cb7af7: Pull complete \nDigest: sha256:06e9c1983bd6d5db5fba376ccd63bfa529e8d02f23d5079b8f74a616308fb11d\nStatus: Downloaded newer image for training/webapp:latest\n\n## 下载完成直接后台运行了,打印id\nb03903d6abf3d65a4e6469a57d11ae539aaad1f166078591e7315ca2fb2611ff\n\n## 查看运行的docker\nroot@hisen-pc:/home/hisen# docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES\nb03903d6abf3        training/webapp     \"python app.py\"     9 minutes ago       Up 9 minutes        0.0.0.0:32768->5000/tcp   nifty_mirzakhani\n```\n0.0.0.0:32768->5000/tcp  \ndocker使用的端口5000\n\n映射到本地端口32768\n\n本地可以访问:[127.0.0.1:32768](127.0.0.1:32768)\n```\n## 访问:http://localhost:32768/\n## 输出\nHello world!\n\n## 可以指定端口 8060为自映射端口,5000为容器端口\nroot@hisen-pc:/home/hisen# docker run -d -p 8060:5000 training/webapp python app.py\n0d68d3d4baf61248129ede721cc6004649ebddaaace8c23f16b677fbe2b2ce7d\nroot@hisen-pc:/home/hisen# docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                    NAMES\n0d68d3d4baf6        training/webapp     \"python app.py\"     5 seconds ago       Up 4 seconds        0.0.0.0:8060->5000/tcp   ecstatic_jang\n\n## 查看端口映射情况(可以通过id,或者名字)\n## 这里用ID测试\nroot@hisen-pc:/home/hisen# docker port 0d68d3d4baf6\n## 输出信息,后面为映射到本地的端口\n5000/tcp -> 0.0.0.0:8060\n```\n### 查看WEB应用程序日志\n```\n## 带上 -f 参数,动态输出日志\nroot@hisen-pc:/home/hisen# docker logs -f 0d68d3d4baf6\n * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)\n\n## 刷新页面之后的日志\n172.17.0.1 - - [01/Sep/2017 14:09:01] \"GET / HTTP/1.1\" 200 -\n172.17.0.1 - - [01/Sep/2017 14:09:01] \"GET /favicon.ico HTTP/1.1\" 404 -\n```\n### 查看WEB应用程序容器的进程\n```\n## top后面是跟着id或者name\nroot@hisen-pc:/home/hisen# docker top 0d68d3d4baf6\n## 输出的信息\nUID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD\nroot                19372               19352               0                   21:39               ?                   00:00:00            python app.py\n```\n### 检查WEB应用程序\n```\n## 会输出一大串JSON形式的字符串\n## 记录着 Docker 容器的配置和状态信息\nroot@hisen-pc:/home/hisen# docker inspect 0d68d3d4baf6\n```\n### WEB程序其他操作\n```\ndocker stop  0d68d3d4baf6\n## 移除之前必须停止,否则会报错\ndocker rm 0d68d3d4baf6\n```\n\n# Docker 镜像使用\n## 列出所有本地的镜像\n```\nroot@hisen-pc:/home/hisen# docker images\nREPOSITORY           TAG                 IMAGE ID            CREATED             SIZE\nhello-world          latest              1815c82652c0        2 months ago        1.84kB\nwoailuoli993/jblse   0.2.0               82099e8d7049        6 months ago        7.58MB\nubuntu               15.10               9b9cb95443b5        13 months ago       137MB\ntraining/webapp      latest              6fae60ef3446        2 years ago         349MB\n```\n## 其他命令\n```\n## 获取一个镜像\n## ubuntu:镜像库中的TAG\n## 13.10:某个TAG的版本\ndocker pull ubuntu:13.10\n\n\n## 搜索某个镜像\ndocker search httpd\n\n## 拖取镜像\ndocker pull httpd\n\n## 运行镜像\ndocker run httpd\n\n## 创建镜像\n### 进入某个镜像的bash命令行(在此镜像基础上创建自己的镜像)\nroot@hisen-pc:/home/hisen# docker run -t -i ubuntu:15.10\n### 更新系统(镜像的)\nroot@4a3f5f4373d8:/# apt-get update\n\n##提交容器副本\n### 退出镜像的bash命令界面\nroot@4a3f5f4373d8:/# exit          \nexit\n### 提交副本\nroot@hisen-pc:/home/hisen# docker commit -m=\"has update\" -a=\"hisen\" 4a3f5f4373d8 hisen/ubuntu:v2\n### 返回副本容器的id\nsha256:a94d0bdd2e31aa420c14e9886ff911354c07a7772715bd8d380bd0832f396c82\n### 查看,发现刚刚提交的副本显示出来了\nroot@hisen-pc:/home/hisen# docker images\nREPOSITORY           TAG                 IMAGE ID            CREATED              SIZE\nhisen/ubuntu         v2                  a94d0bdd2e31        About a minute ago   159MB\nhello-world          latest              1815c82652c0        2 months ago         1.84kB\nwoailuoli993/jblse   0.2.0               82099e8d7049        6 months ago         7.58MB\nubuntu               15.10               9b9cb95443b5        13 months ago        137MB\ntraining/webapp      latest              6fae60ef3446        2 years ago          349MB\n\n## 参数说明\n-m:提交的描述信息\n-a:指定镜像作者\n4a3f5f4373d8：容器ID(就是你修改之前的id)\nhisen/ubuntu:v2:指定要创建的目标镜像名\n\n## 进入新镜像的bash命令\ndocker run -t -i hisen/ubuntu:v2 /bin/bash \n```\n## 构建一个全新的镜像\n新建一个配置文件:Dockerfile,并添加内容\n\n每个指令都会在镜像上创建一个新的层\n\n每一个指令的前缀都必须是大写的。\n\n第一条FROM，指定使用哪个镜像源\n\nRUN 指令告诉docker 在镜像内执行命令，安装了什么\n```\nroot@hisen-pc:/home/hisen# vi Dockerfile \n\nFROM    ubuntu:16.04\nMAINTAINER      Fisher \"hisenyuan@gmail.com\"\n\nRUN     /bin/echo 'root:123456' |chpasswd\nRUN     useradd hisen\nRUN     /bin/echo 'hisen:123456' |chpasswd\nRUN     /bin/echo -e \"LANG=\\\"en_US.UTF-8\\\"\" >/etc/default/local\nEXPOSE  22\nEXPOSE  80\nCMD     /usr/sbin/sshd -D\n\n## 保存配置文件之后,构建镜像,注意最后那个点.\nroot@hisen-pc:/home/hisen# docker build -t hisen/ubuntu:16.04 .\nsending build context to Docker daemon    776MB\n```","source":"_posts/Docker 入门实践.md","raw":"---\ntitle: Docker 入门实践\nkeywords: [Docker]\ndate: 2017/9/29 9:56\ntags: [docker]\ncategories: docker\n---\n早些天不忙的时候看的入门，从有道云笔记搬过来的\n\n# 简介\nDocker 是一个开源的应用容器引擎，基于 Go 语言 并遵从Apache2.0协议开源。\nDocker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。\n容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。\n\n## Docker的应用场景\n1. Web 应用的自动化打包和发布。\n2. 自动化测试和持续集成、发布。\n3. 在服务型环境中部署和调整数据库或其他的后台应用。\n4. 从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境。\n<!--more-->\n## Docker的优点\n1. **简化程序**：Docker 让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，便可以实现虚拟化。Docker改变了虚拟化的方式，使开发者可以直接将自己的成果放入Docker中进行管理。方便快捷已经是 Docker的最大优势，过去需要用数天乃至数周的\t任务，在Docker容器的处理下，只需要数秒就能完成。\n2. **避免选择恐惧症**：如果你有选择恐惧症，还是资深患者。Docker 帮你\t打包你的纠结！比如 Docker 镜像；Docker 镜像中包含了运行环境和配置，所以 Docker 可以简化部署多种应用实例工作。比如 Web 应用、后台应用、数据库应用、大数据应用比如 Hadoop 集群、消息队列等等都可以打包成一个镜像部署。\n3. **节省开支**：一方面，云计算时代到来，使开发者不必为了追求效果而配置高额的硬件，Docker 改变了高性能必然高价格的思维定势。Docker 与云的结合，让云空间得到更充分的利用。不仅解决了硬件管理的问题，也改变了虚拟化的方式。\n## Docker 架构\n\n| 中文 | 英文 | 解释 |\n|:-----|:-----|:-----|\n| 镜像|Docker Images | Docker 镜像是用于创建 Docker 容器的模板。|\n|容器|Docker Container|容器是独立运行的一个或一组应用。|\n|客户端|Docker Client|Docker 客户端通过命令行或者其他工具使用 Docker API ([查看API](https://docs.docker.com/reference/api/docker_remote_api)) 与 Docker 的守护进程通信。|\n|主机|Docker Host|一个物理或者虚拟的机器用于执行 Docker 守护进程和容器。|\n|仓库|Docker Registry|Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。Docker Hub([查看镜像](https://hub.docker.com)) 提供了庞大的镜像集合供使用。|\n|工具|Docker Machine|Docker Machine是一个简化Docker安装的命令行工具，通过一个简单的命令行即可在相应的平台上安装Docker，比如VirtualBox、 Digital Ocean、Microsoft Azure。|\n\n# Ubuntu Docker 安装\n## 使用脚本安装\n### 下载最新的安装包\n```\nhisen@hisen-pc:~$ wget -qO- https://get.docker.com/ | sh\n```\n### hello-world\n```\n#启动\nsudo service docker start\n\n#运行hello-world\ndocker run hello-world\n##报错\ndocker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.31/containers/create: dial unix /var/run/docker.sock: connect: permission denied.\n##解决:su 以root方式运行\n\n#docker run hello-world\n##提示:没有image,然后自动下载\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nb04784fba78d: Pull complete \nDigest: sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\n#已经启动成功\n```\n# Docker 使用\n```\n#启动某个指定的镜像,运行hello-world\nroot@hisen-pc:/home/hisen# docker run ubuntu:15.10 /bin/echo \"Hello world\"\nUnable to find image 'ubuntu:15.10' locally\n15.10: Pulling from library/ubuntu\n7dcf5a444392: Downloading   6.29MB/51.07MB\n759aa75f3cee: Download complete \n3fa871dc8a2b: Download complete \n224c42ae46e7: Download complete \n\n```\n## 各个参数解析\ndocker run ubuntu:15.10 /bin/echo \"Hello world\"\n\n\n|参数|解释|\n|:-----|:-----|\n|docker|Docker 的二进制执行文件|\n|run|与前面的 docker 组合来运行一个容器|\n|ubuntu:15.10|指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。|\n|/bin/echo \"Hello world\"|在启动的容器里执行的命令|\n\n以上命令完整的意思可以解释为：Docker 以 ubuntu15.10 镜像创建一个新容器，然后在容器里执行 bin/echo \"Hello world\"，然后输出结果。\n\n## 运行交互式的容器\n```\nroot@hisen-pc:/home/hisen# docker run -i -t ubuntu:15.10 /bin/bash\n##这时,我们已经进入了ubuntu:15.10的系统\n##这时就是进入了命令行,可以执行相关命令\nroot@6265d70f44d2:/# \n##\n运行exit命令或者使用CTRL+D来退出容器\n```\n-t:在新容器内指定一个伪终端或终端。\n-i:允许你对容器内的标准输入 (STDIN) 进行交互。\n\n## 启动容器（后台模式）\n```\nroot@hisen-pc:/home/hisen# docker run -d ubuntu:15.10 /bin/sh -c \"while true; do echo hello world; sleep 1; done\"\n8c2a843273608eb155279ce4e4f9f4c5442c2af3524ba50ca2d6c8ccbd207081\n```\n后台启动完成,会返回一串容器的ID\n```\n##查看是否有容器启动\nroot@hisen-pc:/home/hisen# docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS               NAMES\n8c2a84327360        ubuntu:15.10        \"/bin/sh -c 'while...\"   About a minute ago   Up About a minute \n```\nCONTAINER ID:容器ID(这里是:==8c2a84327360==)\n\nNAMES:自动分配的容器名称\n\n```\n## 查看上面那个ID的容器的log\nroot@hisen-pc:/home/hisen# docker logs 8c2a84327360\n## 输出内容\nhello world\nhello world\n\n## 停止容器(指定ID:8c2a84327360)\nroot@hisen-pc:/home/hisen# docker stop 8c2a84327360\n## 输出ID,说明已经停止成功\n8c2a84327360\n\n## 检查是否真的关闭\nroot@hisen-pc:/home/hisen# docker ps\n## 输出没有,说明真的关闭了\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n```\n## Docker 客户端\ndocker 客户端非常简单 ,我们可以直接输入 docker 命令来查看到 Docker 客户端的所有命令选项。\n```\n## 调出帮助\nroot@hisen-pc:/home/hisen# docker\n##　输出帮助信息\nUsage:\tdocker COMMAND\n\nA self-sufficient runtime for containers\n\nOptions:\n      --config string      Location of client config files (default \"/root/.docker\")\n  -D, --debug              Enable debug mode\n      --help               Print usage\n  -H, --host list          Daemon socket(s) to connect to\n  -l, --log-level string   Set the logging level\n\n## 了解更详细的帮助信息\nroot@hisen-pc:/home/hisen#docker　stats --help\n\n## 输出详细帮助信息\nUsage:\tdocker stats [OPTIONS] [CONTAINER...]\n\nDisplay a live stream of container(s) resource usage statistics\n\nOptions:\n  -a, --all             Show all containers (default shows just running)\n      --format string   Pretty-print images using a Go template\n      --help            Print usage\n      --no-stream       Disable streaming stats and only pull the first result\n\n```\n## 运行一个WEB容器\n运行一个 Python Flask 应用 来搭建一个web应用\n```\n## -d:让容器在后台运行。\n## -P:将容器内部使用的网络端口映射到我们使用的主机上。\nroot@hisen-pc:/home/hisen# docker run -d -P training/webapp python app.py\n## 提示本地没有,远程下载\nUnable to find image 'training/webapp:latest' locally\nlatest: Pulling from training/webapp\ne190868d63f8: Pull complete \n909cd34c6fd7: Pull complete \n0b9bfabab7c1: Pull complete \na3ed95caeb02: Pull complete \n10bbbc0fc0ff: Pull complete \nfca59b508e9f: Pull complete \ne7ae2541b15b: Pull complete \n9dd97ef58ce9: Pull complete \na4c1b0cb7af7: Pull complete \nDigest: sha256:06e9c1983bd6d5db5fba376ccd63bfa529e8d02f23d5079b8f74a616308fb11d\nStatus: Downloaded newer image for training/webapp:latest\n\n## 下载完成直接后台运行了,打印id\nb03903d6abf3d65a4e6469a57d11ae539aaad1f166078591e7315ca2fb2611ff\n\n## 查看运行的docker\nroot@hisen-pc:/home/hisen# docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES\nb03903d6abf3        training/webapp     \"python app.py\"     9 minutes ago       Up 9 minutes        0.0.0.0:32768->5000/tcp   nifty_mirzakhani\n```\n0.0.0.0:32768->5000/tcp  \ndocker使用的端口5000\n\n映射到本地端口32768\n\n本地可以访问:[127.0.0.1:32768](127.0.0.1:32768)\n```\n## 访问:http://localhost:32768/\n## 输出\nHello world!\n\n## 可以指定端口 8060为自映射端口,5000为容器端口\nroot@hisen-pc:/home/hisen# docker run -d -p 8060:5000 training/webapp python app.py\n0d68d3d4baf61248129ede721cc6004649ebddaaace8c23f16b677fbe2b2ce7d\nroot@hisen-pc:/home/hisen# docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                    NAMES\n0d68d3d4baf6        training/webapp     \"python app.py\"     5 seconds ago       Up 4 seconds        0.0.0.0:8060->5000/tcp   ecstatic_jang\n\n## 查看端口映射情况(可以通过id,或者名字)\n## 这里用ID测试\nroot@hisen-pc:/home/hisen# docker port 0d68d3d4baf6\n## 输出信息,后面为映射到本地的端口\n5000/tcp -> 0.0.0.0:8060\n```\n### 查看WEB应用程序日志\n```\n## 带上 -f 参数,动态输出日志\nroot@hisen-pc:/home/hisen# docker logs -f 0d68d3d4baf6\n * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)\n\n## 刷新页面之后的日志\n172.17.0.1 - - [01/Sep/2017 14:09:01] \"GET / HTTP/1.1\" 200 -\n172.17.0.1 - - [01/Sep/2017 14:09:01] \"GET /favicon.ico HTTP/1.1\" 404 -\n```\n### 查看WEB应用程序容器的进程\n```\n## top后面是跟着id或者name\nroot@hisen-pc:/home/hisen# docker top 0d68d3d4baf6\n## 输出的信息\nUID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD\nroot                19372               19352               0                   21:39               ?                   00:00:00            python app.py\n```\n### 检查WEB应用程序\n```\n## 会输出一大串JSON形式的字符串\n## 记录着 Docker 容器的配置和状态信息\nroot@hisen-pc:/home/hisen# docker inspect 0d68d3d4baf6\n```\n### WEB程序其他操作\n```\ndocker stop  0d68d3d4baf6\n## 移除之前必须停止,否则会报错\ndocker rm 0d68d3d4baf6\n```\n\n# Docker 镜像使用\n## 列出所有本地的镜像\n```\nroot@hisen-pc:/home/hisen# docker images\nREPOSITORY           TAG                 IMAGE ID            CREATED             SIZE\nhello-world          latest              1815c82652c0        2 months ago        1.84kB\nwoailuoli993/jblse   0.2.0               82099e8d7049        6 months ago        7.58MB\nubuntu               15.10               9b9cb95443b5        13 months ago       137MB\ntraining/webapp      latest              6fae60ef3446        2 years ago         349MB\n```\n## 其他命令\n```\n## 获取一个镜像\n## ubuntu:镜像库中的TAG\n## 13.10:某个TAG的版本\ndocker pull ubuntu:13.10\n\n\n## 搜索某个镜像\ndocker search httpd\n\n## 拖取镜像\ndocker pull httpd\n\n## 运行镜像\ndocker run httpd\n\n## 创建镜像\n### 进入某个镜像的bash命令行(在此镜像基础上创建自己的镜像)\nroot@hisen-pc:/home/hisen# docker run -t -i ubuntu:15.10\n### 更新系统(镜像的)\nroot@4a3f5f4373d8:/# apt-get update\n\n##提交容器副本\n### 退出镜像的bash命令界面\nroot@4a3f5f4373d8:/# exit          \nexit\n### 提交副本\nroot@hisen-pc:/home/hisen# docker commit -m=\"has update\" -a=\"hisen\" 4a3f5f4373d8 hisen/ubuntu:v2\n### 返回副本容器的id\nsha256:a94d0bdd2e31aa420c14e9886ff911354c07a7772715bd8d380bd0832f396c82\n### 查看,发现刚刚提交的副本显示出来了\nroot@hisen-pc:/home/hisen# docker images\nREPOSITORY           TAG                 IMAGE ID            CREATED              SIZE\nhisen/ubuntu         v2                  a94d0bdd2e31        About a minute ago   159MB\nhello-world          latest              1815c82652c0        2 months ago         1.84kB\nwoailuoli993/jblse   0.2.0               82099e8d7049        6 months ago         7.58MB\nubuntu               15.10               9b9cb95443b5        13 months ago        137MB\ntraining/webapp      latest              6fae60ef3446        2 years ago          349MB\n\n## 参数说明\n-m:提交的描述信息\n-a:指定镜像作者\n4a3f5f4373d8：容器ID(就是你修改之前的id)\nhisen/ubuntu:v2:指定要创建的目标镜像名\n\n## 进入新镜像的bash命令\ndocker run -t -i hisen/ubuntu:v2 /bin/bash \n```\n## 构建一个全新的镜像\n新建一个配置文件:Dockerfile,并添加内容\n\n每个指令都会在镜像上创建一个新的层\n\n每一个指令的前缀都必须是大写的。\n\n第一条FROM，指定使用哪个镜像源\n\nRUN 指令告诉docker 在镜像内执行命令，安装了什么\n```\nroot@hisen-pc:/home/hisen# vi Dockerfile \n\nFROM    ubuntu:16.04\nMAINTAINER      Fisher \"hisenyuan@gmail.com\"\n\nRUN     /bin/echo 'root:123456' |chpasswd\nRUN     useradd hisen\nRUN     /bin/echo 'hisen:123456' |chpasswd\nRUN     /bin/echo -e \"LANG=\\\"en_US.UTF-8\\\"\" >/etc/default/local\nEXPOSE  22\nEXPOSE  80\nCMD     /usr/sbin/sshd -D\n\n## 保存配置文件之后,构建镜像,注意最后那个点.\nroot@hisen-pc:/home/hisen# docker build -t hisen/ubuntu:16.04 .\nsending build context to Docker daemon    776MB\n```","slug":"Docker 入门实践","published":1,"updated":"2017-10-21T06:38:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdva00hbolej3h6s0fty","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>早些天不忙的时候看的入门，从有道云笔记搬过来的</p><h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><p>Docker 是一个开源的应用容器引擎，基于 Go 语言 并遵从Apache2.0协议开源。<br>Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。<br>容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p><h2 id=\"Docker的应用场景\"><a href=\"#Docker的应用场景\" class=\"headerlink\" title=\"Docker的应用场景\"></a>Docker的应用场景</h2><ol><li>Web 应用的自动化打包和发布。</li><li>自动化测试和持续集成、发布。</li><li>在服务型环境中部署和调整数据库或其他的后台应用。</li><li>从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境。<a id=\"more\"></a><h2 id=\"Docker的优点\"><a href=\"#Docker的优点\" class=\"headerlink\" title=\"Docker的优点\"></a>Docker的优点</h2></li><li><strong>简化程序</strong>：Docker 让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，便可以实现虚拟化。Docker改变了虚拟化的方式，使开发者可以直接将自己的成果放入Docker中进行管理。方便快捷已经是 Docker的最大优势，过去需要用数天乃至数周的 任务，在Docker容器的处理下，只需要数秒就能完成。</li><li><strong>避免选择恐惧症</strong>：如果你有选择恐惧症，还是资深患者。Docker 帮你 打包你的纠结！比如 Docker 镜像；Docker 镜像中包含了运行环境和配置，所以 Docker 可以简化部署多种应用实例工作。比如 Web 应用、后台应用、数据库应用、大数据应用比如 Hadoop 集群、消息队列等等都可以打包成一个镜像部署。</li><li><strong>节省开支</strong>：一方面，云计算时代到来，使开发者不必为了追求效果而配置高额的硬件，Docker 改变了高性能必然高价格的思维定势。Docker 与云的结合，让云空间得到更充分的利用。不仅解决了硬件管理的问题，也改变了虚拟化的方式。<h2 id=\"Docker-架构\"><a href=\"#Docker-架构\" class=\"headerlink\" title=\"Docker 架构\"></a>Docker 架构</h2></li></ol><table><thead><tr><th style=\"text-align:left\">中文</th><th style=\"text-align:left\">英文</th><th style=\"text-align:left\">解释</th></tr></thead><tbody><tr><td style=\"text-align:left\">镜像</td><td style=\"text-align:left\">Docker Images</td><td style=\"text-align:left\">Docker 镜像是用于创建 Docker 容器的模板。</td></tr><tr><td style=\"text-align:left\">容器</td><td style=\"text-align:left\">Docker Container</td><td style=\"text-align:left\">容器是独立运行的一个或一组应用。</td></tr><tr><td style=\"text-align:left\">客户端</td><td style=\"text-align:left\">Docker Client</td><td style=\"text-align:left\">Docker 客户端通过命令行或者其他工具使用 Docker API (<a href=\"https://docs.docker.com/reference/api/docker_remote_api\" target=\"_blank\" rel=\"noopener\">查看API</a>) 与 Docker 的守护进程通信。</td></tr><tr><td style=\"text-align:left\">主机</td><td style=\"text-align:left\">Docker Host</td><td style=\"text-align:left\">一个物理或者虚拟的机器用于执行 Docker 守护进程和容器。</td></tr><tr><td style=\"text-align:left\">仓库</td><td style=\"text-align:left\">Docker Registry</td><td style=\"text-align:left\">Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。Docker Hub(<a href=\"https://hub.docker.com\" target=\"_blank\" rel=\"noopener\">查看镜像</a>) 提供了庞大的镜像集合供使用。</td></tr><tr><td style=\"text-align:left\">工具</td><td style=\"text-align:left\">Docker Machine</td><td style=\"text-align:left\">Docker Machine是一个简化Docker安装的命令行工具，通过一个简单的命令行即可在相应的平台上安装Docker，比如VirtualBox、 Digital Ocean、Microsoft Azure。</td></tr></tbody></table><h1 id=\"Ubuntu-Docker-安装\"><a href=\"#Ubuntu-Docker-安装\" class=\"headerlink\" title=\"Ubuntu Docker 安装\"></a>Ubuntu Docker 安装</h1><h2 id=\"使用脚本安装\"><a href=\"#使用脚本安装\" class=\"headerlink\" title=\"使用脚本安装\"></a>使用脚本安装</h2><h3 id=\"下载最新的安装包\"><a href=\"#下载最新的安装包\" class=\"headerlink\" title=\"下载最新的安装包\"></a>下载最新的安装包</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-pc:~$ wget -qO- https://get.docker.com/ | sh</span><br></pre></td></tr></table></figure><h3 id=\"hello-world\"><a href=\"#hello-world\" class=\"headerlink\" title=\"hello-world\"></a>hello-world</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#启动</span><br><span class=\"line\">sudo service docker start</span><br><span class=\"line\"></span><br><span class=\"line\">#运行hello-world</span><br><span class=\"line\">docker run hello-world</span><br><span class=\"line\">##报错</span><br><span class=\"line\">docker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.31/containers/create: dial unix /var/run/docker.sock: connect: permission denied.</span><br><span class=\"line\">##解决:su 以root方式运行</span><br><span class=\"line\"></span><br><span class=\"line\">#docker run hello-world</span><br><span class=\"line\">##提示:没有image,然后自动下载</span><br><span class=\"line\">Unable to find image &apos;hello-world:latest&apos; locally</span><br><span class=\"line\">latest: Pulling from library/hello-world</span><br><span class=\"line\">b04784fba78d: Pull complete </span><br><span class=\"line\">Digest: sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f</span><br><span class=\"line\">Status: Downloaded newer image for hello-world:latest</span><br><span class=\"line\"></span><br><span class=\"line\">Hello from Docker!</span><br><span class=\"line\">This message shows that your installation appears to be working correctly.</span><br><span class=\"line\"></span><br><span class=\"line\">#已经启动成功</span><br></pre></td></tr></table></figure><h1 id=\"Docker-使用\"><a href=\"#Docker-使用\" class=\"headerlink\" title=\"Docker 使用\"></a>Docker 使用</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#启动某个指定的镜像,运行hello-world</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run ubuntu:15.10 /bin/echo &quot;Hello world&quot;</span><br><span class=\"line\">Unable to find image &apos;ubuntu:15.10&apos; locally</span><br><span class=\"line\">15.10: Pulling from library/ubuntu</span><br><span class=\"line\">7dcf5a444392: Downloading   6.29MB/51.07MB</span><br><span class=\"line\">759aa75f3cee: Download complete </span><br><span class=\"line\">3fa871dc8a2b: Download complete </span><br><span class=\"line\">224c42ae46e7: Download complete</span><br></pre></td></tr></table></figure><h2 id=\"各个参数解析\"><a href=\"#各个参数解析\" class=\"headerlink\" title=\"各个参数解析\"></a>各个参数解析</h2><p>docker run ubuntu:15.10 /bin/echo “Hello world”</p><table><thead><tr><th style=\"text-align:left\">参数</th><th style=\"text-align:left\">解释</th></tr></thead><tbody><tr><td style=\"text-align:left\">docker</td><td style=\"text-align:left\">Docker 的二进制执行文件</td></tr><tr><td style=\"text-align:left\">run</td><td style=\"text-align:left\">与前面的 docker 组合来运行一个容器</td></tr><tr><td style=\"text-align:left\">ubuntu:15.10</td><td style=\"text-align:left\">指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。</td></tr><tr><td style=\"text-align:left\">/bin/echo “Hello world”</td><td style=\"text-align:left\">在启动的容器里执行的命令</td></tr></tbody></table><p>以上命令完整的意思可以解释为：Docker 以 ubuntu15.10 镜像创建一个新容器，然后在容器里执行 bin/echo “Hello world”，然后输出结果。</p><h2 id=\"运行交互式的容器\"><a href=\"#运行交互式的容器\" class=\"headerlink\" title=\"运行交互式的容器\"></a>运行交互式的容器</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# docker run -i -t ubuntu:15.10 /bin/bash</span><br><span class=\"line\">##这时,我们已经进入了ubuntu:15.10的系统</span><br><span class=\"line\">##这时就是进入了命令行,可以执行相关命令</span><br><span class=\"line\">root@6265d70f44d2:/# </span><br><span class=\"line\">##</span><br><span class=\"line\">运行exit命令或者使用CTRL+D来退出容器</span><br></pre></td></tr></table></figure><p>-t:在新容器内指定一个伪终端或终端。<br>-i:允许你对容器内的标准输入 (STDIN) 进行交互。</p><h2 id=\"启动容器（后台模式）\"><a href=\"#启动容器（后台模式）\" class=\"headerlink\" title=\"启动容器（后台模式）\"></a>启动容器（后台模式）</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# docker run -d ubuntu:15.10 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span><br><span class=\"line\">8c2a843273608eb155279ce4e4f9f4c5442c2af3524ba50ca2d6c8ccbd207081</span><br></pre></td></tr></table></figure><p>后台启动完成,会返回一串容器的ID<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##查看是否有容器启动</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS               NAMES</span><br><span class=\"line\">8c2a84327360        ubuntu:15.10        &quot;/bin/sh -c &apos;while...&quot;   About a minute ago   Up About a minute</span><br></pre></td></tr></table></figure><p></p><p>CONTAINER ID:容器ID(这里是:==8c2a84327360==)</p><p>NAMES:自动分配的容器名称</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 查看上面那个ID的容器的log</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker logs 8c2a84327360</span><br><span class=\"line\">## 输出内容</span><br><span class=\"line\">hello world</span><br><span class=\"line\">hello world</span><br><span class=\"line\"></span><br><span class=\"line\">## 停止容器(指定ID:8c2a84327360)</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker stop 8c2a84327360</span><br><span class=\"line\">## 输出ID,说明已经停止成功</span><br><span class=\"line\">8c2a84327360</span><br><span class=\"line\"></span><br><span class=\"line\">## 检查是否真的关闭</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">## 输出没有,说明真的关闭了</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br></pre></td></tr></table></figure><h2 id=\"Docker-客户端\"><a href=\"#Docker-客户端\" class=\"headerlink\" title=\"Docker 客户端\"></a>Docker 客户端</h2><p>docker 客户端非常简单 ,我们可以直接输入 docker 命令来查看到 Docker 客户端的所有命令选项。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 调出帮助</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker</span><br><span class=\"line\">##　输出帮助信息</span><br><span class=\"line\">Usage:\tdocker COMMAND</span><br><span class=\"line\"></span><br><span class=\"line\">A self-sufficient runtime for containers</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">      --config string      Location of client config files (default &quot;/root/.docker&quot;)</span><br><span class=\"line\">  -D, --debug              Enable debug mode</span><br><span class=\"line\">      --help               Print usage</span><br><span class=\"line\">  -H, --host list          Daemon socket(s) to connect to</span><br><span class=\"line\">  -l, --log-level string   Set the logging level</span><br><span class=\"line\"></span><br><span class=\"line\">## 了解更详细的帮助信息</span><br><span class=\"line\">root@hisen-pc:/home/hisen#docker　stats --help</span><br><span class=\"line\"></span><br><span class=\"line\">## 输出详细帮助信息</span><br><span class=\"line\">Usage:\tdocker stats [OPTIONS] [CONTAINER...]</span><br><span class=\"line\"></span><br><span class=\"line\">Display a live stream of container(s) resource usage statistics</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">  -a, --all             Show all containers (default shows just running)</span><br><span class=\"line\">      --format string   Pretty-print images using a Go template</span><br><span class=\"line\">      --help            Print usage</span><br><span class=\"line\">      --no-stream       Disable streaming stats and only pull the first result</span><br></pre></td></tr></table></figure><p></p><h2 id=\"运行一个WEB容器\"><a href=\"#运行一个WEB容器\" class=\"headerlink\" title=\"运行一个WEB容器\"></a>运行一个WEB容器</h2><p>运行一个 Python Flask 应用 来搭建一个web应用<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## -d:让容器在后台运行。</span><br><span class=\"line\">## -P:将容器内部使用的网络端口映射到我们使用的主机上。</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run -d -P training/webapp python app.py</span><br><span class=\"line\">## 提示本地没有,远程下载</span><br><span class=\"line\">Unable to find image &apos;training/webapp:latest&apos; locally</span><br><span class=\"line\">latest: Pulling from training/webapp</span><br><span class=\"line\">e190868d63f8: Pull complete </span><br><span class=\"line\">909cd34c6fd7: Pull complete </span><br><span class=\"line\">0b9bfabab7c1: Pull complete </span><br><span class=\"line\">a3ed95caeb02: Pull complete </span><br><span class=\"line\">10bbbc0fc0ff: Pull complete </span><br><span class=\"line\">fca59b508e9f: Pull complete </span><br><span class=\"line\">e7ae2541b15b: Pull complete </span><br><span class=\"line\">9dd97ef58ce9: Pull complete </span><br><span class=\"line\">a4c1b0cb7af7: Pull complete </span><br><span class=\"line\">Digest: sha256:06e9c1983bd6d5db5fba376ccd63bfa529e8d02f23d5079b8f74a616308fb11d</span><br><span class=\"line\">Status: Downloaded newer image for training/webapp:latest</span><br><span class=\"line\"></span><br><span class=\"line\">## 下载完成直接后台运行了,打印id</span><br><span class=\"line\">b03903d6abf3d65a4e6469a57d11ae539aaad1f166078591e7315ca2fb2611ff</span><br><span class=\"line\"></span><br><span class=\"line\">## 查看运行的docker</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES</span><br><span class=\"line\">b03903d6abf3        training/webapp     &quot;python app.py&quot;     9 minutes ago       Up 9 minutes        0.0.0.0:32768-&gt;5000/tcp   nifty_mirzakhani</span><br></pre></td></tr></table></figure><p></p><p>0.0.0.0:32768-&gt;5000/tcp<br>docker使用的端口5000</p><p>映射到本地端口32768</p><p>本地可以访问:<a href=\"127.0.0.1:32768\" target=\"_blank\" rel=\"noopener\">127.0.0.1:32768</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 访问:http://localhost:32768/</span><br><span class=\"line\">## 输出</span><br><span class=\"line\">Hello world!</span><br><span class=\"line\"></span><br><span class=\"line\">## 可以指定端口 8060为自映射端口,5000为容器端口</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run -d -p 8060:5000 training/webapp python app.py</span><br><span class=\"line\">0d68d3d4baf61248129ede721cc6004649ebddaaace8c23f16b677fbe2b2ce7d</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                    NAMES</span><br><span class=\"line\">0d68d3d4baf6        training/webapp     &quot;python app.py&quot;     5 seconds ago       Up 4 seconds        0.0.0.0:8060-&gt;5000/tcp   ecstatic_jang</span><br><span class=\"line\"></span><br><span class=\"line\">## 查看端口映射情况(可以通过id,或者名字)</span><br><span class=\"line\">## 这里用ID测试</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker port 0d68d3d4baf6</span><br><span class=\"line\">## 输出信息,后面为映射到本地的端口</span><br><span class=\"line\">5000/tcp -&gt; 0.0.0.0:8060</span><br></pre></td></tr></table></figure><p></p><h3 id=\"查看WEB应用程序日志\"><a href=\"#查看WEB应用程序日志\" class=\"headerlink\" title=\"查看WEB应用程序日志\"></a>查看WEB应用程序日志</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 带上 -f 参数,动态输出日志</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker logs -f 0d68d3d4baf6</span><br><span class=\"line\"> * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span><br><span class=\"line\"></span><br><span class=\"line\">## 刷新页面之后的日志</span><br><span class=\"line\">172.17.0.1 - - [01/Sep/2017 14:09:01] &quot;GET / HTTP/1.1&quot; 200 -</span><br><span class=\"line\">172.17.0.1 - - [01/Sep/2017 14:09:01] &quot;GET /favicon.ico HTTP/1.1&quot; 404 -</span><br></pre></td></tr></table></figure><h3 id=\"查看WEB应用程序容器的进程\"><a href=\"#查看WEB应用程序容器的进程\" class=\"headerlink\" title=\"查看WEB应用程序容器的进程\"></a>查看WEB应用程序容器的进程</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## top后面是跟着id或者name</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker top 0d68d3d4baf6</span><br><span class=\"line\">## 输出的信息</span><br><span class=\"line\">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class=\"line\">root                19372               19352               0                   21:39               ?                   00:00:00            python app.py</span><br></pre></td></tr></table></figure><h3 id=\"检查WEB应用程序\"><a href=\"#检查WEB应用程序\" class=\"headerlink\" title=\"检查WEB应用程序\"></a>检查WEB应用程序</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 会输出一大串JSON形式的字符串</span><br><span class=\"line\">## 记录着 Docker 容器的配置和状态信息</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker inspect 0d68d3d4baf6</span><br></pre></td></tr></table></figure><h3 id=\"WEB程序其他操作\"><a href=\"#WEB程序其他操作\" class=\"headerlink\" title=\"WEB程序其他操作\"></a>WEB程序其他操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stop  0d68d3d4baf6</span><br><span class=\"line\">## 移除之前必须停止,否则会报错</span><br><span class=\"line\">docker rm 0d68d3d4baf6</span><br></pre></td></tr></table></figure><h1 id=\"Docker-镜像使用\"><a href=\"#Docker-镜像使用\" class=\"headerlink\" title=\"Docker 镜像使用\"></a>Docker 镜像使用</h1><h2 id=\"列出所有本地的镜像\"><a href=\"#列出所有本地的镜像\" class=\"headerlink\" title=\"列出所有本地的镜像\"></a>列出所有本地的镜像</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# docker images</span><br><span class=\"line\">REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</span><br><span class=\"line\">hello-world          latest              1815c82652c0        2 months ago        1.84kB</span><br><span class=\"line\">woailuoli993/jblse   0.2.0               82099e8d7049        6 months ago        7.58MB</span><br><span class=\"line\">ubuntu               15.10               9b9cb95443b5        13 months ago       137MB</span><br><span class=\"line\">training/webapp      latest              6fae60ef3446        2 years ago         349MB</span><br></pre></td></tr></table></figure><h2 id=\"其他命令\"><a href=\"#其他命令\" class=\"headerlink\" title=\"其他命令\"></a>其他命令</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 获取一个镜像</span><br><span class=\"line\">## ubuntu:镜像库中的TAG</span><br><span class=\"line\">## 13.10:某个TAG的版本</span><br><span class=\"line\">docker pull ubuntu:13.10</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## 搜索某个镜像</span><br><span class=\"line\">docker search httpd</span><br><span class=\"line\"></span><br><span class=\"line\">## 拖取镜像</span><br><span class=\"line\">docker pull httpd</span><br><span class=\"line\"></span><br><span class=\"line\">## 运行镜像</span><br><span class=\"line\">docker run httpd</span><br><span class=\"line\"></span><br><span class=\"line\">## 创建镜像</span><br><span class=\"line\">### 进入某个镜像的bash命令行(在此镜像基础上创建自己的镜像)</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run -t -i ubuntu:15.10</span><br><span class=\"line\">### 更新系统(镜像的)</span><br><span class=\"line\">root@4a3f5f4373d8:/# apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">##提交容器副本</span><br><span class=\"line\">### 退出镜像的bash命令界面</span><br><span class=\"line\">root@4a3f5f4373d8:/# exit          </span><br><span class=\"line\">exit</span><br><span class=\"line\">### 提交副本</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker commit -m=&quot;has update&quot; -a=&quot;hisen&quot; 4a3f5f4373d8 hisen/ubuntu:v2</span><br><span class=\"line\">### 返回副本容器的id</span><br><span class=\"line\">sha256:a94d0bdd2e31aa420c14e9886ff911354c07a7772715bd8d380bd0832f396c82</span><br><span class=\"line\">### 查看,发现刚刚提交的副本显示出来了</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker images</span><br><span class=\"line\">REPOSITORY           TAG                 IMAGE ID            CREATED              SIZE</span><br><span class=\"line\">hisen/ubuntu         v2                  a94d0bdd2e31        About a minute ago   159MB</span><br><span class=\"line\">hello-world          latest              1815c82652c0        2 months ago         1.84kB</span><br><span class=\"line\">woailuoli993/jblse   0.2.0               82099e8d7049        6 months ago         7.58MB</span><br><span class=\"line\">ubuntu               15.10               9b9cb95443b5        13 months ago        137MB</span><br><span class=\"line\">training/webapp      latest              6fae60ef3446        2 years ago          349MB</span><br><span class=\"line\"></span><br><span class=\"line\">## 参数说明</span><br><span class=\"line\">-m:提交的描述信息</span><br><span class=\"line\">-a:指定镜像作者</span><br><span class=\"line\">4a3f5f4373d8：容器ID(就是你修改之前的id)</span><br><span class=\"line\">hisen/ubuntu:v2:指定要创建的目标镜像名</span><br><span class=\"line\"></span><br><span class=\"line\">## 进入新镜像的bash命令</span><br><span class=\"line\">docker run -t -i hisen/ubuntu:v2 /bin/bash</span><br></pre></td></tr></table></figure><h2 id=\"构建一个全新的镜像\"><a href=\"#构建一个全新的镜像\" class=\"headerlink\" title=\"构建一个全新的镜像\"></a>构建一个全新的镜像</h2><p>新建一个配置文件:Dockerfile,并添加内容</p><p>每个指令都会在镜像上创建一个新的层</p><p>每一个指令的前缀都必须是大写的。</p><p>第一条FROM，指定使用哪个镜像源</p><p>RUN 指令告诉docker 在镜像内执行命令，安装了什么<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# vi Dockerfile </span><br><span class=\"line\"></span><br><span class=\"line\">FROM    ubuntu:16.04</span><br><span class=\"line\">MAINTAINER      Fisher &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">RUN     /bin/echo &apos;root:123456&apos; |chpasswd</span><br><span class=\"line\">RUN     useradd hisen</span><br><span class=\"line\">RUN     /bin/echo &apos;hisen:123456&apos; |chpasswd</span><br><span class=\"line\">RUN     /bin/echo -e &quot;LANG=\\&quot;en_US.UTF-8\\&quot;&quot; &gt;/etc/default/local</span><br><span class=\"line\">EXPOSE  22</span><br><span class=\"line\">EXPOSE  80</span><br><span class=\"line\">CMD     /usr/sbin/sshd -D</span><br><span class=\"line\"></span><br><span class=\"line\">## 保存配置文件之后,构建镜像,注意最后那个点.</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker build -t hisen/ubuntu:16.04 .</span><br><span class=\"line\">sending build context to Docker daemon    776MB</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>早些天不忙的时候看的入门，从有道云笔记搬过来的</p><h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><p>Docker 是一个开源的应用容器引擎，基于 Go 语言 并遵从Apache2.0协议开源。<br>Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。<br>容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p><h2 id=\"Docker的应用场景\"><a href=\"#Docker的应用场景\" class=\"headerlink\" title=\"Docker的应用场景\"></a>Docker的应用场景</h2><ol><li>Web 应用的自动化打包和发布。</li><li>自动化测试和持续集成、发布。</li><li>在服务型环境中部署和调整数据库或其他的后台应用。</li><li>从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境。","more":"<h2 id=\"Docker的优点\"><a href=\"#Docker的优点\" class=\"headerlink\" title=\"Docker的优点\"></a>Docker的优点</h2></li><li><strong>简化程序</strong>：Docker 让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，便可以实现虚拟化。Docker改变了虚拟化的方式，使开发者可以直接将自己的成果放入Docker中进行管理。方便快捷已经是 Docker的最大优势，过去需要用数天乃至数周的 任务，在Docker容器的处理下，只需要数秒就能完成。</li><li><strong>避免选择恐惧症</strong>：如果你有选择恐惧症，还是资深患者。Docker 帮你 打包你的纠结！比如 Docker 镜像；Docker 镜像中包含了运行环境和配置，所以 Docker 可以简化部署多种应用实例工作。比如 Web 应用、后台应用、数据库应用、大数据应用比如 Hadoop 集群、消息队列等等都可以打包成一个镜像部署。</li><li><strong>节省开支</strong>：一方面，云计算时代到来，使开发者不必为了追求效果而配置高额的硬件，Docker 改变了高性能必然高价格的思维定势。Docker 与云的结合，让云空间得到更充分的利用。不仅解决了硬件管理的问题，也改变了虚拟化的方式。<h2 id=\"Docker-架构\"><a href=\"#Docker-架构\" class=\"headerlink\" title=\"Docker 架构\"></a>Docker 架构</h2></li></ol><table><thead><tr><th style=\"text-align:left\">中文</th><th style=\"text-align:left\">英文</th><th style=\"text-align:left\">解释</th></tr></thead><tbody><tr><td style=\"text-align:left\">镜像</td><td style=\"text-align:left\">Docker Images</td><td style=\"text-align:left\">Docker 镜像是用于创建 Docker 容器的模板。</td></tr><tr><td style=\"text-align:left\">容器</td><td style=\"text-align:left\">Docker Container</td><td style=\"text-align:left\">容器是独立运行的一个或一组应用。</td></tr><tr><td style=\"text-align:left\">客户端</td><td style=\"text-align:left\">Docker Client</td><td style=\"text-align:left\">Docker 客户端通过命令行或者其他工具使用 Docker API (<a href=\"https://docs.docker.com/reference/api/docker_remote_api\" target=\"_blank\" rel=\"noopener\">查看API</a>) 与 Docker 的守护进程通信。</td></tr><tr><td style=\"text-align:left\">主机</td><td style=\"text-align:left\">Docker Host</td><td style=\"text-align:left\">一个物理或者虚拟的机器用于执行 Docker 守护进程和容器。</td></tr><tr><td style=\"text-align:left\">仓库</td><td style=\"text-align:left\">Docker Registry</td><td style=\"text-align:left\">Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。Docker Hub(<a href=\"https://hub.docker.com\" target=\"_blank\" rel=\"noopener\">查看镜像</a>) 提供了庞大的镜像集合供使用。</td></tr><tr><td style=\"text-align:left\">工具</td><td style=\"text-align:left\">Docker Machine</td><td style=\"text-align:left\">Docker Machine是一个简化Docker安装的命令行工具，通过一个简单的命令行即可在相应的平台上安装Docker，比如VirtualBox、 Digital Ocean、Microsoft Azure。</td></tr></tbody></table><h1 id=\"Ubuntu-Docker-安装\"><a href=\"#Ubuntu-Docker-安装\" class=\"headerlink\" title=\"Ubuntu Docker 安装\"></a>Ubuntu Docker 安装</h1><h2 id=\"使用脚本安装\"><a href=\"#使用脚本安装\" class=\"headerlink\" title=\"使用脚本安装\"></a>使用脚本安装</h2><h3 id=\"下载最新的安装包\"><a href=\"#下载最新的安装包\" class=\"headerlink\" title=\"下载最新的安装包\"></a>下载最新的安装包</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hisen@hisen-pc:~$ wget -qO- https://get.docker.com/ | sh</span><br></pre></td></tr></table></figure><h3 id=\"hello-world\"><a href=\"#hello-world\" class=\"headerlink\" title=\"hello-world\"></a>hello-world</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#启动</span><br><span class=\"line\">sudo service docker start</span><br><span class=\"line\"></span><br><span class=\"line\">#运行hello-world</span><br><span class=\"line\">docker run hello-world</span><br><span class=\"line\">##报错</span><br><span class=\"line\">docker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.31/containers/create: dial unix /var/run/docker.sock: connect: permission denied.</span><br><span class=\"line\">##解决:su 以root方式运行</span><br><span class=\"line\"></span><br><span class=\"line\">#docker run hello-world</span><br><span class=\"line\">##提示:没有image,然后自动下载</span><br><span class=\"line\">Unable to find image &apos;hello-world:latest&apos; locally</span><br><span class=\"line\">latest: Pulling from library/hello-world</span><br><span class=\"line\">b04784fba78d: Pull complete </span><br><span class=\"line\">Digest: sha256:f3b3b28a45160805bb16542c9531888519430e9e6d6ffc09d72261b0d26ff74f</span><br><span class=\"line\">Status: Downloaded newer image for hello-world:latest</span><br><span class=\"line\"></span><br><span class=\"line\">Hello from Docker!</span><br><span class=\"line\">This message shows that your installation appears to be working correctly.</span><br><span class=\"line\"></span><br><span class=\"line\">#已经启动成功</span><br></pre></td></tr></table></figure><h1 id=\"Docker-使用\"><a href=\"#Docker-使用\" class=\"headerlink\" title=\"Docker 使用\"></a>Docker 使用</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#启动某个指定的镜像,运行hello-world</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run ubuntu:15.10 /bin/echo &quot;Hello world&quot;</span><br><span class=\"line\">Unable to find image &apos;ubuntu:15.10&apos; locally</span><br><span class=\"line\">15.10: Pulling from library/ubuntu</span><br><span class=\"line\">7dcf5a444392: Downloading   6.29MB/51.07MB</span><br><span class=\"line\">759aa75f3cee: Download complete </span><br><span class=\"line\">3fa871dc8a2b: Download complete </span><br><span class=\"line\">224c42ae46e7: Download complete</span><br></pre></td></tr></table></figure><h2 id=\"各个参数解析\"><a href=\"#各个参数解析\" class=\"headerlink\" title=\"各个参数解析\"></a>各个参数解析</h2><p>docker run ubuntu:15.10 /bin/echo “Hello world”</p><table><thead><tr><th style=\"text-align:left\">参数</th><th style=\"text-align:left\">解释</th></tr></thead><tbody><tr><td style=\"text-align:left\">docker</td><td style=\"text-align:left\">Docker 的二进制执行文件</td></tr><tr><td style=\"text-align:left\">run</td><td style=\"text-align:left\">与前面的 docker 组合来运行一个容器</td></tr><tr><td style=\"text-align:left\">ubuntu:15.10</td><td style=\"text-align:left\">指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。</td></tr><tr><td style=\"text-align:left\">/bin/echo “Hello world”</td><td style=\"text-align:left\">在启动的容器里执行的命令</td></tr></tbody></table><p>以上命令完整的意思可以解释为：Docker 以 ubuntu15.10 镜像创建一个新容器，然后在容器里执行 bin/echo “Hello world”，然后输出结果。</p><h2 id=\"运行交互式的容器\"><a href=\"#运行交互式的容器\" class=\"headerlink\" title=\"运行交互式的容器\"></a>运行交互式的容器</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# docker run -i -t ubuntu:15.10 /bin/bash</span><br><span class=\"line\">##这时,我们已经进入了ubuntu:15.10的系统</span><br><span class=\"line\">##这时就是进入了命令行,可以执行相关命令</span><br><span class=\"line\">root@6265d70f44d2:/# </span><br><span class=\"line\">##</span><br><span class=\"line\">运行exit命令或者使用CTRL+D来退出容器</span><br></pre></td></tr></table></figure><p>-t:在新容器内指定一个伪终端或终端。<br>-i:允许你对容器内的标准输入 (STDIN) 进行交互。</p><h2 id=\"启动容器（后台模式）\"><a href=\"#启动容器（后台模式）\" class=\"headerlink\" title=\"启动容器（后台模式）\"></a>启动容器（后台模式）</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# docker run -d ubuntu:15.10 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span><br><span class=\"line\">8c2a843273608eb155279ce4e4f9f4c5442c2af3524ba50ca2d6c8ccbd207081</span><br></pre></td></tr></table></figure><p>后台启动完成,会返回一串容器的ID<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##查看是否有容器启动</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS               NAMES</span><br><span class=\"line\">8c2a84327360        ubuntu:15.10        &quot;/bin/sh -c &apos;while...&quot;   About a minute ago   Up About a minute</span><br></pre></td></tr></table></figure><p></p><p>CONTAINER ID:容器ID(这里是:==8c2a84327360==)</p><p>NAMES:自动分配的容器名称</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 查看上面那个ID的容器的log</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker logs 8c2a84327360</span><br><span class=\"line\">## 输出内容</span><br><span class=\"line\">hello world</span><br><span class=\"line\">hello world</span><br><span class=\"line\"></span><br><span class=\"line\">## 停止容器(指定ID:8c2a84327360)</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker stop 8c2a84327360</span><br><span class=\"line\">## 输出ID,说明已经停止成功</span><br><span class=\"line\">8c2a84327360</span><br><span class=\"line\"></span><br><span class=\"line\">## 检查是否真的关闭</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">## 输出没有,说明真的关闭了</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br></pre></td></tr></table></figure><h2 id=\"Docker-客户端\"><a href=\"#Docker-客户端\" class=\"headerlink\" title=\"Docker 客户端\"></a>Docker 客户端</h2><p>docker 客户端非常简单 ,我们可以直接输入 docker 命令来查看到 Docker 客户端的所有命令选项。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 调出帮助</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker</span><br><span class=\"line\">##　输出帮助信息</span><br><span class=\"line\">Usage:\tdocker COMMAND</span><br><span class=\"line\"></span><br><span class=\"line\">A self-sufficient runtime for containers</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">      --config string      Location of client config files (default &quot;/root/.docker&quot;)</span><br><span class=\"line\">  -D, --debug              Enable debug mode</span><br><span class=\"line\">      --help               Print usage</span><br><span class=\"line\">  -H, --host list          Daemon socket(s) to connect to</span><br><span class=\"line\">  -l, --log-level string   Set the logging level</span><br><span class=\"line\"></span><br><span class=\"line\">## 了解更详细的帮助信息</span><br><span class=\"line\">root@hisen-pc:/home/hisen#docker　stats --help</span><br><span class=\"line\"></span><br><span class=\"line\">## 输出详细帮助信息</span><br><span class=\"line\">Usage:\tdocker stats [OPTIONS] [CONTAINER...]</span><br><span class=\"line\"></span><br><span class=\"line\">Display a live stream of container(s) resource usage statistics</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">  -a, --all             Show all containers (default shows just running)</span><br><span class=\"line\">      --format string   Pretty-print images using a Go template</span><br><span class=\"line\">      --help            Print usage</span><br><span class=\"line\">      --no-stream       Disable streaming stats and only pull the first result</span><br></pre></td></tr></table></figure><p></p><h2 id=\"运行一个WEB容器\"><a href=\"#运行一个WEB容器\" class=\"headerlink\" title=\"运行一个WEB容器\"></a>运行一个WEB容器</h2><p>运行一个 Python Flask 应用 来搭建一个web应用<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## -d:让容器在后台运行。</span><br><span class=\"line\">## -P:将容器内部使用的网络端口映射到我们使用的主机上。</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run -d -P training/webapp python app.py</span><br><span class=\"line\">## 提示本地没有,远程下载</span><br><span class=\"line\">Unable to find image &apos;training/webapp:latest&apos; locally</span><br><span class=\"line\">latest: Pulling from training/webapp</span><br><span class=\"line\">e190868d63f8: Pull complete </span><br><span class=\"line\">909cd34c6fd7: Pull complete </span><br><span class=\"line\">0b9bfabab7c1: Pull complete </span><br><span class=\"line\">a3ed95caeb02: Pull complete </span><br><span class=\"line\">10bbbc0fc0ff: Pull complete </span><br><span class=\"line\">fca59b508e9f: Pull complete </span><br><span class=\"line\">e7ae2541b15b: Pull complete </span><br><span class=\"line\">9dd97ef58ce9: Pull complete </span><br><span class=\"line\">a4c1b0cb7af7: Pull complete </span><br><span class=\"line\">Digest: sha256:06e9c1983bd6d5db5fba376ccd63bfa529e8d02f23d5079b8f74a616308fb11d</span><br><span class=\"line\">Status: Downloaded newer image for training/webapp:latest</span><br><span class=\"line\"></span><br><span class=\"line\">## 下载完成直接后台运行了,打印id</span><br><span class=\"line\">b03903d6abf3d65a4e6469a57d11ae539aaad1f166078591e7315ca2fb2611ff</span><br><span class=\"line\"></span><br><span class=\"line\">## 查看运行的docker</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES</span><br><span class=\"line\">b03903d6abf3        training/webapp     &quot;python app.py&quot;     9 minutes ago       Up 9 minutes        0.0.0.0:32768-&gt;5000/tcp   nifty_mirzakhani</span><br></pre></td></tr></table></figure><p></p><p>0.0.0.0:32768-&gt;5000/tcp<br>docker使用的端口5000</p><p>映射到本地端口32768</p><p>本地可以访问:<a href=\"127.0.0.1:32768\" target=\"_blank\" rel=\"noopener\">127.0.0.1:32768</a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 访问:http://localhost:32768/</span><br><span class=\"line\">## 输出</span><br><span class=\"line\">Hello world!</span><br><span class=\"line\"></span><br><span class=\"line\">## 可以指定端口 8060为自映射端口,5000为容器端口</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run -d -p 8060:5000 training/webapp python app.py</span><br><span class=\"line\">0d68d3d4baf61248129ede721cc6004649ebddaaace8c23f16b677fbe2b2ce7d</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker ps</span><br><span class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                    NAMES</span><br><span class=\"line\">0d68d3d4baf6        training/webapp     &quot;python app.py&quot;     5 seconds ago       Up 4 seconds        0.0.0.0:8060-&gt;5000/tcp   ecstatic_jang</span><br><span class=\"line\"></span><br><span class=\"line\">## 查看端口映射情况(可以通过id,或者名字)</span><br><span class=\"line\">## 这里用ID测试</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker port 0d68d3d4baf6</span><br><span class=\"line\">## 输出信息,后面为映射到本地的端口</span><br><span class=\"line\">5000/tcp -&gt; 0.0.0.0:8060</span><br></pre></td></tr></table></figure><p></p><h3 id=\"查看WEB应用程序日志\"><a href=\"#查看WEB应用程序日志\" class=\"headerlink\" title=\"查看WEB应用程序日志\"></a>查看WEB应用程序日志</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 带上 -f 参数,动态输出日志</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker logs -f 0d68d3d4baf6</span><br><span class=\"line\"> * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span><br><span class=\"line\"></span><br><span class=\"line\">## 刷新页面之后的日志</span><br><span class=\"line\">172.17.0.1 - - [01/Sep/2017 14:09:01] &quot;GET / HTTP/1.1&quot; 200 -</span><br><span class=\"line\">172.17.0.1 - - [01/Sep/2017 14:09:01] &quot;GET /favicon.ico HTTP/1.1&quot; 404 -</span><br></pre></td></tr></table></figure><h3 id=\"查看WEB应用程序容器的进程\"><a href=\"#查看WEB应用程序容器的进程\" class=\"headerlink\" title=\"查看WEB应用程序容器的进程\"></a>查看WEB应用程序容器的进程</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## top后面是跟着id或者name</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker top 0d68d3d4baf6</span><br><span class=\"line\">## 输出的信息</span><br><span class=\"line\">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class=\"line\">root                19372               19352               0                   21:39               ?                   00:00:00            python app.py</span><br></pre></td></tr></table></figure><h3 id=\"检查WEB应用程序\"><a href=\"#检查WEB应用程序\" class=\"headerlink\" title=\"检查WEB应用程序\"></a>检查WEB应用程序</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 会输出一大串JSON形式的字符串</span><br><span class=\"line\">## 记录着 Docker 容器的配置和状态信息</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker inspect 0d68d3d4baf6</span><br></pre></td></tr></table></figure><h3 id=\"WEB程序其他操作\"><a href=\"#WEB程序其他操作\" class=\"headerlink\" title=\"WEB程序其他操作\"></a>WEB程序其他操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stop  0d68d3d4baf6</span><br><span class=\"line\">## 移除之前必须停止,否则会报错</span><br><span class=\"line\">docker rm 0d68d3d4baf6</span><br></pre></td></tr></table></figure><h1 id=\"Docker-镜像使用\"><a href=\"#Docker-镜像使用\" class=\"headerlink\" title=\"Docker 镜像使用\"></a>Docker 镜像使用</h1><h2 id=\"列出所有本地的镜像\"><a href=\"#列出所有本地的镜像\" class=\"headerlink\" title=\"列出所有本地的镜像\"></a>列出所有本地的镜像</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# docker images</span><br><span class=\"line\">REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</span><br><span class=\"line\">hello-world          latest              1815c82652c0        2 months ago        1.84kB</span><br><span class=\"line\">woailuoli993/jblse   0.2.0               82099e8d7049        6 months ago        7.58MB</span><br><span class=\"line\">ubuntu               15.10               9b9cb95443b5        13 months ago       137MB</span><br><span class=\"line\">training/webapp      latest              6fae60ef3446        2 years ago         349MB</span><br></pre></td></tr></table></figure><h2 id=\"其他命令\"><a href=\"#其他命令\" class=\"headerlink\" title=\"其他命令\"></a>其他命令</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 获取一个镜像</span><br><span class=\"line\">## ubuntu:镜像库中的TAG</span><br><span class=\"line\">## 13.10:某个TAG的版本</span><br><span class=\"line\">docker pull ubuntu:13.10</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## 搜索某个镜像</span><br><span class=\"line\">docker search httpd</span><br><span class=\"line\"></span><br><span class=\"line\">## 拖取镜像</span><br><span class=\"line\">docker pull httpd</span><br><span class=\"line\"></span><br><span class=\"line\">## 运行镜像</span><br><span class=\"line\">docker run httpd</span><br><span class=\"line\"></span><br><span class=\"line\">## 创建镜像</span><br><span class=\"line\">### 进入某个镜像的bash命令行(在此镜像基础上创建自己的镜像)</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker run -t -i ubuntu:15.10</span><br><span class=\"line\">### 更新系统(镜像的)</span><br><span class=\"line\">root@4a3f5f4373d8:/# apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">##提交容器副本</span><br><span class=\"line\">### 退出镜像的bash命令界面</span><br><span class=\"line\">root@4a3f5f4373d8:/# exit          </span><br><span class=\"line\">exit</span><br><span class=\"line\">### 提交副本</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker commit -m=&quot;has update&quot; -a=&quot;hisen&quot; 4a3f5f4373d8 hisen/ubuntu:v2</span><br><span class=\"line\">### 返回副本容器的id</span><br><span class=\"line\">sha256:a94d0bdd2e31aa420c14e9886ff911354c07a7772715bd8d380bd0832f396c82</span><br><span class=\"line\">### 查看,发现刚刚提交的副本显示出来了</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker images</span><br><span class=\"line\">REPOSITORY           TAG                 IMAGE ID            CREATED              SIZE</span><br><span class=\"line\">hisen/ubuntu         v2                  a94d0bdd2e31        About a minute ago   159MB</span><br><span class=\"line\">hello-world          latest              1815c82652c0        2 months ago         1.84kB</span><br><span class=\"line\">woailuoli993/jblse   0.2.0               82099e8d7049        6 months ago         7.58MB</span><br><span class=\"line\">ubuntu               15.10               9b9cb95443b5        13 months ago        137MB</span><br><span class=\"line\">training/webapp      latest              6fae60ef3446        2 years ago          349MB</span><br><span class=\"line\"></span><br><span class=\"line\">## 参数说明</span><br><span class=\"line\">-m:提交的描述信息</span><br><span class=\"line\">-a:指定镜像作者</span><br><span class=\"line\">4a3f5f4373d8：容器ID(就是你修改之前的id)</span><br><span class=\"line\">hisen/ubuntu:v2:指定要创建的目标镜像名</span><br><span class=\"line\"></span><br><span class=\"line\">## 进入新镜像的bash命令</span><br><span class=\"line\">docker run -t -i hisen/ubuntu:v2 /bin/bash</span><br></pre></td></tr></table></figure><h2 id=\"构建一个全新的镜像\"><a href=\"#构建一个全新的镜像\" class=\"headerlink\" title=\"构建一个全新的镜像\"></a>构建一个全新的镜像</h2><p>新建一个配置文件:Dockerfile,并添加内容</p><p>每个指令都会在镜像上创建一个新的层</p><p>每一个指令的前缀都必须是大写的。</p><p>第一条FROM，指定使用哪个镜像源</p><p>RUN 指令告诉docker 在镜像内执行命令，安装了什么<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@hisen-pc:/home/hisen# vi Dockerfile </span><br><span class=\"line\"></span><br><span class=\"line\">FROM    ubuntu:16.04</span><br><span class=\"line\">MAINTAINER      Fisher &quot;hisenyuan@gmail.com&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">RUN     /bin/echo &apos;root:123456&apos; |chpasswd</span><br><span class=\"line\">RUN     useradd hisen</span><br><span class=\"line\">RUN     /bin/echo &apos;hisen:123456&apos; |chpasswd</span><br><span class=\"line\">RUN     /bin/echo -e &quot;LANG=\\&quot;en_US.UTF-8\\&quot;&quot; &gt;/etc/default/local</span><br><span class=\"line\">EXPOSE  22</span><br><span class=\"line\">EXPOSE  80</span><br><span class=\"line\">CMD     /usr/sbin/sshd -D</span><br><span class=\"line\"></span><br><span class=\"line\">## 保存配置文件之后,构建镜像,注意最后那个点.</span><br><span class=\"line\">root@hisen-pc:/home/hisen# docker build -t hisen/ubuntu:16.04 .</span><br><span class=\"line\">sending build context to Docker daemon    776MB</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"IDEA maven项目通过mongo-java-driver折腾一下MongoDB","keywords":["java简单的操作mongodb","mongo-java-driver"],"date":"2017-02-20T07:21:26.000Z","_content":"这几天折腾ubuntu然后安装了下mongodb\n\n通过Oracle VM VirtualBox端口转发，连接了虚拟机的MongoDB\n\n1.用idea创建一个maven项目\n\n2.在pom.xml中添加mongodb java驱动\n```\n    <dependency>\n        <groupId>org.mongodb</groupId>\n        <artifactId>mongodb-driver</artifactId>\n        <version>3.2.2</version>\n    </dependency>\n```\n3.参考官方：<a href=\"http://mongodb.github.io/mongo-java-driver/3.2/driver/getting-started/quick-tour/\" target=\"_blank\">MongoDB Driver Quick Tour</a>\n\n本用例github地址：<a href=\"https://github.com/hisen-yuan/mongodbTest/blob/master/src/main/java/com/hisen/jdbc/QuickTour.java\" target=\"_blank\">mongodbTest</a>\n\n贴下代码：\n<!--more-->\n```\npackage com.hisen.jdbc;\n\nimport com.mongodb.Block;\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoCursor;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.result.DeleteResult;\nimport com.mongodb.client.result.UpdateResult;\nimport org.bson.Document;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static com.mongodb.client.model.Accumulators.sum;\nimport static com.mongodb.client.model.Aggregates.group;\nimport static com.mongodb.client.model.Filters.*;\nimport static com.mongodb.client.model.Projections.excludeId;\nimport static com.mongodb.client.model.Sorts.descending;\nimport static com.mongodb.client.model.Updates.inc;\nimport static com.mongodb.client.model.Updates.set;\nimport static java.util.Collections.singletonList;\n\n/**\n * Created by hisenyuan on 2017/2/20 at 13:42.\n */\npublic class QuickTour {\n    public static void main(String[] args) {\n        MongoClient mongoClient = new MongoClient(\"localhost\", 27017);\n        MongoDatabase database = mongoClient.getDatabase(\"mydb\");\n        //gets the collection test\n        MongoCollection<Document> collection = database.getCollection(\"test\");\n        //插入数据\n        //insert(collection);\n        //插入大量数据\n        insertMany(collection);\n        //统计条数\n        count(collection);\n        //打印查询到的第一条数据\n        print(collection);\n        //打印所有数据\n        findAll(collection);\n        //按条件查询一条数据\n        findOneWithFilter(collection);\n        //按条件查询一个Set集合\n        getSet(collection);\n        //排序，输出第一条\n        sortDocuments(collection);\n        //获取指定的field\n        projectingFields(collection);\n        aggregations(collection);\n        //更新\n        update(collection);\n        //删除数据\n        delete(collection);\n    }\n\n    /**\n     * 插入单个文档\n     * @param collection\n     */\n    public static void insert(MongoCollection<Document> collection) {\n        //create document\n        Document doc = new Document(\"name\", \"MongoDB\")\n                .append(\"type\", \"database\")\n                .append(\"count\", 1)\n                .append(\"info\", new Document(\"x\", 203).append(\"y\", 102));\n        //insert the document into the collection\n        collection.insertOne(doc);\n    }\n\n    /**\n     * 一次性插入多条数据，用ArrayList拼装\n     * @param collection\n     */\n    public static void insertMany(MongoCollection<Document> collection) {\n        //Create the documents in a loop\n        List<Document> documents = new ArrayList<Document>();\n        for (int i = 0; i < 100; i++) {\n            documents.add(new Document(\"i\", i));\n        }\n        collection.insertMany(documents);\n    }\n\n    /**\n     * 统计集合中的总条数\n     * @param collection\n     */\n    public static void count(MongoCollection<Document> collection) {\n        //Count Documents in A Collection\n        System.out.println(\"总条数：\" + collection.count());\n    }\n\n    /**\n     * 打印查询到的第一条数据\n     * @param collection\n     */\n    public static void print(MongoCollection<Document> collection) {\n        //prints the first document found in the collection\n        Document myDoc = collection.find().first();\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 查询集合中所有的数据\n     * 不推荐使用foreach循环\n     * @param collection\n     */\n    public static void findAll(MongoCollection<Document> collection) {\n        System.out.println(\"----------------输出所有数据----------------\");\n        MongoCursor<Document> cursor = collection.find().iterator();\n        try {\n            while (cursor.hasNext()) {\n                System.out.println(cursor.next().toJson());\n            }\n        } finally {\n            cursor.close();\n        }\n    }\n\n    /**\n     * 条件查询单条数据\n     * @param collection\n     */\n    public static void findOneWithFilter(MongoCollection<Document> collection) {\n        //Get A Single Document with a Query Filter\n        Document myDoc = collection.find(eq(\"i\", 71)).first();\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 获得一个Set集合的数据\n     * @param collection\n     */\n    public static void getSet(MongoCollection<Document> collection) {\n        // now use a range query to get a larger subset\n        Block<Document> printBlock = new Block<Document>() {\n            public void apply(final Document document) {\n                System.out.println(document.toJson());\n            }\n        };\n        //i的值大于98的数据\n        System.out.println(\"----------------i大于98的数据----------------\");\n        collection.find(gt(\"i\", 98)).forEach(printBlock);\n        //50 - 51 gt:大于 lte:小于等于\n        System.out.println(\"----------------50<i<=51的数据----------------\");\n        collection.find(and(gt(\"i\", 50), lte(\"i\", 51))).forEach(printBlock);\n    }\n\n    /**\n     * 排序\n     * @param collection\n     */\n    public static void sortDocuments(MongoCollection<Document> collection) {\n        //根据i的值进行排序\n        Document myDoc = collection.find(exists(\"i\")).sort(descending(\"i\")).first();\n        System.out.println(\"----------------排序，输出第一条----------------\");\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 获取想要的field(字段)\n     * @param collection\n     */\n    public static void projectingFields(MongoCollection<Document> collection) {\n        System.out.println(\"----------------获取指定field，输出第一条----------------\");\n        //排除ID字段\n        Document myDoc = collection.find().projection(excludeId()).first();\n        System.out.println(myDoc.toJson());\n    }\n\n    public static void aggregations(MongoCollection<Document> collection) {\n        /*\n        collection.aggregate(asList(\n                match(gt(\"i\", 0)),\n                project(Document.parse(\"{ITimes10: {$multiply: ['$i', 10]}}\")))\n        ).forEach(printBlock);\n        */\n        //求和\n        Document myDoc = collection.aggregate(singletonList(group(null, sum(\"total\", \"$i\")))).first();\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 更新document的方法\n     * @param collection\n     */\n    public static void update(MongoCollection<Document> collection) {\n        //更新一个，如果不引入下面这个包，set方法会报错\n        //import static com.mongodb.client.model.Updates.*;\n        collection.updateOne(eq(\"i\", 10), set(\"i\", 110));\n        //更新多个，小于100的都加100\n        UpdateResult updateResult = collection.updateMany(lt(\"i\", 190), inc(\"i\", 100));\n        System.out.println(\"----------------更新条数----------------\");\n        System.out.println(updateResult.getModifiedCount());\n    }\n\n    /**\n     * 删除数据的方法\n     * @param collection\n     */\n    public static void delete(MongoCollection<Document> collection) {\n        collection.deleteOne(eq(\"i\", 210));\n        //gte 大于等于100的都删除\n        DeleteResult deleteResult = collection.deleteMany(gte(\"i\", 100));\n        System.out.println(\"----------------删除条数----------------\");\n        System.out.println(deleteResult.getDeletedCount());\n    }\n    /*\n    public static void bulk(MongoCollection<Document> collection) {\n        // 2. Ordered bulk operation - order is guarenteed\n        collection.bulkWrite(\n                Arrays.asList(new InsertOneModel<>(new Document(\"_id\", 4)),\n                        new InsertOneModel<>(new Document(\"_id\", 5)),\n                        new InsertOneModel<>(new Document(\"_id\", 6)),\n                        new UpdateOneModel<>(new Document(\"_id\", 1),\n                                new Document(\"$set\", new Document(\"x\", 2))),\n                        new DeleteOneModel<>(new Document(\"_id\", 2)),\n                        new ReplaceOneModel<>(new Document(\"_id\", 3),\n                                new Document(\"_id\", 3).append(\"x\", 4))));\n        // 2. Unordered bulk operation - no guarantee of order of operation\n        collection.bulkWrite(\n                Arrays.asList(new InsertOneModel<>(new Document(\"_id\", 4)),\n                        new InsertOneModel<>(new Document(\"_id\", 5)),\n                        new InsertOneModel<>(new Document(\"_id\", 6)),\n                        new UpdateOneModel<>(new Document(\"_id\", 1),\n                                new Document(\"$set\", new Document(\"x\", 2))),\n                        new DeleteOneModel<>(new Document(\"_id\", 2)),\n                        new ReplaceOneModel<>(new Document(\"_id\", 3),\n                                new Document(\"_id\", 3).append(\"x\", 4))),\n                new BulkWriteOptions().ordered(false));\n    }\n    */\n}\n```","source":"_posts/IDEA-maven项目通过mongo-java-driver折腾一下MongoDB.md","raw":"---\ntitle: IDEA maven项目通过mongo-java-driver折腾一下MongoDB\nkeywords: [java简单的操作mongodb,mongo-java-driver]\ntags: [mongo,java]\ndate: 2017-02-20 15:21:26\ncategories: java\n---\n这几天折腾ubuntu然后安装了下mongodb\n\n通过Oracle VM VirtualBox端口转发，连接了虚拟机的MongoDB\n\n1.用idea创建一个maven项目\n\n2.在pom.xml中添加mongodb java驱动\n```\n    <dependency>\n        <groupId>org.mongodb</groupId>\n        <artifactId>mongodb-driver</artifactId>\n        <version>3.2.2</version>\n    </dependency>\n```\n3.参考官方：<a href=\"http://mongodb.github.io/mongo-java-driver/3.2/driver/getting-started/quick-tour/\" target=\"_blank\">MongoDB Driver Quick Tour</a>\n\n本用例github地址：<a href=\"https://github.com/hisen-yuan/mongodbTest/blob/master/src/main/java/com/hisen/jdbc/QuickTour.java\" target=\"_blank\">mongodbTest</a>\n\n贴下代码：\n<!--more-->\n```\npackage com.hisen.jdbc;\n\nimport com.mongodb.Block;\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoCursor;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.result.DeleteResult;\nimport com.mongodb.client.result.UpdateResult;\nimport org.bson.Document;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static com.mongodb.client.model.Accumulators.sum;\nimport static com.mongodb.client.model.Aggregates.group;\nimport static com.mongodb.client.model.Filters.*;\nimport static com.mongodb.client.model.Projections.excludeId;\nimport static com.mongodb.client.model.Sorts.descending;\nimport static com.mongodb.client.model.Updates.inc;\nimport static com.mongodb.client.model.Updates.set;\nimport static java.util.Collections.singletonList;\n\n/**\n * Created by hisenyuan on 2017/2/20 at 13:42.\n */\npublic class QuickTour {\n    public static void main(String[] args) {\n        MongoClient mongoClient = new MongoClient(\"localhost\", 27017);\n        MongoDatabase database = mongoClient.getDatabase(\"mydb\");\n        //gets the collection test\n        MongoCollection<Document> collection = database.getCollection(\"test\");\n        //插入数据\n        //insert(collection);\n        //插入大量数据\n        insertMany(collection);\n        //统计条数\n        count(collection);\n        //打印查询到的第一条数据\n        print(collection);\n        //打印所有数据\n        findAll(collection);\n        //按条件查询一条数据\n        findOneWithFilter(collection);\n        //按条件查询一个Set集合\n        getSet(collection);\n        //排序，输出第一条\n        sortDocuments(collection);\n        //获取指定的field\n        projectingFields(collection);\n        aggregations(collection);\n        //更新\n        update(collection);\n        //删除数据\n        delete(collection);\n    }\n\n    /**\n     * 插入单个文档\n     * @param collection\n     */\n    public static void insert(MongoCollection<Document> collection) {\n        //create document\n        Document doc = new Document(\"name\", \"MongoDB\")\n                .append(\"type\", \"database\")\n                .append(\"count\", 1)\n                .append(\"info\", new Document(\"x\", 203).append(\"y\", 102));\n        //insert the document into the collection\n        collection.insertOne(doc);\n    }\n\n    /**\n     * 一次性插入多条数据，用ArrayList拼装\n     * @param collection\n     */\n    public static void insertMany(MongoCollection<Document> collection) {\n        //Create the documents in a loop\n        List<Document> documents = new ArrayList<Document>();\n        for (int i = 0; i < 100; i++) {\n            documents.add(new Document(\"i\", i));\n        }\n        collection.insertMany(documents);\n    }\n\n    /**\n     * 统计集合中的总条数\n     * @param collection\n     */\n    public static void count(MongoCollection<Document> collection) {\n        //Count Documents in A Collection\n        System.out.println(\"总条数：\" + collection.count());\n    }\n\n    /**\n     * 打印查询到的第一条数据\n     * @param collection\n     */\n    public static void print(MongoCollection<Document> collection) {\n        //prints the first document found in the collection\n        Document myDoc = collection.find().first();\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 查询集合中所有的数据\n     * 不推荐使用foreach循环\n     * @param collection\n     */\n    public static void findAll(MongoCollection<Document> collection) {\n        System.out.println(\"----------------输出所有数据----------------\");\n        MongoCursor<Document> cursor = collection.find().iterator();\n        try {\n            while (cursor.hasNext()) {\n                System.out.println(cursor.next().toJson());\n            }\n        } finally {\n            cursor.close();\n        }\n    }\n\n    /**\n     * 条件查询单条数据\n     * @param collection\n     */\n    public static void findOneWithFilter(MongoCollection<Document> collection) {\n        //Get A Single Document with a Query Filter\n        Document myDoc = collection.find(eq(\"i\", 71)).first();\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 获得一个Set集合的数据\n     * @param collection\n     */\n    public static void getSet(MongoCollection<Document> collection) {\n        // now use a range query to get a larger subset\n        Block<Document> printBlock = new Block<Document>() {\n            public void apply(final Document document) {\n                System.out.println(document.toJson());\n            }\n        };\n        //i的值大于98的数据\n        System.out.println(\"----------------i大于98的数据----------------\");\n        collection.find(gt(\"i\", 98)).forEach(printBlock);\n        //50 - 51 gt:大于 lte:小于等于\n        System.out.println(\"----------------50<i<=51的数据----------------\");\n        collection.find(and(gt(\"i\", 50), lte(\"i\", 51))).forEach(printBlock);\n    }\n\n    /**\n     * 排序\n     * @param collection\n     */\n    public static void sortDocuments(MongoCollection<Document> collection) {\n        //根据i的值进行排序\n        Document myDoc = collection.find(exists(\"i\")).sort(descending(\"i\")).first();\n        System.out.println(\"----------------排序，输出第一条----------------\");\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 获取想要的field(字段)\n     * @param collection\n     */\n    public static void projectingFields(MongoCollection<Document> collection) {\n        System.out.println(\"----------------获取指定field，输出第一条----------------\");\n        //排除ID字段\n        Document myDoc = collection.find().projection(excludeId()).first();\n        System.out.println(myDoc.toJson());\n    }\n\n    public static void aggregations(MongoCollection<Document> collection) {\n        /*\n        collection.aggregate(asList(\n                match(gt(\"i\", 0)),\n                project(Document.parse(\"{ITimes10: {$multiply: ['$i', 10]}}\")))\n        ).forEach(printBlock);\n        */\n        //求和\n        Document myDoc = collection.aggregate(singletonList(group(null, sum(\"total\", \"$i\")))).first();\n        System.out.println(myDoc.toJson());\n    }\n\n    /**\n     * 更新document的方法\n     * @param collection\n     */\n    public static void update(MongoCollection<Document> collection) {\n        //更新一个，如果不引入下面这个包，set方法会报错\n        //import static com.mongodb.client.model.Updates.*;\n        collection.updateOne(eq(\"i\", 10), set(\"i\", 110));\n        //更新多个，小于100的都加100\n        UpdateResult updateResult = collection.updateMany(lt(\"i\", 190), inc(\"i\", 100));\n        System.out.println(\"----------------更新条数----------------\");\n        System.out.println(updateResult.getModifiedCount());\n    }\n\n    /**\n     * 删除数据的方法\n     * @param collection\n     */\n    public static void delete(MongoCollection<Document> collection) {\n        collection.deleteOne(eq(\"i\", 210));\n        //gte 大于等于100的都删除\n        DeleteResult deleteResult = collection.deleteMany(gte(\"i\", 100));\n        System.out.println(\"----------------删除条数----------------\");\n        System.out.println(deleteResult.getDeletedCount());\n    }\n    /*\n    public static void bulk(MongoCollection<Document> collection) {\n        // 2. Ordered bulk operation - order is guarenteed\n        collection.bulkWrite(\n                Arrays.asList(new InsertOneModel<>(new Document(\"_id\", 4)),\n                        new InsertOneModel<>(new Document(\"_id\", 5)),\n                        new InsertOneModel<>(new Document(\"_id\", 6)),\n                        new UpdateOneModel<>(new Document(\"_id\", 1),\n                                new Document(\"$set\", new Document(\"x\", 2))),\n                        new DeleteOneModel<>(new Document(\"_id\", 2)),\n                        new ReplaceOneModel<>(new Document(\"_id\", 3),\n                                new Document(\"_id\", 3).append(\"x\", 4))));\n        // 2. Unordered bulk operation - no guarantee of order of operation\n        collection.bulkWrite(\n                Arrays.asList(new InsertOneModel<>(new Document(\"_id\", 4)),\n                        new InsertOneModel<>(new Document(\"_id\", 5)),\n                        new InsertOneModel<>(new Document(\"_id\", 6)),\n                        new UpdateOneModel<>(new Document(\"_id\", 1),\n                                new Document(\"$set\", new Document(\"x\", 2))),\n                        new DeleteOneModel<>(new Document(\"_id\", 2)),\n                        new ReplaceOneModel<>(new Document(\"_id\", 3),\n                                new Document(\"_id\", 3).append(\"x\", 4))),\n                new BulkWriteOptions().ordered(false));\n    }\n    */\n}\n```","slug":"IDEA-maven项目通过mongo-java-driver折腾一下MongoDB","published":1,"updated":"2017-02-20T07:35:36.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdvb00hcolej09qbzk9v","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这几天折腾ubuntu然后安装了下mongodb</p><p>通过Oracle VM VirtualBox端口转发，连接了虚拟机的MongoDB</p><p>1.用idea创建一个maven项目</p><p>2.在pom.xml中添加mongodb java驱动<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;</span><br><span class=\"line\">    &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;</span><br><span class=\"line\">    &lt;version&gt;3.2.2&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p></p><p>3.参考官方：<a href=\"http://mongodb.github.io/mongo-java-driver/3.2/driver/getting-started/quick-tour/\" target=\"_blank\">MongoDB Driver Quick Tour</a></p><p>本用例github地址：<a href=\"https://github.com/hisen-yuan/mongodbTest/blob/master/src/main/java/com/hisen/jdbc/QuickTour.java\" target=\"_blank\">mongodbTest</a></p><p>贴下代码：<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jdbc;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.mongodb.Block;</span><br><span class=\"line\">import com.mongodb.MongoClient;</span><br><span class=\"line\">import com.mongodb.client.MongoCollection;</span><br><span class=\"line\">import com.mongodb.client.MongoCursor;</span><br><span class=\"line\">import com.mongodb.client.MongoDatabase;</span><br><span class=\"line\">import com.mongodb.client.result.DeleteResult;</span><br><span class=\"line\">import com.mongodb.client.result.UpdateResult;</span><br><span class=\"line\">import org.bson.Document;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">import static com.mongodb.client.model.Accumulators.sum;</span><br><span class=\"line\">import static com.mongodb.client.model.Aggregates.group;</span><br><span class=\"line\">import static com.mongodb.client.model.Filters.*;</span><br><span class=\"line\">import static com.mongodb.client.model.Projections.excludeId;</span><br><span class=\"line\">import static com.mongodb.client.model.Sorts.descending;</span><br><span class=\"line\">import static com.mongodb.client.model.Updates.inc;</span><br><span class=\"line\">import static com.mongodb.client.model.Updates.set;</span><br><span class=\"line\">import static java.util.Collections.singletonList;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Created by hisenyuan on 2017/2/20 at 13:42.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class QuickTour &#123;</span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        MongoClient mongoClient = new MongoClient(&quot;localhost&quot;, 27017);</span><br><span class=\"line\">        MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);</span><br><span class=\"line\">        //gets the collection test</span><br><span class=\"line\">        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;test&quot;);</span><br><span class=\"line\">        //插入数据</span><br><span class=\"line\">        //insert(collection);</span><br><span class=\"line\">        //插入大量数据</span><br><span class=\"line\">        insertMany(collection);</span><br><span class=\"line\">        //统计条数</span><br><span class=\"line\">        count(collection);</span><br><span class=\"line\">        //打印查询到的第一条数据</span><br><span class=\"line\">        print(collection);</span><br><span class=\"line\">        //打印所有数据</span><br><span class=\"line\">        findAll(collection);</span><br><span class=\"line\">        //按条件查询一条数据</span><br><span class=\"line\">        findOneWithFilter(collection);</span><br><span class=\"line\">        //按条件查询一个Set集合</span><br><span class=\"line\">        getSet(collection);</span><br><span class=\"line\">        //排序，输出第一条</span><br><span class=\"line\">        sortDocuments(collection);</span><br><span class=\"line\">        //获取指定的field</span><br><span class=\"line\">        projectingFields(collection);</span><br><span class=\"line\">        aggregations(collection);</span><br><span class=\"line\">        //更新</span><br><span class=\"line\">        update(collection);</span><br><span class=\"line\">        //删除数据</span><br><span class=\"line\">        delete(collection);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 插入单个文档</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void insert(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //create document</span><br><span class=\"line\">        Document doc = new Document(&quot;name&quot;, &quot;MongoDB&quot;)</span><br><span class=\"line\">                .append(&quot;type&quot;, &quot;database&quot;)</span><br><span class=\"line\">                .append(&quot;count&quot;, 1)</span><br><span class=\"line\">                .append(&quot;info&quot;, new Document(&quot;x&quot;, 203).append(&quot;y&quot;, 102));</span><br><span class=\"line\">        //insert the document into the collection</span><br><span class=\"line\">        collection.insertOne(doc);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 一次性插入多条数据，用ArrayList拼装</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void insertMany(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //Create the documents in a loop</span><br><span class=\"line\">        List&lt;Document&gt; documents = new ArrayList&lt;Document&gt;();</span><br><span class=\"line\">        for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class=\"line\">            documents.add(new Document(&quot;i&quot;, i));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        collection.insertMany(documents);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 统计集合中的总条数</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void count(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //Count Documents in A Collection</span><br><span class=\"line\">        System.out.println(&quot;总条数：&quot; + collection.count());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 打印查询到的第一条数据</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void print(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //prints the first document found in the collection</span><br><span class=\"line\">        Document myDoc = collection.find().first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 查询集合中所有的数据</span><br><span class=\"line\">     * 不推荐使用foreach循环</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void findAll(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        System.out.println(&quot;----------------输出所有数据----------------&quot;);</span><br><span class=\"line\">        MongoCursor&lt;Document&gt; cursor = collection.find().iterator();</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            while (cursor.hasNext()) &#123;</span><br><span class=\"line\">                System.out.println(cursor.next().toJson());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            cursor.close();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 条件查询单条数据</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void findOneWithFilter(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //Get A Single Document with a Query Filter</span><br><span class=\"line\">        Document myDoc = collection.find(eq(&quot;i&quot;, 71)).first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 获得一个Set集合的数据</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void getSet(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        // now use a range query to get a larger subset</span><br><span class=\"line\">        Block&lt;Document&gt; printBlock = new Block&lt;Document&gt;() &#123;</span><br><span class=\"line\">            public void apply(final Document document) &#123;</span><br><span class=\"line\">                System.out.println(document.toJson());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        //i的值大于98的数据</span><br><span class=\"line\">        System.out.println(&quot;----------------i大于98的数据----------------&quot;);</span><br><span class=\"line\">        collection.find(gt(&quot;i&quot;, 98)).forEach(printBlock);</span><br><span class=\"line\">        //50 - 51 gt:大于 lte:小于等于</span><br><span class=\"line\">        System.out.println(&quot;----------------50&lt;i&lt;=51的数据----------------&quot;);</span><br><span class=\"line\">        collection.find(and(gt(&quot;i&quot;, 50), lte(&quot;i&quot;, 51))).forEach(printBlock);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 排序</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void sortDocuments(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //根据i的值进行排序</span><br><span class=\"line\">        Document myDoc = collection.find(exists(&quot;i&quot;)).sort(descending(&quot;i&quot;)).first();</span><br><span class=\"line\">        System.out.println(&quot;----------------排序，输出第一条----------------&quot;);</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 获取想要的field(字段)</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void projectingFields(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        System.out.println(&quot;----------------获取指定field，输出第一条----------------&quot;);</span><br><span class=\"line\">        //排除ID字段</span><br><span class=\"line\">        Document myDoc = collection.find().projection(excludeId()).first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void aggregations(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        collection.aggregate(asList(</span><br><span class=\"line\">                match(gt(&quot;i&quot;, 0)),</span><br><span class=\"line\">                project(Document.parse(&quot;&#123;ITimes10: &#123;$multiply: [&apos;$i&apos;, 10]&#125;&#125;&quot;)))</span><br><span class=\"line\">        ).forEach(printBlock);</span><br><span class=\"line\">        */</span><br><span class=\"line\">        //求和</span><br><span class=\"line\">        Document myDoc = collection.aggregate(singletonList(group(null, sum(&quot;total&quot;, &quot;$i&quot;)))).first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 更新document的方法</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void update(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //更新一个，如果不引入下面这个包，set方法会报错</span><br><span class=\"line\">        //import static com.mongodb.client.model.Updates.*;</span><br><span class=\"line\">        collection.updateOne(eq(&quot;i&quot;, 10), set(&quot;i&quot;, 110));</span><br><span class=\"line\">        //更新多个，小于100的都加100</span><br><span class=\"line\">        UpdateResult updateResult = collection.updateMany(lt(&quot;i&quot;, 190), inc(&quot;i&quot;, 100));</span><br><span class=\"line\">        System.out.println(&quot;----------------更新条数----------------&quot;);</span><br><span class=\"line\">        System.out.println(updateResult.getModifiedCount());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 删除数据的方法</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void delete(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        collection.deleteOne(eq(&quot;i&quot;, 210));</span><br><span class=\"line\">        //gte 大于等于100的都删除</span><br><span class=\"line\">        DeleteResult deleteResult = collection.deleteMany(gte(&quot;i&quot;, 100));</span><br><span class=\"line\">        System.out.println(&quot;----------------删除条数----------------&quot;);</span><br><span class=\"line\">        System.out.println(deleteResult.getDeletedCount());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /*</span><br><span class=\"line\">    public static void bulk(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        // 2. Ordered bulk operation - order is guarenteed</span><br><span class=\"line\">        collection.bulkWrite(</span><br><span class=\"line\">                Arrays.asList(new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 4)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 5)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 6)),</span><br><span class=\"line\">                        new UpdateOneModel&lt;&gt;(new Document(&quot;_id&quot;, 1),</span><br><span class=\"line\">                                new Document(&quot;$set&quot;, new Document(&quot;x&quot;, 2))),</span><br><span class=\"line\">                        new DeleteOneModel&lt;&gt;(new Document(&quot;_id&quot;, 2)),</span><br><span class=\"line\">                        new ReplaceOneModel&lt;&gt;(new Document(&quot;_id&quot;, 3),</span><br><span class=\"line\">                                new Document(&quot;_id&quot;, 3).append(&quot;x&quot;, 4))));</span><br><span class=\"line\">        // 2. Unordered bulk operation - no guarantee of order of operation</span><br><span class=\"line\">        collection.bulkWrite(</span><br><span class=\"line\">                Arrays.asList(new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 4)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 5)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 6)),</span><br><span class=\"line\">                        new UpdateOneModel&lt;&gt;(new Document(&quot;_id&quot;, 1),</span><br><span class=\"line\">                                new Document(&quot;$set&quot;, new Document(&quot;x&quot;, 2))),</span><br><span class=\"line\">                        new DeleteOneModel&lt;&gt;(new Document(&quot;_id&quot;, 2)),</span><br><span class=\"line\">                        new ReplaceOneModel&lt;&gt;(new Document(&quot;_id&quot;, 3),</span><br><span class=\"line\">                                new Document(&quot;_id&quot;, 3).append(&quot;x&quot;, 4))),</span><br><span class=\"line\">                new BulkWriteOptions().ordered(false));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>这几天折腾ubuntu然后安装了下mongodb</p><p>通过Oracle VM VirtualBox端口转发，连接了虚拟机的MongoDB</p><p>1.用idea创建一个maven项目</p><p>2.在pom.xml中添加mongodb java驱动<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;</span><br><span class=\"line\">    &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;</span><br><span class=\"line\">    &lt;version&gt;3.2.2&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p></p><p>3.参考官方：<a href=\"http://mongodb.github.io/mongo-java-driver/3.2/driver/getting-started/quick-tour/\" target=\"_blank\">MongoDB Driver Quick Tour</a></p><p>本用例github地址：<a href=\"https://github.com/hisen-yuan/mongodbTest/blob/master/src/main/java/com/hisen/jdbc/QuickTour.java\" target=\"_blank\">mongodbTest</a></p><p>贴下代码：<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.jdbc;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.mongodb.Block;</span><br><span class=\"line\">import com.mongodb.MongoClient;</span><br><span class=\"line\">import com.mongodb.client.MongoCollection;</span><br><span class=\"line\">import com.mongodb.client.MongoCursor;</span><br><span class=\"line\">import com.mongodb.client.MongoDatabase;</span><br><span class=\"line\">import com.mongodb.client.result.DeleteResult;</span><br><span class=\"line\">import com.mongodb.client.result.UpdateResult;</span><br><span class=\"line\">import org.bson.Document;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\">import static com.mongodb.client.model.Accumulators.sum;</span><br><span class=\"line\">import static com.mongodb.client.model.Aggregates.group;</span><br><span class=\"line\">import static com.mongodb.client.model.Filters.*;</span><br><span class=\"line\">import static com.mongodb.client.model.Projections.excludeId;</span><br><span class=\"line\">import static com.mongodb.client.model.Sorts.descending;</span><br><span class=\"line\">import static com.mongodb.client.model.Updates.inc;</span><br><span class=\"line\">import static com.mongodb.client.model.Updates.set;</span><br><span class=\"line\">import static java.util.Collections.singletonList;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Created by hisenyuan on 2017/2/20 at 13:42.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class QuickTour &#123;</span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\">        MongoClient mongoClient = new MongoClient(&quot;localhost&quot;, 27017);</span><br><span class=\"line\">        MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);</span><br><span class=\"line\">        //gets the collection test</span><br><span class=\"line\">        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;test&quot;);</span><br><span class=\"line\">        //插入数据</span><br><span class=\"line\">        //insert(collection);</span><br><span class=\"line\">        //插入大量数据</span><br><span class=\"line\">        insertMany(collection);</span><br><span class=\"line\">        //统计条数</span><br><span class=\"line\">        count(collection);</span><br><span class=\"line\">        //打印查询到的第一条数据</span><br><span class=\"line\">        print(collection);</span><br><span class=\"line\">        //打印所有数据</span><br><span class=\"line\">        findAll(collection);</span><br><span class=\"line\">        //按条件查询一条数据</span><br><span class=\"line\">        findOneWithFilter(collection);</span><br><span class=\"line\">        //按条件查询一个Set集合</span><br><span class=\"line\">        getSet(collection);</span><br><span class=\"line\">        //排序，输出第一条</span><br><span class=\"line\">        sortDocuments(collection);</span><br><span class=\"line\">        //获取指定的field</span><br><span class=\"line\">        projectingFields(collection);</span><br><span class=\"line\">        aggregations(collection);</span><br><span class=\"line\">        //更新</span><br><span class=\"line\">        update(collection);</span><br><span class=\"line\">        //删除数据</span><br><span class=\"line\">        delete(collection);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 插入单个文档</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void insert(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //create document</span><br><span class=\"line\">        Document doc = new Document(&quot;name&quot;, &quot;MongoDB&quot;)</span><br><span class=\"line\">                .append(&quot;type&quot;, &quot;database&quot;)</span><br><span class=\"line\">                .append(&quot;count&quot;, 1)</span><br><span class=\"line\">                .append(&quot;info&quot;, new Document(&quot;x&quot;, 203).append(&quot;y&quot;, 102));</span><br><span class=\"line\">        //insert the document into the collection</span><br><span class=\"line\">        collection.insertOne(doc);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 一次性插入多条数据，用ArrayList拼装</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void insertMany(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //Create the documents in a loop</span><br><span class=\"line\">        List&lt;Document&gt; documents = new ArrayList&lt;Document&gt;();</span><br><span class=\"line\">        for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class=\"line\">            documents.add(new Document(&quot;i&quot;, i));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        collection.insertMany(documents);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 统计集合中的总条数</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void count(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //Count Documents in A Collection</span><br><span class=\"line\">        System.out.println(&quot;总条数：&quot; + collection.count());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 打印查询到的第一条数据</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void print(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //prints the first document found in the collection</span><br><span class=\"line\">        Document myDoc = collection.find().first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 查询集合中所有的数据</span><br><span class=\"line\">     * 不推荐使用foreach循环</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void findAll(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        System.out.println(&quot;----------------输出所有数据----------------&quot;);</span><br><span class=\"line\">        MongoCursor&lt;Document&gt; cursor = collection.find().iterator();</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            while (cursor.hasNext()) &#123;</span><br><span class=\"line\">                System.out.println(cursor.next().toJson());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            cursor.close();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 条件查询单条数据</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void findOneWithFilter(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //Get A Single Document with a Query Filter</span><br><span class=\"line\">        Document myDoc = collection.find(eq(&quot;i&quot;, 71)).first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 获得一个Set集合的数据</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void getSet(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        // now use a range query to get a larger subset</span><br><span class=\"line\">        Block&lt;Document&gt; printBlock = new Block&lt;Document&gt;() &#123;</span><br><span class=\"line\">            public void apply(final Document document) &#123;</span><br><span class=\"line\">                System.out.println(document.toJson());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        //i的值大于98的数据</span><br><span class=\"line\">        System.out.println(&quot;----------------i大于98的数据----------------&quot;);</span><br><span class=\"line\">        collection.find(gt(&quot;i&quot;, 98)).forEach(printBlock);</span><br><span class=\"line\">        //50 - 51 gt:大于 lte:小于等于</span><br><span class=\"line\">        System.out.println(&quot;----------------50&lt;i&lt;=51的数据----------------&quot;);</span><br><span class=\"line\">        collection.find(and(gt(&quot;i&quot;, 50), lte(&quot;i&quot;, 51))).forEach(printBlock);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 排序</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void sortDocuments(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //根据i的值进行排序</span><br><span class=\"line\">        Document myDoc = collection.find(exists(&quot;i&quot;)).sort(descending(&quot;i&quot;)).first();</span><br><span class=\"line\">        System.out.println(&quot;----------------排序，输出第一条----------------&quot;);</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 获取想要的field(字段)</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void projectingFields(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        System.out.println(&quot;----------------获取指定field，输出第一条----------------&quot;);</span><br><span class=\"line\">        //排除ID字段</span><br><span class=\"line\">        Document myDoc = collection.find().projection(excludeId()).first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void aggregations(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        collection.aggregate(asList(</span><br><span class=\"line\">                match(gt(&quot;i&quot;, 0)),</span><br><span class=\"line\">                project(Document.parse(&quot;&#123;ITimes10: &#123;$multiply: [&apos;$i&apos;, 10]&#125;&#125;&quot;)))</span><br><span class=\"line\">        ).forEach(printBlock);</span><br><span class=\"line\">        */</span><br><span class=\"line\">        //求和</span><br><span class=\"line\">        Document myDoc = collection.aggregate(singletonList(group(null, sum(&quot;total&quot;, &quot;$i&quot;)))).first();</span><br><span class=\"line\">        System.out.println(myDoc.toJson());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 更新document的方法</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void update(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        //更新一个，如果不引入下面这个包，set方法会报错</span><br><span class=\"line\">        //import static com.mongodb.client.model.Updates.*;</span><br><span class=\"line\">        collection.updateOne(eq(&quot;i&quot;, 10), set(&quot;i&quot;, 110));</span><br><span class=\"line\">        //更新多个，小于100的都加100</span><br><span class=\"line\">        UpdateResult updateResult = collection.updateMany(lt(&quot;i&quot;, 190), inc(&quot;i&quot;, 100));</span><br><span class=\"line\">        System.out.println(&quot;----------------更新条数----------------&quot;);</span><br><span class=\"line\">        System.out.println(updateResult.getModifiedCount());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 删除数据的方法</span><br><span class=\"line\">     * @param collection</span><br><span class=\"line\">     */</span><br><span class=\"line\">    public static void delete(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        collection.deleteOne(eq(&quot;i&quot;, 210));</span><br><span class=\"line\">        //gte 大于等于100的都删除</span><br><span class=\"line\">        DeleteResult deleteResult = collection.deleteMany(gte(&quot;i&quot;, 100));</span><br><span class=\"line\">        System.out.println(&quot;----------------删除条数----------------&quot;);</span><br><span class=\"line\">        System.out.println(deleteResult.getDeletedCount());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /*</span><br><span class=\"line\">    public static void bulk(MongoCollection&lt;Document&gt; collection) &#123;</span><br><span class=\"line\">        // 2. Ordered bulk operation - order is guarenteed</span><br><span class=\"line\">        collection.bulkWrite(</span><br><span class=\"line\">                Arrays.asList(new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 4)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 5)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 6)),</span><br><span class=\"line\">                        new UpdateOneModel&lt;&gt;(new Document(&quot;_id&quot;, 1),</span><br><span class=\"line\">                                new Document(&quot;$set&quot;, new Document(&quot;x&quot;, 2))),</span><br><span class=\"line\">                        new DeleteOneModel&lt;&gt;(new Document(&quot;_id&quot;, 2)),</span><br><span class=\"line\">                        new ReplaceOneModel&lt;&gt;(new Document(&quot;_id&quot;, 3),</span><br><span class=\"line\">                                new Document(&quot;_id&quot;, 3).append(&quot;x&quot;, 4))));</span><br><span class=\"line\">        // 2. Unordered bulk operation - no guarantee of order of operation</span><br><span class=\"line\">        collection.bulkWrite(</span><br><span class=\"line\">                Arrays.asList(new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 4)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 5)),</span><br><span class=\"line\">                        new InsertOneModel&lt;&gt;(new Document(&quot;_id&quot;, 6)),</span><br><span class=\"line\">                        new UpdateOneModel&lt;&gt;(new Document(&quot;_id&quot;, 1),</span><br><span class=\"line\">                                new Document(&quot;$set&quot;, new Document(&quot;x&quot;, 2))),</span><br><span class=\"line\">                        new DeleteOneModel&lt;&gt;(new Document(&quot;_id&quot;, 2)),</span><br><span class=\"line\">                        new ReplaceOneModel&lt;&gt;(new Document(&quot;_id&quot;, 3),</span><br><span class=\"line\">                                new Document(&quot;_id&quot;, 3).append(&quot;x&quot;, 4))),</span><br><span class=\"line\">                new BulkWriteOptions().ordered(false));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Java开发的一点思考","keywords":["java","java开发","java开发总结"],"date":"2017-02-26T14:47:14.000Z","_content":"\n目前的形式来说java后台市场还是挺大，虽然也有很多python和php的系统。\n\n要想从事企业级的项目开发，你必须掌握如下要点：\n\n1. 掌握项目开发的基本步骤\n2. 具备极强的面向对象的分析与设计技巧\n3. 掌握用例驱动、以架构为核心的主流开发方法\n\n没有人愿意自己一辈子就满足于掌握了一些代码实现的技巧，\n\n别人告诉你要实现什么，你就用代码堆砌来实现别人的要求！\n\n你必须学会从整个项目的角度去思考！\n\n你必须学会假如你是项目经理，你该如何思考！\n\n你必须学会假如你是架构师，你该如何思考！\n\n你必须掌握针对某个特定问题领域的分析方法！\n\n\n关于基础知识：\n---\n<!--more-->\n## JavaSE ##\n- **基本语法、数据类型、操作符等**：int、long、Integer、Long、if、else、for、while\n- **面向对象**：class（类）、Object（对象）、instance（实例）、state（状态）、behavior（行为）、field、method、new、可见性（访问控制）、attribute、property、package、import、static variable、class variable、instance variable、heap、method area、stack、GC（垃圾回收）、override、overload、对象转型(casting)、多态、this、super\n- **异常处理**：理解编译期错误和运行期错误的区别、Exception、RuntimeException、checked exception、unchecked exception、try、catch、finally、throw new XXXException、throws XXXException、异常处理的基本原则\n- **数组与集合**：数组的定义和使用方法、Collection、List、Set、Map、ArrayList、HashSet、HashMap、Iterator、equals、hashCode、Comparable、Comparator\n- **常用类**：String、intern、常量池、StringBuffer、java.util.Date、SimpleDateFormat、Regex（正则表达式）\n- **反射机制**：Class、Method、Field、invoke、newInstance、BeanUtils（apache-commons）、PropertyUtils（apache-commons）\n- **输入输出流**：InputStream、OutputStream、Reader、Writer、Adapter设计模式与原始流类、Decorator设计模式与包装流类、对象序列化和反序列化\n- **多线程**：Thread、Runnable、sleep、wait、notify、synchronized、lock\n\n## Servlet和JSP ##\n- HttpServlet、doGet、doPost、HttpServletRequest、HttpServletResponse、request.getParameter()、request.setAttribute()、request.getAttribute()、request.getSession()、ServletContext、Filter、web.xml、tomcat、forward与redirect、http协议的无状态性、cookie、JSP Scope Object、<c:out …/>、<c:forEach …>\n\n- HTML与JavaScript:你需要能够理解常见的网页标签、理解在网页中引入JavaScript的方法、以及JavaScript的基本语法与使用方法\n\n以上，就是你进一步学习Java所必备的基本知识。\n\n特别是一些个专业术语和名词，看到这些名词，如果你像看到亲爹一样亲切，\n\n那么说明你对Java的基础知识就很熟悉了,**记住，仅仅是熟悉了**\n\n## 接下来是SSH ##\n对于初学者来说，这三大框架被赋予了太多神秘的色彩，似乎它们是重中之重的知识！但是对于拥有多年Java开发经验的专业技术人员来说，对于那些Java牛人来说，却对这三大框架不太感冒！难道它们不重要吗？\n\n现在很多企业都在用这三大框架，所以很多企业也把掌握这三大框架作为招聘的必备条件。不可否认的是，也有很多大型企业没有用这三大框架，这些企业经过多年发展，自身已经有一定的技术积累，也形成了自己独特的技术框架体系。这三大框架既可以说很重要，也可以说不重要。\n\n说重要的原因在于：这三大框架对JavaEE开发中所存在的普遍的问题，提供了优美的解决方案，它们蕴含了这个行业中最NB的开发人员的努力和想法，所以，学习这三大框架，你就可以窥探到这些处于技术巅峰的牛人们究竟对一个问题是怎么想的，通过一种什么样的设计思路去解决问题的。所以，对于你来说，你没有太多项目开发的经验，经验是什么？经验就是你知道可能会遇到哪些问题，针对哪个问题可以有哪些解决方法，在某个情景下，哪种解决方法是较好的，哪种方法不太好等等！如果你没做过什么项目，你根本就不会去意识到你可能会遇到哪些问题，而这些问题往往又是非常关键的！解决得不好，会影响到你的程序的稳定性、可扩展性等等！三大框架就给初学者提供了了解你以后可能会遇到哪些问题，以及针对这些问题的解决方案！\n\n当你了解了这三大框架为什么是重要的，那么你也就能理解，为什么这三大框架也可以说是不重要的。如果你曾经开发过很多项目，你碰到了各种各样的问题，凭着你的技术功底，逐个击破了这些问题，在这些人眼里，三大框架（是不是还有N个框架？呵呵）都是浮云！\n\n你属于哪一种人呢？如果你没有太多项目开发经验，那么三大框架对于你来说就是非常重要的！而且，由此你也知道了该怎么去学这三大框架。对于三大框架的学习而言，着力点在于给你展示问题，并触发你自己主动的思考，我们鼓励你提出自己的想法，也许你的想法很白痴，但那毕竟是你自己的想法，如果你不知道牛人的想法，那你怎么知道自己的想法是很白痴的呢？在这种思想的碰撞过程中，你就会逐渐提高自己！所以，三大框架学完之后，你不应该只是看到一大堆配置文件，你不应该只是看到了一些Action，一些Service，一些映射文件，你不应该只知道session.save/update/delete，你不应该只是知道struts2中有一堆interceptor，你不应该只是看到一堆jar包……\n\n如果你只是知道拷贝一堆jar包，定义一系列配置文件之后，SSH三大框架就能够运行起来了，也可以给你干活了，那么，很悲哀的是，**你仍然没有掌握三大框架的精粹！**请你回答以下问题：\n\n---\n**Struts2**：\n\n- 为什么每次请求都要创建一个Action对象？\n- ModelDriven拦截器的配置中refreshModelBeforeResult解决了什么问题？\n- 为什么在web.xml中配置的StrutsPrepareAndExecuteFilter要过滤所有的请求？\n- 请你给我谈谈ValueStack？\n- Struts2是如何实现MVC设计模式的？\n\n---\n**Spring**：\n\n- 你为什么要用Spring？\n- 请你聊一聊IOC/DI？\n- 什么是声明式的事务管理？为什么要使用声明式的事务管理？Spring如何实现声明式的事务管理？\n- 把spring和hibernate集成，定义事务管理特性的时候，为何要将除了添加、删除、更新操作之外的方法，即主要执行查询任务的方法定义为read-only？\n\n---\n**Hibernate**：\n\n- 请你谈谈你对ORM映射的理解？\n- 很多人说Hibernate不适合大项目，性能有问题，你是如何理解的？\n- Hibernate为什么一定要定义一个数据库标识？\n- 为什么Hibernate建议你的实体类实现hashCode和equals方法？\n- 谈谈你对Hibernate实体类中的数据库标识与数据库主键之间关系的认识？\n- 谈谈你对Hibernate关联映射与数据库外键之间关系的认识？\n- 调用session.save()方法，hibernate一定会发出insert语句吗？谈谈你的理解\n- 调用session.update()方法，hibernate一定会发出update语句吗？谈谈你的理解\n- 请你聊一下以下名词、概念或用法：lazy、lazy=”extra”、inverse、fetch、fetch=”join”、fetch=”subselect”、batch-size\n- 配置了lazy=”true”一定会实现懒加载吗？\n- 请你谈谈Hibernate中的“N+1”问题\n- 请你谈谈Hibernate有哪些最佳实践？\n\n以上并非SSH中全部重点的问题，但它们能考察你能否灵活运用SSH框架！如果你能深刻理解这些问题，再配以合适的实战项目训练，你也会逐渐成为牛人！\n\n## 最后是项目开发能力 ##：\n不管你是学Java还是别的技术，你的根本目的在于给客户创造价值！否则，你下大力气学习的东西，随着技术的进步和更新，很快就会过时！所以，技术的核心在于用技术创造有价值的成果！也就是说，客户需要什么，你就要用技术把客户需要的东西给他造出来！一个公司之所以要用各种福利条件极力挽留你，是因为你能够给公司带来极高的利益！那么，你有什么可以给公司利用的呢？公司最看重你的哪方面的能力呢？\n\n做项目需要的能力很多，其中最核心最基础的就是建模能力（现在最主流的就是面向对象建模！）。什么是建模能力呢？\n\n---\n**我给大家一个面试题**：\n一个保险公司的保险卡管理模块：销售人员领取保险卡信息（保险卡数量、卡号、领取日期），然后直接销售给客户，销售完毕后，将保险卡信息录入保险公司系统内部（销售人员信息、购买人信息、购买的保险卡数量、卡号等），客户登录保险公司网站激活保险卡，需要填写（保险卡卡号、激活密码、被保险人信息、受益人信息）\n\n要求就是：如果这个模块交给你来做，你要怎么做？你要解决哪些问题？你可否画个图，给我描述一下你的想法是什么吗？\n\n这只是一个面试题而已，因为只有简单几句话，所以我把它放到这里，让大家感受一下所谓建模要解决什么问题。而业务领域的问题实在是太多了！也许一个几十上百页的需求文档才能把某个业务领域的问题描述清楚，而你的职责就是要把它们实现出来！\n\n某个公司要开发一个考勤管理系统，要求与现有的人力资源系统对接，你是主要的技术负责人，那么，你要做哪些工作呢？\n\n某ERP项目要实现一个排班管理模块，交给你去完成，你如何去完成呢？\n\n---\n\n不要抱怨项目经理给你的信息太少（只有几句话），不要抱怨客户没有描述清楚他们的需求……你的价值就在于理顺所有的问题，用各种手段获得你想要的信息，按照一定的思路汇总，并在特定的时间里逐个解决它！\n\n你应该意识到学Java不是一个坦克大战、一个网络飞车、一个CMS、一个DRP、一个OA那么简单，你不要沉迷于那些技术细节（虽然也是有必要的，但不要钻牛角尖），不要满足于实现了CRUD式的项目需求（虽然这是基础中的基础），在你的前方，永远有一个目标在那里，需要你去努力追赶！  \n\n今后你将面对更加繁杂的需求，你学习项目的唯一目的，就是：学习如何将需求转化为实现，如何对需求进行分析，如何建立概念模型，如何理顺各种概念之间的关系，如何进行设计，如何选择合适的技术来实现你的设计方案，如何对你的实现进行测试，如何解决你所遇到的形形色色的问题（性能、需求变更等）。当你真正到公司里面从事了几年开发之后，你就会同意我的说法！\n\n---\n利用Java找工作，需要的就是项目经验，项目经验就是理解项目开发的基本过程，理解项目的分析方法，理解项目的设计思路，理解项目的实现技巧，理解项目的测试方法，理解项目中各种问题的解决方案。\n\n---\n码农只是复制粘贴，并不注重原理，说不出所以然，所以做了几年还只能是码农。\n\n加油，共勉！","source":"_posts/Java开发的一点思考.md","raw":"---\ntitle: Java开发的一点思考\nkeywords: [java,java开发,java开发总结]\ntags: [java]\ndate: 2017-02-26 22:47:14\ncategories: java\n---\n\n目前的形式来说java后台市场还是挺大，虽然也有很多python和php的系统。\n\n要想从事企业级的项目开发，你必须掌握如下要点：\n\n1. 掌握项目开发的基本步骤\n2. 具备极强的面向对象的分析与设计技巧\n3. 掌握用例驱动、以架构为核心的主流开发方法\n\n没有人愿意自己一辈子就满足于掌握了一些代码实现的技巧，\n\n别人告诉你要实现什么，你就用代码堆砌来实现别人的要求！\n\n你必须学会从整个项目的角度去思考！\n\n你必须学会假如你是项目经理，你该如何思考！\n\n你必须学会假如你是架构师，你该如何思考！\n\n你必须掌握针对某个特定问题领域的分析方法！\n\n\n关于基础知识：\n---\n<!--more-->\n## JavaSE ##\n- **基本语法、数据类型、操作符等**：int、long、Integer、Long、if、else、for、while\n- **面向对象**：class（类）、Object（对象）、instance（实例）、state（状态）、behavior（行为）、field、method、new、可见性（访问控制）、attribute、property、package、import、static variable、class variable、instance variable、heap、method area、stack、GC（垃圾回收）、override、overload、对象转型(casting)、多态、this、super\n- **异常处理**：理解编译期错误和运行期错误的区别、Exception、RuntimeException、checked exception、unchecked exception、try、catch、finally、throw new XXXException、throws XXXException、异常处理的基本原则\n- **数组与集合**：数组的定义和使用方法、Collection、List、Set、Map、ArrayList、HashSet、HashMap、Iterator、equals、hashCode、Comparable、Comparator\n- **常用类**：String、intern、常量池、StringBuffer、java.util.Date、SimpleDateFormat、Regex（正则表达式）\n- **反射机制**：Class、Method、Field、invoke、newInstance、BeanUtils（apache-commons）、PropertyUtils（apache-commons）\n- **输入输出流**：InputStream、OutputStream、Reader、Writer、Adapter设计模式与原始流类、Decorator设计模式与包装流类、对象序列化和反序列化\n- **多线程**：Thread、Runnable、sleep、wait、notify、synchronized、lock\n\n## Servlet和JSP ##\n- HttpServlet、doGet、doPost、HttpServletRequest、HttpServletResponse、request.getParameter()、request.setAttribute()、request.getAttribute()、request.getSession()、ServletContext、Filter、web.xml、tomcat、forward与redirect、http协议的无状态性、cookie、JSP Scope Object、<c:out …/>、<c:forEach …>\n\n- HTML与JavaScript:你需要能够理解常见的网页标签、理解在网页中引入JavaScript的方法、以及JavaScript的基本语法与使用方法\n\n以上，就是你进一步学习Java所必备的基本知识。\n\n特别是一些个专业术语和名词，看到这些名词，如果你像看到亲爹一样亲切，\n\n那么说明你对Java的基础知识就很熟悉了,**记住，仅仅是熟悉了**\n\n## 接下来是SSH ##\n对于初学者来说，这三大框架被赋予了太多神秘的色彩，似乎它们是重中之重的知识！但是对于拥有多年Java开发经验的专业技术人员来说，对于那些Java牛人来说，却对这三大框架不太感冒！难道它们不重要吗？\n\n现在很多企业都在用这三大框架，所以很多企业也把掌握这三大框架作为招聘的必备条件。不可否认的是，也有很多大型企业没有用这三大框架，这些企业经过多年发展，自身已经有一定的技术积累，也形成了自己独特的技术框架体系。这三大框架既可以说很重要，也可以说不重要。\n\n说重要的原因在于：这三大框架对JavaEE开发中所存在的普遍的问题，提供了优美的解决方案，它们蕴含了这个行业中最NB的开发人员的努力和想法，所以，学习这三大框架，你就可以窥探到这些处于技术巅峰的牛人们究竟对一个问题是怎么想的，通过一种什么样的设计思路去解决问题的。所以，对于你来说，你没有太多项目开发的经验，经验是什么？经验就是你知道可能会遇到哪些问题，针对哪个问题可以有哪些解决方法，在某个情景下，哪种解决方法是较好的，哪种方法不太好等等！如果你没做过什么项目，你根本就不会去意识到你可能会遇到哪些问题，而这些问题往往又是非常关键的！解决得不好，会影响到你的程序的稳定性、可扩展性等等！三大框架就给初学者提供了了解你以后可能会遇到哪些问题，以及针对这些问题的解决方案！\n\n当你了解了这三大框架为什么是重要的，那么你也就能理解，为什么这三大框架也可以说是不重要的。如果你曾经开发过很多项目，你碰到了各种各样的问题，凭着你的技术功底，逐个击破了这些问题，在这些人眼里，三大框架（是不是还有N个框架？呵呵）都是浮云！\n\n你属于哪一种人呢？如果你没有太多项目开发经验，那么三大框架对于你来说就是非常重要的！而且，由此你也知道了该怎么去学这三大框架。对于三大框架的学习而言，着力点在于给你展示问题，并触发你自己主动的思考，我们鼓励你提出自己的想法，也许你的想法很白痴，但那毕竟是你自己的想法，如果你不知道牛人的想法，那你怎么知道自己的想法是很白痴的呢？在这种思想的碰撞过程中，你就会逐渐提高自己！所以，三大框架学完之后，你不应该只是看到一大堆配置文件，你不应该只是看到了一些Action，一些Service，一些映射文件，你不应该只知道session.save/update/delete，你不应该只是知道struts2中有一堆interceptor，你不应该只是看到一堆jar包……\n\n如果你只是知道拷贝一堆jar包，定义一系列配置文件之后，SSH三大框架就能够运行起来了，也可以给你干活了，那么，很悲哀的是，**你仍然没有掌握三大框架的精粹！**请你回答以下问题：\n\n---\n**Struts2**：\n\n- 为什么每次请求都要创建一个Action对象？\n- ModelDriven拦截器的配置中refreshModelBeforeResult解决了什么问题？\n- 为什么在web.xml中配置的StrutsPrepareAndExecuteFilter要过滤所有的请求？\n- 请你给我谈谈ValueStack？\n- Struts2是如何实现MVC设计模式的？\n\n---\n**Spring**：\n\n- 你为什么要用Spring？\n- 请你聊一聊IOC/DI？\n- 什么是声明式的事务管理？为什么要使用声明式的事务管理？Spring如何实现声明式的事务管理？\n- 把spring和hibernate集成，定义事务管理特性的时候，为何要将除了添加、删除、更新操作之外的方法，即主要执行查询任务的方法定义为read-only？\n\n---\n**Hibernate**：\n\n- 请你谈谈你对ORM映射的理解？\n- 很多人说Hibernate不适合大项目，性能有问题，你是如何理解的？\n- Hibernate为什么一定要定义一个数据库标识？\n- 为什么Hibernate建议你的实体类实现hashCode和equals方法？\n- 谈谈你对Hibernate实体类中的数据库标识与数据库主键之间关系的认识？\n- 谈谈你对Hibernate关联映射与数据库外键之间关系的认识？\n- 调用session.save()方法，hibernate一定会发出insert语句吗？谈谈你的理解\n- 调用session.update()方法，hibernate一定会发出update语句吗？谈谈你的理解\n- 请你聊一下以下名词、概念或用法：lazy、lazy=”extra”、inverse、fetch、fetch=”join”、fetch=”subselect”、batch-size\n- 配置了lazy=”true”一定会实现懒加载吗？\n- 请你谈谈Hibernate中的“N+1”问题\n- 请你谈谈Hibernate有哪些最佳实践？\n\n以上并非SSH中全部重点的问题，但它们能考察你能否灵活运用SSH框架！如果你能深刻理解这些问题，再配以合适的实战项目训练，你也会逐渐成为牛人！\n\n## 最后是项目开发能力 ##：\n不管你是学Java还是别的技术，你的根本目的在于给客户创造价值！否则，你下大力气学习的东西，随着技术的进步和更新，很快就会过时！所以，技术的核心在于用技术创造有价值的成果！也就是说，客户需要什么，你就要用技术把客户需要的东西给他造出来！一个公司之所以要用各种福利条件极力挽留你，是因为你能够给公司带来极高的利益！那么，你有什么可以给公司利用的呢？公司最看重你的哪方面的能力呢？\n\n做项目需要的能力很多，其中最核心最基础的就是建模能力（现在最主流的就是面向对象建模！）。什么是建模能力呢？\n\n---\n**我给大家一个面试题**：\n一个保险公司的保险卡管理模块：销售人员领取保险卡信息（保险卡数量、卡号、领取日期），然后直接销售给客户，销售完毕后，将保险卡信息录入保险公司系统内部（销售人员信息、购买人信息、购买的保险卡数量、卡号等），客户登录保险公司网站激活保险卡，需要填写（保险卡卡号、激活密码、被保险人信息、受益人信息）\n\n要求就是：如果这个模块交给你来做，你要怎么做？你要解决哪些问题？你可否画个图，给我描述一下你的想法是什么吗？\n\n这只是一个面试题而已，因为只有简单几句话，所以我把它放到这里，让大家感受一下所谓建模要解决什么问题。而业务领域的问题实在是太多了！也许一个几十上百页的需求文档才能把某个业务领域的问题描述清楚，而你的职责就是要把它们实现出来！\n\n某个公司要开发一个考勤管理系统，要求与现有的人力资源系统对接，你是主要的技术负责人，那么，你要做哪些工作呢？\n\n某ERP项目要实现一个排班管理模块，交给你去完成，你如何去完成呢？\n\n---\n\n不要抱怨项目经理给你的信息太少（只有几句话），不要抱怨客户没有描述清楚他们的需求……你的价值就在于理顺所有的问题，用各种手段获得你想要的信息，按照一定的思路汇总，并在特定的时间里逐个解决它！\n\n你应该意识到学Java不是一个坦克大战、一个网络飞车、一个CMS、一个DRP、一个OA那么简单，你不要沉迷于那些技术细节（虽然也是有必要的，但不要钻牛角尖），不要满足于实现了CRUD式的项目需求（虽然这是基础中的基础），在你的前方，永远有一个目标在那里，需要你去努力追赶！  \n\n今后你将面对更加繁杂的需求，你学习项目的唯一目的，就是：学习如何将需求转化为实现，如何对需求进行分析，如何建立概念模型，如何理顺各种概念之间的关系，如何进行设计，如何选择合适的技术来实现你的设计方案，如何对你的实现进行测试，如何解决你所遇到的形形色色的问题（性能、需求变更等）。当你真正到公司里面从事了几年开发之后，你就会同意我的说法！\n\n---\n利用Java找工作，需要的就是项目经验，项目经验就是理解项目开发的基本过程，理解项目的分析方法，理解项目的设计思路，理解项目的实现技巧，理解项目的测试方法，理解项目中各种问题的解决方案。\n\n---\n码农只是复制粘贴，并不注重原理，说不出所以然，所以做了几年还只能是码农。\n\n加油，共勉！","slug":"Java开发的一点思考","published":1,"updated":"2017-02-26T15:03:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdvc00heolejlyncuqak","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>目前的形式来说java后台市场还是挺大，虽然也有很多python和php的系统。</p><p>要想从事企业级的项目开发，你必须掌握如下要点：</p><ol><li>掌握项目开发的基本步骤</li><li>具备极强的面向对象的分析与设计技巧</li><li>掌握用例驱动、以架构为核心的主流开发方法</li></ol><p>没有人愿意自己一辈子就满足于掌握了一些代码实现的技巧，</p><p>别人告诉你要实现什么，你就用代码堆砌来实现别人的要求！</p><p>你必须学会从整个项目的角度去思考！</p><p>你必须学会假如你是项目经理，你该如何思考！</p><p>你必须学会假如你是架构师，你该如何思考！</p><p>你必须掌握针对某个特定问题领域的分析方法！</p><h2 id=\"关于基础知识：\"><a href=\"#关于基础知识：\" class=\"headerlink\" title=\"关于基础知识：\"></a>关于基础知识：</h2><a id=\"more\"></a><h2 id=\"JavaSE\"><a href=\"#JavaSE\" class=\"headerlink\" title=\"JavaSE\"></a>JavaSE</h2><ul><li><strong>基本语法、数据类型、操作符等</strong>：int、long、Integer、Long、if、else、for、while</li><li><strong>面向对象</strong>：class（类）、Object（对象）、instance（实例）、state（状态）、behavior（行为）、field、method、new、可见性（访问控制）、attribute、property、package、import、static variable、class variable、instance variable、heap、method area、stack、GC（垃圾回收）、override、overload、对象转型(casting)、多态、this、super</li><li><strong>异常处理</strong>：理解编译期错误和运行期错误的区别、Exception、RuntimeException、checked exception、unchecked exception、try、catch、finally、throw new XXXException、throws XXXException、异常处理的基本原则</li><li><strong>数组与集合</strong>：数组的定义和使用方法、Collection、List、Set、Map、ArrayList、HashSet、HashMap、Iterator、equals、hashCode、Comparable、Comparator</li><li><strong>常用类</strong>：String、intern、常量池、StringBuffer、java.util.Date、SimpleDateFormat、Regex（正则表达式）</li><li><strong>反射机制</strong>：Class、Method、Field、invoke、newInstance、BeanUtils（apache-commons）、PropertyUtils（apache-commons）</li><li><strong>输入输出流</strong>：InputStream、OutputStream、Reader、Writer、Adapter设计模式与原始流类、Decorator设计模式与包装流类、对象序列化和反序列化</li><li><strong>多线程</strong>：Thread、Runnable、sleep、wait、notify、synchronized、lock</li></ul><h2 id=\"Servlet和JSP\"><a href=\"#Servlet和JSP\" class=\"headerlink\" title=\"Servlet和JSP\"></a>Servlet和JSP</h2><ul><li><p>HttpServlet、doGet、doPost、HttpServletRequest、HttpServletResponse、request.getParameter()、request.setAttribute()、request.getAttribute()、request.getSession()、ServletContext、Filter、web.xml、tomcat、forward与redirect、http协议的无状态性、cookie、JSP Scope Object、&lt;c:out …/&gt;、&lt;c:forEach …&gt;</p></li><li><p>HTML与JavaScript:你需要能够理解常见的网页标签、理解在网页中引入JavaScript的方法、以及JavaScript的基本语法与使用方法</p></li></ul><p>以上，就是你进一步学习Java所必备的基本知识。</p><p>特别是一些个专业术语和名词，看到这些名词，如果你像看到亲爹一样亲切，</p><p>那么说明你对Java的基础知识就很熟悉了,<strong>记住，仅仅是熟悉了</strong></p><h2 id=\"接下来是SSH\"><a href=\"#接下来是SSH\" class=\"headerlink\" title=\"接下来是SSH\"></a>接下来是SSH</h2><p>对于初学者来说，这三大框架被赋予了太多神秘的色彩，似乎它们是重中之重的知识！但是对于拥有多年Java开发经验的专业技术人员来说，对于那些Java牛人来说，却对这三大框架不太感冒！难道它们不重要吗？</p><p>现在很多企业都在用这三大框架，所以很多企业也把掌握这三大框架作为招聘的必备条件。不可否认的是，也有很多大型企业没有用这三大框架，这些企业经过多年发展，自身已经有一定的技术积累，也形成了自己独特的技术框架体系。这三大框架既可以说很重要，也可以说不重要。</p><p>说重要的原因在于：这三大框架对JavaEE开发中所存在的普遍的问题，提供了优美的解决方案，它们蕴含了这个行业中最NB的开发人员的努力和想法，所以，学习这三大框架，你就可以窥探到这些处于技术巅峰的牛人们究竟对一个问题是怎么想的，通过一种什么样的设计思路去解决问题的。所以，对于你来说，你没有太多项目开发的经验，经验是什么？经验就是你知道可能会遇到哪些问题，针对哪个问题可以有哪些解决方法，在某个情景下，哪种解决方法是较好的，哪种方法不太好等等！如果你没做过什么项目，你根本就不会去意识到你可能会遇到哪些问题，而这些问题往往又是非常关键的！解决得不好，会影响到你的程序的稳定性、可扩展性等等！三大框架就给初学者提供了了解你以后可能会遇到哪些问题，以及针对这些问题的解决方案！</p><p>当你了解了这三大框架为什么是重要的，那么你也就能理解，为什么这三大框架也可以说是不重要的。如果你曾经开发过很多项目，你碰到了各种各样的问题，凭着你的技术功底，逐个击破了这些问题，在这些人眼里，三大框架（是不是还有N个框架？呵呵）都是浮云！</p><p>你属于哪一种人呢？如果你没有太多项目开发经验，那么三大框架对于你来说就是非常重要的！而且，由此你也知道了该怎么去学这三大框架。对于三大框架的学习而言，着力点在于给你展示问题，并触发你自己主动的思考，我们鼓励你提出自己的想法，也许你的想法很白痴，但那毕竟是你自己的想法，如果你不知道牛人的想法，那你怎么知道自己的想法是很白痴的呢？在这种思想的碰撞过程中，你就会逐渐提高自己！所以，三大框架学完之后，你不应该只是看到一大堆配置文件，你不应该只是看到了一些Action，一些Service，一些映射文件，你不应该只知道session.save/update/delete，你不应该只是知道struts2中有一堆interceptor，你不应该只是看到一堆jar包……</p><p>如果你只是知道拷贝一堆jar包，定义一系列配置文件之后，SSH三大框架就能够运行起来了，也可以给你干活了，那么，很悲哀的是，<strong>你仍然没有掌握三大框架的精粹！</strong>请你回答以下问题：</p><hr><p><strong>Struts2</strong>：</p><ul><li>为什么每次请求都要创建一个Action对象？</li><li>ModelDriven拦截器的配置中refreshModelBeforeResult解决了什么问题？</li><li>为什么在web.xml中配置的StrutsPrepareAndExecuteFilter要过滤所有的请求？</li><li>请你给我谈谈ValueStack？</li><li>Struts2是如何实现MVC设计模式的？</li></ul><hr><p><strong>Spring</strong>：</p><ul><li>你为什么要用Spring？</li><li>请你聊一聊IOC/DI？</li><li>什么是声明式的事务管理？为什么要使用声明式的事务管理？Spring如何实现声明式的事务管理？</li><li>把spring和hibernate集成，定义事务管理特性的时候，为何要将除了添加、删除、更新操作之外的方法，即主要执行查询任务的方法定义为read-only？</li></ul><hr><p><strong>Hibernate</strong>：</p><ul><li>请你谈谈你对ORM映射的理解？</li><li>很多人说Hibernate不适合大项目，性能有问题，你是如何理解的？</li><li>Hibernate为什么一定要定义一个数据库标识？</li><li>为什么Hibernate建议你的实体类实现hashCode和equals方法？</li><li>谈谈你对Hibernate实体类中的数据库标识与数据库主键之间关系的认识？</li><li>谈谈你对Hibernate关联映射与数据库外键之间关系的认识？</li><li>调用session.save()方法，hibernate一定会发出insert语句吗？谈谈你的理解</li><li>调用session.update()方法，hibernate一定会发出update语句吗？谈谈你的理解</li><li>请你聊一下以下名词、概念或用法：lazy、lazy=”extra”、inverse、fetch、fetch=”join”、fetch=”subselect”、batch-size</li><li>配置了lazy=”true”一定会实现懒加载吗？</li><li>请你谈谈Hibernate中的“N+1”问题</li><li>请你谈谈Hibernate有哪些最佳实践？</li></ul><p>以上并非SSH中全部重点的问题，但它们能考察你能否灵活运用SSH框架！如果你能深刻理解这些问题，再配以合适的实战项目训练，你也会逐渐成为牛人！</p><h2 id=\"最后是项目开发能力-：\"><a href=\"#最后是项目开发能力-：\" class=\"headerlink\" title=\"最后是项目开发能力 ##：\"></a>最后是项目开发能力 ##：</h2><p>不管你是学Java还是别的技术，你的根本目的在于给客户创造价值！否则，你下大力气学习的东西，随着技术的进步和更新，很快就会过时！所以，技术的核心在于用技术创造有价值的成果！也就是说，客户需要什么，你就要用技术把客户需要的东西给他造出来！一个公司之所以要用各种福利条件极力挽留你，是因为你能够给公司带来极高的利益！那么，你有什么可以给公司利用的呢？公司最看重你的哪方面的能力呢？</p><p>做项目需要的能力很多，其中最核心最基础的就是建模能力（现在最主流的就是面向对象建模！）。什么是建模能力呢？</p><hr><p><strong>我给大家一个面试题</strong>：<br>一个保险公司的保险卡管理模块：销售人员领取保险卡信息（保险卡数量、卡号、领取日期），然后直接销售给客户，销售完毕后，将保险卡信息录入保险公司系统内部（销售人员信息、购买人信息、购买的保险卡数量、卡号等），客户登录保险公司网站激活保险卡，需要填写（保险卡卡号、激活密码、被保险人信息、受益人信息）</p><p>要求就是：如果这个模块交给你来做，你要怎么做？你要解决哪些问题？你可否画个图，给我描述一下你的想法是什么吗？</p><p>这只是一个面试题而已，因为只有简单几句话，所以我把它放到这里，让大家感受一下所谓建模要解决什么问题。而业务领域的问题实在是太多了！也许一个几十上百页的需求文档才能把某个业务领域的问题描述清楚，而你的职责就是要把它们实现出来！</p><p>某个公司要开发一个考勤管理系统，要求与现有的人力资源系统对接，你是主要的技术负责人，那么，你要做哪些工作呢？</p><p>某ERP项目要实现一个排班管理模块，交给你去完成，你如何去完成呢？</p><hr><p>不要抱怨项目经理给你的信息太少（只有几句话），不要抱怨客户没有描述清楚他们的需求……你的价值就在于理顺所有的问题，用各种手段获得你想要的信息，按照一定的思路汇总，并在特定的时间里逐个解决它！</p><p>你应该意识到学Java不是一个坦克大战、一个网络飞车、一个CMS、一个DRP、一个OA那么简单，你不要沉迷于那些技术细节（虽然也是有必要的，但不要钻牛角尖），不要满足于实现了CRUD式的项目需求（虽然这是基础中的基础），在你的前方，永远有一个目标在那里，需要你去努力追赶！</p><p>今后你将面对更加繁杂的需求，你学习项目的唯一目的，就是：学习如何将需求转化为实现，如何对需求进行分析，如何建立概念模型，如何理顺各种概念之间的关系，如何进行设计，如何选择合适的技术来实现你的设计方案，如何对你的实现进行测试，如何解决你所遇到的形形色色的问题（性能、需求变更等）。当你真正到公司里面从事了几年开发之后，你就会同意我的说法！</p><hr><p>利用Java找工作，需要的就是项目经验，项目经验就是理解项目开发的基本过程，理解项目的分析方法，理解项目的设计思路，理解项目的实现技巧，理解项目的测试方法，理解项目中各种问题的解决方案。</p><hr><p>码农只是复制粘贴，并不注重原理，说不出所以然，所以做了几年还只能是码农。</p><p>加油，共勉！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>目前的形式来说java后台市场还是挺大，虽然也有很多python和php的系统。</p><p>要想从事企业级的项目开发，你必须掌握如下要点：</p><ol><li>掌握项目开发的基本步骤</li><li>具备极强的面向对象的分析与设计技巧</li><li>掌握用例驱动、以架构为核心的主流开发方法</li></ol><p>没有人愿意自己一辈子就满足于掌握了一些代码实现的技巧，</p><p>别人告诉你要实现什么，你就用代码堆砌来实现别人的要求！</p><p>你必须学会从整个项目的角度去思考！</p><p>你必须学会假如你是项目经理，你该如何思考！</p><p>你必须学会假如你是架构师，你该如何思考！</p><p>你必须掌握针对某个特定问题领域的分析方法！</p><h2 id=\"关于基础知识：\"><a href=\"#关于基础知识：\" class=\"headerlink\" title=\"关于基础知识：\"></a>关于基础知识：</h2>","more":"<h2 id=\"JavaSE\"><a href=\"#JavaSE\" class=\"headerlink\" title=\"JavaSE\"></a>JavaSE</h2><ul><li><strong>基本语法、数据类型、操作符等</strong>：int、long、Integer、Long、if、else、for、while</li><li><strong>面向对象</strong>：class（类）、Object（对象）、instance（实例）、state（状态）、behavior（行为）、field、method、new、可见性（访问控制）、attribute、property、package、import、static variable、class variable、instance variable、heap、method area、stack、GC（垃圾回收）、override、overload、对象转型(casting)、多态、this、super</li><li><strong>异常处理</strong>：理解编译期错误和运行期错误的区别、Exception、RuntimeException、checked exception、unchecked exception、try、catch、finally、throw new XXXException、throws XXXException、异常处理的基本原则</li><li><strong>数组与集合</strong>：数组的定义和使用方法、Collection、List、Set、Map、ArrayList、HashSet、HashMap、Iterator、equals、hashCode、Comparable、Comparator</li><li><strong>常用类</strong>：String、intern、常量池、StringBuffer、java.util.Date、SimpleDateFormat、Regex（正则表达式）</li><li><strong>反射机制</strong>：Class、Method、Field、invoke、newInstance、BeanUtils（apache-commons）、PropertyUtils（apache-commons）</li><li><strong>输入输出流</strong>：InputStream、OutputStream、Reader、Writer、Adapter设计模式与原始流类、Decorator设计模式与包装流类、对象序列化和反序列化</li><li><strong>多线程</strong>：Thread、Runnable、sleep、wait、notify、synchronized、lock</li></ul><h2 id=\"Servlet和JSP\"><a href=\"#Servlet和JSP\" class=\"headerlink\" title=\"Servlet和JSP\"></a>Servlet和JSP</h2><ul><li><p>HttpServlet、doGet、doPost、HttpServletRequest、HttpServletResponse、request.getParameter()、request.setAttribute()、request.getAttribute()、request.getSession()、ServletContext、Filter、web.xml、tomcat、forward与redirect、http协议的无状态性、cookie、JSP Scope Object、&lt;c:out …/&gt;、&lt;c:forEach …&gt;</p></li><li><p>HTML与JavaScript:你需要能够理解常见的网页标签、理解在网页中引入JavaScript的方法、以及JavaScript的基本语法与使用方法</p></li></ul><p>以上，就是你进一步学习Java所必备的基本知识。</p><p>特别是一些个专业术语和名词，看到这些名词，如果你像看到亲爹一样亲切，</p><p>那么说明你对Java的基础知识就很熟悉了,<strong>记住，仅仅是熟悉了</strong></p><h2 id=\"接下来是SSH\"><a href=\"#接下来是SSH\" class=\"headerlink\" title=\"接下来是SSH\"></a>接下来是SSH</h2><p>对于初学者来说，这三大框架被赋予了太多神秘的色彩，似乎它们是重中之重的知识！但是对于拥有多年Java开发经验的专业技术人员来说，对于那些Java牛人来说，却对这三大框架不太感冒！难道它们不重要吗？</p><p>现在很多企业都在用这三大框架，所以很多企业也把掌握这三大框架作为招聘的必备条件。不可否认的是，也有很多大型企业没有用这三大框架，这些企业经过多年发展，自身已经有一定的技术积累，也形成了自己独特的技术框架体系。这三大框架既可以说很重要，也可以说不重要。</p><p>说重要的原因在于：这三大框架对JavaEE开发中所存在的普遍的问题，提供了优美的解决方案，它们蕴含了这个行业中最NB的开发人员的努力和想法，所以，学习这三大框架，你就可以窥探到这些处于技术巅峰的牛人们究竟对一个问题是怎么想的，通过一种什么样的设计思路去解决问题的。所以，对于你来说，你没有太多项目开发的经验，经验是什么？经验就是你知道可能会遇到哪些问题，针对哪个问题可以有哪些解决方法，在某个情景下，哪种解决方法是较好的，哪种方法不太好等等！如果你没做过什么项目，你根本就不会去意识到你可能会遇到哪些问题，而这些问题往往又是非常关键的！解决得不好，会影响到你的程序的稳定性、可扩展性等等！三大框架就给初学者提供了了解你以后可能会遇到哪些问题，以及针对这些问题的解决方案！</p><p>当你了解了这三大框架为什么是重要的，那么你也就能理解，为什么这三大框架也可以说是不重要的。如果你曾经开发过很多项目，你碰到了各种各样的问题，凭着你的技术功底，逐个击破了这些问题，在这些人眼里，三大框架（是不是还有N个框架？呵呵）都是浮云！</p><p>你属于哪一种人呢？如果你没有太多项目开发经验，那么三大框架对于你来说就是非常重要的！而且，由此你也知道了该怎么去学这三大框架。对于三大框架的学习而言，着力点在于给你展示问题，并触发你自己主动的思考，我们鼓励你提出自己的想法，也许你的想法很白痴，但那毕竟是你自己的想法，如果你不知道牛人的想法，那你怎么知道自己的想法是很白痴的呢？在这种思想的碰撞过程中，你就会逐渐提高自己！所以，三大框架学完之后，你不应该只是看到一大堆配置文件，你不应该只是看到了一些Action，一些Service，一些映射文件，你不应该只知道session.save/update/delete，你不应该只是知道struts2中有一堆interceptor，你不应该只是看到一堆jar包……</p><p>如果你只是知道拷贝一堆jar包，定义一系列配置文件之后，SSH三大框架就能够运行起来了，也可以给你干活了，那么，很悲哀的是，<strong>你仍然没有掌握三大框架的精粹！</strong>请你回答以下问题：</p><hr><p><strong>Struts2</strong>：</p><ul><li>为什么每次请求都要创建一个Action对象？</li><li>ModelDriven拦截器的配置中refreshModelBeforeResult解决了什么问题？</li><li>为什么在web.xml中配置的StrutsPrepareAndExecuteFilter要过滤所有的请求？</li><li>请你给我谈谈ValueStack？</li><li>Struts2是如何实现MVC设计模式的？</li></ul><hr><p><strong>Spring</strong>：</p><ul><li>你为什么要用Spring？</li><li>请你聊一聊IOC/DI？</li><li>什么是声明式的事务管理？为什么要使用声明式的事务管理？Spring如何实现声明式的事务管理？</li><li>把spring和hibernate集成，定义事务管理特性的时候，为何要将除了添加、删除、更新操作之外的方法，即主要执行查询任务的方法定义为read-only？</li></ul><hr><p><strong>Hibernate</strong>：</p><ul><li>请你谈谈你对ORM映射的理解？</li><li>很多人说Hibernate不适合大项目，性能有问题，你是如何理解的？</li><li>Hibernate为什么一定要定义一个数据库标识？</li><li>为什么Hibernate建议你的实体类实现hashCode和equals方法？</li><li>谈谈你对Hibernate实体类中的数据库标识与数据库主键之间关系的认识？</li><li>谈谈你对Hibernate关联映射与数据库外键之间关系的认识？</li><li>调用session.save()方法，hibernate一定会发出insert语句吗？谈谈你的理解</li><li>调用session.update()方法，hibernate一定会发出update语句吗？谈谈你的理解</li><li>请你聊一下以下名词、概念或用法：lazy、lazy=”extra”、inverse、fetch、fetch=”join”、fetch=”subselect”、batch-size</li><li>配置了lazy=”true”一定会实现懒加载吗？</li><li>请你谈谈Hibernate中的“N+1”问题</li><li>请你谈谈Hibernate有哪些最佳实践？</li></ul><p>以上并非SSH中全部重点的问题，但它们能考察你能否灵活运用SSH框架！如果你能深刻理解这些问题，再配以合适的实战项目训练，你也会逐渐成为牛人！</p><h2 id=\"最后是项目开发能力-：\"><a href=\"#最后是项目开发能力-：\" class=\"headerlink\" title=\"最后是项目开发能力 ##：\"></a>最后是项目开发能力 ##：</h2><p>不管你是学Java还是别的技术，你的根本目的在于给客户创造价值！否则，你下大力气学习的东西，随着技术的进步和更新，很快就会过时！所以，技术的核心在于用技术创造有价值的成果！也就是说，客户需要什么，你就要用技术把客户需要的东西给他造出来！一个公司之所以要用各种福利条件极力挽留你，是因为你能够给公司带来极高的利益！那么，你有什么可以给公司利用的呢？公司最看重你的哪方面的能力呢？</p><p>做项目需要的能力很多，其中最核心最基础的就是建模能力（现在最主流的就是面向对象建模！）。什么是建模能力呢？</p><hr><p><strong>我给大家一个面试题</strong>：<br>一个保险公司的保险卡管理模块：销售人员领取保险卡信息（保险卡数量、卡号、领取日期），然后直接销售给客户，销售完毕后，将保险卡信息录入保险公司系统内部（销售人员信息、购买人信息、购买的保险卡数量、卡号等），客户登录保险公司网站激活保险卡，需要填写（保险卡卡号、激活密码、被保险人信息、受益人信息）</p><p>要求就是：如果这个模块交给你来做，你要怎么做？你要解决哪些问题？你可否画个图，给我描述一下你的想法是什么吗？</p><p>这只是一个面试题而已，因为只有简单几句话，所以我把它放到这里，让大家感受一下所谓建模要解决什么问题。而业务领域的问题实在是太多了！也许一个几十上百页的需求文档才能把某个业务领域的问题描述清楚，而你的职责就是要把它们实现出来！</p><p>某个公司要开发一个考勤管理系统，要求与现有的人力资源系统对接，你是主要的技术负责人，那么，你要做哪些工作呢？</p><p>某ERP项目要实现一个排班管理模块，交给你去完成，你如何去完成呢？</p><hr><p>不要抱怨项目经理给你的信息太少（只有几句话），不要抱怨客户没有描述清楚他们的需求……你的价值就在于理顺所有的问题，用各种手段获得你想要的信息，按照一定的思路汇总，并在特定的时间里逐个解决它！</p><p>你应该意识到学Java不是一个坦克大战、一个网络飞车、一个CMS、一个DRP、一个OA那么简单，你不要沉迷于那些技术细节（虽然也是有必要的，但不要钻牛角尖），不要满足于实现了CRUD式的项目需求（虽然这是基础中的基础），在你的前方，永远有一个目标在那里，需要你去努力追赶！</p><p>今后你将面对更加繁杂的需求，你学习项目的唯一目的，就是：学习如何将需求转化为实现，如何对需求进行分析，如何建立概念模型，如何理顺各种概念之间的关系，如何进行设计，如何选择合适的技术来实现你的设计方案，如何对你的实现进行测试，如何解决你所遇到的形形色色的问题（性能、需求变更等）。当你真正到公司里面从事了几年开发之后，你就会同意我的说法！</p><hr><p>利用Java找工作，需要的就是项目经验，项目经验就是理解项目开发的基本过程，理解项目的分析方法，理解项目的设计思路，理解项目的实现技巧，理解项目的测试方法，理解项目中各种问题的解决方案。</p><hr><p>码农只是复制粘贴，并不注重原理，说不出所以然，所以做了几年还只能是码农。</p><p>加油，共勉！</p><!-- rebuild by neat -->"},{"title":"maven环境搭建","keywords":["maven环境搭建","maven阿里云","maven镜像","maven mirror"],"date":"2017-02-14T03:43:45.000Z","_content":"一、环境的配置\n---\n1. 下载maven：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">http://maven.apache.org/download.cgi</a>\n2. 解压到相关目录\n3. 配置环境变量：计算机---系统属性---高级系统设置---环境变量\n4. 系统变量新建：M2_HOME 变量值：C:\\tool\\JAVA\\apache-maven-3.3.9\n5. path中添加：%M2_HOME%\\bin; (注意看看前面有没有分号隔开，没有添上)\n6. 启动cmd，输入mvm -v可以查看版本\n```\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: C:\\tool\\JAVA\\apache-maven-3.3.9\nJava version: 1.7.0_51, vendor: Oracle Corporation\nJava home: C:\\hisenwork\\Java\\jdk1.7.0_51\\jre\nDefault locale: zh_CN, platform encoding: GBK\nOS name: \"windows 8\", version: \"6.2\", arch: \"amd64\", family: \"windows\"\n```\n\n二、自定义设置(优化)\n---\n\n1.自定义下载目录，修改配置文件\n```\nC:\\hisenwork\\soft\\maven-3.3.9\\conf\\settings.xml\n```\n**C:\\hisenwork\\soft\\maven-3.3.9**为你解压的maven路径\n\n---\n\n**ps：**如果不想自己设置，我有现成的settings.xml，直接复制粘贴，覆盖原来的即可\n现成的settings.xml内容我放在底部\n<!--more-->\n搜索：localRepository\n\n在注释外添加以下代码，以后下载maven相关文件就会在这\n```\n<!--自定义存放目录-->\n  <localRepository>C:\\hisenwork\\soft\\maven\n</localRepository>\n```\n2.自定义镜像(推荐阿里云，速度飞快)\n\n搜索：mirrors\n\n在里面添加：\n```\n<!--阿里云-->\n<mirror>\n\t<id>nexus-aliyun</id>\n\t<mirrorOf>*</mirrorOf>\n\t<name>Nexus aliyun</name>\n\t<url>http://maven.aliyun.com/nexus/content/groups/public</url>\n</mirror> \n```\n\n3.运行命令初始化maven\n```\nmvn  help:system\n```\n然后你会看到命令行飞快的移动，在你刚刚设置的目录下会出现很多东西\n\n类似于这样\n```\n$ mvn  help:system\n[INFO] Scanning for projects...\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom (4 KB at 1.8 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom (13 KB at 15.9 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom (26 KB at 15.5 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom (15 KB at 19.3 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar (25 KB at 30.6 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom (7 KB at 5.5 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom (9 KB at 8.2 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom (30 KB at 7.9 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom (15 KB at 12.8 KB/sec)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 49.223 s\n[INFO] Finished at: 2017-02-14T13:09:33+08:00\n[INFO] Final Memory: 11M/152M\n[INFO] ------------------------------------------------------------------------\n```\n\n三、maven相关命令\n---\n\n创建 Maven 项目\n```\nmvn archetype:create\n```\n编译源代码（编译到target文件夹中）\n```\nmvn compile\n```\n编译测试代码\n```\nmvn test-compile\n```\n运行应用程序中的单元测试\n```\nmvn test\n```\n生成项目相关信息的网站\n```\nmvn site\n```\n清除目标目录中的生成结果（把默认target文件夹中的数据清理）\n```\nmvn clean\n```\n项目打包\n```\nmvn package\n```\n将打包好的包安装到本地仓库中，以使其塔项目能够调用\n```\nmvn install\n```\n生成 Eclipse 项目文件\n```\nmvn eclipse:eclipse\n```\n忽略测试文档编译\n```\nmvn -Dmaven.test.skip=true\n```\n部署到私有服务器\n```\ncargo:deploy\n```\n\n四、settings.xml\n---\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\nauthor：HiSEN\nwebsite：http://hisen.me\n-->\n<!--\nLicensed to the Apache Software Foundation (ASF) under one\nor more contributor license agreements.  See the NOTICE file\ndistributed with this work for additional information\nregarding copyright ownership.  The ASF licenses this file\nto you under the Apache License, Version 2.0 (the\n\"License\"); you may not use this file except in compliance\nwith the License.  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing,\nsoftware distributed under the License is distributed on an\n\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, either express or implied.  See the License for the\nspecific language governing permissions and limitations\nunder the License.\n-->\n\n<!--\n | This is the configuration file for Maven. It can be specified at two levels:\n |\n |  1. User Level. This settings.xml file provides configuration for a single user,\n |                 and is normally provided in ${user.home}/.m2/settings.xml.\n |\n |                 NOTE: This location can be overridden with the CLI option:\n |\n |                 -s /path/to/user/settings.xml\n |\n |  2. Global Level. This settings.xml file provides configuration for all Maven\n |                 users on a machine (assuming they're all using the same Maven\n |                 installation). It's normally provided in\n |                 ${maven.home}/conf/settings.xml.\n |\n |                 NOTE: This location can be overridden with the CLI option:\n |\n |                 -gs /path/to/global/settings.xml\n |\n | The sections in this sample file are intended to give you a running start at\n | getting the most out of your Maven installation. Where appropriate, the default\n | values (values used when the setting is not specified) are provided.\n |\n |-->\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\">\n  <!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  <localRepository>/path/to/local/repo</localRepository>\n  -->\n  <!--自定义存放目录-->\n  <localRepository>C:\\hisenwork\\soft\\maven\n  </localRepository>\n\n  <!-- interactiveMode\n   | This will determine whether maven prompts you when it needs input. If set to false,\n   | maven will use a sensible default value, perhaps based on some other setting, for\n   | the parameter in question.\n   |\n   | Default: true\n  <interactiveMode>true</interactiveMode>\n  -->\n\n  <!-- offline\n   | Determines whether maven should attempt to connect to the network when executing a build.\n   | This will have an effect on artifact downloads, artifact deployment, and others.\n   |\n   | Default: false\n  <offline>false</offline>\n  -->\n\n  <!-- pluginGroups\n   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.\n   | when invoking a command line like \"mvn prefix:goal\". Maven will automatically add the group identifiers\n   | \"org.apache.maven.plugins\" and \"org.codehaus.mojo\" if these are not already contained in the list.\n   |-->\n  <pluginGroups>\n    <!-- pluginGroup\n     | Specifies a further group identifier to use for plugin lookup.\n    <pluginGroup>com.your.plugins</pluginGroup>\n    -->\n  </pluginGroups>\n\n  <!-- proxies\n   | This is a list of proxies which can be used on this machine to connect to the network.\n   | Unless otherwise specified (by system property or command-line switch), the first proxy\n   | specification in this list marked as active will be used.\n   |-->\n  <proxies>\n    <!-- proxy\n     | Specification for one proxy, to be used in connecting to the network.\n     |\n    <proxy>\n      <id>optional</id>\n      <active>true</active>\n      <protocol>http</protocol>\n      <username>proxyuser</username>\n      <password>proxypass</password>\n      <host>proxy.host.net</host>\n      <port>80</port>\n      <nonProxyHosts>local.net|some.host.com</nonProxyHosts>\n    </proxy>\n    -->\n  </proxies>\n\n  <!-- servers\n   | This is a list of authentication profiles, keyed by the server-id used within the system.\n   | Authentication profiles can be used whenever maven must make a connection to a remote server.\n   |-->\n  <servers>\n    <!-- server\n     | Specifies the authentication information to use when connecting to a particular server, identified by\n     | a unique name within the system (referred to by the 'id' attribute below).\n     |\n     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are\n     |       used together.\n     |\n    <server>\n      <id>deploymentRepo</id>\n      <username>repouser</username>\n      <password>repopwd</password>\n    </server>\n    -->\n\n    <!-- Another sample, using keys to authenticate.\n    <server>\n      <id>siteServer</id>\n      <privateKey>/path/to/private/key</privateKey>\n      <passphrase>optional; leave empty if not used.</passphrase>\n    </server>\n    -->\n  </servers>\n\n  <!-- mirrors\n   | This is a list of mirrors to be used in downloading artifacts from remote repositories.\n   |\n   | It works like this: a POM may declare a repository to use in resolving certain artifacts.\n   | However, this repository may have problems with heavy traffic at times, so people have mirrored\n   | it to several places.\n   |\n   | That repository definition will have a unique id, so we can create a mirror reference for that\n   | repository, to be used as an alternate download site. The mirror site will be the preferred\n   | server for that repository.\n   |-->\n  <mirrors>\n    <!-- mirror\n     | Specifies a repository mirror site to use instead of a given repository. The repository that\n     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n     |\n    <mirror>\n      <id>mirrorId</id>\n      <mirrorOf>repositoryId</mirrorOf>\n      <name>Human Readable Name for this Mirror.</name>\n      <url>http://my.repository.com/repo/path</url>\n    </mirror>\n     -->\n\t<!--阿里云-->\n\t<mirror>\n\t\t<id>nexus-aliyun</id>\n\t\t<mirrorOf>*</mirrorOf>\n\t\t<name>Nexus aliyun</name>\n\t\t<url>http://maven.aliyun.com/nexus/content/groups/public</url>\n\t</mirror> \n  </mirrors>\n\n  <!-- profiles\n   | This is a list of profiles which can be activated in a variety of ways, and which can modify\n   | the build process. Profiles provided in the settings.xml are intended to provide local machine-\n   | specific paths and repository locations which allow the build to work in the local environment.\n   |\n   | For example, if you have an integration testing plugin - like cactus - that needs to know where\n   | your Tomcat instance is installed, you can provide a variable here such that the variable is\n   | dereferenced during the build process to configure the cactus plugin.\n   |\n   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles\n   | section of this document (settings.xml) - will be discussed later. Another way essentially\n   | relies on the detection of a system property, either matching a particular value for the property,\n   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a\n   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.\n   | Finally, the list of active profiles can be specified directly from the command line.\n   |\n   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact\n   |       repositories, plugin repositories, and free-form properties to be used as configuration\n   |       variables for plugins in the POM.\n   |\n   |-->\n  <profiles>\n    <!-- profile\n     | Specifies a set of introductions to the build process, to be activated using one or more of the\n     | mechanisms described above. For inheritance purposes, and to activate profiles via <activatedProfiles/>\n     | or the command line, profiles have to have an ID that is unique.\n     |\n     | An encouraged best practice for profile identification is to use a consistent naming convention\n     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.\n     | This will make it more intuitive to understand what the set of introduced profiles is attempting\n     | to accomplish, particularly when you only have a list of profile id's for debug.\n     |\n     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.\n    <profile>\n      <id>jdk-1.4</id>\n\n      <activation>\n        <jdk>1.4</jdk>\n      </activation>\n\n      <repositories>\n        <repository>\n          <id>jdk14</id>\n          <name>Repository for JDK 1.4 builds</name>\n          <url>http://www.myhost.com/maven/jdk14</url>\n          <layout>default</layout>\n          <snapshotPolicy>always</snapshotPolicy>\n        </repository>\n      </repositories>\n    </profile>\n    -->\n\n    <!--\n     | Here is another profile, activated by the system property 'target-env' with a value of 'dev',\n     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration\n     | might hypothetically look like:\n     |\n     | ...\n     | <plugin>\n     |   <groupId>org.myco.myplugins</groupId>\n     |   <artifactId>myplugin</artifactId>\n     |\n     |   <configuration>\n     |     <tomcatLocation>${tomcatPath}</tomcatLocation>\n     |   </configuration>\n     | </plugin>\n     | ...\n     |\n     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to\n     |       anything, you could just leave off the <value/> inside the activation-property.\n     |\n    <profile>\n      <id>env-dev</id>\n\n      <activation>\n        <property>\n          <name>target-env</name>\n          <value>dev</value>\n        </property>\n      </activation>\n\n      <properties>\n        <tomcatPath>/path/to/tomcat/instance</tomcatPath>\n      </properties>\n    </profile>\n    -->\n  </profiles>\n\n  <!-- activeProfiles\n   | List of profiles that are active for all builds.\n   |\n  <activeProfiles>\n    <activeProfile>alwaysActiveProfile</activeProfile>\n    <activeProfile>anotherAlwaysActiveProfile</activeProfile>\n  </activeProfiles>\n  -->\n</settings>\n```","source":"_posts/maven环境搭建.md","raw":"---\ntitle: maven环境搭建\nkeywords: [maven环境搭建,maven阿里云,maven镜像,maven mirror]\ntags: [java,maven]\ndate: 2017-02-14 11:43:45\ncategories: java\n---\n一、环境的配置\n---\n1. 下载maven：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">http://maven.apache.org/download.cgi</a>\n2. 解压到相关目录\n3. 配置环境变量：计算机---系统属性---高级系统设置---环境变量\n4. 系统变量新建：M2_HOME 变量值：C:\\tool\\JAVA\\apache-maven-3.3.9\n5. path中添加：%M2_HOME%\\bin; (注意看看前面有没有分号隔开，没有添上)\n6. 启动cmd，输入mvm -v可以查看版本\n```\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: C:\\tool\\JAVA\\apache-maven-3.3.9\nJava version: 1.7.0_51, vendor: Oracle Corporation\nJava home: C:\\hisenwork\\Java\\jdk1.7.0_51\\jre\nDefault locale: zh_CN, platform encoding: GBK\nOS name: \"windows 8\", version: \"6.2\", arch: \"amd64\", family: \"windows\"\n```\n\n二、自定义设置(优化)\n---\n\n1.自定义下载目录，修改配置文件\n```\nC:\\hisenwork\\soft\\maven-3.3.9\\conf\\settings.xml\n```\n**C:\\hisenwork\\soft\\maven-3.3.9**为你解压的maven路径\n\n---\n\n**ps：**如果不想自己设置，我有现成的settings.xml，直接复制粘贴，覆盖原来的即可\n现成的settings.xml内容我放在底部\n<!--more-->\n搜索：localRepository\n\n在注释外添加以下代码，以后下载maven相关文件就会在这\n```\n<!--自定义存放目录-->\n  <localRepository>C:\\hisenwork\\soft\\maven\n</localRepository>\n```\n2.自定义镜像(推荐阿里云，速度飞快)\n\n搜索：mirrors\n\n在里面添加：\n```\n<!--阿里云-->\n<mirror>\n\t<id>nexus-aliyun</id>\n\t<mirrorOf>*</mirrorOf>\n\t<name>Nexus aliyun</name>\n\t<url>http://maven.aliyun.com/nexus/content/groups/public</url>\n</mirror> \n```\n\n3.运行命令初始化maven\n```\nmvn  help:system\n```\n然后你会看到命令行飞快的移动，在你刚刚设置的目录下会出现很多东西\n\n类似于这样\n```\n$ mvn  help:system\n[INFO] Scanning for projects...\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom (4 KB at 1.8 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom (13 KB at 15.9 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom (26 KB at 15.5 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom (15 KB at 19.3 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar (25 KB at 30.6 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom (7 KB at 5.5 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom (9 KB at 8.2 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom (30 KB at 7.9 KB/sec)\nDownloading: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom\nDownloaded: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom (15 KB at 12.8 KB/sec)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 49.223 s\n[INFO] Finished at: 2017-02-14T13:09:33+08:00\n[INFO] Final Memory: 11M/152M\n[INFO] ------------------------------------------------------------------------\n```\n\n三、maven相关命令\n---\n\n创建 Maven 项目\n```\nmvn archetype:create\n```\n编译源代码（编译到target文件夹中）\n```\nmvn compile\n```\n编译测试代码\n```\nmvn test-compile\n```\n运行应用程序中的单元测试\n```\nmvn test\n```\n生成项目相关信息的网站\n```\nmvn site\n```\n清除目标目录中的生成结果（把默认target文件夹中的数据清理）\n```\nmvn clean\n```\n项目打包\n```\nmvn package\n```\n将打包好的包安装到本地仓库中，以使其塔项目能够调用\n```\nmvn install\n```\n生成 Eclipse 项目文件\n```\nmvn eclipse:eclipse\n```\n忽略测试文档编译\n```\nmvn -Dmaven.test.skip=true\n```\n部署到私有服务器\n```\ncargo:deploy\n```\n\n四、settings.xml\n---\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\nauthor：HiSEN\nwebsite：http://hisen.me\n-->\n<!--\nLicensed to the Apache Software Foundation (ASF) under one\nor more contributor license agreements.  See the NOTICE file\ndistributed with this work for additional information\nregarding copyright ownership.  The ASF licenses this file\nto you under the Apache License, Version 2.0 (the\n\"License\"); you may not use this file except in compliance\nwith the License.  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing,\nsoftware distributed under the License is distributed on an\n\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, either express or implied.  See the License for the\nspecific language governing permissions and limitations\nunder the License.\n-->\n\n<!--\n | This is the configuration file for Maven. It can be specified at two levels:\n |\n |  1. User Level. This settings.xml file provides configuration for a single user,\n |                 and is normally provided in ${user.home}/.m2/settings.xml.\n |\n |                 NOTE: This location can be overridden with the CLI option:\n |\n |                 -s /path/to/user/settings.xml\n |\n |  2. Global Level. This settings.xml file provides configuration for all Maven\n |                 users on a machine (assuming they're all using the same Maven\n |                 installation). It's normally provided in\n |                 ${maven.home}/conf/settings.xml.\n |\n |                 NOTE: This location can be overridden with the CLI option:\n |\n |                 -gs /path/to/global/settings.xml\n |\n | The sections in this sample file are intended to give you a running start at\n | getting the most out of your Maven installation. Where appropriate, the default\n | values (values used when the setting is not specified) are provided.\n |\n |-->\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\">\n  <!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  <localRepository>/path/to/local/repo</localRepository>\n  -->\n  <!--自定义存放目录-->\n  <localRepository>C:\\hisenwork\\soft\\maven\n  </localRepository>\n\n  <!-- interactiveMode\n   | This will determine whether maven prompts you when it needs input. If set to false,\n   | maven will use a sensible default value, perhaps based on some other setting, for\n   | the parameter in question.\n   |\n   | Default: true\n  <interactiveMode>true</interactiveMode>\n  -->\n\n  <!-- offline\n   | Determines whether maven should attempt to connect to the network when executing a build.\n   | This will have an effect on artifact downloads, artifact deployment, and others.\n   |\n   | Default: false\n  <offline>false</offline>\n  -->\n\n  <!-- pluginGroups\n   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.\n   | when invoking a command line like \"mvn prefix:goal\". Maven will automatically add the group identifiers\n   | \"org.apache.maven.plugins\" and \"org.codehaus.mojo\" if these are not already contained in the list.\n   |-->\n  <pluginGroups>\n    <!-- pluginGroup\n     | Specifies a further group identifier to use for plugin lookup.\n    <pluginGroup>com.your.plugins</pluginGroup>\n    -->\n  </pluginGroups>\n\n  <!-- proxies\n   | This is a list of proxies which can be used on this machine to connect to the network.\n   | Unless otherwise specified (by system property or command-line switch), the first proxy\n   | specification in this list marked as active will be used.\n   |-->\n  <proxies>\n    <!-- proxy\n     | Specification for one proxy, to be used in connecting to the network.\n     |\n    <proxy>\n      <id>optional</id>\n      <active>true</active>\n      <protocol>http</protocol>\n      <username>proxyuser</username>\n      <password>proxypass</password>\n      <host>proxy.host.net</host>\n      <port>80</port>\n      <nonProxyHosts>local.net|some.host.com</nonProxyHosts>\n    </proxy>\n    -->\n  </proxies>\n\n  <!-- servers\n   | This is a list of authentication profiles, keyed by the server-id used within the system.\n   | Authentication profiles can be used whenever maven must make a connection to a remote server.\n   |-->\n  <servers>\n    <!-- server\n     | Specifies the authentication information to use when connecting to a particular server, identified by\n     | a unique name within the system (referred to by the 'id' attribute below).\n     |\n     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are\n     |       used together.\n     |\n    <server>\n      <id>deploymentRepo</id>\n      <username>repouser</username>\n      <password>repopwd</password>\n    </server>\n    -->\n\n    <!-- Another sample, using keys to authenticate.\n    <server>\n      <id>siteServer</id>\n      <privateKey>/path/to/private/key</privateKey>\n      <passphrase>optional; leave empty if not used.</passphrase>\n    </server>\n    -->\n  </servers>\n\n  <!-- mirrors\n   | This is a list of mirrors to be used in downloading artifacts from remote repositories.\n   |\n   | It works like this: a POM may declare a repository to use in resolving certain artifacts.\n   | However, this repository may have problems with heavy traffic at times, so people have mirrored\n   | it to several places.\n   |\n   | That repository definition will have a unique id, so we can create a mirror reference for that\n   | repository, to be used as an alternate download site. The mirror site will be the preferred\n   | server for that repository.\n   |-->\n  <mirrors>\n    <!-- mirror\n     | Specifies a repository mirror site to use instead of a given repository. The repository that\n     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n     |\n    <mirror>\n      <id>mirrorId</id>\n      <mirrorOf>repositoryId</mirrorOf>\n      <name>Human Readable Name for this Mirror.</name>\n      <url>http://my.repository.com/repo/path</url>\n    </mirror>\n     -->\n\t<!--阿里云-->\n\t<mirror>\n\t\t<id>nexus-aliyun</id>\n\t\t<mirrorOf>*</mirrorOf>\n\t\t<name>Nexus aliyun</name>\n\t\t<url>http://maven.aliyun.com/nexus/content/groups/public</url>\n\t</mirror> \n  </mirrors>\n\n  <!-- profiles\n   | This is a list of profiles which can be activated in a variety of ways, and which can modify\n   | the build process. Profiles provided in the settings.xml are intended to provide local machine-\n   | specific paths and repository locations which allow the build to work in the local environment.\n   |\n   | For example, if you have an integration testing plugin - like cactus - that needs to know where\n   | your Tomcat instance is installed, you can provide a variable here such that the variable is\n   | dereferenced during the build process to configure the cactus plugin.\n   |\n   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles\n   | section of this document (settings.xml) - will be discussed later. Another way essentially\n   | relies on the detection of a system property, either matching a particular value for the property,\n   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a\n   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.\n   | Finally, the list of active profiles can be specified directly from the command line.\n   |\n   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact\n   |       repositories, plugin repositories, and free-form properties to be used as configuration\n   |       variables for plugins in the POM.\n   |\n   |-->\n  <profiles>\n    <!-- profile\n     | Specifies a set of introductions to the build process, to be activated using one or more of the\n     | mechanisms described above. For inheritance purposes, and to activate profiles via <activatedProfiles/>\n     | or the command line, profiles have to have an ID that is unique.\n     |\n     | An encouraged best practice for profile identification is to use a consistent naming convention\n     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.\n     | This will make it more intuitive to understand what the set of introduced profiles is attempting\n     | to accomplish, particularly when you only have a list of profile id's for debug.\n     |\n     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.\n    <profile>\n      <id>jdk-1.4</id>\n\n      <activation>\n        <jdk>1.4</jdk>\n      </activation>\n\n      <repositories>\n        <repository>\n          <id>jdk14</id>\n          <name>Repository for JDK 1.4 builds</name>\n          <url>http://www.myhost.com/maven/jdk14</url>\n          <layout>default</layout>\n          <snapshotPolicy>always</snapshotPolicy>\n        </repository>\n      </repositories>\n    </profile>\n    -->\n\n    <!--\n     | Here is another profile, activated by the system property 'target-env' with a value of 'dev',\n     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration\n     | might hypothetically look like:\n     |\n     | ...\n     | <plugin>\n     |   <groupId>org.myco.myplugins</groupId>\n     |   <artifactId>myplugin</artifactId>\n     |\n     |   <configuration>\n     |     <tomcatLocation>${tomcatPath}</tomcatLocation>\n     |   </configuration>\n     | </plugin>\n     | ...\n     |\n     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to\n     |       anything, you could just leave off the <value/> inside the activation-property.\n     |\n    <profile>\n      <id>env-dev</id>\n\n      <activation>\n        <property>\n          <name>target-env</name>\n          <value>dev</value>\n        </property>\n      </activation>\n\n      <properties>\n        <tomcatPath>/path/to/tomcat/instance</tomcatPath>\n      </properties>\n    </profile>\n    -->\n  </profiles>\n\n  <!-- activeProfiles\n   | List of profiles that are active for all builds.\n   |\n  <activeProfiles>\n    <activeProfile>alwaysActiveProfile</activeProfile>\n    <activeProfile>anotherAlwaysActiveProfile</activeProfile>\n  </activeProfiles>\n  -->\n</settings>\n```","slug":"maven环境搭建","published":1,"updated":"2017-02-14T06:01:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdvd00hgolejmhdavq0e","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、环境的配置\"><a href=\"#一、环境的配置\" class=\"headerlink\" title=\"一、环境的配置\"></a>一、环境的配置</h2><ol><li>下载maven：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">http://maven.apache.org/download.cgi</a></li><li>解压到相关目录</li><li>配置环境变量：计算机—系统属性—高级系统设置—环境变量</li><li>系统变量新建：M2_HOME 变量值：C:\\tool\\JAVA\\apache-maven-3.3.9</li><li>path中添加：%M2_HOME%\\bin; (注意看看前面有没有分号隔开，没有添上)</li><li>启动cmd，输入mvm -v可以查看版本<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)</span><br><span class=\"line\">Maven home: C:\\tool\\JAVA\\apache-maven-3.3.9</span><br><span class=\"line\">Java version: 1.7.0_51, vendor: Oracle Corporation</span><br><span class=\"line\">Java home: C:\\hisenwork\\Java\\jdk1.7.0_51\\jre</span><br><span class=\"line\">Default locale: zh_CN, platform encoding: GBK</span><br><span class=\"line\">OS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;</span><br></pre></td></tr></table></figure></li></ol><h2 id=\"二、自定义设置-优化\"><a href=\"#二、自定义设置-优化\" class=\"headerlink\" title=\"二、自定义设置(优化)\"></a>二、自定义设置(优化)</h2><p>1.自定义下载目录，修改配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\hisenwork\\soft\\maven-3.3.9\\conf\\settings.xml</span><br></pre></td></tr></table></figure><p></p><p><strong>C:\\hisenwork\\soft\\maven-3.3.9</strong>为你解压的maven路径</p><hr><p><strong>ps：</strong>如果不想自己设置，我有现成的settings.xml，直接复制粘贴，覆盖原来的即可<br>现成的settings.xml内容我放在底部<br><a id=\"more\"></a><br>搜索：localRepository</p><p>在注释外添加以下代码，以后下载maven相关文件就会在这<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--自定义存放目录--&gt;</span><br><span class=\"line\">  &lt;localRepository&gt;C:\\hisenwork\\soft\\maven</span><br><span class=\"line\">&lt;/localRepository&gt;</span><br></pre></td></tr></table></figure><p></p><p>2.自定义镜像(推荐阿里云，速度飞快)</p><p>搜索：mirrors</p><p>在里面添加：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--阿里云--&gt;</span><br><span class=\"line\">&lt;mirror&gt;</span><br><span class=\"line\">\t&lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class=\"line\">\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class=\"line\">\t&lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class=\"line\">\t&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class=\"line\">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure><p></p><p>3.运行命令初始化maven<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn  help:system</span><br></pre></td></tr></table></figure><p></p><p>然后你会看到命令行飞快的移动，在你刚刚设置的目录下会出现很多东西</p><p>类似于这样<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mvn  help:system</span><br><span class=\"line\">[INFO] Scanning for projects...</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom (4 KB at 1.8 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom (13 KB at 15.9 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom (26 KB at 15.5 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom (15 KB at 19.3 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar (25 KB at 30.6 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom (7 KB at 5.5 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom (9 KB at 8.2 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom (30 KB at 7.9 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom (15 KB at 12.8 KB/sec)</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] BUILD SUCCESS</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] Total time: 49.223 s</span><br><span class=\"line\">[INFO] Finished at: 2017-02-14T13:09:33+08:00</span><br><span class=\"line\">[INFO] Final Memory: 11M/152M</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、maven相关命令\"><a href=\"#三、maven相关命令\" class=\"headerlink\" title=\"三、maven相关命令\"></a>三、maven相关命令</h2><p>创建 Maven 项目<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn archetype:create</span><br></pre></td></tr></table></figure><p></p><p>编译源代码（编译到target文件夹中）<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn compile</span><br></pre></td></tr></table></figure><p></p><p>编译测试代码<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn test-compile</span><br></pre></td></tr></table></figure><p></p><p>运行应用程序中的单元测试<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn test</span><br></pre></td></tr></table></figure><p></p><p>生成项目相关信息的网站<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn site</span><br></pre></td></tr></table></figure><p></p><p>清除目标目录中的生成结果（把默认target文件夹中的数据清理）<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn clean</span><br></pre></td></tr></table></figure><p></p><p>项目打包<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn package</span><br></pre></td></tr></table></figure><p></p><p>将打包好的包安装到本地仓库中，以使其塔项目能够调用<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn install</span><br></pre></td></tr></table></figure><p></p><p>生成 Eclipse 项目文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn eclipse:eclipse</span><br></pre></td></tr></table></figure><p></p><p>忽略测试文档编译<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure><p></p><p>部署到私有服务器<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo:deploy</span><br></pre></td></tr></table></figure><p></p><h2 id=\"四、settings-xml\"><a href=\"#四、settings-xml\" class=\"headerlink\" title=\"四、settings.xml\"></a>四、settings.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\">author：HiSEN</span><br><span class=\"line\">website：http://hisen.me</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\">Licensed to the Apache Software Foundation (ASF) under one</span><br><span class=\"line\">or more contributor license agreements.  See the NOTICE file</span><br><span class=\"line\">distributed with this work for additional information</span><br><span class=\"line\">regarding copyright ownership.  The ASF licenses this file</span><br><span class=\"line\">to you under the Apache License, Version 2.0 (the</span><br><span class=\"line\">&quot;License&quot;); you may not use this file except in compliance</span><br><span class=\"line\">with the License.  You may obtain a copy of the License at</span><br><span class=\"line\"></span><br><span class=\"line\">    http://www.apache.org/licenses/LICENSE-2.0</span><br><span class=\"line\"></span><br><span class=\"line\">Unless required by applicable law or agreed to in writing,</span><br><span class=\"line\">software distributed under the License is distributed on an</span><br><span class=\"line\">&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span><br><span class=\"line\">KIND, either express or implied.  See the License for the</span><br><span class=\"line\">specific language governing permissions and limitations</span><br><span class=\"line\">under the License.</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\"> | This is the configuration file for Maven. It can be specified at two levels:</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |  1. User Level. This settings.xml file provides configuration for a single user,</span><br><span class=\"line\"> |                 and is normally provided in $&#123;user.home&#125;/.m2/settings.xml.</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 NOTE: This location can be overridden with the CLI option:</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 -s /path/to/user/settings.xml</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |  2. Global Level. This settings.xml file provides configuration for all Maven</span><br><span class=\"line\"> |                 users on a machine (assuming they&apos;re all using the same Maven</span><br><span class=\"line\"> |                 installation). It&apos;s normally provided in</span><br><span class=\"line\"> |                 $&#123;maven.home&#125;/conf/settings.xml.</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 NOTE: This location can be overridden with the CLI option:</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 -gs /path/to/global/settings.xml</span><br><span class=\"line\"> |</span><br><span class=\"line\"> | The sections in this sample file are intended to give you a running start at</span><br><span class=\"line\"> | getting the most out of your Maven installation. Where appropriate, the default</span><br><span class=\"line\"> | values (values used when the setting is not specified) are provided.</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |--&gt;</span><br><span class=\"line\">&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span><br><span class=\"line\">          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class=\"line\">          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;</span><br><span class=\"line\">  &lt;!-- localRepository</span><br><span class=\"line\">   | The path to the local repository maven will use to store artifacts.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | Default: $&#123;user.home&#125;/.m2/repository</span><br><span class=\"line\">  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\">  &lt;!--自定义存放目录--&gt;</span><br><span class=\"line\">  &lt;localRepository&gt;C:\\hisenwork\\soft\\maven</span><br><span class=\"line\">  &lt;/localRepository&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- interactiveMode</span><br><span class=\"line\">   | This will determine whether maven prompts you when it needs input. If set to false,</span><br><span class=\"line\">   | maven will use a sensible default value, perhaps based on some other setting, for</span><br><span class=\"line\">   | the parameter in question.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | Default: true</span><br><span class=\"line\">  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- offline</span><br><span class=\"line\">   | Determines whether maven should attempt to connect to the network when executing a build.</span><br><span class=\"line\">   | This will have an effect on artifact downloads, artifact deployment, and others.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | Default: false</span><br><span class=\"line\">  &lt;offline&gt;false&lt;/offline&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- pluginGroups</span><br><span class=\"line\">   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</span><br><span class=\"line\">   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers</span><br><span class=\"line\">   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;pluginGroups&gt;</span><br><span class=\"line\">    &lt;!-- pluginGroup</span><br><span class=\"line\">     | Specifies a further group identifier to use for plugin lookup.</span><br><span class=\"line\">    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/pluginGroups&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- proxies</span><br><span class=\"line\">   | This is a list of proxies which can be used on this machine to connect to the network.</span><br><span class=\"line\">   | Unless otherwise specified (by system property or command-line switch), the first proxy</span><br><span class=\"line\">   | specification in this list marked as active will be used.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;proxies&gt;</span><br><span class=\"line\">    &lt;!-- proxy</span><br><span class=\"line\">     | Specification for one proxy, to be used in connecting to the network.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;proxy&gt;</span><br><span class=\"line\">      &lt;id&gt;optional&lt;/id&gt;</span><br><span class=\"line\">      &lt;active&gt;true&lt;/active&gt;</span><br><span class=\"line\">      &lt;protocol&gt;http&lt;/protocol&gt;</span><br><span class=\"line\">      &lt;username&gt;proxyuser&lt;/username&gt;</span><br><span class=\"line\">      &lt;password&gt;proxypass&lt;/password&gt;</span><br><span class=\"line\">      &lt;host&gt;proxy.host.net&lt;/host&gt;</span><br><span class=\"line\">      &lt;port&gt;80&lt;/port&gt;</span><br><span class=\"line\">      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;</span><br><span class=\"line\">    &lt;/proxy&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/proxies&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- servers</span><br><span class=\"line\">   | This is a list of authentication profiles, keyed by the server-id used within the system.</span><br><span class=\"line\">   | Authentication profiles can be used whenever maven must make a connection to a remote server.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;servers&gt;</span><br><span class=\"line\">    &lt;!-- server</span><br><span class=\"line\">     | Specifies the authentication information to use when connecting to a particular server, identified by</span><br><span class=\"line\">     | a unique name within the system (referred to by the &apos;id&apos; attribute below).</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are</span><br><span class=\"line\">     |       used together.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;server&gt;</span><br><span class=\"line\">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span><br><span class=\"line\">      &lt;username&gt;repouser&lt;/username&gt;</span><br><span class=\"line\">      &lt;password&gt;repopwd&lt;/password&gt;</span><br><span class=\"line\">    &lt;/server&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Another sample, using keys to authenticate.</span><br><span class=\"line\">    &lt;server&gt;</span><br><span class=\"line\">      &lt;id&gt;siteServer&lt;/id&gt;</span><br><span class=\"line\">      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</span><br><span class=\"line\">      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</span><br><span class=\"line\">    &lt;/server&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/servers&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- mirrors</span><br><span class=\"line\">   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</span><br><span class=\"line\">   | However, this repository may have problems with heavy traffic at times, so people have mirrored</span><br><span class=\"line\">   | it to several places.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | That repository definition will have a unique id, so we can create a mirror reference for that</span><br><span class=\"line\">   | repository, to be used as an alternate download site. The mirror site will be the preferred</span><br><span class=\"line\">   | server for that repository.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;mirrors&gt;</span><br><span class=\"line\">    &lt;!-- mirror</span><br><span class=\"line\">     | Specifies a repository mirror site to use instead of a given repository. The repository that</span><br><span class=\"line\">     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span><br><span class=\"line\">     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;mirror&gt;</span><br><span class=\"line\">      &lt;id&gt;mirrorId&lt;/id&gt;</span><br><span class=\"line\">      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span><br><span class=\"line\">      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</span><br><span class=\"line\">      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span><br><span class=\"line\">    &lt;/mirror&gt;</span><br><span class=\"line\">     --&gt;</span><br><span class=\"line\">\t&lt;!--阿里云--&gt;</span><br><span class=\"line\">\t&lt;mirror&gt;</span><br><span class=\"line\">\t\t&lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class=\"line\">\t\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class=\"line\">\t\t&lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class=\"line\">\t\t&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class=\"line\">\t&lt;/mirror&gt; </span><br><span class=\"line\">  &lt;/mirrors&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- profiles</span><br><span class=\"line\">   | This is a list of profiles which can be activated in a variety of ways, and which can modify</span><br><span class=\"line\">   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</span><br><span class=\"line\">   | specific paths and repository locations which allow the build to work in the local environment.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | For example, if you have an integration testing plugin - like cactus - that needs to know where</span><br><span class=\"line\">   | your Tomcat instance is installed, you can provide a variable here such that the variable is</span><br><span class=\"line\">   | dereferenced during the build process to configure the cactus plugin.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</span><br><span class=\"line\">   | section of this document (settings.xml) - will be discussed later. Another way essentially</span><br><span class=\"line\">   | relies on the detection of a system property, either matching a particular value for the property,</span><br><span class=\"line\">   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</span><br><span class=\"line\">   | value of &apos;1.4&apos; might activate a profile when the build is executed on a JDK version of &apos;1.4.2_07&apos;.</span><br><span class=\"line\">   | Finally, the list of active profiles can be specified directly from the command line.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact</span><br><span class=\"line\">   |       repositories, plugin repositories, and free-form properties to be used as configuration</span><br><span class=\"line\">   |       variables for plugins in the POM.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;profiles&gt;</span><br><span class=\"line\">    &lt;!-- profile</span><br><span class=\"line\">     | Specifies a set of introductions to the build process, to be activated using one or more of the</span><br><span class=\"line\">     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;</span><br><span class=\"line\">     | or the command line, profiles have to have an ID that is unique.</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | An encouraged best practice for profile identification is to use a consistent naming convention</span><br><span class=\"line\">     | for profiles, such as &apos;env-dev&apos;, &apos;env-test&apos;, &apos;env-production&apos;, &apos;user-jdcasey&apos;, &apos;user-brett&apos;, etc.</span><br><span class=\"line\">     | This will make it more intuitive to understand what the set of introduced profiles is attempting</span><br><span class=\"line\">     | to accomplish, particularly when you only have a list of profile id&apos;s for debug.</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</span><br><span class=\"line\">    &lt;profile&gt;</span><br><span class=\"line\">      &lt;id&gt;jdk-1.4&lt;/id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;activation&gt;</span><br><span class=\"line\">        &lt;jdk&gt;1.4&lt;/jdk&gt;</span><br><span class=\"line\">      &lt;/activation&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;repositories&gt;</span><br><span class=\"line\">        &lt;repository&gt;</span><br><span class=\"line\">          &lt;id&gt;jdk14&lt;/id&gt;</span><br><span class=\"line\">          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;</span><br><span class=\"line\">          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;</span><br><span class=\"line\">          &lt;layout&gt;default&lt;/layout&gt;</span><br><span class=\"line\">          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;</span><br><span class=\"line\">        &lt;/repository&gt;</span><br><span class=\"line\">      &lt;/repositories&gt;</span><br><span class=\"line\">    &lt;/profile&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">     | Here is another profile, activated by the system property &apos;target-env&apos; with a value of &apos;dev&apos;,</span><br><span class=\"line\">     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration</span><br><span class=\"line\">     | might hypothetically look like:</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | ...</span><br><span class=\"line\">     | &lt;plugin&gt;</span><br><span class=\"line\">     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;</span><br><span class=\"line\">     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;</span><br><span class=\"line\">     |</span><br><span class=\"line\">     |   &lt;configuration&gt;</span><br><span class=\"line\">     |     &lt;tomcatLocation&gt;$&#123;tomcatPath&#125;&lt;/tomcatLocation&gt;</span><br><span class=\"line\">     |   &lt;/configuration&gt;</span><br><span class=\"line\">     | &lt;/plugin&gt;</span><br><span class=\"line\">     | ...</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | NOTE: If you just wanted to inject this configuration whenever someone set &apos;target-env&apos; to</span><br><span class=\"line\">     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;profile&gt;</span><br><span class=\"line\">      &lt;id&gt;env-dev&lt;/id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;activation&gt;</span><br><span class=\"line\">        &lt;property&gt;</span><br><span class=\"line\">          &lt;name&gt;target-env&lt;/name&gt;</span><br><span class=\"line\">          &lt;value&gt;dev&lt;/value&gt;</span><br><span class=\"line\">        &lt;/property&gt;</span><br><span class=\"line\">      &lt;/activation&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;properties&gt;</span><br><span class=\"line\">        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;</span><br><span class=\"line\">      &lt;/properties&gt;</span><br><span class=\"line\">    &lt;/profile&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/profiles&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- activeProfiles</span><br><span class=\"line\">   | List of profiles that are active for all builds.</span><br><span class=\"line\">   |</span><br><span class=\"line\">  &lt;activeProfiles&gt;</span><br><span class=\"line\">    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</span><br><span class=\"line\">    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;</span><br><span class=\"line\">  &lt;/activeProfiles&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\">&lt;/settings&gt;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"一、环境的配置\"><a href=\"#一、环境的配置\" class=\"headerlink\" title=\"一、环境的配置\"></a>一、环境的配置</h2><ol><li>下载maven：<a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\">http://maven.apache.org/download.cgi</a></li><li>解压到相关目录</li><li>配置环境变量：计算机—系统属性—高级系统设置—环境变量</li><li>系统变量新建：M2_HOME 变量值：C:\\tool\\JAVA\\apache-maven-3.3.9</li><li>path中添加：%M2_HOME%\\bin; (注意看看前面有没有分号隔开，没有添上)</li><li>启动cmd，输入mvm -v可以查看版本<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)</span><br><span class=\"line\">Maven home: C:\\tool\\JAVA\\apache-maven-3.3.9</span><br><span class=\"line\">Java version: 1.7.0_51, vendor: Oracle Corporation</span><br><span class=\"line\">Java home: C:\\hisenwork\\Java\\jdk1.7.0_51\\jre</span><br><span class=\"line\">Default locale: zh_CN, platform encoding: GBK</span><br><span class=\"line\">OS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;</span><br></pre></td></tr></table></figure></li></ol><h2 id=\"二、自定义设置-优化\"><a href=\"#二、自定义设置-优化\" class=\"headerlink\" title=\"二、自定义设置(优化)\"></a>二、自定义设置(优化)</h2><p>1.自定义下载目录，修改配置文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\hisenwork\\soft\\maven-3.3.9\\conf\\settings.xml</span><br></pre></td></tr></table></figure><p></p><p><strong>C:\\hisenwork\\soft\\maven-3.3.9</strong>为你解压的maven路径</p><hr><p><strong>ps：</strong>如果不想自己设置，我有现成的settings.xml，直接复制粘贴，覆盖原来的即可<br>现成的settings.xml内容我放在底部<br>","more":"<br>搜索：localRepository</p><p>在注释外添加以下代码，以后下载maven相关文件就会在这<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--自定义存放目录--&gt;</span><br><span class=\"line\">  &lt;localRepository&gt;C:\\hisenwork\\soft\\maven</span><br><span class=\"line\">&lt;/localRepository&gt;</span><br></pre></td></tr></table></figure><p></p><p>2.自定义镜像(推荐阿里云，速度飞快)</p><p>搜索：mirrors</p><p>在里面添加：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--阿里云--&gt;</span><br><span class=\"line\">&lt;mirror&gt;</span><br><span class=\"line\">\t&lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class=\"line\">\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class=\"line\">\t&lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class=\"line\">\t&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class=\"line\">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure><p></p><p>3.运行命令初始化maven<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn  help:system</span><br></pre></td></tr></table></figure><p></p><p>然后你会看到命令行飞快的移动，在你刚刚设置的目录下会出现很多东西</p><p>类似于这样<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mvn  help:system</span><br><span class=\"line\">[INFO] Scanning for projects...</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom (4 KB at 1.8 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/22/maven-plugins-22.pom (13 KB at 15.9 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/21/maven-parent-21.pom (26 KB at 15.5 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/apache/10/apache-10.pom (15 KB at 19.3 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.jar (25 KB at 30.6 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom (7 KB at 5.5 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-plugins/23/maven-plugins-23.pom (9 KB at 8.2 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/22/maven-parent-22.pom (30 KB at 7.9 KB/sec)</span><br><span class=\"line\">Downloading: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom</span><br><span class=\"line\">Downloaded: https://repo.maven.apache.org/maven2/org/apache/apache/11/apache-11.pom (15 KB at 12.8 KB/sec)</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] BUILD SUCCESS</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br><span class=\"line\">[INFO] Total time: 49.223 s</span><br><span class=\"line\">[INFO] Finished at: 2017-02-14T13:09:33+08:00</span><br><span class=\"line\">[INFO] Final Memory: 11M/152M</span><br><span class=\"line\">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure><p></p><h2 id=\"三、maven相关命令\"><a href=\"#三、maven相关命令\" class=\"headerlink\" title=\"三、maven相关命令\"></a>三、maven相关命令</h2><p>创建 Maven 项目<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn archetype:create</span><br></pre></td></tr></table></figure><p></p><p>编译源代码（编译到target文件夹中）<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn compile</span><br></pre></td></tr></table></figure><p></p><p>编译测试代码<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn test-compile</span><br></pre></td></tr></table></figure><p></p><p>运行应用程序中的单元测试<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn test</span><br></pre></td></tr></table></figure><p></p><p>生成项目相关信息的网站<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn site</span><br></pre></td></tr></table></figure><p></p><p>清除目标目录中的生成结果（把默认target文件夹中的数据清理）<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn clean</span><br></pre></td></tr></table></figure><p></p><p>项目打包<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn package</span><br></pre></td></tr></table></figure><p></p><p>将打包好的包安装到本地仓库中，以使其塔项目能够调用<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn install</span><br></pre></td></tr></table></figure><p></p><p>生成 Eclipse 项目文件<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn eclipse:eclipse</span><br></pre></td></tr></table></figure><p></p><p>忽略测试文档编译<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure><p></p><p>部署到私有服务器<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cargo:deploy</span><br></pre></td></tr></table></figure><p></p><h2 id=\"四、settings-xml\"><a href=\"#四、settings-xml\" class=\"headerlink\" title=\"四、settings.xml\"></a>四、settings.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\">author：HiSEN</span><br><span class=\"line\">website：http://hisen.me</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\">Licensed to the Apache Software Foundation (ASF) under one</span><br><span class=\"line\">or more contributor license agreements.  See the NOTICE file</span><br><span class=\"line\">distributed with this work for additional information</span><br><span class=\"line\">regarding copyright ownership.  The ASF licenses this file</span><br><span class=\"line\">to you under the Apache License, Version 2.0 (the</span><br><span class=\"line\">&quot;License&quot;); you may not use this file except in compliance</span><br><span class=\"line\">with the License.  You may obtain a copy of the License at</span><br><span class=\"line\"></span><br><span class=\"line\">    http://www.apache.org/licenses/LICENSE-2.0</span><br><span class=\"line\"></span><br><span class=\"line\">Unless required by applicable law or agreed to in writing,</span><br><span class=\"line\">software distributed under the License is distributed on an</span><br><span class=\"line\">&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span><br><span class=\"line\">KIND, either express or implied.  See the License for the</span><br><span class=\"line\">specific language governing permissions and limitations</span><br><span class=\"line\">under the License.</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--</span><br><span class=\"line\"> | This is the configuration file for Maven. It can be specified at two levels:</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |  1. User Level. This settings.xml file provides configuration for a single user,</span><br><span class=\"line\"> |                 and is normally provided in $&#123;user.home&#125;/.m2/settings.xml.</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 NOTE: This location can be overridden with the CLI option:</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 -s /path/to/user/settings.xml</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |  2. Global Level. This settings.xml file provides configuration for all Maven</span><br><span class=\"line\"> |                 users on a machine (assuming they&apos;re all using the same Maven</span><br><span class=\"line\"> |                 installation). It&apos;s normally provided in</span><br><span class=\"line\"> |                 $&#123;maven.home&#125;/conf/settings.xml.</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 NOTE: This location can be overridden with the CLI option:</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |                 -gs /path/to/global/settings.xml</span><br><span class=\"line\"> |</span><br><span class=\"line\"> | The sections in this sample file are intended to give you a running start at</span><br><span class=\"line\"> | getting the most out of your Maven installation. Where appropriate, the default</span><br><span class=\"line\"> | values (values used when the setting is not specified) are provided.</span><br><span class=\"line\"> |</span><br><span class=\"line\"> |--&gt;</span><br><span class=\"line\">&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span><br><span class=\"line\">          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class=\"line\">          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;</span><br><span class=\"line\">  &lt;!-- localRepository</span><br><span class=\"line\">   | The path to the local repository maven will use to store artifacts.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | Default: $&#123;user.home&#125;/.m2/repository</span><br><span class=\"line\">  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\">  &lt;!--自定义存放目录--&gt;</span><br><span class=\"line\">  &lt;localRepository&gt;C:\\hisenwork\\soft\\maven</span><br><span class=\"line\">  &lt;/localRepository&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- interactiveMode</span><br><span class=\"line\">   | This will determine whether maven prompts you when it needs input. If set to false,</span><br><span class=\"line\">   | maven will use a sensible default value, perhaps based on some other setting, for</span><br><span class=\"line\">   | the parameter in question.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | Default: true</span><br><span class=\"line\">  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- offline</span><br><span class=\"line\">   | Determines whether maven should attempt to connect to the network when executing a build.</span><br><span class=\"line\">   | This will have an effect on artifact downloads, artifact deployment, and others.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | Default: false</span><br><span class=\"line\">  &lt;offline&gt;false&lt;/offline&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- pluginGroups</span><br><span class=\"line\">   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</span><br><span class=\"line\">   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers</span><br><span class=\"line\">   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;pluginGroups&gt;</span><br><span class=\"line\">    &lt;!-- pluginGroup</span><br><span class=\"line\">     | Specifies a further group identifier to use for plugin lookup.</span><br><span class=\"line\">    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/pluginGroups&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- proxies</span><br><span class=\"line\">   | This is a list of proxies which can be used on this machine to connect to the network.</span><br><span class=\"line\">   | Unless otherwise specified (by system property or command-line switch), the first proxy</span><br><span class=\"line\">   | specification in this list marked as active will be used.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;proxies&gt;</span><br><span class=\"line\">    &lt;!-- proxy</span><br><span class=\"line\">     | Specification for one proxy, to be used in connecting to the network.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;proxy&gt;</span><br><span class=\"line\">      &lt;id&gt;optional&lt;/id&gt;</span><br><span class=\"line\">      &lt;active&gt;true&lt;/active&gt;</span><br><span class=\"line\">      &lt;protocol&gt;http&lt;/protocol&gt;</span><br><span class=\"line\">      &lt;username&gt;proxyuser&lt;/username&gt;</span><br><span class=\"line\">      &lt;password&gt;proxypass&lt;/password&gt;</span><br><span class=\"line\">      &lt;host&gt;proxy.host.net&lt;/host&gt;</span><br><span class=\"line\">      &lt;port&gt;80&lt;/port&gt;</span><br><span class=\"line\">      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;</span><br><span class=\"line\">    &lt;/proxy&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/proxies&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- servers</span><br><span class=\"line\">   | This is a list of authentication profiles, keyed by the server-id used within the system.</span><br><span class=\"line\">   | Authentication profiles can be used whenever maven must make a connection to a remote server.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;servers&gt;</span><br><span class=\"line\">    &lt;!-- server</span><br><span class=\"line\">     | Specifies the authentication information to use when connecting to a particular server, identified by</span><br><span class=\"line\">     | a unique name within the system (referred to by the &apos;id&apos; attribute below).</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are</span><br><span class=\"line\">     |       used together.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;server&gt;</span><br><span class=\"line\">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span><br><span class=\"line\">      &lt;username&gt;repouser&lt;/username&gt;</span><br><span class=\"line\">      &lt;password&gt;repopwd&lt;/password&gt;</span><br><span class=\"line\">    &lt;/server&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Another sample, using keys to authenticate.</span><br><span class=\"line\">    &lt;server&gt;</span><br><span class=\"line\">      &lt;id&gt;siteServer&lt;/id&gt;</span><br><span class=\"line\">      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</span><br><span class=\"line\">      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</span><br><span class=\"line\">    &lt;/server&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/servers&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- mirrors</span><br><span class=\"line\">   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</span><br><span class=\"line\">   | However, this repository may have problems with heavy traffic at times, so people have mirrored</span><br><span class=\"line\">   | it to several places.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | That repository definition will have a unique id, so we can create a mirror reference for that</span><br><span class=\"line\">   | repository, to be used as an alternate download site. The mirror site will be the preferred</span><br><span class=\"line\">   | server for that repository.</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;mirrors&gt;</span><br><span class=\"line\">    &lt;!-- mirror</span><br><span class=\"line\">     | Specifies a repository mirror site to use instead of a given repository. The repository that</span><br><span class=\"line\">     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span><br><span class=\"line\">     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;mirror&gt;</span><br><span class=\"line\">      &lt;id&gt;mirrorId&lt;/id&gt;</span><br><span class=\"line\">      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span><br><span class=\"line\">      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</span><br><span class=\"line\">      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span><br><span class=\"line\">    &lt;/mirror&gt;</span><br><span class=\"line\">     --&gt;</span><br><span class=\"line\">\t&lt;!--阿里云--&gt;</span><br><span class=\"line\">\t&lt;mirror&gt;</span><br><span class=\"line\">\t\t&lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class=\"line\">\t\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class=\"line\">\t\t&lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class=\"line\">\t\t&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class=\"line\">\t&lt;/mirror&gt; </span><br><span class=\"line\">  &lt;/mirrors&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- profiles</span><br><span class=\"line\">   | This is a list of profiles which can be activated in a variety of ways, and which can modify</span><br><span class=\"line\">   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</span><br><span class=\"line\">   | specific paths and repository locations which allow the build to work in the local environment.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | For example, if you have an integration testing plugin - like cactus - that needs to know where</span><br><span class=\"line\">   | your Tomcat instance is installed, you can provide a variable here such that the variable is</span><br><span class=\"line\">   | dereferenced during the build process to configure the cactus plugin.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</span><br><span class=\"line\">   | section of this document (settings.xml) - will be discussed later. Another way essentially</span><br><span class=\"line\">   | relies on the detection of a system property, either matching a particular value for the property,</span><br><span class=\"line\">   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</span><br><span class=\"line\">   | value of &apos;1.4&apos; might activate a profile when the build is executed on a JDK version of &apos;1.4.2_07&apos;.</span><br><span class=\"line\">   | Finally, the list of active profiles can be specified directly from the command line.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact</span><br><span class=\"line\">   |       repositories, plugin repositories, and free-form properties to be used as configuration</span><br><span class=\"line\">   |       variables for plugins in the POM.</span><br><span class=\"line\">   |</span><br><span class=\"line\">   |--&gt;</span><br><span class=\"line\">  &lt;profiles&gt;</span><br><span class=\"line\">    &lt;!-- profile</span><br><span class=\"line\">     | Specifies a set of introductions to the build process, to be activated using one or more of the</span><br><span class=\"line\">     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;</span><br><span class=\"line\">     | or the command line, profiles have to have an ID that is unique.</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | An encouraged best practice for profile identification is to use a consistent naming convention</span><br><span class=\"line\">     | for profiles, such as &apos;env-dev&apos;, &apos;env-test&apos;, &apos;env-production&apos;, &apos;user-jdcasey&apos;, &apos;user-brett&apos;, etc.</span><br><span class=\"line\">     | This will make it more intuitive to understand what the set of introduced profiles is attempting</span><br><span class=\"line\">     | to accomplish, particularly when you only have a list of profile id&apos;s for debug.</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</span><br><span class=\"line\">    &lt;profile&gt;</span><br><span class=\"line\">      &lt;id&gt;jdk-1.4&lt;/id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;activation&gt;</span><br><span class=\"line\">        &lt;jdk&gt;1.4&lt;/jdk&gt;</span><br><span class=\"line\">      &lt;/activation&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;repositories&gt;</span><br><span class=\"line\">        &lt;repository&gt;</span><br><span class=\"line\">          &lt;id&gt;jdk14&lt;/id&gt;</span><br><span class=\"line\">          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;</span><br><span class=\"line\">          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;</span><br><span class=\"line\">          &lt;layout&gt;default&lt;/layout&gt;</span><br><span class=\"line\">          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;</span><br><span class=\"line\">        &lt;/repository&gt;</span><br><span class=\"line\">      &lt;/repositories&gt;</span><br><span class=\"line\">    &lt;/profile&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">     | Here is another profile, activated by the system property &apos;target-env&apos; with a value of &apos;dev&apos;,</span><br><span class=\"line\">     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration</span><br><span class=\"line\">     | might hypothetically look like:</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | ...</span><br><span class=\"line\">     | &lt;plugin&gt;</span><br><span class=\"line\">     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;</span><br><span class=\"line\">     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;</span><br><span class=\"line\">     |</span><br><span class=\"line\">     |   &lt;configuration&gt;</span><br><span class=\"line\">     |     &lt;tomcatLocation&gt;$&#123;tomcatPath&#125;&lt;/tomcatLocation&gt;</span><br><span class=\"line\">     |   &lt;/configuration&gt;</span><br><span class=\"line\">     | &lt;/plugin&gt;</span><br><span class=\"line\">     | ...</span><br><span class=\"line\">     |</span><br><span class=\"line\">     | NOTE: If you just wanted to inject this configuration whenever someone set &apos;target-env&apos; to</span><br><span class=\"line\">     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.</span><br><span class=\"line\">     |</span><br><span class=\"line\">    &lt;profile&gt;</span><br><span class=\"line\">      &lt;id&gt;env-dev&lt;/id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;activation&gt;</span><br><span class=\"line\">        &lt;property&gt;</span><br><span class=\"line\">          &lt;name&gt;target-env&lt;/name&gt;</span><br><span class=\"line\">          &lt;value&gt;dev&lt;/value&gt;</span><br><span class=\"line\">        &lt;/property&gt;</span><br><span class=\"line\">      &lt;/activation&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;properties&gt;</span><br><span class=\"line\">        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;</span><br><span class=\"line\">      &lt;/properties&gt;</span><br><span class=\"line\">    &lt;/profile&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">  &lt;/profiles&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;!-- activeProfiles</span><br><span class=\"line\">   | List of profiles that are active for all builds.</span><br><span class=\"line\">   |</span><br><span class=\"line\">  &lt;activeProfiles&gt;</span><br><span class=\"line\">    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</span><br><span class=\"line\">    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;</span><br><span class=\"line\">  &lt;/activeProfiles&gt;</span><br><span class=\"line\">  --&gt;</span><br><span class=\"line\">&lt;/settings&gt;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->"},{"title":"Mysql Employees Database练习题&答案","keywords":["Mysql Employees","Mysql Employees题目","Mysql Employees练习"],"date":"2017-04-10T11:07:00.000Z","_content":"Employees数据库是mysql官方提供的一个测试用数据库\n\n里面含有几十万条数据。\n\n找了好久也没有找到比较匹配的题目\n\n就找了个匹配度比较高的题来练习，如果你还没有导入Employees Sample Database\n\n**请参考：<a href=\"http://hisen.me/20170401-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85%E5%AE%98%E6%96%B9%E8%87%AA%E5%B8%A6employees%E6%B5%8B%E8%AF%95%E8%A1%A8/\" target=\"_blank\">点击导入Employees</a>**\n\n本次操作在Xshell中完成，也就是mysql命令行。\n\n简单的操作\n---\n\n```\n#登陆数据库\nhisen@ubuntu:/$ mysql -u root -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 8\nServer version: 5.7.17-0ubuntu0.16.04.2 (Ubuntu)\n\nCopyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| employees          |\n| log4j              |\n| mysql              |\n| performance_schema |\n| ssm                |\n| sys                |\n+--------------------+\n7 rows in set (0.00 sec)\n\nmysql> use employees\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql> show tables;\n+----------------------+\n| Tables_in_employees  |\n+----------------------+\n| current_dept_emp     |\n| departments          |\n| dept_emp             |\n| dept_emp_latest_date |\n| dept_manager         |\n| employees            |\n| salaries             |\n| titles               |\n+----------------------+\n8 rows in set (0.00 sec)\n\nmysql> select * from employees limit 10;\n+--------+------------+------------+-----------+--------+------------+\n| emp_no | birth_date | first_name | last_name | gender | hire_date  |\n+--------+------------+------------+-----------+--------+------------+\n|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |\n|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |\n|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |\n|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |\n|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |\n|  10006 | 1953-04-20 | Anneke     | Preusig   | F      | 1989-06-02 |\n|  10007 | 1957-05-23 | Tzvetan    | Zielinski | F      | 1989-02-10 |\n|  10008 | 1958-02-19 | Saniya     | Kalloufi  | M      | 1994-09-15 |\n|  10009 | 1952-04-19 | Sumant     | Peac      | F      | 1985-02-18 |\n|  10010 | 1963-06-01 | Duangkaew  | Piveteau  | F      | 1989-08-24 |\n+--------+------------+------------+-----------+--------+------------+\n10 rows in set (0.00 sec)\n#统计各部门曾经拥有的员工数量\nmysql> select dept_no,count(*) emp_sum\n    -> from dept_emp\n    -> group by dept_no\n    -> order by emp_sum desc;\n+---------+---------+\n| dept_no | emp_sum |\n+---------+---------+\n| d005    |   85707 |\n| d004    |   73485 |\n| d007    |   52245 |\n| d009    |   23580 |\n| d008    |   21126 |\n| d001    |   20211 |\n| d006    |   20117 |\n| d003    |   17786 |\n| d002    |   17346 |\n+---------+---------+\n9 rows in set (0.63 sec)\n#创建视图\nmysql> CREATE VIEW test AS\n    -> SELECT dept_no, COUNT(*) AS emp_sum\n    -> FROM dept_emp\n    -> GROUP BY dept_no\n    -> ORDER BY emp_sum DESC\n    -> ;\nQuery OK, 0 rows affected (0.16 sec)\nmysql> select * from test;\n+---------+---------+\n| dept_no | emp_sum |\n+---------+---------+\n| d005    |   85707 |\n| d004    |   73485 |\n| d007    |   52245 |\n| d009    |   23580 |\n| d008    |   21126 |\n| d001    |   20211 |\n| d006    |   20117 |\n| d003    |   17786 |\n| d002    |   17346 |\n+---------+---------+\n9 rows in set (0.11 sec)\n#联合查询，加上部门名称\nmysql> select test.dept_no,emp_sum,dept_name\n    -> from test,departments\n    -> where test.dept_no = departments.dept_no;\n+---------+---------+--------------------+\n| dept_no | emp_sum | dept_name          |\n+---------+---------+--------------------+\n| d009    |   23580 | Customer Service   |\n| d005    |   85707 | Development        |\n| d002    |   17346 | Finance            |\n| d003    |   17786 | Human Resources    |\n| d001    |   20211 | Marketing          |\n| d004    |   73485 | Production         |\n| d006    |   20117 | Quality Management |\n| d008    |   21126 | Research           |\n| d007    |   52245 | Sales              |\n+---------+---------+--------------------+\n9 rows in set (0.16 sec)\n```\n\n练习题目和答案：\n---\n建议看看输出的结果自己写下sql，不要单纯的复制粘贴。\n\n因为数据量比较大， 很多时候我都加了5条数据的限制。\n<!--more-->\n```\n#1.查找整个职员表的所有内容。\nmysql> select * from employees limit 5;\n+--------+------------+------------+-----------+--------+------------+\n| emp_no | birth_date | first_name | last_name | gender | hire_date  |\n+--------+------------+------------+-----------+--------+------------+\n|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |\n|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |\n|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |\n|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |\n|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |\n+--------+------------+------------+-----------+--------+------------+\n5 rows in set (0.00 sec)\n\n#2.查看雇员名字(last_name)。\nmysql> select last_name from employees limit 5;\n+-----------+\n| last_name |\n+-----------+\n| Facello   |\n| Simmel    |\n| Bamford   |\n| Koblick   |\n| Maliniak  |\n+-----------+\n5 rows in set (0.00 sec)\n\n#3.查看雇员编号、名字和部门\nmysql> select e.last_name,e.emp_no,d.dept_name from employees e,departments d,dept_emp de where e.emp_no = de.emp_no and de.dept_no = d.dept_no limit 5;\n+-------------+--------+------------------+\n| last_name   | emp_no | dept_name        |\n+-------------+--------+------------------+\n| Sluis       |  10011 | Customer Service |\n| Lortz       |  10038 | Customer Service |\n| Tramer      |  10049 | Customer Service |\n| Billingsley |  10060 | Customer Service |\n| Syrzycki    |  10088 | Customer Service |\n+-------------+--------+------------------+\n5 rows in set (0.00 sec)\n\n#4.显示所有雇员的工号、姓名、工资\nmysql> select e.emp_no,concat(e.last_name,' ',e.first_name) name,s.salary from employees e,salaries s where e.emp_no=s.emp_no limit 5;\n+--------+----------------+--------+\n| emp_no | name           | salary |\n+--------+----------------+--------+\n|  10001 | Facello Georgi |  60117 |\n|  10001 | Facello Georgi |  62102 |\n|  10001 | Facello Georgi |  66074 |\n|  10001 | Facello Georgi |  66596 |\n|  10001 | Facello Georgi |  66961 |\n+--------+----------------+--------+\n5 rows in set (0.00 sec)\n\n#5.查找在d005号部门工作的雇员\nmysql> select e.emp_no,concat(e.last_name,' ',e.first_name) name,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no = d.dept_no and d.dept_no = 'd005' limit 5;\n+--------+--------------------+---------+-------------+\n| emp_no | name               | dept_no | dept_name   |\n+--------+--------------------+---------+-------------+\n|  10001 | Facello Georgi     | d005    | Development |\n|  10006 | Preusig Anneke     | d005    | Development |\n|  10008 | Kalloufi Saniya    | d005    | Development |\n|  10012 | Bridgland Patricio | d005    | Development |\n|  10014 | Genin Berni        | d005    | Development |\n+--------+--------------------+---------+-------------+\n5 rows in set (0.05 sec)\n\n#6.要求查找职位为Engineer和Senior Engineer的雇员姓名(last_name)\nmysql> select e.last_name from employees e,titles t where t.emp_no=e.emp_no and t.title in('Engineer','Senior Engineer') limit  5;\n+-----------+\n| last_name |\n+-----------+\n| Facello   |\n| Bamford   |\n| Koblick   |\n| Koblick   |\n| Preusig   |\n+-----------+\n5 rows in set (0.00 sec)\n\n#7.查找职位不是Engineer和Senior Engineer的部门编号，雇员部门及姓名。将姓名显示为(first_name+last_name命名为”Name”)\nmysql> select d.dept_no,d.dept_name,concat(e.first_name,' ',e.last_name) name from employees e,titles t,dept_emp de,departmentss d where e.emp_no=de.emp_no and de.dept_no = d.dept_no and t.emp_no = e.emp_no and t.title not in('Engineer','Senior Engineer'') limit 5;\n+---------+------------------+--------------+\n| dept_no | dept_name        | name         |\n+---------+------------------+--------------+\n| d009    | Customer Service | Mary Sluis   |\n| d009    | Customer Service | Huan Lortz   |\n| d009    | Customer Service | Huan Lortz   |\n| d009    | Customer Service | Basil Tramer |\n| d009    | Customer Service | Basil Tramer |\n+---------+------------------+--------------+\n5 rows in set (0.00 sec)\n\n#8.查找哪些雇员的工资在60000到90000之间\nmysql> select concat(e.first_name,' ',e.last_name) name,s.salary from employees e,salaries s where s.salary between 60000 and 90000 and e.emp_no = s.emp_no limit 5;\n+----------------+--------+\n| name           | salary |\n+----------------+--------+\n| Georgi Facello |  60117 |\n| Georgi Facello |  62102 |\n| Georgi Facello |  66074 |\n| Georgi Facello |  66596 |\n| Georgi Facello |  66961 |\n+----------------+--------+\n5 rows in set (0.00 sec)\n\n#9.查找哪些雇员的工资不在60000到90000之间\nmysql> select concat(e.first_name,' ',e.last_name) name,s.salary from employees e,salaries s where s.salary not between 60000 and 90000 and e.emp_no = s.emp_no limit 10;\n+-------------------+--------+\n| name              | salary |\n+-------------------+--------+\n| Parto Bamford     |  40006 |\n| Parto Bamford     |  43616 |\n| Parto Bamford     |  43466 |\n| Parto Bamford     |  43636 |\n| Parto Bamford     |  43478 |\n| Parto Bamford     |  43699 |\n| Parto Bamford     |  43311 |\n| Chirstian Koblick |  40054 |\n| Chirstian Koblick |  42283 |\n| Chirstian Koblick |  42542 |\n+-------------------+--------+\n10 rows in set (0.00 sec)\n\n#10.查找first_name以P开头，后面仅有四个字母的雇员信息\nmysql> select e.emp_no,concat(e.first_name,' ',e.last_name) name from employees e where e.first_name like 'P____' and e.first_name not like 'p__' limit 5;\n+--------+---------------------+\n| emp_no | name                |\n+--------+---------------------+\n|  10003 | Parto Bamford       |\n|  10101 | Perla Heyers        |\n|  10138 | Perry Shimshoni     |\n|  10353 | Phule Hammerschmidt |\n|  10387 | Parto Wrigley       |\n+--------+---------------------+\n5 rows in set (0.00 sec)\n\n#11.查找last_name以K开头的雇员信息\nmysql> select e.emp_no,concat(e.first_name,' ',e.last_name) name from employees e where e.first_name like 'K%' limit 5; \n+--------+----------------------+\n| emp_no | name                 |\n+--------+----------------------+\n|  10005 | Kyoichi Maliniak     |\n|  10016 | Kazuhito Cappelletti |\n|  10018 | Kazuhide Peha        |\n|  10031 | Karsten Joslin       |\n|  10066 | Kwee Schusler        |\n+--------+----------------------+\n5 rows in set (0.00 sec)\n\n#12.查找名字以字母K开头，以i结尾，并且第三个字母为o的雇员名字(First_name)、职位和所在部门号\nmysql> select concat(e.first_name,' ',e.last_name) name,t.title,de.dept_no from employees e,dept_emp de,titles t where e.first_name like 'K_o%i' and e.emp_no = t.emp_no and e.emp_no = de.emp_no limit 5;\n+------------------+--------------+---------+\n| name             | title        | dept_no |\n+------------------+--------------+---------+\n| Kyoichi Maliniak | Senior Staff | d003    |\n| Kyoichi Maliniak | Staff        | d003    |\n| Kyoichi Wossner  | Staff        | d007    |\n| Kyoichi Flexer   | Senior Staff | d007    |\n| Kyoichi Flexer   | Staff        | d007    |\n+------------------+--------------+---------+\n5 rows in set (0.00 sec)\n\n#13.查找哪些雇员的职位名不以Se开头\nmysql> select concat(e.first_name,' ',last_name) name,t.title from employees e,titles t where e.emp_no = t.emp_no and t.title not like 'Se%' limit 5;\n+-------------------+--------------------+\n| name              | title              |\n+-------------------+--------------------+\n| Bezalel Simmel    | Staff              |\n| Chirstian Koblick | Engineer           |\n| Kyoichi Maliniak  | Staff              |\n| Tzvetan Zielinski | Staff              |\n| Saniya Kalloufi   | Assistant Engineer |\n+-------------------+--------------------+\n5 rows in set (0.00 sec)\n\n#14.查找d005号部门里不是Staff的雇员信息\nmysql> select concat(e.first_name,' ',last_name) name,t.title from employees e,dept_emp de,titles t where e.emp_no = de.emp_no  and e.emp_no = t.emp_no and t.title != 'Staff' limit 5;\n+-------------------+-----------------+\n| name              | title           |\n+-------------------+-----------------+\n| Georgi Facello    | Senior Engineer |\n| Parto Bamford     | Senior Engineer |\n| Chirstian Koblick | Engineer        |\n| Chirstian Koblick | Senior Engineer |\n| Kyoichi Maliniak  | Senior Staff    |\n+-------------------+-----------------+\n5 rows in set (0.00 sec)\n\n#15.查找d005号部门工资大于100000的员工的信息\nmysql> select concat(e.first_name,' ',last_name) name,t.title,s.salary from employees e,dept_emp de,titles t,salaries s where e.emp_no = de.emp_no and e.emp_no = t.emp_no and e.emp_no = s.emp_no and de.dept_no = 'd005' and s.salary > 100000 limit 5;\n+---------------+--------------------+--------+\n| name          | title              | salary |\n+---------------+--------------------+--------+\n| Kwee Schusler | Assistant Engineer | 102425 |\n| Kwee Schusler | Assistant Engineer | 102674 |\n| Kwee Schusler | Assistant Engineer | 103672 |\n| Kwee Schusler | Engineer           | 102425 |\n| Kwee Schusler | Engineer           | 102674 |\n+---------------+--------------------+--------+\n5 rows in set (0.00 sec)\n\n#16.按字母顺序显示雇员的名字(last_name)\nmysql> select concat(e.first_name,' ',last_name) name from employees e order by e.last_name limit 5;\n+------------------+\n| name             |\n+------------------+\n| Aluzio Aamodt    |\n| Sachem Aamodt    |\n| Sreenivas Aamodt |\n| Mokhtar Aamodt   |\n| Bartek Aamodt    |\n+------------------+\n5 rows in set (0.24 sec)\n\n#17.按部门编号降序显示雇员信息\nmysql> select concat(e.first_name,' ',last_name) name,de.dept_no from employees e,dept_emp de where e.emp_no = de.emp_no order by de.dept_no desc limit 5;\n+-------------------+---------+\n| name              | dept_no |\n+-------------------+---------+\n| Pohua Sichman     | d009    |\n| Uri Juneja        | d009    |\n| Mohammed Pleszkun | d009    |\n| Chiranjit Kuzuoka | d009    |\n| Ronghao Morrow    | d009    |\n+-------------------+---------+\n5 rows in set (0.00 sec)\n\n#18.计算每个部门的平均工资和工资总和\nmysql> select de.dept_no,sum(s.salary),avg(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;\n+---------+---------------+---------------+\n| dept_no | sum(s.salary) | avg(s.salary) |\n+---------+---------------+---------------+\n| d001    |   13725425266 |    71913.2000 |\n| d002    |   11650834677 |    70489.3649 |\n| d003    |    9363811425 |    55574.8794 |\n| d004    |   41554438942 |    59605.4825 |\n| d005    |   48179456393 |    59478.9012 |\n| d006    |   10865203635 |    57251.2719 |\n| d007    |   40030089342 |    80667.6058 |\n| d008    |   11969730427 |    59665.1817 |\n| d009    |   13143639841 |    58770.3665 |\n+---------+---------------+---------------+\n9 rows in set (7.14 sec)\n\n#19.查询每个部门的每个职位的雇员数\nmysql> select de.dept_no,t.title,sum(e.emp_no) from employees e,dept_emp de,titles t where e.emp_no = de.emp_no and e.emp_no = t.emp_no group by de.dept_no,t.title limit 5;\n+---------+--------------+---------------+\n| dept_no | title        | sum(e.emp_no) |\n+---------+--------------+---------------+\n| d001    | Manager      |        220061 |\n| d001    | Senior Staff |    3561178455 |\n| d001    | Staff        |    4142508539 |\n| d002    | Manager      |        220199 |\n| d002    | Senior Staff |    3090249864 |\n+---------+--------------+---------------+\n5 rows in set (3.13 sec)\n\n#20.请算出employees表中所有雇员的平均工资\nmysql> select avg(s.salary) from employees e,salaries s where e.emp_no = s.emp_no;\n+---------------+\n| avg(s.salary) |\n+---------------+\n|    63810.7448 |\n+---------------+\n1 row in set (4.48 sec)\n\n#21.请查询出employees表中的最低工资的员工信息\nmysql> select concat(first_name,' ',last_name) name from employees e,salaries s where e.emp_no = s.emp_no and s.salary = (selecct min(s.salary) salary from salaries s);\n+--------------+\n| name         |\n+--------------+\n| Olivera Baek |\n+--------------+\n1 row in set (1.99 sec)\n\n#22.请计算出每个部门的平均工资、最高工资和最低工资\nmysql> select de.dept_no,avg(s.salary),max(s.salary),min(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;\n+---------+---------------+---------------+---------------+\n| dept_no | avg(s.salary) | max(s.salary) | min(s.salary) |\n+---------+---------------+---------------+---------------+\n| d001    |    71913.2000 |        145128 |         39127 |\n| d002    |    70489.3649 |        142395 |         38812 |\n| d003    |    55574.8794 |        141953 |         38735 |\n| d004    |    59605.4825 |        138273 |         38623 |\n| d005    |    59478.9012 |        144434 |         38849 |\n| d006    |    57251.2719 |        132103 |         38786 |\n| d007    |    80667.6058 |        158220 |         39169 |\n| d008    |    59665.1817 |        130211 |         38851 |\n| d009    |    58770.3665 |        144866 |         38836 |\n+---------+---------------+---------------+---------------+\n9 rows in set (7.06 sec)\n\n#23.查询薪水发放时间在1986-06-26 ~ 1987-06-25薪水高于46145号雇员并且工种与他相同的雇员情况。\nselect e.*  from employees e,titles t,salaries s  where e.emp_no = t.emp_no  and e.emp_no = t.emp_no  and t.title = (select title from titles where emp_no = 46135)  and s.salary > (select s.salary from salaries s where s.from_date > str_to_date('1986-06-26','%Y-%m-%d') and s.to_date < str_to_date('1987-06-2 25','%Y-%m-%d') and s.emp_no = '46135')  and s.from_date > str_to_date('1986-06-26','%Y-%m-%d') and s.to_date < str_to_date('1987-06-2 25','%Y-%m-%d') limit 10;\n+--------+------------+------------+------------+--------+------------+\n| emp_no | birth_date | first_name | last_name  | gender | hire_date  |\n+--------+------------+------------+------------+--------+------------+\n|  10004 | 1954-05-01 | Chirstian  | Koblick    | M      | 1986-12-01 |\n|  10009 | 1952-04-19 | Sumant     | Peac       | F      | 1985-02-18 |\n|  10010 | 1963-06-01 | Duangkaew  | Piveteau   | F      | 1989-08-24 |\n|  10012 | 1960-10-04 | Patricio   | Bridgland  | M      | 1992-12-18 |\n|  10014 | 1956-02-12 | Berni      | Genin      | M      | 1987-03-11 |\n|  10018 | 1954-06-19 | Kazuhide   | Peha       | F      | 1987-04-03 |\n|  10020 | 1952-12-24 | Mayuko     | Warwick    | M      | 1991-01-26 |\n|  10022 | 1952-07-08 | Shahaf     | Famili     | M      | 1995-08-22 |\n|  10023 | 1953-09-29 | Bojan      | Montemayor | F      | 1989-12-17 |\n|  10026 | 1953-04-03 | Yongqiao   | Berztiss   | M      | 1995-03-20 |\n+--------+------------+------------+------------+--------+------------+\n10 rows in set, 2 warnings (0.05 sec)\n\n\n#24.查询工资在10000到50000之间的雇员所在部门的所有人员的信息。\nmysql> select e.*,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no =d.dept_no and e.emp_no in (select distinct s.emp_no from salaries s where s.salary between 10000 and 50000) limit 10;\n+--------+------------+-------------+-----------+--------+------------+---------+------------------+\n| emp_no | birth_date | first_name  | last_name | gender | hire_date  | dept_no | dept_name        |\n+--------+------------+-------------+-----------+--------+------------+---------+------------------+\n|  10011 | 1953-11-07 | Mary        | Sluis     | F      | 1990-01-22 | d009    | Customer Service |\n|  10038 | 1960-07-20 | Huan        | Lortz     | M      | 1989-09-20 | d009    | Customer Service |\n|  10049 | 1961-04-24 | Basil       | Tramer    | F      | 1992-05-04 | d009    | Customer Service |\n|  10098 | 1961-09-23 | Sreekrishna | Servieres | F      | 1985-05-13 | d009    | Customer Service |\n|  10112 | 1963-08-13 | Yuichiro    | Swick     | F      | 1985-10-08 | d009    | Customer Service |\n|  10115 | 1964-12-25 | Chikara     | Rissland  | M      | 1986-01-23 | d009    | Customer Service |\n|  10126 | 1954-08-07 | Kayoko      | Valtorta  | M      | 1985-09-08 | d009    | Customer Service |\n|  10128 | 1958-02-15 | Babette     | Lamba     | F      | 1988-06-06 | d009    | Customer Service |\n|  10137 | 1959-07-30 | Maren       | Hutton    | M      | 1985-02-18 | d009    | Customer Service |\n|  10154 | 1957-01-17 | Abdulah     | Thibadeau | F      | 1990-12-12 | d009    | Customer Service |\n+--------+------------+-------------+-----------+--------+------------+---------+------------------+\n10 rows in set (1.28 sec)\n\n#25.查询出在薪水发放时间在1986-06-26 ~ 1987-06-25的员工信息\n###（工号，姓名，性别，薪水，职位）\nmysql> select e.emp_no,concat(e.first_name,\" \",e.last_name) name,e.gender,s.salary,t.title from employees e,salaries s,titles t where e.emp_no = s.emp_no and e.emp_no = t.emp_no and s.from_date > str_to_date('1986-06-26','%Y-%m-%d') and s.to_date < str_to_date('1987-06-2 25','%Y-%m-%d') limit 10;\n+--------+-------------------+--------+--------+-----------------+\n| emp_no | name              | gender | salary | title           |\n+--------+-------------------+--------+--------+-----------------+\n|  13543 | Tua Garigliano    | F      |  78646 | Staff           |\n|  13589 | Arfst Munck       | F      |  44306 | Staff           |\n|  14085 | Jiafu Constantine | F      |  43575 | Staff           |\n|  14613 | Kien Herath       | M      |  54124 | Staff           |\n|  19083 | Nobuyoshi Asmuth  | M      |  40000 | Engineer        |\n|  19135 | Leaf Soicher      | M      |  40000 | Senior Engineer |\n|  19761 | Vasiliy Niizuma   | M      |  65098 | Staff           |\n|  19769 | Bezalel Holburn   | M      |  53118 | Engineer        |\n|  22892 | Giao Monkewich    | M      |  79554 | Senior Staff    |\n|  24101 | Yakichi Manderick | F      |  45092 | Engineer        |\n+--------+-------------------+--------+--------+-----------------+\n10 rows in set, 1 warning (0.07 sec)\n```","source":"_posts/Mysql Employees  Database练习题&答案.md","raw":"---\ntitle: Mysql Employees Database练习题&答案\nkeywords: [Mysql Employees,Mysql Employees题目,Mysql Employees练习]\ndate: 2017/4/10 19:07\ntags: [mysql]\ncategories: sql\n---\nEmployees数据库是mysql官方提供的一个测试用数据库\n\n里面含有几十万条数据。\n\n找了好久也没有找到比较匹配的题目\n\n就找了个匹配度比较高的题来练习，如果你还没有导入Employees Sample Database\n\n**请参考：<a href=\"http://hisen.me/20170401-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85%E5%AE%98%E6%96%B9%E8%87%AA%E5%B8%A6employees%E6%B5%8B%E8%AF%95%E8%A1%A8/\" target=\"_blank\">点击导入Employees</a>**\n\n本次操作在Xshell中完成，也就是mysql命令行。\n\n简单的操作\n---\n\n```\n#登陆数据库\nhisen@ubuntu:/$ mysql -u root -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 8\nServer version: 5.7.17-0ubuntu0.16.04.2 (Ubuntu)\n\nCopyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| employees          |\n| log4j              |\n| mysql              |\n| performance_schema |\n| ssm                |\n| sys                |\n+--------------------+\n7 rows in set (0.00 sec)\n\nmysql> use employees\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql> show tables;\n+----------------------+\n| Tables_in_employees  |\n+----------------------+\n| current_dept_emp     |\n| departments          |\n| dept_emp             |\n| dept_emp_latest_date |\n| dept_manager         |\n| employees            |\n| salaries             |\n| titles               |\n+----------------------+\n8 rows in set (0.00 sec)\n\nmysql> select * from employees limit 10;\n+--------+------------+------------+-----------+--------+------------+\n| emp_no | birth_date | first_name | last_name | gender | hire_date  |\n+--------+------------+------------+-----------+--------+------------+\n|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |\n|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |\n|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |\n|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |\n|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |\n|  10006 | 1953-04-20 | Anneke     | Preusig   | F      | 1989-06-02 |\n|  10007 | 1957-05-23 | Tzvetan    | Zielinski | F      | 1989-02-10 |\n|  10008 | 1958-02-19 | Saniya     | Kalloufi  | M      | 1994-09-15 |\n|  10009 | 1952-04-19 | Sumant     | Peac      | F      | 1985-02-18 |\n|  10010 | 1963-06-01 | Duangkaew  | Piveteau  | F      | 1989-08-24 |\n+--------+------------+------------+-----------+--------+------------+\n10 rows in set (0.00 sec)\n#统计各部门曾经拥有的员工数量\nmysql> select dept_no,count(*) emp_sum\n    -> from dept_emp\n    -> group by dept_no\n    -> order by emp_sum desc;\n+---------+---------+\n| dept_no | emp_sum |\n+---------+---------+\n| d005    |   85707 |\n| d004    |   73485 |\n| d007    |   52245 |\n| d009    |   23580 |\n| d008    |   21126 |\n| d001    |   20211 |\n| d006    |   20117 |\n| d003    |   17786 |\n| d002    |   17346 |\n+---------+---------+\n9 rows in set (0.63 sec)\n#创建视图\nmysql> CREATE VIEW test AS\n    -> SELECT dept_no, COUNT(*) AS emp_sum\n    -> FROM dept_emp\n    -> GROUP BY dept_no\n    -> ORDER BY emp_sum DESC\n    -> ;\nQuery OK, 0 rows affected (0.16 sec)\nmysql> select * from test;\n+---------+---------+\n| dept_no | emp_sum |\n+---------+---------+\n| d005    |   85707 |\n| d004    |   73485 |\n| d007    |   52245 |\n| d009    |   23580 |\n| d008    |   21126 |\n| d001    |   20211 |\n| d006    |   20117 |\n| d003    |   17786 |\n| d002    |   17346 |\n+---------+---------+\n9 rows in set (0.11 sec)\n#联合查询，加上部门名称\nmysql> select test.dept_no,emp_sum,dept_name\n    -> from test,departments\n    -> where test.dept_no = departments.dept_no;\n+---------+---------+--------------------+\n| dept_no | emp_sum | dept_name          |\n+---------+---------+--------------------+\n| d009    |   23580 | Customer Service   |\n| d005    |   85707 | Development        |\n| d002    |   17346 | Finance            |\n| d003    |   17786 | Human Resources    |\n| d001    |   20211 | Marketing          |\n| d004    |   73485 | Production         |\n| d006    |   20117 | Quality Management |\n| d008    |   21126 | Research           |\n| d007    |   52245 | Sales              |\n+---------+---------+--------------------+\n9 rows in set (0.16 sec)\n```\n\n练习题目和答案：\n---\n建议看看输出的结果自己写下sql，不要单纯的复制粘贴。\n\n因为数据量比较大， 很多时候我都加了5条数据的限制。\n<!--more-->\n```\n#1.查找整个职员表的所有内容。\nmysql> select * from employees limit 5;\n+--------+------------+------------+-----------+--------+------------+\n| emp_no | birth_date | first_name | last_name | gender | hire_date  |\n+--------+------------+------------+-----------+--------+------------+\n|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |\n|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |\n|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |\n|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |\n|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |\n+--------+------------+------------+-----------+--------+------------+\n5 rows in set (0.00 sec)\n\n#2.查看雇员名字(last_name)。\nmysql> select last_name from employees limit 5;\n+-----------+\n| last_name |\n+-----------+\n| Facello   |\n| Simmel    |\n| Bamford   |\n| Koblick   |\n| Maliniak  |\n+-----------+\n5 rows in set (0.00 sec)\n\n#3.查看雇员编号、名字和部门\nmysql> select e.last_name,e.emp_no,d.dept_name from employees e,departments d,dept_emp de where e.emp_no = de.emp_no and de.dept_no = d.dept_no limit 5;\n+-------------+--------+------------------+\n| last_name   | emp_no | dept_name        |\n+-------------+--------+------------------+\n| Sluis       |  10011 | Customer Service |\n| Lortz       |  10038 | Customer Service |\n| Tramer      |  10049 | Customer Service |\n| Billingsley |  10060 | Customer Service |\n| Syrzycki    |  10088 | Customer Service |\n+-------------+--------+------------------+\n5 rows in set (0.00 sec)\n\n#4.显示所有雇员的工号、姓名、工资\nmysql> select e.emp_no,concat(e.last_name,' ',e.first_name) name,s.salary from employees e,salaries s where e.emp_no=s.emp_no limit 5;\n+--------+----------------+--------+\n| emp_no | name           | salary |\n+--------+----------------+--------+\n|  10001 | Facello Georgi |  60117 |\n|  10001 | Facello Georgi |  62102 |\n|  10001 | Facello Georgi |  66074 |\n|  10001 | Facello Georgi |  66596 |\n|  10001 | Facello Georgi |  66961 |\n+--------+----------------+--------+\n5 rows in set (0.00 sec)\n\n#5.查找在d005号部门工作的雇员\nmysql> select e.emp_no,concat(e.last_name,' ',e.first_name) name,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no = d.dept_no and d.dept_no = 'd005' limit 5;\n+--------+--------------------+---------+-------------+\n| emp_no | name               | dept_no | dept_name   |\n+--------+--------------------+---------+-------------+\n|  10001 | Facello Georgi     | d005    | Development |\n|  10006 | Preusig Anneke     | d005    | Development |\n|  10008 | Kalloufi Saniya    | d005    | Development |\n|  10012 | Bridgland Patricio | d005    | Development |\n|  10014 | Genin Berni        | d005    | Development |\n+--------+--------------------+---------+-------------+\n5 rows in set (0.05 sec)\n\n#6.要求查找职位为Engineer和Senior Engineer的雇员姓名(last_name)\nmysql> select e.last_name from employees e,titles t where t.emp_no=e.emp_no and t.title in('Engineer','Senior Engineer') limit  5;\n+-----------+\n| last_name |\n+-----------+\n| Facello   |\n| Bamford   |\n| Koblick   |\n| Koblick   |\n| Preusig   |\n+-----------+\n5 rows in set (0.00 sec)\n\n#7.查找职位不是Engineer和Senior Engineer的部门编号，雇员部门及姓名。将姓名显示为(first_name+last_name命名为”Name”)\nmysql> select d.dept_no,d.dept_name,concat(e.first_name,' ',e.last_name) name from employees e,titles t,dept_emp de,departmentss d where e.emp_no=de.emp_no and de.dept_no = d.dept_no and t.emp_no = e.emp_no and t.title not in('Engineer','Senior Engineer'') limit 5;\n+---------+------------------+--------------+\n| dept_no | dept_name        | name         |\n+---------+------------------+--------------+\n| d009    | Customer Service | Mary Sluis   |\n| d009    | Customer Service | Huan Lortz   |\n| d009    | Customer Service | Huan Lortz   |\n| d009    | Customer Service | Basil Tramer |\n| d009    | Customer Service | Basil Tramer |\n+---------+------------------+--------------+\n5 rows in set (0.00 sec)\n\n#8.查找哪些雇员的工资在60000到90000之间\nmysql> select concat(e.first_name,' ',e.last_name) name,s.salary from employees e,salaries s where s.salary between 60000 and 90000 and e.emp_no = s.emp_no limit 5;\n+----------------+--------+\n| name           | salary |\n+----------------+--------+\n| Georgi Facello |  60117 |\n| Georgi Facello |  62102 |\n| Georgi Facello |  66074 |\n| Georgi Facello |  66596 |\n| Georgi Facello |  66961 |\n+----------------+--------+\n5 rows in set (0.00 sec)\n\n#9.查找哪些雇员的工资不在60000到90000之间\nmysql> select concat(e.first_name,' ',e.last_name) name,s.salary from employees e,salaries s where s.salary not between 60000 and 90000 and e.emp_no = s.emp_no limit 10;\n+-------------------+--------+\n| name              | salary |\n+-------------------+--------+\n| Parto Bamford     |  40006 |\n| Parto Bamford     |  43616 |\n| Parto Bamford     |  43466 |\n| Parto Bamford     |  43636 |\n| Parto Bamford     |  43478 |\n| Parto Bamford     |  43699 |\n| Parto Bamford     |  43311 |\n| Chirstian Koblick |  40054 |\n| Chirstian Koblick |  42283 |\n| Chirstian Koblick |  42542 |\n+-------------------+--------+\n10 rows in set (0.00 sec)\n\n#10.查找first_name以P开头，后面仅有四个字母的雇员信息\nmysql> select e.emp_no,concat(e.first_name,' ',e.last_name) name from employees e where e.first_name like 'P____' and e.first_name not like 'p__' limit 5;\n+--------+---------------------+\n| emp_no | name                |\n+--------+---------------------+\n|  10003 | Parto Bamford       |\n|  10101 | Perla Heyers        |\n|  10138 | Perry Shimshoni     |\n|  10353 | Phule Hammerschmidt |\n|  10387 | Parto Wrigley       |\n+--------+---------------------+\n5 rows in set (0.00 sec)\n\n#11.查找last_name以K开头的雇员信息\nmysql> select e.emp_no,concat(e.first_name,' ',e.last_name) name from employees e where e.first_name like 'K%' limit 5; \n+--------+----------------------+\n| emp_no | name                 |\n+--------+----------------------+\n|  10005 | Kyoichi Maliniak     |\n|  10016 | Kazuhito Cappelletti |\n|  10018 | Kazuhide Peha        |\n|  10031 | Karsten Joslin       |\n|  10066 | Kwee Schusler        |\n+--------+----------------------+\n5 rows in set (0.00 sec)\n\n#12.查找名字以字母K开头，以i结尾，并且第三个字母为o的雇员名字(First_name)、职位和所在部门号\nmysql> select concat(e.first_name,' ',e.last_name) name,t.title,de.dept_no from employees e,dept_emp de,titles t where e.first_name like 'K_o%i' and e.emp_no = t.emp_no and e.emp_no = de.emp_no limit 5;\n+------------------+--------------+---------+\n| name             | title        | dept_no |\n+------------------+--------------+---------+\n| Kyoichi Maliniak | Senior Staff | d003    |\n| Kyoichi Maliniak | Staff        | d003    |\n| Kyoichi Wossner  | Staff        | d007    |\n| Kyoichi Flexer   | Senior Staff | d007    |\n| Kyoichi Flexer   | Staff        | d007    |\n+------------------+--------------+---------+\n5 rows in set (0.00 sec)\n\n#13.查找哪些雇员的职位名不以Se开头\nmysql> select concat(e.first_name,' ',last_name) name,t.title from employees e,titles t where e.emp_no = t.emp_no and t.title not like 'Se%' limit 5;\n+-------------------+--------------------+\n| name              | title              |\n+-------------------+--------------------+\n| Bezalel Simmel    | Staff              |\n| Chirstian Koblick | Engineer           |\n| Kyoichi Maliniak  | Staff              |\n| Tzvetan Zielinski | Staff              |\n| Saniya Kalloufi   | Assistant Engineer |\n+-------------------+--------------------+\n5 rows in set (0.00 sec)\n\n#14.查找d005号部门里不是Staff的雇员信息\nmysql> select concat(e.first_name,' ',last_name) name,t.title from employees e,dept_emp de,titles t where e.emp_no = de.emp_no  and e.emp_no = t.emp_no and t.title != 'Staff' limit 5;\n+-------------------+-----------------+\n| name              | title           |\n+-------------------+-----------------+\n| Georgi Facello    | Senior Engineer |\n| Parto Bamford     | Senior Engineer |\n| Chirstian Koblick | Engineer        |\n| Chirstian Koblick | Senior Engineer |\n| Kyoichi Maliniak  | Senior Staff    |\n+-------------------+-----------------+\n5 rows in set (0.00 sec)\n\n#15.查找d005号部门工资大于100000的员工的信息\nmysql> select concat(e.first_name,' ',last_name) name,t.title,s.salary from employees e,dept_emp de,titles t,salaries s where e.emp_no = de.emp_no and e.emp_no = t.emp_no and e.emp_no = s.emp_no and de.dept_no = 'd005' and s.salary > 100000 limit 5;\n+---------------+--------------------+--------+\n| name          | title              | salary |\n+---------------+--------------------+--------+\n| Kwee Schusler | Assistant Engineer | 102425 |\n| Kwee Schusler | Assistant Engineer | 102674 |\n| Kwee Schusler | Assistant Engineer | 103672 |\n| Kwee Schusler | Engineer           | 102425 |\n| Kwee Schusler | Engineer           | 102674 |\n+---------------+--------------------+--------+\n5 rows in set (0.00 sec)\n\n#16.按字母顺序显示雇员的名字(last_name)\nmysql> select concat(e.first_name,' ',last_name) name from employees e order by e.last_name limit 5;\n+------------------+\n| name             |\n+------------------+\n| Aluzio Aamodt    |\n| Sachem Aamodt    |\n| Sreenivas Aamodt |\n| Mokhtar Aamodt   |\n| Bartek Aamodt    |\n+------------------+\n5 rows in set (0.24 sec)\n\n#17.按部门编号降序显示雇员信息\nmysql> select concat(e.first_name,' ',last_name) name,de.dept_no from employees e,dept_emp de where e.emp_no = de.emp_no order by de.dept_no desc limit 5;\n+-------------------+---------+\n| name              | dept_no |\n+-------------------+---------+\n| Pohua Sichman     | d009    |\n| Uri Juneja        | d009    |\n| Mohammed Pleszkun | d009    |\n| Chiranjit Kuzuoka | d009    |\n| Ronghao Morrow    | d009    |\n+-------------------+---------+\n5 rows in set (0.00 sec)\n\n#18.计算每个部门的平均工资和工资总和\nmysql> select de.dept_no,sum(s.salary),avg(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;\n+---------+---------------+---------------+\n| dept_no | sum(s.salary) | avg(s.salary) |\n+---------+---------------+---------------+\n| d001    |   13725425266 |    71913.2000 |\n| d002    |   11650834677 |    70489.3649 |\n| d003    |    9363811425 |    55574.8794 |\n| d004    |   41554438942 |    59605.4825 |\n| d005    |   48179456393 |    59478.9012 |\n| d006    |   10865203635 |    57251.2719 |\n| d007    |   40030089342 |    80667.6058 |\n| d008    |   11969730427 |    59665.1817 |\n| d009    |   13143639841 |    58770.3665 |\n+---------+---------------+---------------+\n9 rows in set (7.14 sec)\n\n#19.查询每个部门的每个职位的雇员数\nmysql> select de.dept_no,t.title,sum(e.emp_no) from employees e,dept_emp de,titles t where e.emp_no = de.emp_no and e.emp_no = t.emp_no group by de.dept_no,t.title limit 5;\n+---------+--------------+---------------+\n| dept_no | title        | sum(e.emp_no) |\n+---------+--------------+---------------+\n| d001    | Manager      |        220061 |\n| d001    | Senior Staff |    3561178455 |\n| d001    | Staff        |    4142508539 |\n| d002    | Manager      |        220199 |\n| d002    | Senior Staff |    3090249864 |\n+---------+--------------+---------------+\n5 rows in set (3.13 sec)\n\n#20.请算出employees表中所有雇员的平均工资\nmysql> select avg(s.salary) from employees e,salaries s where e.emp_no = s.emp_no;\n+---------------+\n| avg(s.salary) |\n+---------------+\n|    63810.7448 |\n+---------------+\n1 row in set (4.48 sec)\n\n#21.请查询出employees表中的最低工资的员工信息\nmysql> select concat(first_name,' ',last_name) name from employees e,salaries s where e.emp_no = s.emp_no and s.salary = (selecct min(s.salary) salary from salaries s);\n+--------------+\n| name         |\n+--------------+\n| Olivera Baek |\n+--------------+\n1 row in set (1.99 sec)\n\n#22.请计算出每个部门的平均工资、最高工资和最低工资\nmysql> select de.dept_no,avg(s.salary),max(s.salary),min(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;\n+---------+---------------+---------------+---------------+\n| dept_no | avg(s.salary) | max(s.salary) | min(s.salary) |\n+---------+---------------+---------------+---------------+\n| d001    |    71913.2000 |        145128 |         39127 |\n| d002    |    70489.3649 |        142395 |         38812 |\n| d003    |    55574.8794 |        141953 |         38735 |\n| d004    |    59605.4825 |        138273 |         38623 |\n| d005    |    59478.9012 |        144434 |         38849 |\n| d006    |    57251.2719 |        132103 |         38786 |\n| d007    |    80667.6058 |        158220 |         39169 |\n| d008    |    59665.1817 |        130211 |         38851 |\n| d009    |    58770.3665 |        144866 |         38836 |\n+---------+---------------+---------------+---------------+\n9 rows in set (7.06 sec)\n\n#23.查询薪水发放时间在1986-06-26 ~ 1987-06-25薪水高于46145号雇员并且工种与他相同的雇员情况。\nselect e.*  from employees e,titles t,salaries s  where e.emp_no = t.emp_no  and e.emp_no = t.emp_no  and t.title = (select title from titles where emp_no = 46135)  and s.salary > (select s.salary from salaries s where s.from_date > str_to_date('1986-06-26','%Y-%m-%d') and s.to_date < str_to_date('1987-06-2 25','%Y-%m-%d') and s.emp_no = '46135')  and s.from_date > str_to_date('1986-06-26','%Y-%m-%d') and s.to_date < str_to_date('1987-06-2 25','%Y-%m-%d') limit 10;\n+--------+------------+------------+------------+--------+------------+\n| emp_no | birth_date | first_name | last_name  | gender | hire_date  |\n+--------+------------+------------+------------+--------+------------+\n|  10004 | 1954-05-01 | Chirstian  | Koblick    | M      | 1986-12-01 |\n|  10009 | 1952-04-19 | Sumant     | Peac       | F      | 1985-02-18 |\n|  10010 | 1963-06-01 | Duangkaew  | Piveteau   | F      | 1989-08-24 |\n|  10012 | 1960-10-04 | Patricio   | Bridgland  | M      | 1992-12-18 |\n|  10014 | 1956-02-12 | Berni      | Genin      | M      | 1987-03-11 |\n|  10018 | 1954-06-19 | Kazuhide   | Peha       | F      | 1987-04-03 |\n|  10020 | 1952-12-24 | Mayuko     | Warwick    | M      | 1991-01-26 |\n|  10022 | 1952-07-08 | Shahaf     | Famili     | M      | 1995-08-22 |\n|  10023 | 1953-09-29 | Bojan      | Montemayor | F      | 1989-12-17 |\n|  10026 | 1953-04-03 | Yongqiao   | Berztiss   | M      | 1995-03-20 |\n+--------+------------+------------+------------+--------+------------+\n10 rows in set, 2 warnings (0.05 sec)\n\n\n#24.查询工资在10000到50000之间的雇员所在部门的所有人员的信息。\nmysql> select e.*,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no =d.dept_no and e.emp_no in (select distinct s.emp_no from salaries s where s.salary between 10000 and 50000) limit 10;\n+--------+------------+-------------+-----------+--------+------------+---------+------------------+\n| emp_no | birth_date | first_name  | last_name | gender | hire_date  | dept_no | dept_name        |\n+--------+------------+-------------+-----------+--------+------------+---------+------------------+\n|  10011 | 1953-11-07 | Mary        | Sluis     | F      | 1990-01-22 | d009    | Customer Service |\n|  10038 | 1960-07-20 | Huan        | Lortz     | M      | 1989-09-20 | d009    | Customer Service |\n|  10049 | 1961-04-24 | Basil       | Tramer    | F      | 1992-05-04 | d009    | Customer Service |\n|  10098 | 1961-09-23 | Sreekrishna | Servieres | F      | 1985-05-13 | d009    | Customer Service |\n|  10112 | 1963-08-13 | Yuichiro    | Swick     | F      | 1985-10-08 | d009    | Customer Service |\n|  10115 | 1964-12-25 | Chikara     | Rissland  | M      | 1986-01-23 | d009    | Customer Service |\n|  10126 | 1954-08-07 | Kayoko      | Valtorta  | M      | 1985-09-08 | d009    | Customer Service |\n|  10128 | 1958-02-15 | Babette     | Lamba     | F      | 1988-06-06 | d009    | Customer Service |\n|  10137 | 1959-07-30 | Maren       | Hutton    | M      | 1985-02-18 | d009    | Customer Service |\n|  10154 | 1957-01-17 | Abdulah     | Thibadeau | F      | 1990-12-12 | d009    | Customer Service |\n+--------+------------+-------------+-----------+--------+------------+---------+------------------+\n10 rows in set (1.28 sec)\n\n#25.查询出在薪水发放时间在1986-06-26 ~ 1987-06-25的员工信息\n###（工号，姓名，性别，薪水，职位）\nmysql> select e.emp_no,concat(e.first_name,\" \",e.last_name) name,e.gender,s.salary,t.title from employees e,salaries s,titles t where e.emp_no = s.emp_no and e.emp_no = t.emp_no and s.from_date > str_to_date('1986-06-26','%Y-%m-%d') and s.to_date < str_to_date('1987-06-2 25','%Y-%m-%d') limit 10;\n+--------+-------------------+--------+--------+-----------------+\n| emp_no | name              | gender | salary | title           |\n+--------+-------------------+--------+--------+-----------------+\n|  13543 | Tua Garigliano    | F      |  78646 | Staff           |\n|  13589 | Arfst Munck       | F      |  44306 | Staff           |\n|  14085 | Jiafu Constantine | F      |  43575 | Staff           |\n|  14613 | Kien Herath       | M      |  54124 | Staff           |\n|  19083 | Nobuyoshi Asmuth  | M      |  40000 | Engineer        |\n|  19135 | Leaf Soicher      | M      |  40000 | Senior Engineer |\n|  19761 | Vasiliy Niizuma   | M      |  65098 | Staff           |\n|  19769 | Bezalel Holburn   | M      |  53118 | Engineer        |\n|  22892 | Giao Monkewich    | M      |  79554 | Senior Staff    |\n|  24101 | Yakichi Manderick | F      |  45092 | Engineer        |\n+--------+-------------------+--------+--------+-----------------+\n10 rows in set, 1 warning (0.07 sec)\n```","slug":"Mysql Employees  Database练习题&答案","published":1,"updated":"2017-04-17T03:44:36.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdw300hqolej9rvs47al","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Employees数据库是mysql官方提供的一个测试用数据库</p><p>里面含有几十万条数据。</p><p>找了好久也没有找到比较匹配的题目</p><p>就找了个匹配度比较高的题来练习，如果你还没有导入Employees Sample Database</p><p><strong>请参考：<a href=\"http://hisen.me/20170401-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85%E5%AE%98%E6%96%B9%E8%87%AA%E5%B8%A6employees%E6%B5%8B%E8%AF%95%E8%A1%A8/\" target=\"_blank\">点击导入Employees</a></strong></p><p>本次操作在Xshell中完成，也就是mysql命令行。</p><h2 id=\"简单的操作\"><a href=\"#简单的操作\" class=\"headerlink\" title=\"简单的操作\"></a>简单的操作</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#登陆数据库</span><br><span class=\"line\">hisen@ubuntu:/$ mysql -u root -p</span><br><span class=\"line\">Enter password: </span><br><span class=\"line\">Welcome to the MySQL monitor.  Commands end with ; or \\g.</span><br><span class=\"line\">Your MySQL connection id is 8</span><br><span class=\"line\">Server version: 5.7.17-0ubuntu0.16.04.2 (Ubuntu)</span><br><span class=\"line\"></span><br><span class=\"line\">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</span><br><span class=\"line\"></span><br><span class=\"line\">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class=\"line\">affiliates. Other names may be trademarks of their respective</span><br><span class=\"line\">owners.</span><br><span class=\"line\"></span><br><span class=\"line\">Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; show databases;</span><br><span class=\"line\">+--------------------+</span><br><span class=\"line\">| Database           |</span><br><span class=\"line\">+--------------------+</span><br><span class=\"line\">| information_schema |</span><br><span class=\"line\">| employees          |</span><br><span class=\"line\">| log4j              |</span><br><span class=\"line\">| mysql              |</span><br><span class=\"line\">| performance_schema |</span><br><span class=\"line\">| ssm                |</span><br><span class=\"line\">| sys                |</span><br><span class=\"line\">+--------------------+</span><br><span class=\"line\">7 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; use employees</span><br><span class=\"line\">Reading table information for completion of table and column names</span><br><span class=\"line\">You can turn off this feature to get a quicker startup with -A</span><br><span class=\"line\"></span><br><span class=\"line\">Database changed</span><br><span class=\"line\">mysql&gt; show tables;</span><br><span class=\"line\">+----------------------+</span><br><span class=\"line\">| Tables_in_employees  |</span><br><span class=\"line\">+----------------------+</span><br><span class=\"line\">| current_dept_emp     |</span><br><span class=\"line\">| departments          |</span><br><span class=\"line\">| dept_emp             |</span><br><span class=\"line\">| dept_emp_latest_date |</span><br><span class=\"line\">| dept_manager         |</span><br><span class=\"line\">| employees            |</span><br><span class=\"line\">| salaries             |</span><br><span class=\"line\">| titles               |</span><br><span class=\"line\">+----------------------+</span><br><span class=\"line\">8 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select * from employees limit 10;</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name | last_name | gender | hire_date  |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |</span><br><span class=\"line\">|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |</span><br><span class=\"line\">|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |</span><br><span class=\"line\">|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |</span><br><span class=\"line\">|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |</span><br><span class=\"line\">|  10006 | 1953-04-20 | Anneke     | Preusig   | F      | 1989-06-02 |</span><br><span class=\"line\">|  10007 | 1957-05-23 | Tzvetan    | Zielinski | F      | 1989-02-10 |</span><br><span class=\"line\">|  10008 | 1958-02-19 | Saniya     | Kalloufi  | M      | 1994-09-15 |</span><br><span class=\"line\">|  10009 | 1952-04-19 | Sumant     | Peac      | F      | 1985-02-18 |</span><br><span class=\"line\">|  10010 | 1963-06-01 | Duangkaew  | Piveteau  | F      | 1989-08-24 |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">10 rows in set (0.00 sec)</span><br><span class=\"line\">#统计各部门曾经拥有的员工数量</span><br><span class=\"line\">mysql&gt; select dept_no,count(*) emp_sum</span><br><span class=\"line\">    -&gt; from dept_emp</span><br><span class=\"line\">    -&gt; group by dept_no</span><br><span class=\"line\">    -&gt; order by emp_sum desc;</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| dept_no | emp_sum |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| d005    |   85707 |</span><br><span class=\"line\">| d004    |   73485 |</span><br><span class=\"line\">| d007    |   52245 |</span><br><span class=\"line\">| d009    |   23580 |</span><br><span class=\"line\">| d008    |   21126 |</span><br><span class=\"line\">| d001    |   20211 |</span><br><span class=\"line\">| d006    |   20117 |</span><br><span class=\"line\">| d003    |   17786 |</span><br><span class=\"line\">| d002    |   17346 |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">9 rows in set (0.63 sec)</span><br><span class=\"line\">#创建视图</span><br><span class=\"line\">mysql&gt; CREATE VIEW test AS</span><br><span class=\"line\">    -&gt; SELECT dept_no, COUNT(*) AS emp_sum</span><br><span class=\"line\">    -&gt; FROM dept_emp</span><br><span class=\"line\">    -&gt; GROUP BY dept_no</span><br><span class=\"line\">    -&gt; ORDER BY emp_sum DESC</span><br><span class=\"line\">    -&gt; ;</span><br><span class=\"line\">Query OK, 0 rows affected (0.16 sec)</span><br><span class=\"line\">mysql&gt; select * from test;</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| dept_no | emp_sum |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| d005    |   85707 |</span><br><span class=\"line\">| d004    |   73485 |</span><br><span class=\"line\">| d007    |   52245 |</span><br><span class=\"line\">| d009    |   23580 |</span><br><span class=\"line\">| d008    |   21126 |</span><br><span class=\"line\">| d001    |   20211 |</span><br><span class=\"line\">| d006    |   20117 |</span><br><span class=\"line\">| d003    |   17786 |</span><br><span class=\"line\">| d002    |   17346 |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">9 rows in set (0.11 sec)</span><br><span class=\"line\">#联合查询，加上部门名称</span><br><span class=\"line\">mysql&gt; select test.dept_no,emp_sum,dept_name</span><br><span class=\"line\">    -&gt; from test,departments</span><br><span class=\"line\">    -&gt; where test.dept_no = departments.dept_no;</span><br><span class=\"line\">+---------+---------+--------------------+</span><br><span class=\"line\">| dept_no | emp_sum | dept_name          |</span><br><span class=\"line\">+---------+---------+--------------------+</span><br><span class=\"line\">| d009    |   23580 | Customer Service   |</span><br><span class=\"line\">| d005    |   85707 | Development        |</span><br><span class=\"line\">| d002    |   17346 | Finance            |</span><br><span class=\"line\">| d003    |   17786 | Human Resources    |</span><br><span class=\"line\">| d001    |   20211 | Marketing          |</span><br><span class=\"line\">| d004    |   73485 | Production         |</span><br><span class=\"line\">| d006    |   20117 | Quality Management |</span><br><span class=\"line\">| d008    |   21126 | Research           |</span><br><span class=\"line\">| d007    |   52245 | Sales              |</span><br><span class=\"line\">+---------+---------+--------------------+</span><br><span class=\"line\">9 rows in set (0.16 sec)</span><br></pre></td></tr></table></figure><h2 id=\"练习题目和答案：\"><a href=\"#练习题目和答案：\" class=\"headerlink\" title=\"练习题目和答案：\"></a>练习题目和答案：</h2><p>建议看看输出的结果自己写下sql，不要单纯的复制粘贴。</p><p>因为数据量比较大， 很多时候我都加了5条数据的限制。<br><a id=\"more\"></a><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#1.查找整个职员表的所有内容。</span><br><span class=\"line\">mysql&gt; select * from employees limit 5;</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name | last_name | gender | hire_date  |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |</span><br><span class=\"line\">|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |</span><br><span class=\"line\">|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |</span><br><span class=\"line\">|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |</span><br><span class=\"line\">|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#2.查看雇员名字(last_name)。</span><br><span class=\"line\">mysql&gt; select last_name from employees limit 5;</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| last_name |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| Facello   |</span><br><span class=\"line\">| Simmel    |</span><br><span class=\"line\">| Bamford   |</span><br><span class=\"line\">| Koblick   |</span><br><span class=\"line\">| Maliniak  |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#3.查看雇员编号、名字和部门</span><br><span class=\"line\">mysql&gt; select e.last_name,e.emp_no,d.dept_name from employees e,departments d,dept_emp de where e.emp_no = de.emp_no and de.dept_no = d.dept_no limit 5;</span><br><span class=\"line\">+-------------+--------+------------------+</span><br><span class=\"line\">| last_name   | emp_no | dept_name        |</span><br><span class=\"line\">+-------------+--------+------------------+</span><br><span class=\"line\">| Sluis       |  10011 | Customer Service |</span><br><span class=\"line\">| Lortz       |  10038 | Customer Service |</span><br><span class=\"line\">| Tramer      |  10049 | Customer Service |</span><br><span class=\"line\">| Billingsley |  10060 | Customer Service |</span><br><span class=\"line\">| Syrzycki    |  10088 | Customer Service |</span><br><span class=\"line\">+-------------+--------+------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#4.显示所有雇员的工号、姓名、工资</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.last_name,&apos; &apos;,e.first_name) name,s.salary from employees e,salaries s where e.emp_no=s.emp_no limit 5;</span><br><span class=\"line\">+--------+----------------+--------+</span><br><span class=\"line\">| emp_no | name           | salary |</span><br><span class=\"line\">+--------+----------------+--------+</span><br><span class=\"line\">|  10001 | Facello Georgi |  60117 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  62102 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  66074 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  66596 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  66961 |</span><br><span class=\"line\">+--------+----------------+--------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#5.查找在d005号部门工作的雇员</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.last_name,&apos; &apos;,e.first_name) name,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no = d.dept_no and d.dept_no = &apos;d005&apos; limit 5;</span><br><span class=\"line\">+--------+--------------------+---------+-------------+</span><br><span class=\"line\">| emp_no | name               | dept_no | dept_name   |</span><br><span class=\"line\">+--------+--------------------+---------+-------------+</span><br><span class=\"line\">|  10001 | Facello Georgi     | d005    | Development |</span><br><span class=\"line\">|  10006 | Preusig Anneke     | d005    | Development |</span><br><span class=\"line\">|  10008 | Kalloufi Saniya    | d005    | Development |</span><br><span class=\"line\">|  10012 | Bridgland Patricio | d005    | Development |</span><br><span class=\"line\">|  10014 | Genin Berni        | d005    | Development |</span><br><span class=\"line\">+--------+--------------------+---------+-------------+</span><br><span class=\"line\">5 rows in set (0.05 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#6.要求查找职位为Engineer和Senior Engineer的雇员姓名(last_name)</span><br><span class=\"line\">mysql&gt; select e.last_name from employees e,titles t where t.emp_no=e.emp_no and t.title in(&apos;Engineer&apos;,&apos;Senior Engineer&apos;) limit  5;</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| last_name |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| Facello   |</span><br><span class=\"line\">| Bamford   |</span><br><span class=\"line\">| Koblick   |</span><br><span class=\"line\">| Koblick   |</span><br><span class=\"line\">| Preusig   |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#7.查找职位不是Engineer和Senior Engineer的部门编号，雇员部门及姓名。将姓名显示为(first_name+last_name命名为”Name”)</span><br><span class=\"line\">mysql&gt; select d.dept_no,d.dept_name,concat(e.first_name,&apos; &apos;,e.last_name) name from employees e,titles t,dept_emp de,departmentss d where e.emp_no=de.emp_no and de.dept_no = d.dept_no and t.emp_no = e.emp_no and t.title not in(&apos;Engineer&apos;,&apos;Senior Engineer&apos;&apos;) limit 5;</span><br><span class=\"line\">+---------+------------------+--------------+</span><br><span class=\"line\">| dept_no | dept_name        | name         |</span><br><span class=\"line\">+---------+------------------+--------------+</span><br><span class=\"line\">| d009    | Customer Service | Mary Sluis   |</span><br><span class=\"line\">| d009    | Customer Service | Huan Lortz   |</span><br><span class=\"line\">| d009    | Customer Service | Huan Lortz   |</span><br><span class=\"line\">| d009    | Customer Service | Basil Tramer |</span><br><span class=\"line\">| d009    | Customer Service | Basil Tramer |</span><br><span class=\"line\">+---------+------------------+--------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#8.查找哪些雇员的工资在60000到90000之间</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,e.last_name) name,s.salary from employees e,salaries s where s.salary between 60000 and 90000 and e.emp_no = s.emp_no limit 5;</span><br><span class=\"line\">+----------------+--------+</span><br><span class=\"line\">| name           | salary |</span><br><span class=\"line\">+----------------+--------+</span><br><span class=\"line\">| Georgi Facello |  60117 |</span><br><span class=\"line\">| Georgi Facello |  62102 |</span><br><span class=\"line\">| Georgi Facello |  66074 |</span><br><span class=\"line\">| Georgi Facello |  66596 |</span><br><span class=\"line\">| Georgi Facello |  66961 |</span><br><span class=\"line\">+----------------+--------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#9.查找哪些雇员的工资不在60000到90000之间</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,e.last_name) name,s.salary from employees e,salaries s where s.salary not between 60000 and 90000 and e.emp_no = s.emp_no limit 10;</span><br><span class=\"line\">+-------------------+--------+</span><br><span class=\"line\">| name              | salary |</span><br><span class=\"line\">+-------------------+--------+</span><br><span class=\"line\">| Parto Bamford     |  40006 |</span><br><span class=\"line\">| Parto Bamford     |  43616 |</span><br><span class=\"line\">| Parto Bamford     |  43466 |</span><br><span class=\"line\">| Parto Bamford     |  43636 |</span><br><span class=\"line\">| Parto Bamford     |  43478 |</span><br><span class=\"line\">| Parto Bamford     |  43699 |</span><br><span class=\"line\">| Parto Bamford     |  43311 |</span><br><span class=\"line\">| Chirstian Koblick |  40054 |</span><br><span class=\"line\">| Chirstian Koblick |  42283 |</span><br><span class=\"line\">| Chirstian Koblick |  42542 |</span><br><span class=\"line\">+-------------------+--------+</span><br><span class=\"line\">10 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#10.查找first_name以P开头，后面仅有四个字母的雇员信息</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.first_name,&apos; &apos;,e.last_name) name from employees e where e.first_name like &apos;P____&apos; and e.first_name not like &apos;p__&apos; limit 5;</span><br><span class=\"line\">+--------+---------------------+</span><br><span class=\"line\">| emp_no | name                |</span><br><span class=\"line\">+--------+---------------------+</span><br><span class=\"line\">|  10003 | Parto Bamford       |</span><br><span class=\"line\">|  10101 | Perla Heyers        |</span><br><span class=\"line\">|  10138 | Perry Shimshoni     |</span><br><span class=\"line\">|  10353 | Phule Hammerschmidt |</span><br><span class=\"line\">|  10387 | Parto Wrigley       |</span><br><span class=\"line\">+--------+---------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#11.查找last_name以K开头的雇员信息</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.first_name,&apos; &apos;,e.last_name) name from employees e where e.first_name like &apos;K%&apos; limit 5; </span><br><span class=\"line\">+--------+----------------------+</span><br><span class=\"line\">| emp_no | name                 |</span><br><span class=\"line\">+--------+----------------------+</span><br><span class=\"line\">|  10005 | Kyoichi Maliniak     |</span><br><span class=\"line\">|  10016 | Kazuhito Cappelletti |</span><br><span class=\"line\">|  10018 | Kazuhide Peha        |</span><br><span class=\"line\">|  10031 | Karsten Joslin       |</span><br><span class=\"line\">|  10066 | Kwee Schusler        |</span><br><span class=\"line\">+--------+----------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#12.查找名字以字母K开头，以i结尾，并且第三个字母为o的雇员名字(First_name)、职位和所在部门号</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,e.last_name) name,t.title,de.dept_no from employees e,dept_emp de,titles t where e.first_name like &apos;K_o%i&apos; and e.emp_no = t.emp_no and e.emp_no = de.emp_no limit 5;</span><br><span class=\"line\">+------------------+--------------+---------+</span><br><span class=\"line\">| name             | title        | dept_no |</span><br><span class=\"line\">+------------------+--------------+---------+</span><br><span class=\"line\">| Kyoichi Maliniak | Senior Staff | d003    |</span><br><span class=\"line\">| Kyoichi Maliniak | Staff        | d003    |</span><br><span class=\"line\">| Kyoichi Wossner  | Staff        | d007    |</span><br><span class=\"line\">| Kyoichi Flexer   | Senior Staff | d007    |</span><br><span class=\"line\">| Kyoichi Flexer   | Staff        | d007    |</span><br><span class=\"line\">+------------------+--------------+---------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#13.查找哪些雇员的职位名不以Se开头</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,t.title from employees e,titles t where e.emp_no = t.emp_no and t.title not like &apos;Se%&apos; limit 5;</span><br><span class=\"line\">+-------------------+--------------------+</span><br><span class=\"line\">| name              | title              |</span><br><span class=\"line\">+-------------------+--------------------+</span><br><span class=\"line\">| Bezalel Simmel    | Staff              |</span><br><span class=\"line\">| Chirstian Koblick | Engineer           |</span><br><span class=\"line\">| Kyoichi Maliniak  | Staff              |</span><br><span class=\"line\">| Tzvetan Zielinski | Staff              |</span><br><span class=\"line\">| Saniya Kalloufi   | Assistant Engineer |</span><br><span class=\"line\">+-------------------+--------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#14.查找d005号部门里不是Staff的雇员信息</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,t.title from employees e,dept_emp de,titles t where e.emp_no = de.emp_no  and e.emp_no = t.emp_no and t.title != &apos;Staff&apos; limit 5;</span><br><span class=\"line\">+-------------------+-----------------+</span><br><span class=\"line\">| name              | title           |</span><br><span class=\"line\">+-------------------+-----------------+</span><br><span class=\"line\">| Georgi Facello    | Senior Engineer |</span><br><span class=\"line\">| Parto Bamford     | Senior Engineer |</span><br><span class=\"line\">| Chirstian Koblick | Engineer        |</span><br><span class=\"line\">| Chirstian Koblick | Senior Engineer |</span><br><span class=\"line\">| Kyoichi Maliniak  | Senior Staff    |</span><br><span class=\"line\">+-------------------+-----------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#15.查找d005号部门工资大于100000的员工的信息</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,t.title,s.salary from employees e,dept_emp de,titles t,salaries s where e.emp_no = de.emp_no and e.emp_no = t.emp_no and e.emp_no = s.emp_no and de.dept_no = &apos;d005&apos; and s.salary &gt; 100000 limit 5;</span><br><span class=\"line\">+---------------+--------------------+--------+</span><br><span class=\"line\">| name          | title              | salary |</span><br><span class=\"line\">+---------------+--------------------+--------+</span><br><span class=\"line\">| Kwee Schusler | Assistant Engineer | 102425 |</span><br><span class=\"line\">| Kwee Schusler | Assistant Engineer | 102674 |</span><br><span class=\"line\">| Kwee Schusler | Assistant Engineer | 103672 |</span><br><span class=\"line\">| Kwee Schusler | Engineer           | 102425 |</span><br><span class=\"line\">| Kwee Schusler | Engineer           | 102674 |</span><br><span class=\"line\">+---------------+--------------------+--------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#16.按字母顺序显示雇员的名字(last_name)</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name from employees e order by e.last_name limit 5;</span><br><span class=\"line\">+------------------+</span><br><span class=\"line\">| name             |</span><br><span class=\"line\">+------------------+</span><br><span class=\"line\">| Aluzio Aamodt    |</span><br><span class=\"line\">| Sachem Aamodt    |</span><br><span class=\"line\">| Sreenivas Aamodt |</span><br><span class=\"line\">| Mokhtar Aamodt   |</span><br><span class=\"line\">| Bartek Aamodt    |</span><br><span class=\"line\">+------------------+</span><br><span class=\"line\">5 rows in set (0.24 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#17.按部门编号降序显示雇员信息</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,de.dept_no from employees e,dept_emp de where e.emp_no = de.emp_no order by de.dept_no desc limit 5;</span><br><span class=\"line\">+-------------------+---------+</span><br><span class=\"line\">| name              | dept_no |</span><br><span class=\"line\">+-------------------+---------+</span><br><span class=\"line\">| Pohua Sichman     | d009    |</span><br><span class=\"line\">| Uri Juneja        | d009    |</span><br><span class=\"line\">| Mohammed Pleszkun | d009    |</span><br><span class=\"line\">| Chiranjit Kuzuoka | d009    |</span><br><span class=\"line\">| Ronghao Morrow    | d009    |</span><br><span class=\"line\">+-------------------+---------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#18.计算每个部门的平均工资和工资总和</span><br><span class=\"line\">mysql&gt; select de.dept_no,sum(s.salary),avg(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;</span><br><span class=\"line\">+---------+---------------+---------------+</span><br><span class=\"line\">| dept_no | sum(s.salary) | avg(s.salary) |</span><br><span class=\"line\">+---------+---------------+---------------+</span><br><span class=\"line\">| d001    |   13725425266 |    71913.2000 |</span><br><span class=\"line\">| d002    |   11650834677 |    70489.3649 |</span><br><span class=\"line\">| d003    |    9363811425 |    55574.8794 |</span><br><span class=\"line\">| d004    |   41554438942 |    59605.4825 |</span><br><span class=\"line\">| d005    |   48179456393 |    59478.9012 |</span><br><span class=\"line\">| d006    |   10865203635 |    57251.2719 |</span><br><span class=\"line\">| d007    |   40030089342 |    80667.6058 |</span><br><span class=\"line\">| d008    |   11969730427 |    59665.1817 |</span><br><span class=\"line\">| d009    |   13143639841 |    58770.3665 |</span><br><span class=\"line\">+---------+---------------+---------------+</span><br><span class=\"line\">9 rows in set (7.14 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#19.查询每个部门的每个职位的雇员数</span><br><span class=\"line\">mysql&gt; select de.dept_no,t.title,sum(e.emp_no) from employees e,dept_emp de,titles t where e.emp_no = de.emp_no and e.emp_no = t.emp_no group by de.dept_no,t.title limit 5;</span><br><span class=\"line\">+---------+--------------+---------------+</span><br><span class=\"line\">| dept_no | title        | sum(e.emp_no) |</span><br><span class=\"line\">+---------+--------------+---------------+</span><br><span class=\"line\">| d001    | Manager      |        220061 |</span><br><span class=\"line\">| d001    | Senior Staff |    3561178455 |</span><br><span class=\"line\">| d001    | Staff        |    4142508539 |</span><br><span class=\"line\">| d002    | Manager      |        220199 |</span><br><span class=\"line\">| d002    | Senior Staff |    3090249864 |</span><br><span class=\"line\">+---------+--------------+---------------+</span><br><span class=\"line\">5 rows in set (3.13 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#20.请算出employees表中所有雇员的平均工资</span><br><span class=\"line\">mysql&gt; select avg(s.salary) from employees e,salaries s where e.emp_no = s.emp_no;</span><br><span class=\"line\">+---------------+</span><br><span class=\"line\">| avg(s.salary) |</span><br><span class=\"line\">+---------------+</span><br><span class=\"line\">|    63810.7448 |</span><br><span class=\"line\">+---------------+</span><br><span class=\"line\">1 row in set (4.48 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#21.请查询出employees表中的最低工资的员工信息</span><br><span class=\"line\">mysql&gt; select concat(first_name,&apos; &apos;,last_name) name from employees e,salaries s where e.emp_no = s.emp_no and s.salary = (selecct min(s.salary) salary from salaries s);</span><br><span class=\"line\">+--------------+</span><br><span class=\"line\">| name         |</span><br><span class=\"line\">+--------------+</span><br><span class=\"line\">| Olivera Baek |</span><br><span class=\"line\">+--------------+</span><br><span class=\"line\">1 row in set (1.99 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#22.请计算出每个部门的平均工资、最高工资和最低工资</span><br><span class=\"line\">mysql&gt; select de.dept_no,avg(s.salary),max(s.salary),min(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;</span><br><span class=\"line\">+---------+---------------+---------------+---------------+</span><br><span class=\"line\">| dept_no | avg(s.salary) | max(s.salary) | min(s.salary) |</span><br><span class=\"line\">+---------+---------------+---------------+---------------+</span><br><span class=\"line\">| d001    |    71913.2000 |        145128 |         39127 |</span><br><span class=\"line\">| d002    |    70489.3649 |        142395 |         38812 |</span><br><span class=\"line\">| d003    |    55574.8794 |        141953 |         38735 |</span><br><span class=\"line\">| d004    |    59605.4825 |        138273 |         38623 |</span><br><span class=\"line\">| d005    |    59478.9012 |        144434 |         38849 |</span><br><span class=\"line\">| d006    |    57251.2719 |        132103 |         38786 |</span><br><span class=\"line\">| d007    |    80667.6058 |        158220 |         39169 |</span><br><span class=\"line\">| d008    |    59665.1817 |        130211 |         38851 |</span><br><span class=\"line\">| d009    |    58770.3665 |        144866 |         38836 |</span><br><span class=\"line\">+---------+---------------+---------------+---------------+</span><br><span class=\"line\">9 rows in set (7.06 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#23.查询薪水发放时间在1986-06-26 ~ 1987-06-25薪水高于46145号雇员并且工种与他相同的雇员情况。</span><br><span class=\"line\">select e.*  from employees e,titles t,salaries s  where e.emp_no = t.emp_no  and e.emp_no = t.emp_no  and t.title = (select title from titles where emp_no = 46135)  and s.salary &gt; (select s.salary from salaries s where s.from_date &gt; str_to_date(&apos;1986-06-26&apos;,&apos;%Y-%m-%d&apos;) and s.to_date &lt; str_to_date(&apos;1987-06-2 25&apos;,&apos;%Y-%m-%d&apos;) and s.emp_no = &apos;46135&apos;)  and s.from_date &gt; str_to_date(&apos;1986-06-26&apos;,&apos;%Y-%m-%d&apos;) and s.to_date &lt; str_to_date(&apos;1987-06-2 25&apos;,&apos;%Y-%m-%d&apos;) limit 10;</span><br><span class=\"line\">+--------+------------+------------+------------+--------+------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name | last_name  | gender | hire_date  |</span><br><span class=\"line\">+--------+------------+------------+------------+--------+------------+</span><br><span class=\"line\">|  10004 | 1954-05-01 | Chirstian  | Koblick    | M      | 1986-12-01 |</span><br><span class=\"line\">|  10009 | 1952-04-19 | Sumant     | Peac       | F      | 1985-02-18 |</span><br><span class=\"line\">|  10010 | 1963-06-01 | Duangkaew  | Piveteau   | F      | 1989-08-24 |</span><br><span class=\"line\">|  10012 | 1960-10-04 | Patricio   | Bridgland  | M      | 1992-12-18 |</span><br><span class=\"line\">|  10014 | 1956-02-12 | Berni      | Genin      | M      | 1987-03-11 |</span><br><span class=\"line\">|  10018 | 1954-06-19 | Kazuhide   | Peha       | F      | 1987-04-03 |</span><br><span class=\"line\">|  10020 | 1952-12-24 | Mayuko     | Warwick    | M      | 1991-01-26 |</span><br><span class=\"line\">|  10022 | 1952-07-08 | Shahaf     | Famili     | M      | 1995-08-22 |</span><br><span class=\"line\">|  10023 | 1953-09-29 | Bojan      | Montemayor | F      | 1989-12-17 |</span><br><span class=\"line\">|  10026 | 1953-04-03 | Yongqiao   | Berztiss   | M      | 1995-03-20 |</span><br><span class=\"line\">+--------+------------+------------+------------+--------+------------+</span><br><span class=\"line\">10 rows in set, 2 warnings (0.05 sec)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">#24.查询工资在10000到50000之间的雇员所在部门的所有人员的信息。</span><br><span class=\"line\">mysql&gt; select e.*,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no =d.dept_no and e.emp_no in (select distinct s.emp_no from salaries s where s.salary between 10000 and 50000) limit 10;</span><br><span class=\"line\">+--------+------------+-------------+-----------+--------+------------+---------+------------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name  | last_name | gender | hire_date  | dept_no | dept_name        |</span><br><span class=\"line\">+--------+------------+-------------+-----------+--------+------------+---------+------------------+</span><br><span class=\"line\">|  10011 | 1953-11-07 | Mary        | Sluis     | F      | 1990-01-22 | d009    | Customer Service |</span><br><span class=\"line\">|  10038 | 1960-07-20 | Huan        | Lortz     | M      | 1989-09-20 | d009    | Customer Service |</span><br><span class=\"line\">|  10049 | 1961-04-24 | Basil       | Tramer    | F      | 1992-05-04 | d009    | Customer Service |</span><br><span class=\"line\">|  10098 | 1961-09-23 | Sreekrishna | Servieres | F      | 1985-05-13 | d009    | Customer Service |</span><br><span class=\"line\">|  10112 | 1963-08-13 | Yuichiro    | Swick     | F      | 1985-10-08 | d009    | Customer Service |</span><br><span class=\"line\">|  10115 | 1964-12-25 | Chikara     | Rissland  | M      | 1986-01-23 | d009    | Customer Service |</span><br><span class=\"line\">|  10126 | 1954-08-07 | Kayoko      | Valtorta  | M      | 1985-09-08 | d009    | Customer Service |</span><br><span class=\"line\">|  10128 | 1958-02-15 | Babette     | Lamba     | F      | 1988-06-06 | d009    | Customer Service |</span><br><span class=\"line\">|  10137 | 1959-07-30 | Maren       | Hutton    | M      | 1985-02-18 | d009    | Customer Service |</span><br><span class=\"line\">|  10154 | 1957-01-17 | Abdulah     | Thibadeau | F      | 1990-12-12 | d009    | Customer Service |</span><br><span class=\"line\">+--------+------------+-------------+-----------+--------+------------+---------+------------------+</span><br><span class=\"line\">10 rows in set (1.28 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#25.查询出在薪水发放时间在1986-06-26 ~ 1987-06-25的员工信息</span><br><span class=\"line\">###（工号，姓名，性别，薪水，职位）</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.first_name,&quot; &quot;,e.last_name) name,e.gender,s.salary,t.title from employees e,salaries s,titles t where e.emp_no = s.emp_no and e.emp_no = t.emp_no and s.from_date &gt; str_to_date(&apos;1986-06-26&apos;,&apos;%Y-%m-%d&apos;) and s.to_date &lt; str_to_date(&apos;1987-06-2 25&apos;,&apos;%Y-%m-%d&apos;) limit 10;</span><br><span class=\"line\">+--------+-------------------+--------+--------+-----------------+</span><br><span class=\"line\">| emp_no | name              | gender | salary | title           |</span><br><span class=\"line\">+--------+-------------------+--------+--------+-----------------+</span><br><span class=\"line\">|  13543 | Tua Garigliano    | F      |  78646 | Staff           |</span><br><span class=\"line\">|  13589 | Arfst Munck       | F      |  44306 | Staff           |</span><br><span class=\"line\">|  14085 | Jiafu Constantine | F      |  43575 | Staff           |</span><br><span class=\"line\">|  14613 | Kien Herath       | M      |  54124 | Staff           |</span><br><span class=\"line\">|  19083 | Nobuyoshi Asmuth  | M      |  40000 | Engineer        |</span><br><span class=\"line\">|  19135 | Leaf Soicher      | M      |  40000 | Senior Engineer |</span><br><span class=\"line\">|  19761 | Vasiliy Niizuma   | M      |  65098 | Staff           |</span><br><span class=\"line\">|  19769 | Bezalel Holburn   | M      |  53118 | Engineer        |</span><br><span class=\"line\">|  22892 | Giao Monkewich    | M      |  79554 | Senior Staff    |</span><br><span class=\"line\">|  24101 | Yakichi Manderick | F      |  45092 | Engineer        |</span><br><span class=\"line\">+--------+-------------------+--------+--------+-----------------+</span><br><span class=\"line\">10 rows in set, 1 warning (0.07 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>Employees数据库是mysql官方提供的一个测试用数据库</p><p>里面含有几十万条数据。</p><p>找了好久也没有找到比较匹配的题目</p><p>就找了个匹配度比较高的题来练习，如果你还没有导入Employees Sample Database</p><p><strong>请参考：<a href=\"http://hisen.me/20170401-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85%E5%AE%98%E6%96%B9%E8%87%AA%E5%B8%A6employees%E6%B5%8B%E8%AF%95%E8%A1%A8/\" target=\"_blank\">点击导入Employees</a></strong></p><p>本次操作在Xshell中完成，也就是mysql命令行。</p><h2 id=\"简单的操作\"><a href=\"#简单的操作\" class=\"headerlink\" title=\"简单的操作\"></a>简单的操作</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#登陆数据库</span><br><span class=\"line\">hisen@ubuntu:/$ mysql -u root -p</span><br><span class=\"line\">Enter password: </span><br><span class=\"line\">Welcome to the MySQL monitor.  Commands end with ; or \\g.</span><br><span class=\"line\">Your MySQL connection id is 8</span><br><span class=\"line\">Server version: 5.7.17-0ubuntu0.16.04.2 (Ubuntu)</span><br><span class=\"line\"></span><br><span class=\"line\">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</span><br><span class=\"line\"></span><br><span class=\"line\">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class=\"line\">affiliates. Other names may be trademarks of their respective</span><br><span class=\"line\">owners.</span><br><span class=\"line\"></span><br><span class=\"line\">Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; show databases;</span><br><span class=\"line\">+--------------------+</span><br><span class=\"line\">| Database           |</span><br><span class=\"line\">+--------------------+</span><br><span class=\"line\">| information_schema |</span><br><span class=\"line\">| employees          |</span><br><span class=\"line\">| log4j              |</span><br><span class=\"line\">| mysql              |</span><br><span class=\"line\">| performance_schema |</span><br><span class=\"line\">| ssm                |</span><br><span class=\"line\">| sys                |</span><br><span class=\"line\">+--------------------+</span><br><span class=\"line\">7 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; use employees</span><br><span class=\"line\">Reading table information for completion of table and column names</span><br><span class=\"line\">You can turn off this feature to get a quicker startup with -A</span><br><span class=\"line\"></span><br><span class=\"line\">Database changed</span><br><span class=\"line\">mysql&gt; show tables;</span><br><span class=\"line\">+----------------------+</span><br><span class=\"line\">| Tables_in_employees  |</span><br><span class=\"line\">+----------------------+</span><br><span class=\"line\">| current_dept_emp     |</span><br><span class=\"line\">| departments          |</span><br><span class=\"line\">| dept_emp             |</span><br><span class=\"line\">| dept_emp_latest_date |</span><br><span class=\"line\">| dept_manager         |</span><br><span class=\"line\">| employees            |</span><br><span class=\"line\">| salaries             |</span><br><span class=\"line\">| titles               |</span><br><span class=\"line\">+----------------------+</span><br><span class=\"line\">8 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; select * from employees limit 10;</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name | last_name | gender | hire_date  |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |</span><br><span class=\"line\">|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |</span><br><span class=\"line\">|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |</span><br><span class=\"line\">|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |</span><br><span class=\"line\">|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |</span><br><span class=\"line\">|  10006 | 1953-04-20 | Anneke     | Preusig   | F      | 1989-06-02 |</span><br><span class=\"line\">|  10007 | 1957-05-23 | Tzvetan    | Zielinski | F      | 1989-02-10 |</span><br><span class=\"line\">|  10008 | 1958-02-19 | Saniya     | Kalloufi  | M      | 1994-09-15 |</span><br><span class=\"line\">|  10009 | 1952-04-19 | Sumant     | Peac      | F      | 1985-02-18 |</span><br><span class=\"line\">|  10010 | 1963-06-01 | Duangkaew  | Piveteau  | F      | 1989-08-24 |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">10 rows in set (0.00 sec)</span><br><span class=\"line\">#统计各部门曾经拥有的员工数量</span><br><span class=\"line\">mysql&gt; select dept_no,count(*) emp_sum</span><br><span class=\"line\">    -&gt; from dept_emp</span><br><span class=\"line\">    -&gt; group by dept_no</span><br><span class=\"line\">    -&gt; order by emp_sum desc;</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| dept_no | emp_sum |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| d005    |   85707 |</span><br><span class=\"line\">| d004    |   73485 |</span><br><span class=\"line\">| d007    |   52245 |</span><br><span class=\"line\">| d009    |   23580 |</span><br><span class=\"line\">| d008    |   21126 |</span><br><span class=\"line\">| d001    |   20211 |</span><br><span class=\"line\">| d006    |   20117 |</span><br><span class=\"line\">| d003    |   17786 |</span><br><span class=\"line\">| d002    |   17346 |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">9 rows in set (0.63 sec)</span><br><span class=\"line\">#创建视图</span><br><span class=\"line\">mysql&gt; CREATE VIEW test AS</span><br><span class=\"line\">    -&gt; SELECT dept_no, COUNT(*) AS emp_sum</span><br><span class=\"line\">    -&gt; FROM dept_emp</span><br><span class=\"line\">    -&gt; GROUP BY dept_no</span><br><span class=\"line\">    -&gt; ORDER BY emp_sum DESC</span><br><span class=\"line\">    -&gt; ;</span><br><span class=\"line\">Query OK, 0 rows affected (0.16 sec)</span><br><span class=\"line\">mysql&gt; select * from test;</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| dept_no | emp_sum |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">| d005    |   85707 |</span><br><span class=\"line\">| d004    |   73485 |</span><br><span class=\"line\">| d007    |   52245 |</span><br><span class=\"line\">| d009    |   23580 |</span><br><span class=\"line\">| d008    |   21126 |</span><br><span class=\"line\">| d001    |   20211 |</span><br><span class=\"line\">| d006    |   20117 |</span><br><span class=\"line\">| d003    |   17786 |</span><br><span class=\"line\">| d002    |   17346 |</span><br><span class=\"line\">+---------+---------+</span><br><span class=\"line\">9 rows in set (0.11 sec)</span><br><span class=\"line\">#联合查询，加上部门名称</span><br><span class=\"line\">mysql&gt; select test.dept_no,emp_sum,dept_name</span><br><span class=\"line\">    -&gt; from test,departments</span><br><span class=\"line\">    -&gt; where test.dept_no = departments.dept_no;</span><br><span class=\"line\">+---------+---------+--------------------+</span><br><span class=\"line\">| dept_no | emp_sum | dept_name          |</span><br><span class=\"line\">+---------+---------+--------------------+</span><br><span class=\"line\">| d009    |   23580 | Customer Service   |</span><br><span class=\"line\">| d005    |   85707 | Development        |</span><br><span class=\"line\">| d002    |   17346 | Finance            |</span><br><span class=\"line\">| d003    |   17786 | Human Resources    |</span><br><span class=\"line\">| d001    |   20211 | Marketing          |</span><br><span class=\"line\">| d004    |   73485 | Production         |</span><br><span class=\"line\">| d006    |   20117 | Quality Management |</span><br><span class=\"line\">| d008    |   21126 | Research           |</span><br><span class=\"line\">| d007    |   52245 | Sales              |</span><br><span class=\"line\">+---------+---------+--------------------+</span><br><span class=\"line\">9 rows in set (0.16 sec)</span><br></pre></td></tr></table></figure><h2 id=\"练习题目和答案：\"><a href=\"#练习题目和答案：\" class=\"headerlink\" title=\"练习题目和答案：\"></a>练习题目和答案：</h2><p>建议看看输出的结果自己写下sql，不要单纯的复制粘贴。</p><p>因为数据量比较大， 很多时候我都加了5条数据的限制。<br>","more":"<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#1.查找整个职员表的所有内容。</span><br><span class=\"line\">mysql&gt; select * from employees limit 5;</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name | last_name | gender | hire_date  |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |</span><br><span class=\"line\">|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |</span><br><span class=\"line\">|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |</span><br><span class=\"line\">|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |</span><br><span class=\"line\">|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |</span><br><span class=\"line\">+--------+------------+------------+-----------+--------+------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#2.查看雇员名字(last_name)。</span><br><span class=\"line\">mysql&gt; select last_name from employees limit 5;</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| last_name |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| Facello   |</span><br><span class=\"line\">| Simmel    |</span><br><span class=\"line\">| Bamford   |</span><br><span class=\"line\">| Koblick   |</span><br><span class=\"line\">| Maliniak  |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#3.查看雇员编号、名字和部门</span><br><span class=\"line\">mysql&gt; select e.last_name,e.emp_no,d.dept_name from employees e,departments d,dept_emp de where e.emp_no = de.emp_no and de.dept_no = d.dept_no limit 5;</span><br><span class=\"line\">+-------------+--------+------------------+</span><br><span class=\"line\">| last_name   | emp_no | dept_name        |</span><br><span class=\"line\">+-------------+--------+------------------+</span><br><span class=\"line\">| Sluis       |  10011 | Customer Service |</span><br><span class=\"line\">| Lortz       |  10038 | Customer Service |</span><br><span class=\"line\">| Tramer      |  10049 | Customer Service |</span><br><span class=\"line\">| Billingsley |  10060 | Customer Service |</span><br><span class=\"line\">| Syrzycki    |  10088 | Customer Service |</span><br><span class=\"line\">+-------------+--------+------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#4.显示所有雇员的工号、姓名、工资</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.last_name,&apos; &apos;,e.first_name) name,s.salary from employees e,salaries s where e.emp_no=s.emp_no limit 5;</span><br><span class=\"line\">+--------+----------------+--------+</span><br><span class=\"line\">| emp_no | name           | salary |</span><br><span class=\"line\">+--------+----------------+--------+</span><br><span class=\"line\">|  10001 | Facello Georgi |  60117 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  62102 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  66074 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  66596 |</span><br><span class=\"line\">|  10001 | Facello Georgi |  66961 |</span><br><span class=\"line\">+--------+----------------+--------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#5.查找在d005号部门工作的雇员</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.last_name,&apos; &apos;,e.first_name) name,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no = d.dept_no and d.dept_no = &apos;d005&apos; limit 5;</span><br><span class=\"line\">+--------+--------------------+---------+-------------+</span><br><span class=\"line\">| emp_no | name               | dept_no | dept_name   |</span><br><span class=\"line\">+--------+--------------------+---------+-------------+</span><br><span class=\"line\">|  10001 | Facello Georgi     | d005    | Development |</span><br><span class=\"line\">|  10006 | Preusig Anneke     | d005    | Development |</span><br><span class=\"line\">|  10008 | Kalloufi Saniya    | d005    | Development |</span><br><span class=\"line\">|  10012 | Bridgland Patricio | d005    | Development |</span><br><span class=\"line\">|  10014 | Genin Berni        | d005    | Development |</span><br><span class=\"line\">+--------+--------------------+---------+-------------+</span><br><span class=\"line\">5 rows in set (0.05 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#6.要求查找职位为Engineer和Senior Engineer的雇员姓名(last_name)</span><br><span class=\"line\">mysql&gt; select e.last_name from employees e,titles t where t.emp_no=e.emp_no and t.title in(&apos;Engineer&apos;,&apos;Senior Engineer&apos;) limit  5;</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| last_name |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">| Facello   |</span><br><span class=\"line\">| Bamford   |</span><br><span class=\"line\">| Koblick   |</span><br><span class=\"line\">| Koblick   |</span><br><span class=\"line\">| Preusig   |</span><br><span class=\"line\">+-----------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#7.查找职位不是Engineer和Senior Engineer的部门编号，雇员部门及姓名。将姓名显示为(first_name+last_name命名为”Name”)</span><br><span class=\"line\">mysql&gt; select d.dept_no,d.dept_name,concat(e.first_name,&apos; &apos;,e.last_name) name from employees e,titles t,dept_emp de,departmentss d where e.emp_no=de.emp_no and de.dept_no = d.dept_no and t.emp_no = e.emp_no and t.title not in(&apos;Engineer&apos;,&apos;Senior Engineer&apos;&apos;) limit 5;</span><br><span class=\"line\">+---------+------------------+--------------+</span><br><span class=\"line\">| dept_no | dept_name        | name         |</span><br><span class=\"line\">+---------+------------------+--------------+</span><br><span class=\"line\">| d009    | Customer Service | Mary Sluis   |</span><br><span class=\"line\">| d009    | Customer Service | Huan Lortz   |</span><br><span class=\"line\">| d009    | Customer Service | Huan Lortz   |</span><br><span class=\"line\">| d009    | Customer Service | Basil Tramer |</span><br><span class=\"line\">| d009    | Customer Service | Basil Tramer |</span><br><span class=\"line\">+---------+------------------+--------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#8.查找哪些雇员的工资在60000到90000之间</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,e.last_name) name,s.salary from employees e,salaries s where s.salary between 60000 and 90000 and e.emp_no = s.emp_no limit 5;</span><br><span class=\"line\">+----------------+--------+</span><br><span class=\"line\">| name           | salary |</span><br><span class=\"line\">+----------------+--------+</span><br><span class=\"line\">| Georgi Facello |  60117 |</span><br><span class=\"line\">| Georgi Facello |  62102 |</span><br><span class=\"line\">| Georgi Facello |  66074 |</span><br><span class=\"line\">| Georgi Facello |  66596 |</span><br><span class=\"line\">| Georgi Facello |  66961 |</span><br><span class=\"line\">+----------------+--------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#9.查找哪些雇员的工资不在60000到90000之间</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,e.last_name) name,s.salary from employees e,salaries s where s.salary not between 60000 and 90000 and e.emp_no = s.emp_no limit 10;</span><br><span class=\"line\">+-------------------+--------+</span><br><span class=\"line\">| name              | salary |</span><br><span class=\"line\">+-------------------+--------+</span><br><span class=\"line\">| Parto Bamford     |  40006 |</span><br><span class=\"line\">| Parto Bamford     |  43616 |</span><br><span class=\"line\">| Parto Bamford     |  43466 |</span><br><span class=\"line\">| Parto Bamford     |  43636 |</span><br><span class=\"line\">| Parto Bamford     |  43478 |</span><br><span class=\"line\">| Parto Bamford     |  43699 |</span><br><span class=\"line\">| Parto Bamford     |  43311 |</span><br><span class=\"line\">| Chirstian Koblick |  40054 |</span><br><span class=\"line\">| Chirstian Koblick |  42283 |</span><br><span class=\"line\">| Chirstian Koblick |  42542 |</span><br><span class=\"line\">+-------------------+--------+</span><br><span class=\"line\">10 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#10.查找first_name以P开头，后面仅有四个字母的雇员信息</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.first_name,&apos; &apos;,e.last_name) name from employees e where e.first_name like &apos;P____&apos; and e.first_name not like &apos;p__&apos; limit 5;</span><br><span class=\"line\">+--------+---------------------+</span><br><span class=\"line\">| emp_no | name                |</span><br><span class=\"line\">+--------+---------------------+</span><br><span class=\"line\">|  10003 | Parto Bamford       |</span><br><span class=\"line\">|  10101 | Perla Heyers        |</span><br><span class=\"line\">|  10138 | Perry Shimshoni     |</span><br><span class=\"line\">|  10353 | Phule Hammerschmidt |</span><br><span class=\"line\">|  10387 | Parto Wrigley       |</span><br><span class=\"line\">+--------+---------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#11.查找last_name以K开头的雇员信息</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.first_name,&apos; &apos;,e.last_name) name from employees e where e.first_name like &apos;K%&apos; limit 5; </span><br><span class=\"line\">+--------+----------------------+</span><br><span class=\"line\">| emp_no | name                 |</span><br><span class=\"line\">+--------+----------------------+</span><br><span class=\"line\">|  10005 | Kyoichi Maliniak     |</span><br><span class=\"line\">|  10016 | Kazuhito Cappelletti |</span><br><span class=\"line\">|  10018 | Kazuhide Peha        |</span><br><span class=\"line\">|  10031 | Karsten Joslin       |</span><br><span class=\"line\">|  10066 | Kwee Schusler        |</span><br><span class=\"line\">+--------+----------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#12.查找名字以字母K开头，以i结尾，并且第三个字母为o的雇员名字(First_name)、职位和所在部门号</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,e.last_name) name,t.title,de.dept_no from employees e,dept_emp de,titles t where e.first_name like &apos;K_o%i&apos; and e.emp_no = t.emp_no and e.emp_no = de.emp_no limit 5;</span><br><span class=\"line\">+------------------+--------------+---------+</span><br><span class=\"line\">| name             | title        | dept_no |</span><br><span class=\"line\">+------------------+--------------+---------+</span><br><span class=\"line\">| Kyoichi Maliniak | Senior Staff | d003    |</span><br><span class=\"line\">| Kyoichi Maliniak | Staff        | d003    |</span><br><span class=\"line\">| Kyoichi Wossner  | Staff        | d007    |</span><br><span class=\"line\">| Kyoichi Flexer   | Senior Staff | d007    |</span><br><span class=\"line\">| Kyoichi Flexer   | Staff        | d007    |</span><br><span class=\"line\">+------------------+--------------+---------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#13.查找哪些雇员的职位名不以Se开头</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,t.title from employees e,titles t where e.emp_no = t.emp_no and t.title not like &apos;Se%&apos; limit 5;</span><br><span class=\"line\">+-------------------+--------------------+</span><br><span class=\"line\">| name              | title              |</span><br><span class=\"line\">+-------------------+--------------------+</span><br><span class=\"line\">| Bezalel Simmel    | Staff              |</span><br><span class=\"line\">| Chirstian Koblick | Engineer           |</span><br><span class=\"line\">| Kyoichi Maliniak  | Staff              |</span><br><span class=\"line\">| Tzvetan Zielinski | Staff              |</span><br><span class=\"line\">| Saniya Kalloufi   | Assistant Engineer |</span><br><span class=\"line\">+-------------------+--------------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#14.查找d005号部门里不是Staff的雇员信息</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,t.title from employees e,dept_emp de,titles t where e.emp_no = de.emp_no  and e.emp_no = t.emp_no and t.title != &apos;Staff&apos; limit 5;</span><br><span class=\"line\">+-------------------+-----------------+</span><br><span class=\"line\">| name              | title           |</span><br><span class=\"line\">+-------------------+-----------------+</span><br><span class=\"line\">| Georgi Facello    | Senior Engineer |</span><br><span class=\"line\">| Parto Bamford     | Senior Engineer |</span><br><span class=\"line\">| Chirstian Koblick | Engineer        |</span><br><span class=\"line\">| Chirstian Koblick | Senior Engineer |</span><br><span class=\"line\">| Kyoichi Maliniak  | Senior Staff    |</span><br><span class=\"line\">+-------------------+-----------------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#15.查找d005号部门工资大于100000的员工的信息</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,t.title,s.salary from employees e,dept_emp de,titles t,salaries s where e.emp_no = de.emp_no and e.emp_no = t.emp_no and e.emp_no = s.emp_no and de.dept_no = &apos;d005&apos; and s.salary &gt; 100000 limit 5;</span><br><span class=\"line\">+---------------+--------------------+--------+</span><br><span class=\"line\">| name          | title              | salary |</span><br><span class=\"line\">+---------------+--------------------+--------+</span><br><span class=\"line\">| Kwee Schusler | Assistant Engineer | 102425 |</span><br><span class=\"line\">| Kwee Schusler | Assistant Engineer | 102674 |</span><br><span class=\"line\">| Kwee Schusler | Assistant Engineer | 103672 |</span><br><span class=\"line\">| Kwee Schusler | Engineer           | 102425 |</span><br><span class=\"line\">| Kwee Schusler | Engineer           | 102674 |</span><br><span class=\"line\">+---------------+--------------------+--------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#16.按字母顺序显示雇员的名字(last_name)</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name from employees e order by e.last_name limit 5;</span><br><span class=\"line\">+------------------+</span><br><span class=\"line\">| name             |</span><br><span class=\"line\">+------------------+</span><br><span class=\"line\">| Aluzio Aamodt    |</span><br><span class=\"line\">| Sachem Aamodt    |</span><br><span class=\"line\">| Sreenivas Aamodt |</span><br><span class=\"line\">| Mokhtar Aamodt   |</span><br><span class=\"line\">| Bartek Aamodt    |</span><br><span class=\"line\">+------------------+</span><br><span class=\"line\">5 rows in set (0.24 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#17.按部门编号降序显示雇员信息</span><br><span class=\"line\">mysql&gt; select concat(e.first_name,&apos; &apos;,last_name) name,de.dept_no from employees e,dept_emp de where e.emp_no = de.emp_no order by de.dept_no desc limit 5;</span><br><span class=\"line\">+-------------------+---------+</span><br><span class=\"line\">| name              | dept_no |</span><br><span class=\"line\">+-------------------+---------+</span><br><span class=\"line\">| Pohua Sichman     | d009    |</span><br><span class=\"line\">| Uri Juneja        | d009    |</span><br><span class=\"line\">| Mohammed Pleszkun | d009    |</span><br><span class=\"line\">| Chiranjit Kuzuoka | d009    |</span><br><span class=\"line\">| Ronghao Morrow    | d009    |</span><br><span class=\"line\">+-------------------+---------+</span><br><span class=\"line\">5 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#18.计算每个部门的平均工资和工资总和</span><br><span class=\"line\">mysql&gt; select de.dept_no,sum(s.salary),avg(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;</span><br><span class=\"line\">+---------+---------------+---------------+</span><br><span class=\"line\">| dept_no | sum(s.salary) | avg(s.salary) |</span><br><span class=\"line\">+---------+---------------+---------------+</span><br><span class=\"line\">| d001    |   13725425266 |    71913.2000 |</span><br><span class=\"line\">| d002    |   11650834677 |    70489.3649 |</span><br><span class=\"line\">| d003    |    9363811425 |    55574.8794 |</span><br><span class=\"line\">| d004    |   41554438942 |    59605.4825 |</span><br><span class=\"line\">| d005    |   48179456393 |    59478.9012 |</span><br><span class=\"line\">| d006    |   10865203635 |    57251.2719 |</span><br><span class=\"line\">| d007    |   40030089342 |    80667.6058 |</span><br><span class=\"line\">| d008    |   11969730427 |    59665.1817 |</span><br><span class=\"line\">| d009    |   13143639841 |    58770.3665 |</span><br><span class=\"line\">+---------+---------------+---------------+</span><br><span class=\"line\">9 rows in set (7.14 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#19.查询每个部门的每个职位的雇员数</span><br><span class=\"line\">mysql&gt; select de.dept_no,t.title,sum(e.emp_no) from employees e,dept_emp de,titles t where e.emp_no = de.emp_no and e.emp_no = t.emp_no group by de.dept_no,t.title limit 5;</span><br><span class=\"line\">+---------+--------------+---------------+</span><br><span class=\"line\">| dept_no | title        | sum(e.emp_no) |</span><br><span class=\"line\">+---------+--------------+---------------+</span><br><span class=\"line\">| d001    | Manager      |        220061 |</span><br><span class=\"line\">| d001    | Senior Staff |    3561178455 |</span><br><span class=\"line\">| d001    | Staff        |    4142508539 |</span><br><span class=\"line\">| d002    | Manager      |        220199 |</span><br><span class=\"line\">| d002    | Senior Staff |    3090249864 |</span><br><span class=\"line\">+---------+--------------+---------------+</span><br><span class=\"line\">5 rows in set (3.13 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#20.请算出employees表中所有雇员的平均工资</span><br><span class=\"line\">mysql&gt; select avg(s.salary) from employees e,salaries s where e.emp_no = s.emp_no;</span><br><span class=\"line\">+---------------+</span><br><span class=\"line\">| avg(s.salary) |</span><br><span class=\"line\">+---------------+</span><br><span class=\"line\">|    63810.7448 |</span><br><span class=\"line\">+---------------+</span><br><span class=\"line\">1 row in set (4.48 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#21.请查询出employees表中的最低工资的员工信息</span><br><span class=\"line\">mysql&gt; select concat(first_name,&apos; &apos;,last_name) name from employees e,salaries s where e.emp_no = s.emp_no and s.salary = (selecct min(s.salary) salary from salaries s);</span><br><span class=\"line\">+--------------+</span><br><span class=\"line\">| name         |</span><br><span class=\"line\">+--------------+</span><br><span class=\"line\">| Olivera Baek |</span><br><span class=\"line\">+--------------+</span><br><span class=\"line\">1 row in set (1.99 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#22.请计算出每个部门的平均工资、最高工资和最低工资</span><br><span class=\"line\">mysql&gt; select de.dept_no,avg(s.salary),max(s.salary),min(s.salary) from employees e,dept_emp de,salaries s where e.emp_no = de.emp_no and e.emp_no = s.emp_no group by de.dept_no;</span><br><span class=\"line\">+---------+---------------+---------------+---------------+</span><br><span class=\"line\">| dept_no | avg(s.salary) | max(s.salary) | min(s.salary) |</span><br><span class=\"line\">+---------+---------------+---------------+---------------+</span><br><span class=\"line\">| d001    |    71913.2000 |        145128 |         39127 |</span><br><span class=\"line\">| d002    |    70489.3649 |        142395 |         38812 |</span><br><span class=\"line\">| d003    |    55574.8794 |        141953 |         38735 |</span><br><span class=\"line\">| d004    |    59605.4825 |        138273 |         38623 |</span><br><span class=\"line\">| d005    |    59478.9012 |        144434 |         38849 |</span><br><span class=\"line\">| d006    |    57251.2719 |        132103 |         38786 |</span><br><span class=\"line\">| d007    |    80667.6058 |        158220 |         39169 |</span><br><span class=\"line\">| d008    |    59665.1817 |        130211 |         38851 |</span><br><span class=\"line\">| d009    |    58770.3665 |        144866 |         38836 |</span><br><span class=\"line\">+---------+---------------+---------------+---------------+</span><br><span class=\"line\">9 rows in set (7.06 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#23.查询薪水发放时间在1986-06-26 ~ 1987-06-25薪水高于46145号雇员并且工种与他相同的雇员情况。</span><br><span class=\"line\">select e.*  from employees e,titles t,salaries s  where e.emp_no = t.emp_no  and e.emp_no = t.emp_no  and t.title = (select title from titles where emp_no = 46135)  and s.salary &gt; (select s.salary from salaries s where s.from_date &gt; str_to_date(&apos;1986-06-26&apos;,&apos;%Y-%m-%d&apos;) and s.to_date &lt; str_to_date(&apos;1987-06-2 25&apos;,&apos;%Y-%m-%d&apos;) and s.emp_no = &apos;46135&apos;)  and s.from_date &gt; str_to_date(&apos;1986-06-26&apos;,&apos;%Y-%m-%d&apos;) and s.to_date &lt; str_to_date(&apos;1987-06-2 25&apos;,&apos;%Y-%m-%d&apos;) limit 10;</span><br><span class=\"line\">+--------+------------+------------+------------+--------+------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name | last_name  | gender | hire_date  |</span><br><span class=\"line\">+--------+------------+------------+------------+--------+------------+</span><br><span class=\"line\">|  10004 | 1954-05-01 | Chirstian  | Koblick    | M      | 1986-12-01 |</span><br><span class=\"line\">|  10009 | 1952-04-19 | Sumant     | Peac       | F      | 1985-02-18 |</span><br><span class=\"line\">|  10010 | 1963-06-01 | Duangkaew  | Piveteau   | F      | 1989-08-24 |</span><br><span class=\"line\">|  10012 | 1960-10-04 | Patricio   | Bridgland  | M      | 1992-12-18 |</span><br><span class=\"line\">|  10014 | 1956-02-12 | Berni      | Genin      | M      | 1987-03-11 |</span><br><span class=\"line\">|  10018 | 1954-06-19 | Kazuhide   | Peha       | F      | 1987-04-03 |</span><br><span class=\"line\">|  10020 | 1952-12-24 | Mayuko     | Warwick    | M      | 1991-01-26 |</span><br><span class=\"line\">|  10022 | 1952-07-08 | Shahaf     | Famili     | M      | 1995-08-22 |</span><br><span class=\"line\">|  10023 | 1953-09-29 | Bojan      | Montemayor | F      | 1989-12-17 |</span><br><span class=\"line\">|  10026 | 1953-04-03 | Yongqiao   | Berztiss   | M      | 1995-03-20 |</span><br><span class=\"line\">+--------+------------+------------+------------+--------+------------+</span><br><span class=\"line\">10 rows in set, 2 warnings (0.05 sec)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">#24.查询工资在10000到50000之间的雇员所在部门的所有人员的信息。</span><br><span class=\"line\">mysql&gt; select e.*,d.dept_no,d.dept_name from employees e,dept_emp de,departments d where e.emp_no = de.emp_no and de.dept_no =d.dept_no and e.emp_no in (select distinct s.emp_no from salaries s where s.salary between 10000 and 50000) limit 10;</span><br><span class=\"line\">+--------+------------+-------------+-----------+--------+------------+---------+------------------+</span><br><span class=\"line\">| emp_no | birth_date | first_name  | last_name | gender | hire_date  | dept_no | dept_name        |</span><br><span class=\"line\">+--------+------------+-------------+-----------+--------+------------+---------+------------------+</span><br><span class=\"line\">|  10011 | 1953-11-07 | Mary        | Sluis     | F      | 1990-01-22 | d009    | Customer Service |</span><br><span class=\"line\">|  10038 | 1960-07-20 | Huan        | Lortz     | M      | 1989-09-20 | d009    | Customer Service |</span><br><span class=\"line\">|  10049 | 1961-04-24 | Basil       | Tramer    | F      | 1992-05-04 | d009    | Customer Service |</span><br><span class=\"line\">|  10098 | 1961-09-23 | Sreekrishna | Servieres | F      | 1985-05-13 | d009    | Customer Service |</span><br><span class=\"line\">|  10112 | 1963-08-13 | Yuichiro    | Swick     | F      | 1985-10-08 | d009    | Customer Service |</span><br><span class=\"line\">|  10115 | 1964-12-25 | Chikara     | Rissland  | M      | 1986-01-23 | d009    | Customer Service |</span><br><span class=\"line\">|  10126 | 1954-08-07 | Kayoko      | Valtorta  | M      | 1985-09-08 | d009    | Customer Service |</span><br><span class=\"line\">|  10128 | 1958-02-15 | Babette     | Lamba     | F      | 1988-06-06 | d009    | Customer Service |</span><br><span class=\"line\">|  10137 | 1959-07-30 | Maren       | Hutton    | M      | 1985-02-18 | d009    | Customer Service |</span><br><span class=\"line\">|  10154 | 1957-01-17 | Abdulah     | Thibadeau | F      | 1990-12-12 | d009    | Customer Service |</span><br><span class=\"line\">+--------+------------+-------------+-----------+--------+------------+---------+------------------+</span><br><span class=\"line\">10 rows in set (1.28 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#25.查询出在薪水发放时间在1986-06-26 ~ 1987-06-25的员工信息</span><br><span class=\"line\">###（工号，姓名，性别，薪水，职位）</span><br><span class=\"line\">mysql&gt; select e.emp_no,concat(e.first_name,&quot; &quot;,e.last_name) name,e.gender,s.salary,t.title from employees e,salaries s,titles t where e.emp_no = s.emp_no and e.emp_no = t.emp_no and s.from_date &gt; str_to_date(&apos;1986-06-26&apos;,&apos;%Y-%m-%d&apos;) and s.to_date &lt; str_to_date(&apos;1987-06-2 25&apos;,&apos;%Y-%m-%d&apos;) limit 10;</span><br><span class=\"line\">+--------+-------------------+--------+--------+-----------------+</span><br><span class=\"line\">| emp_no | name              | gender | salary | title           |</span><br><span class=\"line\">+--------+-------------------+--------+--------+-----------------+</span><br><span class=\"line\">|  13543 | Tua Garigliano    | F      |  78646 | Staff           |</span><br><span class=\"line\">|  13589 | Arfst Munck       | F      |  44306 | Staff           |</span><br><span class=\"line\">|  14085 | Jiafu Constantine | F      |  43575 | Staff           |</span><br><span class=\"line\">|  14613 | Kien Herath       | M      |  54124 | Staff           |</span><br><span class=\"line\">|  19083 | Nobuyoshi Asmuth  | M      |  40000 | Engineer        |</span><br><span class=\"line\">|  19135 | Leaf Soicher      | M      |  40000 | Senior Engineer |</span><br><span class=\"line\">|  19761 | Vasiliy Niizuma   | M      |  65098 | Staff           |</span><br><span class=\"line\">|  19769 | Bezalel Holburn   | M      |  53118 | Engineer        |</span><br><span class=\"line\">|  22892 | Giao Monkewich    | M      |  79554 | Senior Staff    |</span><br><span class=\"line\">|  24101 | Yakichi Manderick | F      |  45092 | Engineer        |</span><br><span class=\"line\">+--------+-------------------+--------+--------+-----------------+</span><br><span class=\"line\">10 rows in set, 1 warning (0.07 sec)</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->"},{"title":"Oracle SQL语句优化 - 写出高效SQL","date":"2017-01-20T06:35:55.000Z","_content":"## [1]选择最有效率的表名顺序 ##\n只在基于规则的优化器中有效,ORACLE的解析器按照从右到左的顺序处理FROM子句中的表名，FROM子句中写在最后的表(基础表 driving table)将被最先处理，在FROM子句中包含多个表的情况下,你必须**选择记录条数最少的表作为基础表**。如果有3个以上的表连接查询, 那就需要选择交叉表(intersection table)作为基础表, 交叉表是指那个被其他表所引用的表.\n## [2]WHERE子句中的连接顺序 ##\n**ORACLE采用自下而上(从后往前)的顺序解析WHERE子句**,根据这个原理,表之间的连接必须写在其他WHERE条件之前, 那些**可以过滤掉最大数量记录的条件必须写在WHERE子句的末尾**\n## [3]SELECT子句中避免使用'*' ##\nORACLE在解析的过程中, 会将'*' 依次转换成所有的列名, 这个工作是通过查询数据字典完成的, 这意味着将耗费更多的时间.需要什么字段就查询什么字段，永远不要查询出不需要的字段来\n## [4]减少访问数据库的次数 ##\nORACLE在内部执行了许多工作: 解析SQL语句, 估算索引的利用率, 绑定变量 , 读数据块等；尽量使用缓存技术；\n## [5]设置单次访问合适的检索数据量 ##\n在SQL*Plus , SQL*Forms和Pro*C中重新设置ARRAYSIZE参数, 可以增加每次数据库访问的检索数据量 ,建议值为200\n<!-- more -->\n## [6]使用DECODE函数来减少处理时间 ##\n使用DECODE函数可以避免重复扫描相同记录或重复连接相同的表,因为decode函数有短路效应，类似java中短路与，有合适的就会返回而不继续扫描后面的内容\n## [7]整合简单,无关联的数据库访问 ##\n如果你有几个简单的数据库查询语句,你可以把它们整合到一个查询中(即使它们之间没有关系),原因见**[4]**\n## [8]删除重复记录，最高效的方法 ##\n因为这里使用的是rowid\n```+sql\nDELETE\nFROM EMP E\nWHERE E.ROWID >\n    (SELECT MIN(X.ROWID)\n     FROM EMP X\n     WHERE X.EMP_NO = E.EMP_NO);\n```\n## [9]用TRUNCATE替代DELETE ##\n当删除表中的记录时,在通常情况下, 回滚段(rollback segments ) 用来存放可以被恢复的信息. 如果你没有COMMIT事务,ORACLE会将数据恢复到删除之前的状态(准确地说是恢复到执行删除命令之前的状况) **而当运用TRUNCATE时, 回滚段不再存放任何可被恢复的信息**.当命令运行后,数据不能被恢复.因此很少的资源被调用,执行时间也会很短. (注: TRUNCATE只在删除全表适用,TRUNCATE是DDL不是DML)\n## [10]尽量多使用COMMIT ##\n只要有可能,在程序中尽量多使用COMMIT, 这样程序的性能得到提高,需求也会因为COMMIT所释放的资源而减少: \nCOMMIT所释放的资源: \n\n1. 回滚段上用于恢复数据的信息\n2. 被程序语句获得的锁\n3. redo log buffer 中的空间\n4. ORACLE为管理上述3种资源中的内部花费\n\n## [11]用Where子句替换HAVING子句 ##\n避免使用HAVING子句, **HAVING在检索出所有记录后对结果集进行过滤。这个处理需要排序,总计等操作**。 如果能通过WHERE子句限制记录的数目,那就能减少这方面的开销. (非oracle中)on、where、having这三个都可以加条件的子句中，on是最先执行，where次之，having最后，**因为on是先把不符合条件的记录过滤后才进行统计，它就可以减少中间运算要处理的数据，按理说应该速度是最快的**，where也应该比having快点的，因为它过滤数据后才进行sum，在两个表联接时才用on的，所以在一个表的时候，就剩下where跟having比较了。在这单表查询统计的情况下，如果要过滤的条件没有涉及到要计算字段，那它们的结果是一样的，只是where可以使用rushmore技术，而having就不能，在速度上后者要慢如果要涉及到计算的字段，就表示在没计算之前，这个字段的值是不确定的，根据上篇写的工作流程，where的作用时间是在计算之前就完成的，而having就是在计算后才起作用的，所以在这种情况下，两者的结果会不同。在多表联接查询时，on比where更早起作用。系统首先根据各个表之间的联接条件，把多个表合成一个临时表后，再由where进行过滤，然后再计算，计算完后再由having进行过滤。由此可见，要想过滤条件起到正确的作用，首先要明白这个条件应该在什么时候起作用，然后再决定放在那里\n## [12]减少对表的查询 ##\n在含有子查询的SQL语句中,要特别注意减少对表的查询。例子：\n```+sql\nSELECT TAB_NAME\nFROM TABLES\nWHERE (TAB_NAME,\n       DB_VER) =\n    (SELECT TAB_NAME,\n            DB_VER\n     FROM TAB_COLUMNS\n     WHERE VERSION = 604)\n```\n## [13]通过内部函数提高SQL效率 ##\n复杂的SQL往往牺牲了执行效率。能够掌握上面的运用函数解决问题的方法在实际工作中是非常有意义的。一般把复杂的sql分解再拼起来。\n## [14]使用表的别名(Alias) ##\n当在SQL语句中连接多个表时, 请使用表的别名并把别名前缀于每个Column上。这样一来，就可以减少解析的时间并减少那些由Column歧义引起的语法错误。\n## [15]用EXISTS替代IN、用NOT EXISTS替代NOT IN ##\n在许多基于基础表的查询中,为了满足一个条件,往往需要对另一个表进行联接。在这种情况下, 使用EXISTS(或NOT EXISTS)通常将提高查询的效率。在子查询中,NOT IN子句将执行一个内部的排序和合并。无论在哪种情况下,NOT IN都是最低效的 (因为它对子查询中的表执行了一个全表遍历).。为了避免使用NOT IN ,我们可以把它改写成外连接(Outer Joins)或NOT EXISTS.\n\n高效：\n```+sql\nSELECT *\nFROM EMP (基础表)\nWHERE EMPNO > 0\n  AND EXISTS\n    (SELECT 'X'  FROM DEPT  WHERE  DEPT.DEPTNO = EMP.DEPTNO  AND  LOC = 'MELB')\n```\n低效：\n```+sql\nSELECT *\nFROM EMP (基础表)\nWHERE EMPNO > 0\n  AND DEPTNO IN\n    (SELECT DEPTNO\n     FROM DEPT\n     WHERE LOC = 'MELB')\n```\n## [16]识别'低效执行'的SQL语句 ##\n虽然目前各种关于SQL优化的图形化工具层出不穷\n\n但是写出自己的SQL工具来解决问题始终是一个最好的方法:\n```+sql\nSELECT EXECUTIONS,\n       DISK_READS,\n       BUFFER_GETS,\n       ROUND((BUFFER_GETS-DISK_READS)/BUFFER_GETS,2) Hit_radio,\n       ROUND(DISK_READS/EXECUTIONS,2) Reads_per_run,\n       SQL_TEXT\nFROM V$SQLAREA\nWHERE EXECUTIONS>0\n  AND BUFFER_GETS > 0\n  AND (BUFFER_GETS-DISK_READS)/BUFFER_GETS < 0.8\nORDER BY 4 DESC;\n```\n## [17]用索引提高效率 ##\n索引是表的一个概念部分，用来提高检索数据的效率，ORACLE使用了一个复杂的自平衡B-tree结构。通常，通过索引查询数据比全表扫描要快。 当ORACLE找出执行查询和Update语句的最佳路径时， ORACLE优化器将使用索引。同样在联结多个表时使用索引也可以提高效率。另一个使用索引的好处是，它提供了主键(primary key)的唯一性验证。那些LONG或LONG RAW数据类型，你可以索引几乎所有的列。 通常，在大型表中使用索引特别有效。当然，你也会发现，在扫描小表时，使用索引同样能提高效率。**虽然使用索引能得到查询效率的提高，但是我们也必须注意到它的代价. 索引需要空间来存储，也需要定期维护，每当有记录在表中增减或索引列被修改时, 索引本身也会被修改**。这意味着每条记录的INSERT , DELETE , UPDATE将为此多付出4 , 5 次的磁盘I/O 。 因为索引需要额外的存储空间和处理，那些不必要的索引反而会使查询反应时间变慢。定期的重构索引是有必要的。\n```+sql\nALTER  INDEX <INDEXNAME> REBUILD <TABLESPACENAME>\n```\n## [18]用EXISTS替换DISTINCT ##\n当提交一个包含一对多表信息(比如部门表和雇员表)的查询时，避免在SELECT子句中使用DISTINCT。一般可以考虑用EXIST替换，EXISTS 使查询更为迅速，因为RDBMS核心模块将在子查询的条件一旦满足后，立刻返回结果。\n\n低效：\n```+sql\nSELECT DISTINCT DEPT_NO,\n                DEPT_NAME\nFROM DEPT D,\n     EMP E\nWHERE D.DEPT_NO = E.DEPT_NO\n```\n高效:\n```+sql \nSELECT DEPT_NO,\n       DEPT_NAME\nFROM DEPT D\nWHERE EXISTS\n    (SELECT 'X'\n     FROM EMP E\n     WHERE E.DEPT_NO = D.DEPT_NO);\n```\n## [19]sql语句用大写 ##\n因为oracle总是先解析sql语句，把小写的字母转换成大写的再执行\n## [20]在java代码中尽量少用连接符“＋”连接字符串 ##\n一般来说StringBuilder(非线程安全)是一个不错的选择\n## [21]通常避免在索引列上使用NOT  ##\n我们要避免在索引列上使用NOT，NOT会产生在和在索引列上使用函数相同的影响。当ORACLE”遇到”NOT，他就会停止使用索引转而执行全表扫描。\n## [22]避免在索引列上使用计算 ##\nWHERE子句中，如果索引列是函数的一部分。优化器将不使用索引而使用全表扫描。\n\n举例: \n\n低效： \n```+sql\nSELECT … FROM  DEPT  WHERE SAL * 12 > 25000; \n```\n高效: \n```+sql\nSELECT … FROM DEPT WHERE SAL > 25000/12;\n```\n## [23]用>=替代> ##\n高效: \n```+sql\nSELECT * FROM  EMP  WHERE  DEPTNO >=4 \n```\n低效: \n```+sql\nSELECT * FROM EMP WHERE DEPTNO >3 \n```\n两者的区别在于，前者DBMS将直接跳到第一个DEPT等于4的记录而后者将首先定位到DEPTNO=3的记录并且向前扫描到第一个DEPT大于3的记录。\n## [24]用UNION替换OR (适用于索引列) ##\n通常情况下，用UNION替换WHERE子句中的OR将会起到较好的效果。对索引列使用OR将造成全表扫描。注意，以上规则只针对多个索引列有效。如果有column没有被索引, 查询效率可能会因为你没有选择OR而降低。在下面的例子中， LOC_ID 和REGION上都建有索引。\n\n高效: \n```+sql\nSELECT LOC_ID,\n       LOC_DESC,\n       REGION\nFROM LOCATION\nWHERE LOC_ID = 10\nUNION\nSELECT LOC_ID,\n       LOC_DESC,\n       REGION\nFROM LOCATION\nWHERE REGION = ''MELBOURNE''\n```\n低效: \n```+sql\nSELECT LOC_ID,\n       LOC_DESC,\n       REGION\nFROM LOCATION\nWHERE LOC_ID = 10\n  OR REGION = ''MELBOURNE''\n```\n如果你坚持要用OR, 那就需要返回记录最少的索引列写在最前面\n## [25]用IN来替换OR \n这是一条简单易记的规则，但是实际的执行效果还须检验，在ORACLE8i下，两者的执行路径似乎是相同的。\n\n低效: \n```+sql\nSELECT…. FROM LOCATION WHERE LOC_ID = 10 OR LOC_ID = 20 OR LOC_ID = 30 \n```\n高效：\n```+sql\nSELECT… FROM LOCATION WHERE LOC_IN  IN (10,20,30);\n```\n## [26]避免在索引列上使用IS NULL和IS NOT NULL ##\n避免在索引中使用任何可以为空的列，**ORACLE将无法使用该索引**。对于单列索引，如果列包含空值，索引中将不存在此记录。对于复合索引，如果每个列都为空，索引中同样不存在此记录。如果至少有一个列不为空，则记录存在于索引中。\n\n举例: 如果唯一性索引建立在表的A列和B列上, 并且表中存在一条记录的A,B值为(123,null) , ORACLE将不接受下一条具有相同A,B值（123,null）的记录(插入)。然而如果所有的索引列都为空，ORACLE将认为整个键值为空而空不等于空。 因此你可以插入1000 条具有相同键值的记录,当然它们都是空! 因为空值不存在于索引列中，所以WHERE子句中对索引列进行空值比较将使ORACLE停用该索引。\n\n低效: (索引失效) \n```+sql\nSELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE IS NOT NULL; \n```\n高效: (索引有效)\n```+sql \nSELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE >=0;\n```\n## [27]总是使用索引的第一个列 ##\n如果索引是建立在多个列上, 只有在它的第一个列(leading column)被where子句引用时,**优化器才会选择使用该索引**。这也是一条简单而重要的规则，当仅引用索引的第二个列时，优化器使用了全表扫描而忽略了索引\n## [28]用UNION-ALL替换UNION ##\n当SQL语句需要UNION**两个查询结果集合时**,这两个结果集合会以UNION-ALL的方式被合并, 然后在输出最终结果前进行排序。**如果用UNION ALL替代UNION, 这样排序就不是必要了**。效率就会因此得到提高。需要注意的是，UNION ALL 将重复输出两个结果集合中相同记录。因此各位还是要从业务需求分析使用UNION ALL的可行性。 UNION 将对结果集合排序,这个操作会使用到SORT_AREA_SIZE这块内存。对于这块内存的优化也是相当重要的。下面的SQL可以用来查询排序的消耗量。\n\n低效： \n```+sql\nSELECT ACCT_NUM,\n       BALANCE_AMT\nFROM DEBIT_TRANSACTIONS\nWHERE TRAN_DATE = '31-DEC-95'\nUNION\nSELECT ACCT_NUM,\n       BALANCE_AMT\nFROM DEBIT_TRANSACTIONS\nWHERE TRAN_DATE = '31-DEC-95'\n```\n高效: \n```+sql\nSELECT ACCT_NUM,\n       BALANCE_AMT\nFROM DEBIT_TRANSACTIONS\nWHERE TRAN_DATE = '31-DEC-95'\n  UNION ALL\n  SELECT ACCT_NUM,\n         BALANCE_AMT\n  FROM DEBIT_TRANSACTIONS WHERE TRAN_DATE = '31-DEC-95'\n```\n## [29]用WHERE替代ORDER BY ##\nORDER BY 子句只在两种严格的条件下使用索引\n\nORDER BY中所有的列必须包含在相同的索引中并保持在索引中的排列顺序\n\nORDER BY中所有的列必须定义为非空\n\nWHERE子句使用的索引和ORDER BY子句中所使用的索引不能并列\n\n例如: \n\n表DEPT包含以下列: \n\nDEPT_CODE PK NOT NULL \n\nDEPT_DESC NOT NULL \n\nDEPT_TYPE NULL\n\n低效: (索引不被使用) \n```+sql\nSELECT DEPT_CODE FROM  DEPT  ORDER BY  DEPT_TYPE \n```\n高效: (使用索引) \n```+sql\nSELECT DEPT_CODE  FROM  DEPT  WHERE  DEPT_TYPE > 0\n```\n## [30]避免改变索引列的类型 ##\n当比较不同数据类型的数据时, ORACLE自动对列进行简单的类型转换\n\n假设 EMPNO是一个数值类型的索引列.\n```+sql\nSELECT …  FROM EMP  WHERE  EMPNO = '123' \n```\n实际上,经过ORACLE类型转换, 语句转化为: \n```+sql\nSELECT …  FROM EMP  WHERE  EMPNO = TO_NUMBER('123') \n```\n幸运的是,类型转换没有发生在索引列上,索引的用途没有被改变\n\n现在,假设EMP_TYPE是一个字符类型的索引列\n```+sql\nSELECT …  FROM EMP  WHERE EMP_TYPE = 123 \n```\n这个语句被ORACLE转换为: \n```+sql\nSELECT …  FROM EMP  WHERETO_NUMBER(EMP_TYPE)=123 \n```\n因为内部发生的类型转换, 这个索引将不会被用到! \n\n为了避免ORACLE对你的SQL进行隐式的类型转换, 最好把类型转换用显式表现出来。 注意当字符和数值比较时, ORACLE会优先转换数值类型到字符类型\n## [31]需要当心的WHERE子句 ##\n某些SELECT 语句中的WHERE子句不使用索引\n这里有一些例子\n\n在下面的例子里, \n1. '!=' 将不使用索引。记住, 索引只能告诉你什么存在于表中, 而不能告诉你什么不存在于表中\n2. '||'是字符连接函数. 就象其他函数那样, 停用了索引\n3. '+'是数学函数. 就象其他数学函数那样, 停用了索引\n4. 相同的索引列不能互相比较,这将会启用全表扫描\n\n## [32]检索数据量超过表中30%,索引失效 ##\n1. 如果检索数据量超过30%的表中记录数.使用索引将没有显著的效率提高\n2. 在特定情况下, 使用索引也许会比全表扫描慢, 但这是同一个数量级上的区别。 而通常情况下,使用索引比全表扫描要块几倍乃至几千倍!\n\n## [33]避免使用耗费资源的操作 ##\n带有DISTINCT,UNION,MINUS,INTERSECT,ORDER BY的SQL语句会启动SQL引擎 \n执行耗费资源的排序(SORT)功能。\n\nDISTINCT需要一次排序操作, 而其他的至少需要执行两次排序。\n通常, 带有UNION, MINUS , INTERSECT的SQL语句都可以用其他方式重写。\n\n如果你的数据库的SORT_AREA_SIZE调配得好, 使用UNION , MINUS, INTERSECT也是可以考虑的, 毕竟它们的可读性很强。\n## [34]优化GROUP BY ##\n提高GROUP BY 语句的效率，可以通过将不需要的记录在GROUP BY 之前过滤掉。\n\n下面两个查询返回相同结果但第二个明显就快了许多。\n\n低效: \n```+sql\nSELECT JOB,\n       AVG(SAL)\nFROM EMP\nGROUP JOB\nHAVING JOB = 'PRESIDENT'\nOR JOB = 'MANAGER'\n```\n高效: \n```+sql\nSELECT JOB,\n       AVG(SAL)\nFROM EMP\nWHERE JOB = 'PRESIDENT' \nOR JOB = 'MANAGER'\nGROUP JOB\n```\n\n本文参考其他文章整理而来\n\n出处：<a href=\"http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html\" target=\"_blank\">http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html</a>\n\n不过互联网上这篇文章很多，都没有版权注明。我也不知道原创是谁！","source":"_posts/Oracle-SQL语句优化-写出高效SQL.md","raw":"---\ntitle: Oracle SQL语句优化 - 写出高效SQL\ndate: 2017-01-20 14:35:55\ntags: [oracle,sql,oarcle优化]\n---\n## [1]选择最有效率的表名顺序 ##\n只在基于规则的优化器中有效,ORACLE的解析器按照从右到左的顺序处理FROM子句中的表名，FROM子句中写在最后的表(基础表 driving table)将被最先处理，在FROM子句中包含多个表的情况下,你必须**选择记录条数最少的表作为基础表**。如果有3个以上的表连接查询, 那就需要选择交叉表(intersection table)作为基础表, 交叉表是指那个被其他表所引用的表.\n## [2]WHERE子句中的连接顺序 ##\n**ORACLE采用自下而上(从后往前)的顺序解析WHERE子句**,根据这个原理,表之间的连接必须写在其他WHERE条件之前, 那些**可以过滤掉最大数量记录的条件必须写在WHERE子句的末尾**\n## [3]SELECT子句中避免使用'*' ##\nORACLE在解析的过程中, 会将'*' 依次转换成所有的列名, 这个工作是通过查询数据字典完成的, 这意味着将耗费更多的时间.需要什么字段就查询什么字段，永远不要查询出不需要的字段来\n## [4]减少访问数据库的次数 ##\nORACLE在内部执行了许多工作: 解析SQL语句, 估算索引的利用率, 绑定变量 , 读数据块等；尽量使用缓存技术；\n## [5]设置单次访问合适的检索数据量 ##\n在SQL*Plus , SQL*Forms和Pro*C中重新设置ARRAYSIZE参数, 可以增加每次数据库访问的检索数据量 ,建议值为200\n<!-- more -->\n## [6]使用DECODE函数来减少处理时间 ##\n使用DECODE函数可以避免重复扫描相同记录或重复连接相同的表,因为decode函数有短路效应，类似java中短路与，有合适的就会返回而不继续扫描后面的内容\n## [7]整合简单,无关联的数据库访问 ##\n如果你有几个简单的数据库查询语句,你可以把它们整合到一个查询中(即使它们之间没有关系),原因见**[4]**\n## [8]删除重复记录，最高效的方法 ##\n因为这里使用的是rowid\n```+sql\nDELETE\nFROM EMP E\nWHERE E.ROWID >\n    (SELECT MIN(X.ROWID)\n     FROM EMP X\n     WHERE X.EMP_NO = E.EMP_NO);\n```\n## [9]用TRUNCATE替代DELETE ##\n当删除表中的记录时,在通常情况下, 回滚段(rollback segments ) 用来存放可以被恢复的信息. 如果你没有COMMIT事务,ORACLE会将数据恢复到删除之前的状态(准确地说是恢复到执行删除命令之前的状况) **而当运用TRUNCATE时, 回滚段不再存放任何可被恢复的信息**.当命令运行后,数据不能被恢复.因此很少的资源被调用,执行时间也会很短. (注: TRUNCATE只在删除全表适用,TRUNCATE是DDL不是DML)\n## [10]尽量多使用COMMIT ##\n只要有可能,在程序中尽量多使用COMMIT, 这样程序的性能得到提高,需求也会因为COMMIT所释放的资源而减少: \nCOMMIT所释放的资源: \n\n1. 回滚段上用于恢复数据的信息\n2. 被程序语句获得的锁\n3. redo log buffer 中的空间\n4. ORACLE为管理上述3种资源中的内部花费\n\n## [11]用Where子句替换HAVING子句 ##\n避免使用HAVING子句, **HAVING在检索出所有记录后对结果集进行过滤。这个处理需要排序,总计等操作**。 如果能通过WHERE子句限制记录的数目,那就能减少这方面的开销. (非oracle中)on、where、having这三个都可以加条件的子句中，on是最先执行，where次之，having最后，**因为on是先把不符合条件的记录过滤后才进行统计，它就可以减少中间运算要处理的数据，按理说应该速度是最快的**，where也应该比having快点的，因为它过滤数据后才进行sum，在两个表联接时才用on的，所以在一个表的时候，就剩下where跟having比较了。在这单表查询统计的情况下，如果要过滤的条件没有涉及到要计算字段，那它们的结果是一样的，只是where可以使用rushmore技术，而having就不能，在速度上后者要慢如果要涉及到计算的字段，就表示在没计算之前，这个字段的值是不确定的，根据上篇写的工作流程，where的作用时间是在计算之前就完成的，而having就是在计算后才起作用的，所以在这种情况下，两者的结果会不同。在多表联接查询时，on比where更早起作用。系统首先根据各个表之间的联接条件，把多个表合成一个临时表后，再由where进行过滤，然后再计算，计算完后再由having进行过滤。由此可见，要想过滤条件起到正确的作用，首先要明白这个条件应该在什么时候起作用，然后再决定放在那里\n## [12]减少对表的查询 ##\n在含有子查询的SQL语句中,要特别注意减少对表的查询。例子：\n```+sql\nSELECT TAB_NAME\nFROM TABLES\nWHERE (TAB_NAME,\n       DB_VER) =\n    (SELECT TAB_NAME,\n            DB_VER\n     FROM TAB_COLUMNS\n     WHERE VERSION = 604)\n```\n## [13]通过内部函数提高SQL效率 ##\n复杂的SQL往往牺牲了执行效率。能够掌握上面的运用函数解决问题的方法在实际工作中是非常有意义的。一般把复杂的sql分解再拼起来。\n## [14]使用表的别名(Alias) ##\n当在SQL语句中连接多个表时, 请使用表的别名并把别名前缀于每个Column上。这样一来，就可以减少解析的时间并减少那些由Column歧义引起的语法错误。\n## [15]用EXISTS替代IN、用NOT EXISTS替代NOT IN ##\n在许多基于基础表的查询中,为了满足一个条件,往往需要对另一个表进行联接。在这种情况下, 使用EXISTS(或NOT EXISTS)通常将提高查询的效率。在子查询中,NOT IN子句将执行一个内部的排序和合并。无论在哪种情况下,NOT IN都是最低效的 (因为它对子查询中的表执行了一个全表遍历).。为了避免使用NOT IN ,我们可以把它改写成外连接(Outer Joins)或NOT EXISTS.\n\n高效：\n```+sql\nSELECT *\nFROM EMP (基础表)\nWHERE EMPNO > 0\n  AND EXISTS\n    (SELECT 'X'  FROM DEPT  WHERE  DEPT.DEPTNO = EMP.DEPTNO  AND  LOC = 'MELB')\n```\n低效：\n```+sql\nSELECT *\nFROM EMP (基础表)\nWHERE EMPNO > 0\n  AND DEPTNO IN\n    (SELECT DEPTNO\n     FROM DEPT\n     WHERE LOC = 'MELB')\n```\n## [16]识别'低效执行'的SQL语句 ##\n虽然目前各种关于SQL优化的图形化工具层出不穷\n\n但是写出自己的SQL工具来解决问题始终是一个最好的方法:\n```+sql\nSELECT EXECUTIONS,\n       DISK_READS,\n       BUFFER_GETS,\n       ROUND((BUFFER_GETS-DISK_READS)/BUFFER_GETS,2) Hit_radio,\n       ROUND(DISK_READS/EXECUTIONS,2) Reads_per_run,\n       SQL_TEXT\nFROM V$SQLAREA\nWHERE EXECUTIONS>0\n  AND BUFFER_GETS > 0\n  AND (BUFFER_GETS-DISK_READS)/BUFFER_GETS < 0.8\nORDER BY 4 DESC;\n```\n## [17]用索引提高效率 ##\n索引是表的一个概念部分，用来提高检索数据的效率，ORACLE使用了一个复杂的自平衡B-tree结构。通常，通过索引查询数据比全表扫描要快。 当ORACLE找出执行查询和Update语句的最佳路径时， ORACLE优化器将使用索引。同样在联结多个表时使用索引也可以提高效率。另一个使用索引的好处是，它提供了主键(primary key)的唯一性验证。那些LONG或LONG RAW数据类型，你可以索引几乎所有的列。 通常，在大型表中使用索引特别有效。当然，你也会发现，在扫描小表时，使用索引同样能提高效率。**虽然使用索引能得到查询效率的提高，但是我们也必须注意到它的代价. 索引需要空间来存储，也需要定期维护，每当有记录在表中增减或索引列被修改时, 索引本身也会被修改**。这意味着每条记录的INSERT , DELETE , UPDATE将为此多付出4 , 5 次的磁盘I/O 。 因为索引需要额外的存储空间和处理，那些不必要的索引反而会使查询反应时间变慢。定期的重构索引是有必要的。\n```+sql\nALTER  INDEX <INDEXNAME> REBUILD <TABLESPACENAME>\n```\n## [18]用EXISTS替换DISTINCT ##\n当提交一个包含一对多表信息(比如部门表和雇员表)的查询时，避免在SELECT子句中使用DISTINCT。一般可以考虑用EXIST替换，EXISTS 使查询更为迅速，因为RDBMS核心模块将在子查询的条件一旦满足后，立刻返回结果。\n\n低效：\n```+sql\nSELECT DISTINCT DEPT_NO,\n                DEPT_NAME\nFROM DEPT D,\n     EMP E\nWHERE D.DEPT_NO = E.DEPT_NO\n```\n高效:\n```+sql \nSELECT DEPT_NO,\n       DEPT_NAME\nFROM DEPT D\nWHERE EXISTS\n    (SELECT 'X'\n     FROM EMP E\n     WHERE E.DEPT_NO = D.DEPT_NO);\n```\n## [19]sql语句用大写 ##\n因为oracle总是先解析sql语句，把小写的字母转换成大写的再执行\n## [20]在java代码中尽量少用连接符“＋”连接字符串 ##\n一般来说StringBuilder(非线程安全)是一个不错的选择\n## [21]通常避免在索引列上使用NOT  ##\n我们要避免在索引列上使用NOT，NOT会产生在和在索引列上使用函数相同的影响。当ORACLE”遇到”NOT，他就会停止使用索引转而执行全表扫描。\n## [22]避免在索引列上使用计算 ##\nWHERE子句中，如果索引列是函数的一部分。优化器将不使用索引而使用全表扫描。\n\n举例: \n\n低效： \n```+sql\nSELECT … FROM  DEPT  WHERE SAL * 12 > 25000; \n```\n高效: \n```+sql\nSELECT … FROM DEPT WHERE SAL > 25000/12;\n```\n## [23]用>=替代> ##\n高效: \n```+sql\nSELECT * FROM  EMP  WHERE  DEPTNO >=4 \n```\n低效: \n```+sql\nSELECT * FROM EMP WHERE DEPTNO >3 \n```\n两者的区别在于，前者DBMS将直接跳到第一个DEPT等于4的记录而后者将首先定位到DEPTNO=3的记录并且向前扫描到第一个DEPT大于3的记录。\n## [24]用UNION替换OR (适用于索引列) ##\n通常情况下，用UNION替换WHERE子句中的OR将会起到较好的效果。对索引列使用OR将造成全表扫描。注意，以上规则只针对多个索引列有效。如果有column没有被索引, 查询效率可能会因为你没有选择OR而降低。在下面的例子中， LOC_ID 和REGION上都建有索引。\n\n高效: \n```+sql\nSELECT LOC_ID,\n       LOC_DESC,\n       REGION\nFROM LOCATION\nWHERE LOC_ID = 10\nUNION\nSELECT LOC_ID,\n       LOC_DESC,\n       REGION\nFROM LOCATION\nWHERE REGION = ''MELBOURNE''\n```\n低效: \n```+sql\nSELECT LOC_ID,\n       LOC_DESC,\n       REGION\nFROM LOCATION\nWHERE LOC_ID = 10\n  OR REGION = ''MELBOURNE''\n```\n如果你坚持要用OR, 那就需要返回记录最少的索引列写在最前面\n## [25]用IN来替换OR \n这是一条简单易记的规则，但是实际的执行效果还须检验，在ORACLE8i下，两者的执行路径似乎是相同的。\n\n低效: \n```+sql\nSELECT…. FROM LOCATION WHERE LOC_ID = 10 OR LOC_ID = 20 OR LOC_ID = 30 \n```\n高效：\n```+sql\nSELECT… FROM LOCATION WHERE LOC_IN  IN (10,20,30);\n```\n## [26]避免在索引列上使用IS NULL和IS NOT NULL ##\n避免在索引中使用任何可以为空的列，**ORACLE将无法使用该索引**。对于单列索引，如果列包含空值，索引中将不存在此记录。对于复合索引，如果每个列都为空，索引中同样不存在此记录。如果至少有一个列不为空，则记录存在于索引中。\n\n举例: 如果唯一性索引建立在表的A列和B列上, 并且表中存在一条记录的A,B值为(123,null) , ORACLE将不接受下一条具有相同A,B值（123,null）的记录(插入)。然而如果所有的索引列都为空，ORACLE将认为整个键值为空而空不等于空。 因此你可以插入1000 条具有相同键值的记录,当然它们都是空! 因为空值不存在于索引列中，所以WHERE子句中对索引列进行空值比较将使ORACLE停用该索引。\n\n低效: (索引失效) \n```+sql\nSELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE IS NOT NULL; \n```\n高效: (索引有效)\n```+sql \nSELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE >=0;\n```\n## [27]总是使用索引的第一个列 ##\n如果索引是建立在多个列上, 只有在它的第一个列(leading column)被where子句引用时,**优化器才会选择使用该索引**。这也是一条简单而重要的规则，当仅引用索引的第二个列时，优化器使用了全表扫描而忽略了索引\n## [28]用UNION-ALL替换UNION ##\n当SQL语句需要UNION**两个查询结果集合时**,这两个结果集合会以UNION-ALL的方式被合并, 然后在输出最终结果前进行排序。**如果用UNION ALL替代UNION, 这样排序就不是必要了**。效率就会因此得到提高。需要注意的是，UNION ALL 将重复输出两个结果集合中相同记录。因此各位还是要从业务需求分析使用UNION ALL的可行性。 UNION 将对结果集合排序,这个操作会使用到SORT_AREA_SIZE这块内存。对于这块内存的优化也是相当重要的。下面的SQL可以用来查询排序的消耗量。\n\n低效： \n```+sql\nSELECT ACCT_NUM,\n       BALANCE_AMT\nFROM DEBIT_TRANSACTIONS\nWHERE TRAN_DATE = '31-DEC-95'\nUNION\nSELECT ACCT_NUM,\n       BALANCE_AMT\nFROM DEBIT_TRANSACTIONS\nWHERE TRAN_DATE = '31-DEC-95'\n```\n高效: \n```+sql\nSELECT ACCT_NUM,\n       BALANCE_AMT\nFROM DEBIT_TRANSACTIONS\nWHERE TRAN_DATE = '31-DEC-95'\n  UNION ALL\n  SELECT ACCT_NUM,\n         BALANCE_AMT\n  FROM DEBIT_TRANSACTIONS WHERE TRAN_DATE = '31-DEC-95'\n```\n## [29]用WHERE替代ORDER BY ##\nORDER BY 子句只在两种严格的条件下使用索引\n\nORDER BY中所有的列必须包含在相同的索引中并保持在索引中的排列顺序\n\nORDER BY中所有的列必须定义为非空\n\nWHERE子句使用的索引和ORDER BY子句中所使用的索引不能并列\n\n例如: \n\n表DEPT包含以下列: \n\nDEPT_CODE PK NOT NULL \n\nDEPT_DESC NOT NULL \n\nDEPT_TYPE NULL\n\n低效: (索引不被使用) \n```+sql\nSELECT DEPT_CODE FROM  DEPT  ORDER BY  DEPT_TYPE \n```\n高效: (使用索引) \n```+sql\nSELECT DEPT_CODE  FROM  DEPT  WHERE  DEPT_TYPE > 0\n```\n## [30]避免改变索引列的类型 ##\n当比较不同数据类型的数据时, ORACLE自动对列进行简单的类型转换\n\n假设 EMPNO是一个数值类型的索引列.\n```+sql\nSELECT …  FROM EMP  WHERE  EMPNO = '123' \n```\n实际上,经过ORACLE类型转换, 语句转化为: \n```+sql\nSELECT …  FROM EMP  WHERE  EMPNO = TO_NUMBER('123') \n```\n幸运的是,类型转换没有发生在索引列上,索引的用途没有被改变\n\n现在,假设EMP_TYPE是一个字符类型的索引列\n```+sql\nSELECT …  FROM EMP  WHERE EMP_TYPE = 123 \n```\n这个语句被ORACLE转换为: \n```+sql\nSELECT …  FROM EMP  WHERETO_NUMBER(EMP_TYPE)=123 \n```\n因为内部发生的类型转换, 这个索引将不会被用到! \n\n为了避免ORACLE对你的SQL进行隐式的类型转换, 最好把类型转换用显式表现出来。 注意当字符和数值比较时, ORACLE会优先转换数值类型到字符类型\n## [31]需要当心的WHERE子句 ##\n某些SELECT 语句中的WHERE子句不使用索引\n这里有一些例子\n\n在下面的例子里, \n1. '!=' 将不使用索引。记住, 索引只能告诉你什么存在于表中, 而不能告诉你什么不存在于表中\n2. '||'是字符连接函数. 就象其他函数那样, 停用了索引\n3. '+'是数学函数. 就象其他数学函数那样, 停用了索引\n4. 相同的索引列不能互相比较,这将会启用全表扫描\n\n## [32]检索数据量超过表中30%,索引失效 ##\n1. 如果检索数据量超过30%的表中记录数.使用索引将没有显著的效率提高\n2. 在特定情况下, 使用索引也许会比全表扫描慢, 但这是同一个数量级上的区别。 而通常情况下,使用索引比全表扫描要块几倍乃至几千倍!\n\n## [33]避免使用耗费资源的操作 ##\n带有DISTINCT,UNION,MINUS,INTERSECT,ORDER BY的SQL语句会启动SQL引擎 \n执行耗费资源的排序(SORT)功能。\n\nDISTINCT需要一次排序操作, 而其他的至少需要执行两次排序。\n通常, 带有UNION, MINUS , INTERSECT的SQL语句都可以用其他方式重写。\n\n如果你的数据库的SORT_AREA_SIZE调配得好, 使用UNION , MINUS, INTERSECT也是可以考虑的, 毕竟它们的可读性很强。\n## [34]优化GROUP BY ##\n提高GROUP BY 语句的效率，可以通过将不需要的记录在GROUP BY 之前过滤掉。\n\n下面两个查询返回相同结果但第二个明显就快了许多。\n\n低效: \n```+sql\nSELECT JOB,\n       AVG(SAL)\nFROM EMP\nGROUP JOB\nHAVING JOB = 'PRESIDENT'\nOR JOB = 'MANAGER'\n```\n高效: \n```+sql\nSELECT JOB,\n       AVG(SAL)\nFROM EMP\nWHERE JOB = 'PRESIDENT' \nOR JOB = 'MANAGER'\nGROUP JOB\n```\n\n本文参考其他文章整理而来\n\n出处：<a href=\"http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html\" target=\"_blank\">http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html</a>\n\n不过互联网上这篇文章很多，都没有版权注明。我也不知道原创是谁！","slug":"Oracle-SQL语句优化-写出高效SQL","published":1,"updated":"2017-02-09T13:56:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdw300hrolejg7cvknku","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"1-选择最有效率的表名顺序\"><a href=\"#1-选择最有效率的表名顺序\" class=\"headerlink\" title=\"[1]选择最有效率的表名顺序\"></a>[1]选择最有效率的表名顺序</h2><p>只在基于规则的优化器中有效,ORACLE的解析器按照从右到左的顺序处理FROM子句中的表名，FROM子句中写在最后的表(基础表 driving table)将被最先处理，在FROM子句中包含多个表的情况下,你必须<strong>选择记录条数最少的表作为基础表</strong>。如果有3个以上的表连接查询, 那就需要选择交叉表(intersection table)作为基础表, 交叉表是指那个被其他表所引用的表.</p><h2 id=\"2-WHERE子句中的连接顺序\"><a href=\"#2-WHERE子句中的连接顺序\" class=\"headerlink\" title=\"[2]WHERE子句中的连接顺序\"></a>[2]WHERE子句中的连接顺序</h2><p><strong>ORACLE采用自下而上(从后往前)的顺序解析WHERE子句</strong>,根据这个原理,表之间的连接必须写在其他WHERE条件之前, 那些<strong>可以过滤掉最大数量记录的条件必须写在WHERE子句的末尾</strong></p><h2 id=\"3-SELECT子句中避免使用’-’\"><a href=\"#3-SELECT子句中避免使用’-’\" class=\"headerlink\" title=\"[3]SELECT子句中避免使用’*’\"></a>[3]SELECT子句中避免使用’*’</h2><p>ORACLE在解析的过程中, 会将’*’ 依次转换成所有的列名, 这个工作是通过查询数据字典完成的, 这意味着将耗费更多的时间.需要什么字段就查询什么字段，永远不要查询出不需要的字段来</p><h2 id=\"4-减少访问数据库的次数\"><a href=\"#4-减少访问数据库的次数\" class=\"headerlink\" title=\"[4]减少访问数据库的次数\"></a>[4]减少访问数据库的次数</h2><p>ORACLE在内部执行了许多工作: 解析SQL语句, 估算索引的利用率, 绑定变量 , 读数据块等；尽量使用缓存技术；</p><h2 id=\"5-设置单次访问合适的检索数据量\"><a href=\"#5-设置单次访问合适的检索数据量\" class=\"headerlink\" title=\"[5]设置单次访问合适的检索数据量\"></a>[5]设置单次访问合适的检索数据量</h2><p>在SQL<em>Plus , SQL</em>Forms和Pro*C中重新设置ARRAYSIZE参数, 可以增加每次数据库访问的检索数据量 ,建议值为200<br><a id=\"more\"></a></p><h2 id=\"6-使用DECODE函数来减少处理时间\"><a href=\"#6-使用DECODE函数来减少处理时间\" class=\"headerlink\" title=\"[6]使用DECODE函数来减少处理时间\"></a>[6]使用DECODE函数来减少处理时间</h2><p>使用DECODE函数可以避免重复扫描相同记录或重复连接相同的表,因为decode函数有短路效应，类似java中短路与，有合适的就会返回而不继续扫描后面的内容</p><h2 id=\"7-整合简单-无关联的数据库访问\"><a href=\"#7-整合简单-无关联的数据库访问\" class=\"headerlink\" title=\"[7]整合简单,无关联的数据库访问\"></a>[7]整合简单,无关联的数据库访问</h2><p>如果你有几个简单的数据库查询语句,你可以把它们整合到一个查询中(即使它们之间没有关系),原因见<strong>[4]</strong></p><h2 id=\"8-删除重复记录，最高效的方法\"><a href=\"#8-删除重复记录，最高效的方法\" class=\"headerlink\" title=\"[8]删除重复记录，最高效的方法\"></a>[8]删除重复记录，最高效的方法</h2><p>因为这里使用的是rowid<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE</span><br><span class=\"line\">FROM EMP E</span><br><span class=\"line\">WHERE E.ROWID &gt;</span><br><span class=\"line\">    (SELECT MIN(X.ROWID)</span><br><span class=\"line\">     FROM EMP X</span><br><span class=\"line\">     WHERE X.EMP_NO = E.EMP_NO);</span><br></pre></td></tr></table></figure><p></p><h2 id=\"9-用TRUNCATE替代DELETE\"><a href=\"#9-用TRUNCATE替代DELETE\" class=\"headerlink\" title=\"[9]用TRUNCATE替代DELETE\"></a>[9]用TRUNCATE替代DELETE</h2><p>当删除表中的记录时,在通常情况下, 回滚段(rollback segments ) 用来存放可以被恢复的信息. 如果你没有COMMIT事务,ORACLE会将数据恢复到删除之前的状态(准确地说是恢复到执行删除命令之前的状况) <strong>而当运用TRUNCATE时, 回滚段不再存放任何可被恢复的信息</strong>.当命令运行后,数据不能被恢复.因此很少的资源被调用,执行时间也会很短. (注: TRUNCATE只在删除全表适用,TRUNCATE是DDL不是DML)</p><h2 id=\"10-尽量多使用COMMIT\"><a href=\"#10-尽量多使用COMMIT\" class=\"headerlink\" title=\"[10]尽量多使用COMMIT\"></a>[10]尽量多使用COMMIT</h2><p>只要有可能,在程序中尽量多使用COMMIT, 这样程序的性能得到提高,需求也会因为COMMIT所释放的资源而减少:<br>COMMIT所释放的资源:</p><ol><li>回滚段上用于恢复数据的信息</li><li>被程序语句获得的锁</li><li>redo log buffer 中的空间</li><li>ORACLE为管理上述3种资源中的内部花费</li></ol><h2 id=\"11-用Where子句替换HAVING子句\"><a href=\"#11-用Where子句替换HAVING子句\" class=\"headerlink\" title=\"[11]用Where子句替换HAVING子句\"></a>[11]用Where子句替换HAVING子句</h2><p>避免使用HAVING子句, <strong>HAVING在检索出所有记录后对结果集进行过滤。这个处理需要排序,总计等操作</strong>。 如果能通过WHERE子句限制记录的数目,那就能减少这方面的开销. (非oracle中)on、where、having这三个都可以加条件的子句中，on是最先执行，where次之，having最后，<strong>因为on是先把不符合条件的记录过滤后才进行统计，它就可以减少中间运算要处理的数据，按理说应该速度是最快的</strong>，where也应该比having快点的，因为它过滤数据后才进行sum，在两个表联接时才用on的，所以在一个表的时候，就剩下where跟having比较了。在这单表查询统计的情况下，如果要过滤的条件没有涉及到要计算字段，那它们的结果是一样的，只是where可以使用rushmore技术，而having就不能，在速度上后者要慢如果要涉及到计算的字段，就表示在没计算之前，这个字段的值是不确定的，根据上篇写的工作流程，where的作用时间是在计算之前就完成的，而having就是在计算后才起作用的，所以在这种情况下，两者的结果会不同。在多表联接查询时，on比where更早起作用。系统首先根据各个表之间的联接条件，把多个表合成一个临时表后，再由where进行过滤，然后再计算，计算完后再由having进行过滤。由此可见，要想过滤条件起到正确的作用，首先要明白这个条件应该在什么时候起作用，然后再决定放在那里</p><h2 id=\"12-减少对表的查询\"><a href=\"#12-减少对表的查询\" class=\"headerlink\" title=\"[12]减少对表的查询\"></a>[12]减少对表的查询</h2><p>在含有子查询的SQL语句中,要特别注意减少对表的查询。例子：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT TAB_NAME</span><br><span class=\"line\">FROM TABLES</span><br><span class=\"line\">WHERE (TAB_NAME,</span><br><span class=\"line\">       DB_VER) =</span><br><span class=\"line\">    (SELECT TAB_NAME,</span><br><span class=\"line\">            DB_VER</span><br><span class=\"line\">     FROM TAB_COLUMNS</span><br><span class=\"line\">     WHERE VERSION = 604)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"13-通过内部函数提高SQL效率\"><a href=\"#13-通过内部函数提高SQL效率\" class=\"headerlink\" title=\"[13]通过内部函数提高SQL效率\"></a>[13]通过内部函数提高SQL效率</h2><p>复杂的SQL往往牺牲了执行效率。能够掌握上面的运用函数解决问题的方法在实际工作中是非常有意义的。一般把复杂的sql分解再拼起来。</p><h2 id=\"14-使用表的别名-Alias\"><a href=\"#14-使用表的别名-Alias\" class=\"headerlink\" title=\"[14]使用表的别名(Alias)\"></a>[14]使用表的别名(Alias)</h2><p>当在SQL语句中连接多个表时, 请使用表的别名并把别名前缀于每个Column上。这样一来，就可以减少解析的时间并减少那些由Column歧义引起的语法错误。</p><h2 id=\"15-用EXISTS替代IN、用NOT-EXISTS替代NOT-IN\"><a href=\"#15-用EXISTS替代IN、用NOT-EXISTS替代NOT-IN\" class=\"headerlink\" title=\"[15]用EXISTS替代IN、用NOT EXISTS替代NOT IN\"></a>[15]用EXISTS替代IN、用NOT EXISTS替代NOT IN</h2><p>在许多基于基础表的查询中,为了满足一个条件,往往需要对另一个表进行联接。在这种情况下, 使用EXISTS(或NOT EXISTS)通常将提高查询的效率。在子查询中,NOT IN子句将执行一个内部的排序和合并。无论在哪种情况下,NOT IN都是最低效的 (因为它对子查询中的表执行了一个全表遍历).。为了避免使用NOT IN ,我们可以把它改写成外连接(Outer Joins)或NOT EXISTS.</p><p>高效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM EMP (基础表)</span><br><span class=\"line\">WHERE EMPNO &gt; 0</span><br><span class=\"line\">  AND EXISTS</span><br><span class=\"line\">    (SELECT &apos;X&apos;  FROM DEPT  WHERE  DEPT.DEPTNO = EMP.DEPTNO  AND  LOC = &apos;MELB&apos;)</span><br></pre></td></tr></table></figure><p></p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM EMP (基础表)</span><br><span class=\"line\">WHERE EMPNO &gt; 0</span><br><span class=\"line\">  AND DEPTNO IN</span><br><span class=\"line\">    (SELECT DEPTNO</span><br><span class=\"line\">     FROM DEPT</span><br><span class=\"line\">     WHERE LOC = &apos;MELB&apos;)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"16-识别’低效执行’的SQL语句\"><a href=\"#16-识别’低效执行’的SQL语句\" class=\"headerlink\" title=\"[16]识别’低效执行’的SQL语句\"></a>[16]识别’低效执行’的SQL语句</h2><p>虽然目前各种关于SQL优化的图形化工具层出不穷</p><p>但是写出自己的SQL工具来解决问题始终是一个最好的方法:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT EXECUTIONS,</span><br><span class=\"line\">       DISK_READS,</span><br><span class=\"line\">       BUFFER_GETS,</span><br><span class=\"line\">       ROUND((BUFFER_GETS-DISK_READS)/BUFFER_GETS,2) Hit_radio,</span><br><span class=\"line\">       ROUND(DISK_READS/EXECUTIONS,2) Reads_per_run,</span><br><span class=\"line\">       SQL_TEXT</span><br><span class=\"line\">FROM V$SQLAREA</span><br><span class=\"line\">WHERE EXECUTIONS&gt;0</span><br><span class=\"line\">  AND BUFFER_GETS &gt; 0</span><br><span class=\"line\">  AND (BUFFER_GETS-DISK_READS)/BUFFER_GETS &lt; 0.8</span><br><span class=\"line\">ORDER BY 4 DESC;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"17-用索引提高效率\"><a href=\"#17-用索引提高效率\" class=\"headerlink\" title=\"[17]用索引提高效率\"></a>[17]用索引提高效率</h2><p>索引是表的一个概念部分，用来提高检索数据的效率，ORACLE使用了一个复杂的自平衡B-tree结构。通常，通过索引查询数据比全表扫描要快。 当ORACLE找出执行查询和Update语句的最佳路径时， ORACLE优化器将使用索引。同样在联结多个表时使用索引也可以提高效率。另一个使用索引的好处是，它提供了主键(primary key)的唯一性验证。那些LONG或LONG RAW数据类型，你可以索引几乎所有的列。 通常，在大型表中使用索引特别有效。当然，你也会发现，在扫描小表时，使用索引同样能提高效率。<strong>虽然使用索引能得到查询效率的提高，但是我们也必须注意到它的代价. 索引需要空间来存储，也需要定期维护，每当有记录在表中增减或索引列被修改时, 索引本身也会被修改</strong>。这意味着每条记录的INSERT , DELETE , UPDATE将为此多付出4 , 5 次的磁盘I/O 。 因为索引需要额外的存储空间和处理，那些不必要的索引反而会使查询反应时间变慢。定期的重构索引是有必要的。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER  INDEX &lt;INDEXNAME&gt; REBUILD &lt;TABLESPACENAME&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"18-用EXISTS替换DISTINCT\"><a href=\"#18-用EXISTS替换DISTINCT\" class=\"headerlink\" title=\"[18]用EXISTS替换DISTINCT\"></a>[18]用EXISTS替换DISTINCT</h2><p>当提交一个包含一对多表信息(比如部门表和雇员表)的查询时，避免在SELECT子句中使用DISTINCT。一般可以考虑用EXIST替换，EXISTS 使查询更为迅速，因为RDBMS核心模块将在子查询的条件一旦满足后，立刻返回结果。</p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DISTINCT DEPT_NO,</span><br><span class=\"line\">                DEPT_NAME</span><br><span class=\"line\">FROM DEPT D,</span><br><span class=\"line\">     EMP E</span><br><span class=\"line\">WHERE D.DEPT_NO = E.DEPT_NO</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DEPT_NO,</span><br><span class=\"line\">       DEPT_NAME</span><br><span class=\"line\">FROM DEPT D</span><br><span class=\"line\">WHERE EXISTS</span><br><span class=\"line\">    (SELECT &apos;X&apos;</span><br><span class=\"line\">     FROM EMP E</span><br><span class=\"line\">     WHERE E.DEPT_NO = D.DEPT_NO);</span><br></pre></td></tr></table></figure><p></p><h2 id=\"19-sql语句用大写\"><a href=\"#19-sql语句用大写\" class=\"headerlink\" title=\"[19]sql语句用大写\"></a>[19]sql语句用大写</h2><p>因为oracle总是先解析sql语句，把小写的字母转换成大写的再执行</p><h2 id=\"20-在java代码中尽量少用连接符“＋”连接字符串\"><a href=\"#20-在java代码中尽量少用连接符“＋”连接字符串\" class=\"headerlink\" title=\"[20]在java代码中尽量少用连接符“＋”连接字符串\"></a>[20]在java代码中尽量少用连接符“＋”连接字符串</h2><p>一般来说StringBuilder(非线程安全)是一个不错的选择</p><h2 id=\"21-通常避免在索引列上使用NOT\"><a href=\"#21-通常避免在索引列上使用NOT\" class=\"headerlink\" title=\"[21]通常避免在索引列上使用NOT\"></a>[21]通常避免在索引列上使用NOT</h2><p>我们要避免在索引列上使用NOT，NOT会产生在和在索引列上使用函数相同的影响。当ORACLE”遇到”NOT，他就会停止使用索引转而执行全表扫描。</p><h2 id=\"22-避免在索引列上使用计算\"><a href=\"#22-避免在索引列上使用计算\" class=\"headerlink\" title=\"[22]避免在索引列上使用计算\"></a>[22]避免在索引列上使用计算</h2><p>WHERE子句中，如果索引列是函数的一部分。优化器将不使用索引而使用全表扫描。</p><p>举例:</p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM  DEPT  WHERE SAL * 12 &gt; 25000;</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM DEPT WHERE SAL &gt; 25000/12;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"23-用-gt-替代-gt\"><a href=\"#23-用-gt-替代-gt\" class=\"headerlink\" title=\"[23]用&gt;=替代&gt;\"></a>[23]用&gt;=替代&gt;</h2><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM  EMP  WHERE  DEPTNO &gt;=4</span><br></pre></td></tr></table></figure><p></p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM EMP WHERE DEPTNO &gt;3</span><br></pre></td></tr></table></figure><p></p><p>两者的区别在于，前者DBMS将直接跳到第一个DEPT等于4的记录而后者将首先定位到DEPTNO=3的记录并且向前扫描到第一个DEPT大于3的记录。</p><h2 id=\"24-用UNION替换OR-适用于索引列\"><a href=\"#24-用UNION替换OR-适用于索引列\" class=\"headerlink\" title=\"[24]用UNION替换OR (适用于索引列)\"></a>[24]用UNION替换OR (适用于索引列)</h2><p>通常情况下，用UNION替换WHERE子句中的OR将会起到较好的效果。对索引列使用OR将造成全表扫描。注意，以上规则只针对多个索引列有效。如果有column没有被索引, 查询效率可能会因为你没有选择OR而降低。在下面的例子中， LOC_ID 和REGION上都建有索引。</p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT LOC_ID,</span><br><span class=\"line\">       LOC_DESC,</span><br><span class=\"line\">       REGION</span><br><span class=\"line\">FROM LOCATION</span><br><span class=\"line\">WHERE LOC_ID = 10</span><br><span class=\"line\">UNION</span><br><span class=\"line\">SELECT LOC_ID,</span><br><span class=\"line\">       LOC_DESC,</span><br><span class=\"line\">       REGION</span><br><span class=\"line\">FROM LOCATION</span><br><span class=\"line\">WHERE REGION = &apos;&apos;MELBOURNE&apos;&apos;</span><br></pre></td></tr></table></figure><p></p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT LOC_ID,</span><br><span class=\"line\">       LOC_DESC,</span><br><span class=\"line\">       REGION</span><br><span class=\"line\">FROM LOCATION</span><br><span class=\"line\">WHERE LOC_ID = 10</span><br><span class=\"line\">  OR REGION = &apos;&apos;MELBOURNE&apos;&apos;</span><br></pre></td></tr></table></figure><p></p><p>如果你坚持要用OR, 那就需要返回记录最少的索引列写在最前面</p><h2 id=\"25-用IN来替换OR\"><a href=\"#25-用IN来替换OR\" class=\"headerlink\" title=\"[25]用IN来替换OR\"></a>[25]用IN来替换OR</h2><p>这是一条简单易记的规则，但是实际的执行效果还须检验，在ORACLE8i下，两者的执行路径似乎是相同的。</p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT…. FROM LOCATION WHERE LOC_ID = 10 OR LOC_ID = 20 OR LOC_ID = 30</span><br></pre></td></tr></table></figure><p></p><p>高效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT… FROM LOCATION WHERE LOC_IN  IN (10,20,30);</span><br></pre></td></tr></table></figure><p></p><h2 id=\"26-避免在索引列上使用IS-NULL和IS-NOT-NULL\"><a href=\"#26-避免在索引列上使用IS-NULL和IS-NOT-NULL\" class=\"headerlink\" title=\"[26]避免在索引列上使用IS NULL和IS NOT NULL\"></a>[26]避免在索引列上使用IS NULL和IS NOT NULL</h2><p>避免在索引中使用任何可以为空的列，<strong>ORACLE将无法使用该索引</strong>。对于单列索引，如果列包含空值，索引中将不存在此记录。对于复合索引，如果每个列都为空，索引中同样不存在此记录。如果至少有一个列不为空，则记录存在于索引中。</p><p>举例: 如果唯一性索引建立在表的A列和B列上, 并且表中存在一条记录的A,B值为(123,null) , ORACLE将不接受下一条具有相同A,B值（123,null）的记录(插入)。然而如果所有的索引列都为空，ORACLE将认为整个键值为空而空不等于空。 因此你可以插入1000 条具有相同键值的记录,当然它们都是空! 因为空值不存在于索引列中，所以WHERE子句中对索引列进行空值比较将使ORACLE停用该索引。</p><p>低效: (索引失效)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE IS NOT NULL;</span><br></pre></td></tr></table></figure><p></p><p>高效: (索引有效)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE &gt;=0;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"27-总是使用索引的第一个列\"><a href=\"#27-总是使用索引的第一个列\" class=\"headerlink\" title=\"[27]总是使用索引的第一个列\"></a>[27]总是使用索引的第一个列</h2><p>如果索引是建立在多个列上, 只有在它的第一个列(leading column)被where子句引用时,<strong>优化器才会选择使用该索引</strong>。这也是一条简单而重要的规则，当仅引用索引的第二个列时，优化器使用了全表扫描而忽略了索引</p><h2 id=\"28-用UNION-ALL替换UNION\"><a href=\"#28-用UNION-ALL替换UNION\" class=\"headerlink\" title=\"[28]用UNION-ALL替换UNION\"></a>[28]用UNION-ALL替换UNION</h2><p>当SQL语句需要UNION<strong>两个查询结果集合时</strong>,这两个结果集合会以UNION-ALL的方式被合并, 然后在输出最终结果前进行排序。<strong>如果用UNION ALL替代UNION, 这样排序就不是必要了</strong>。效率就会因此得到提高。需要注意的是，UNION ALL 将重复输出两个结果集合中相同记录。因此各位还是要从业务需求分析使用UNION ALL的可行性。 UNION 将对结果集合排序,这个操作会使用到SORT_AREA_SIZE这块内存。对于这块内存的优化也是相当重要的。下面的SQL可以用来查询排序的消耗量。</p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ACCT_NUM,</span><br><span class=\"line\">       BALANCE_AMT</span><br><span class=\"line\">FROM DEBIT_TRANSACTIONS</span><br><span class=\"line\">WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br><span class=\"line\">UNION</span><br><span class=\"line\">SELECT ACCT_NUM,</span><br><span class=\"line\">       BALANCE_AMT</span><br><span class=\"line\">FROM DEBIT_TRANSACTIONS</span><br><span class=\"line\">WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ACCT_NUM,</span><br><span class=\"line\">       BALANCE_AMT</span><br><span class=\"line\">FROM DEBIT_TRANSACTIONS</span><br><span class=\"line\">WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br><span class=\"line\">  UNION ALL</span><br><span class=\"line\">  SELECT ACCT_NUM,</span><br><span class=\"line\">         BALANCE_AMT</span><br><span class=\"line\">  FROM DEBIT_TRANSACTIONS WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"29-用WHERE替代ORDER-BY\"><a href=\"#29-用WHERE替代ORDER-BY\" class=\"headerlink\" title=\"[29]用WHERE替代ORDER BY\"></a>[29]用WHERE替代ORDER BY</h2><p>ORDER BY 子句只在两种严格的条件下使用索引</p><p>ORDER BY中所有的列必须包含在相同的索引中并保持在索引中的排列顺序</p><p>ORDER BY中所有的列必须定义为非空</p><p>WHERE子句使用的索引和ORDER BY子句中所使用的索引不能并列</p><p>例如:</p><p>表DEPT包含以下列:</p><p>DEPT_CODE PK NOT NULL</p><p>DEPT_DESC NOT NULL</p><p>DEPT_TYPE NULL</p><p>低效: (索引不被使用)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DEPT_CODE FROM  DEPT  ORDER BY  DEPT_TYPE</span><br></pre></td></tr></table></figure><p></p><p>高效: (使用索引)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DEPT_CODE  FROM  DEPT  WHERE  DEPT_TYPE &gt; 0</span><br></pre></td></tr></table></figure><p></p><h2 id=\"30-避免改变索引列的类型\"><a href=\"#30-避免改变索引列的类型\" class=\"headerlink\" title=\"[30]避免改变索引列的类型\"></a>[30]避免改变索引列的类型</h2><p>当比较不同数据类型的数据时, ORACLE自动对列进行简单的类型转换</p><p>假设 EMPNO是一个数值类型的索引列.<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERE  EMPNO = &apos;123&apos;</span><br></pre></td></tr></table></figure><p></p><p>实际上,经过ORACLE类型转换, 语句转化为:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERE  EMPNO = TO_NUMBER(&apos;123&apos;)</span><br></pre></td></tr></table></figure><p></p><p>幸运的是,类型转换没有发生在索引列上,索引的用途没有被改变</p><p>现在,假设EMP_TYPE是一个字符类型的索引列<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERE EMP_TYPE = 123</span><br></pre></td></tr></table></figure><p></p><p>这个语句被ORACLE转换为:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERETO_NUMBER(EMP_TYPE)=123</span><br></pre></td></tr></table></figure><p></p><p>因为内部发生的类型转换, 这个索引将不会被用到!</p><p>为了避免ORACLE对你的SQL进行隐式的类型转换, 最好把类型转换用显式表现出来。 注意当字符和数值比较时, ORACLE会优先转换数值类型到字符类型</p><h2 id=\"31-需要当心的WHERE子句\"><a href=\"#31-需要当心的WHERE子句\" class=\"headerlink\" title=\"[31]需要当心的WHERE子句\"></a>[31]需要当心的WHERE子句</h2><p>某些SELECT 语句中的WHERE子句不使用索引<br>这里有一些例子</p><p>在下面的例子里,</p><ol><li>‘!=’ 将不使用索引。记住, 索引只能告诉你什么存在于表中, 而不能告诉你什么不存在于表中</li><li>‘||’是字符连接函数. 就象其他函数那样, 停用了索引</li><li>‘+’是数学函数. 就象其他数学函数那样, 停用了索引</li><li>相同的索引列不能互相比较,这将会启用全表扫描</li></ol><h2 id=\"32-检索数据量超过表中30-索引失效\"><a href=\"#32-检索数据量超过表中30-索引失效\" class=\"headerlink\" title=\"[32]检索数据量超过表中30%,索引失效\"></a>[32]检索数据量超过表中30%,索引失效</h2><ol><li>如果检索数据量超过30%的表中记录数.使用索引将没有显著的效率提高</li><li>在特定情况下, 使用索引也许会比全表扫描慢, 但这是同一个数量级上的区别。 而通常情况下,使用索引比全表扫描要块几倍乃至几千倍!</li></ol><h2 id=\"33-避免使用耗费资源的操作\"><a href=\"#33-避免使用耗费资源的操作\" class=\"headerlink\" title=\"[33]避免使用耗费资源的操作\"></a>[33]避免使用耗费资源的操作</h2><p>带有DISTINCT,UNION,MINUS,INTERSECT,ORDER BY的SQL语句会启动SQL引擎<br>执行耗费资源的排序(SORT)功能。</p><p>DISTINCT需要一次排序操作, 而其他的至少需要执行两次排序。<br>通常, 带有UNION, MINUS , INTERSECT的SQL语句都可以用其他方式重写。</p><p>如果你的数据库的SORT_AREA_SIZE调配得好, 使用UNION , MINUS, INTERSECT也是可以考虑的, 毕竟它们的可读性很强。</p><h2 id=\"34-优化GROUP-BY\"><a href=\"#34-优化GROUP-BY\" class=\"headerlink\" title=\"[34]优化GROUP BY\"></a>[34]优化GROUP BY</h2><p>提高GROUP BY 语句的效率，可以通过将不需要的记录在GROUP BY 之前过滤掉。</p><p>下面两个查询返回相同结果但第二个明显就快了许多。</p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT JOB,</span><br><span class=\"line\">       AVG(SAL)</span><br><span class=\"line\">FROM EMP</span><br><span class=\"line\">GROUP JOB</span><br><span class=\"line\">HAVING JOB = &apos;PRESIDENT&apos;</span><br><span class=\"line\">OR JOB = &apos;MANAGER&apos;</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT JOB,</span><br><span class=\"line\">       AVG(SAL)</span><br><span class=\"line\">FROM EMP</span><br><span class=\"line\">WHERE JOB = &apos;PRESIDENT&apos; </span><br><span class=\"line\">OR JOB = &apos;MANAGER&apos;</span><br><span class=\"line\">GROUP JOB</span><br></pre></td></tr></table></figure><p></p><p>本文参考其他文章整理而来</p><p>出处：<a href=\"http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html\" target=\"_blank\">http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html</a></p><p>不过互联网上这篇文章很多，都没有版权注明。我也不知道原创是谁！</p><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><h2 id=\"1-选择最有效率的表名顺序\"><a href=\"#1-选择最有效率的表名顺序\" class=\"headerlink\" title=\"[1]选择最有效率的表名顺序\"></a>[1]选择最有效率的表名顺序</h2><p>只在基于规则的优化器中有效,ORACLE的解析器按照从右到左的顺序处理FROM子句中的表名，FROM子句中写在最后的表(基础表 driving table)将被最先处理，在FROM子句中包含多个表的情况下,你必须<strong>选择记录条数最少的表作为基础表</strong>。如果有3个以上的表连接查询, 那就需要选择交叉表(intersection table)作为基础表, 交叉表是指那个被其他表所引用的表.</p><h2 id=\"2-WHERE子句中的连接顺序\"><a href=\"#2-WHERE子句中的连接顺序\" class=\"headerlink\" title=\"[2]WHERE子句中的连接顺序\"></a>[2]WHERE子句中的连接顺序</h2><p><strong>ORACLE采用自下而上(从后往前)的顺序解析WHERE子句</strong>,根据这个原理,表之间的连接必须写在其他WHERE条件之前, 那些<strong>可以过滤掉最大数量记录的条件必须写在WHERE子句的末尾</strong></p><h2 id=\"3-SELECT子句中避免使用’-’\"><a href=\"#3-SELECT子句中避免使用’-’\" class=\"headerlink\" title=\"[3]SELECT子句中避免使用’*’\"></a>[3]SELECT子句中避免使用’*’</h2><p>ORACLE在解析的过程中, 会将’*’ 依次转换成所有的列名, 这个工作是通过查询数据字典完成的, 这意味着将耗费更多的时间.需要什么字段就查询什么字段，永远不要查询出不需要的字段来</p><h2 id=\"4-减少访问数据库的次数\"><a href=\"#4-减少访问数据库的次数\" class=\"headerlink\" title=\"[4]减少访问数据库的次数\"></a>[4]减少访问数据库的次数</h2><p>ORACLE在内部执行了许多工作: 解析SQL语句, 估算索引的利用率, 绑定变量 , 读数据块等；尽量使用缓存技术；</p><h2 id=\"5-设置单次访问合适的检索数据量\"><a href=\"#5-设置单次访问合适的检索数据量\" class=\"headerlink\" title=\"[5]设置单次访问合适的检索数据量\"></a>[5]设置单次访问合适的检索数据量</h2><p>在SQL<em>Plus , SQL</em>Forms和Pro*C中重新设置ARRAYSIZE参数, 可以增加每次数据库访问的检索数据量 ,建议值为200<br>","more":"</p><h2 id=\"6-使用DECODE函数来减少处理时间\"><a href=\"#6-使用DECODE函数来减少处理时间\" class=\"headerlink\" title=\"[6]使用DECODE函数来减少处理时间\"></a>[6]使用DECODE函数来减少处理时间</h2><p>使用DECODE函数可以避免重复扫描相同记录或重复连接相同的表,因为decode函数有短路效应，类似java中短路与，有合适的就会返回而不继续扫描后面的内容</p><h2 id=\"7-整合简单-无关联的数据库访问\"><a href=\"#7-整合简单-无关联的数据库访问\" class=\"headerlink\" title=\"[7]整合简单,无关联的数据库访问\"></a>[7]整合简单,无关联的数据库访问</h2><p>如果你有几个简单的数据库查询语句,你可以把它们整合到一个查询中(即使它们之间没有关系),原因见<strong>[4]</strong></p><h2 id=\"8-删除重复记录，最高效的方法\"><a href=\"#8-删除重复记录，最高效的方法\" class=\"headerlink\" title=\"[8]删除重复记录，最高效的方法\"></a>[8]删除重复记录，最高效的方法</h2><p>因为这里使用的是rowid<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE</span><br><span class=\"line\">FROM EMP E</span><br><span class=\"line\">WHERE E.ROWID &gt;</span><br><span class=\"line\">    (SELECT MIN(X.ROWID)</span><br><span class=\"line\">     FROM EMP X</span><br><span class=\"line\">     WHERE X.EMP_NO = E.EMP_NO);</span><br></pre></td></tr></table></figure><p></p><h2 id=\"9-用TRUNCATE替代DELETE\"><a href=\"#9-用TRUNCATE替代DELETE\" class=\"headerlink\" title=\"[9]用TRUNCATE替代DELETE\"></a>[9]用TRUNCATE替代DELETE</h2><p>当删除表中的记录时,在通常情况下, 回滚段(rollback segments ) 用来存放可以被恢复的信息. 如果你没有COMMIT事务,ORACLE会将数据恢复到删除之前的状态(准确地说是恢复到执行删除命令之前的状况) <strong>而当运用TRUNCATE时, 回滚段不再存放任何可被恢复的信息</strong>.当命令运行后,数据不能被恢复.因此很少的资源被调用,执行时间也会很短. (注: TRUNCATE只在删除全表适用,TRUNCATE是DDL不是DML)</p><h2 id=\"10-尽量多使用COMMIT\"><a href=\"#10-尽量多使用COMMIT\" class=\"headerlink\" title=\"[10]尽量多使用COMMIT\"></a>[10]尽量多使用COMMIT</h2><p>只要有可能,在程序中尽量多使用COMMIT, 这样程序的性能得到提高,需求也会因为COMMIT所释放的资源而减少:<br>COMMIT所释放的资源:</p><ol><li>回滚段上用于恢复数据的信息</li><li>被程序语句获得的锁</li><li>redo log buffer 中的空间</li><li>ORACLE为管理上述3种资源中的内部花费</li></ol><h2 id=\"11-用Where子句替换HAVING子句\"><a href=\"#11-用Where子句替换HAVING子句\" class=\"headerlink\" title=\"[11]用Where子句替换HAVING子句\"></a>[11]用Where子句替换HAVING子句</h2><p>避免使用HAVING子句, <strong>HAVING在检索出所有记录后对结果集进行过滤。这个处理需要排序,总计等操作</strong>。 如果能通过WHERE子句限制记录的数目,那就能减少这方面的开销. (非oracle中)on、where、having这三个都可以加条件的子句中，on是最先执行，where次之，having最后，<strong>因为on是先把不符合条件的记录过滤后才进行统计，它就可以减少中间运算要处理的数据，按理说应该速度是最快的</strong>，where也应该比having快点的，因为它过滤数据后才进行sum，在两个表联接时才用on的，所以在一个表的时候，就剩下where跟having比较了。在这单表查询统计的情况下，如果要过滤的条件没有涉及到要计算字段，那它们的结果是一样的，只是where可以使用rushmore技术，而having就不能，在速度上后者要慢如果要涉及到计算的字段，就表示在没计算之前，这个字段的值是不确定的，根据上篇写的工作流程，where的作用时间是在计算之前就完成的，而having就是在计算后才起作用的，所以在这种情况下，两者的结果会不同。在多表联接查询时，on比where更早起作用。系统首先根据各个表之间的联接条件，把多个表合成一个临时表后，再由where进行过滤，然后再计算，计算完后再由having进行过滤。由此可见，要想过滤条件起到正确的作用，首先要明白这个条件应该在什么时候起作用，然后再决定放在那里</p><h2 id=\"12-减少对表的查询\"><a href=\"#12-减少对表的查询\" class=\"headerlink\" title=\"[12]减少对表的查询\"></a>[12]减少对表的查询</h2><p>在含有子查询的SQL语句中,要特别注意减少对表的查询。例子：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT TAB_NAME</span><br><span class=\"line\">FROM TABLES</span><br><span class=\"line\">WHERE (TAB_NAME,</span><br><span class=\"line\">       DB_VER) =</span><br><span class=\"line\">    (SELECT TAB_NAME,</span><br><span class=\"line\">            DB_VER</span><br><span class=\"line\">     FROM TAB_COLUMNS</span><br><span class=\"line\">     WHERE VERSION = 604)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"13-通过内部函数提高SQL效率\"><a href=\"#13-通过内部函数提高SQL效率\" class=\"headerlink\" title=\"[13]通过内部函数提高SQL效率\"></a>[13]通过内部函数提高SQL效率</h2><p>复杂的SQL往往牺牲了执行效率。能够掌握上面的运用函数解决问题的方法在实际工作中是非常有意义的。一般把复杂的sql分解再拼起来。</p><h2 id=\"14-使用表的别名-Alias\"><a href=\"#14-使用表的别名-Alias\" class=\"headerlink\" title=\"[14]使用表的别名(Alias)\"></a>[14]使用表的别名(Alias)</h2><p>当在SQL语句中连接多个表时, 请使用表的别名并把别名前缀于每个Column上。这样一来，就可以减少解析的时间并减少那些由Column歧义引起的语法错误。</p><h2 id=\"15-用EXISTS替代IN、用NOT-EXISTS替代NOT-IN\"><a href=\"#15-用EXISTS替代IN、用NOT-EXISTS替代NOT-IN\" class=\"headerlink\" title=\"[15]用EXISTS替代IN、用NOT EXISTS替代NOT IN\"></a>[15]用EXISTS替代IN、用NOT EXISTS替代NOT IN</h2><p>在许多基于基础表的查询中,为了满足一个条件,往往需要对另一个表进行联接。在这种情况下, 使用EXISTS(或NOT EXISTS)通常将提高查询的效率。在子查询中,NOT IN子句将执行一个内部的排序和合并。无论在哪种情况下,NOT IN都是最低效的 (因为它对子查询中的表执行了一个全表遍历).。为了避免使用NOT IN ,我们可以把它改写成外连接(Outer Joins)或NOT EXISTS.</p><p>高效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM EMP (基础表)</span><br><span class=\"line\">WHERE EMPNO &gt; 0</span><br><span class=\"line\">  AND EXISTS</span><br><span class=\"line\">    (SELECT &apos;X&apos;  FROM DEPT  WHERE  DEPT.DEPTNO = EMP.DEPTNO  AND  LOC = &apos;MELB&apos;)</span><br></pre></td></tr></table></figure><p></p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM EMP (基础表)</span><br><span class=\"line\">WHERE EMPNO &gt; 0</span><br><span class=\"line\">  AND DEPTNO IN</span><br><span class=\"line\">    (SELECT DEPTNO</span><br><span class=\"line\">     FROM DEPT</span><br><span class=\"line\">     WHERE LOC = &apos;MELB&apos;)</span><br></pre></td></tr></table></figure><p></p><h2 id=\"16-识别’低效执行’的SQL语句\"><a href=\"#16-识别’低效执行’的SQL语句\" class=\"headerlink\" title=\"[16]识别’低效执行’的SQL语句\"></a>[16]识别’低效执行’的SQL语句</h2><p>虽然目前各种关于SQL优化的图形化工具层出不穷</p><p>但是写出自己的SQL工具来解决问题始终是一个最好的方法:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT EXECUTIONS,</span><br><span class=\"line\">       DISK_READS,</span><br><span class=\"line\">       BUFFER_GETS,</span><br><span class=\"line\">       ROUND((BUFFER_GETS-DISK_READS)/BUFFER_GETS,2) Hit_radio,</span><br><span class=\"line\">       ROUND(DISK_READS/EXECUTIONS,2) Reads_per_run,</span><br><span class=\"line\">       SQL_TEXT</span><br><span class=\"line\">FROM V$SQLAREA</span><br><span class=\"line\">WHERE EXECUTIONS&gt;0</span><br><span class=\"line\">  AND BUFFER_GETS &gt; 0</span><br><span class=\"line\">  AND (BUFFER_GETS-DISK_READS)/BUFFER_GETS &lt; 0.8</span><br><span class=\"line\">ORDER BY 4 DESC;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"17-用索引提高效率\"><a href=\"#17-用索引提高效率\" class=\"headerlink\" title=\"[17]用索引提高效率\"></a>[17]用索引提高效率</h2><p>索引是表的一个概念部分，用来提高检索数据的效率，ORACLE使用了一个复杂的自平衡B-tree结构。通常，通过索引查询数据比全表扫描要快。 当ORACLE找出执行查询和Update语句的最佳路径时， ORACLE优化器将使用索引。同样在联结多个表时使用索引也可以提高效率。另一个使用索引的好处是，它提供了主键(primary key)的唯一性验证。那些LONG或LONG RAW数据类型，你可以索引几乎所有的列。 通常，在大型表中使用索引特别有效。当然，你也会发现，在扫描小表时，使用索引同样能提高效率。<strong>虽然使用索引能得到查询效率的提高，但是我们也必须注意到它的代价. 索引需要空间来存储，也需要定期维护，每当有记录在表中增减或索引列被修改时, 索引本身也会被修改</strong>。这意味着每条记录的INSERT , DELETE , UPDATE将为此多付出4 , 5 次的磁盘I/O 。 因为索引需要额外的存储空间和处理，那些不必要的索引反而会使查询反应时间变慢。定期的重构索引是有必要的。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER  INDEX &lt;INDEXNAME&gt; REBUILD &lt;TABLESPACENAME&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"18-用EXISTS替换DISTINCT\"><a href=\"#18-用EXISTS替换DISTINCT\" class=\"headerlink\" title=\"[18]用EXISTS替换DISTINCT\"></a>[18]用EXISTS替换DISTINCT</h2><p>当提交一个包含一对多表信息(比如部门表和雇员表)的查询时，避免在SELECT子句中使用DISTINCT。一般可以考虑用EXIST替换，EXISTS 使查询更为迅速，因为RDBMS核心模块将在子查询的条件一旦满足后，立刻返回结果。</p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DISTINCT DEPT_NO,</span><br><span class=\"line\">                DEPT_NAME</span><br><span class=\"line\">FROM DEPT D,</span><br><span class=\"line\">     EMP E</span><br><span class=\"line\">WHERE D.DEPT_NO = E.DEPT_NO</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DEPT_NO,</span><br><span class=\"line\">       DEPT_NAME</span><br><span class=\"line\">FROM DEPT D</span><br><span class=\"line\">WHERE EXISTS</span><br><span class=\"line\">    (SELECT &apos;X&apos;</span><br><span class=\"line\">     FROM EMP E</span><br><span class=\"line\">     WHERE E.DEPT_NO = D.DEPT_NO);</span><br></pre></td></tr></table></figure><p></p><h2 id=\"19-sql语句用大写\"><a href=\"#19-sql语句用大写\" class=\"headerlink\" title=\"[19]sql语句用大写\"></a>[19]sql语句用大写</h2><p>因为oracle总是先解析sql语句，把小写的字母转换成大写的再执行</p><h2 id=\"20-在java代码中尽量少用连接符“＋”连接字符串\"><a href=\"#20-在java代码中尽量少用连接符“＋”连接字符串\" class=\"headerlink\" title=\"[20]在java代码中尽量少用连接符“＋”连接字符串\"></a>[20]在java代码中尽量少用连接符“＋”连接字符串</h2><p>一般来说StringBuilder(非线程安全)是一个不错的选择</p><h2 id=\"21-通常避免在索引列上使用NOT\"><a href=\"#21-通常避免在索引列上使用NOT\" class=\"headerlink\" title=\"[21]通常避免在索引列上使用NOT\"></a>[21]通常避免在索引列上使用NOT</h2><p>我们要避免在索引列上使用NOT，NOT会产生在和在索引列上使用函数相同的影响。当ORACLE”遇到”NOT，他就会停止使用索引转而执行全表扫描。</p><h2 id=\"22-避免在索引列上使用计算\"><a href=\"#22-避免在索引列上使用计算\" class=\"headerlink\" title=\"[22]避免在索引列上使用计算\"></a>[22]避免在索引列上使用计算</h2><p>WHERE子句中，如果索引列是函数的一部分。优化器将不使用索引而使用全表扫描。</p><p>举例:</p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM  DEPT  WHERE SAL * 12 &gt; 25000;</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM DEPT WHERE SAL &gt; 25000/12;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"23-用-gt-替代-gt\"><a href=\"#23-用-gt-替代-gt\" class=\"headerlink\" title=\"[23]用&gt;=替代&gt;\"></a>[23]用&gt;=替代&gt;</h2><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM  EMP  WHERE  DEPTNO &gt;=4</span><br></pre></td></tr></table></figure><p></p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM EMP WHERE DEPTNO &gt;3</span><br></pre></td></tr></table></figure><p></p><p>两者的区别在于，前者DBMS将直接跳到第一个DEPT等于4的记录而后者将首先定位到DEPTNO=3的记录并且向前扫描到第一个DEPT大于3的记录。</p><h2 id=\"24-用UNION替换OR-适用于索引列\"><a href=\"#24-用UNION替换OR-适用于索引列\" class=\"headerlink\" title=\"[24]用UNION替换OR (适用于索引列)\"></a>[24]用UNION替换OR (适用于索引列)</h2><p>通常情况下，用UNION替换WHERE子句中的OR将会起到较好的效果。对索引列使用OR将造成全表扫描。注意，以上规则只针对多个索引列有效。如果有column没有被索引, 查询效率可能会因为你没有选择OR而降低。在下面的例子中， LOC_ID 和REGION上都建有索引。</p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT LOC_ID,</span><br><span class=\"line\">       LOC_DESC,</span><br><span class=\"line\">       REGION</span><br><span class=\"line\">FROM LOCATION</span><br><span class=\"line\">WHERE LOC_ID = 10</span><br><span class=\"line\">UNION</span><br><span class=\"line\">SELECT LOC_ID,</span><br><span class=\"line\">       LOC_DESC,</span><br><span class=\"line\">       REGION</span><br><span class=\"line\">FROM LOCATION</span><br><span class=\"line\">WHERE REGION = &apos;&apos;MELBOURNE&apos;&apos;</span><br></pre></td></tr></table></figure><p></p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT LOC_ID,</span><br><span class=\"line\">       LOC_DESC,</span><br><span class=\"line\">       REGION</span><br><span class=\"line\">FROM LOCATION</span><br><span class=\"line\">WHERE LOC_ID = 10</span><br><span class=\"line\">  OR REGION = &apos;&apos;MELBOURNE&apos;&apos;</span><br></pre></td></tr></table></figure><p></p><p>如果你坚持要用OR, 那就需要返回记录最少的索引列写在最前面</p><h2 id=\"25-用IN来替换OR\"><a href=\"#25-用IN来替换OR\" class=\"headerlink\" title=\"[25]用IN来替换OR\"></a>[25]用IN来替换OR</h2><p>这是一条简单易记的规则，但是实际的执行效果还须检验，在ORACLE8i下，两者的执行路径似乎是相同的。</p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT…. FROM LOCATION WHERE LOC_ID = 10 OR LOC_ID = 20 OR LOC_ID = 30</span><br></pre></td></tr></table></figure><p></p><p>高效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT… FROM LOCATION WHERE LOC_IN  IN (10,20,30);</span><br></pre></td></tr></table></figure><p></p><h2 id=\"26-避免在索引列上使用IS-NULL和IS-NOT-NULL\"><a href=\"#26-避免在索引列上使用IS-NULL和IS-NOT-NULL\" class=\"headerlink\" title=\"[26]避免在索引列上使用IS NULL和IS NOT NULL\"></a>[26]避免在索引列上使用IS NULL和IS NOT NULL</h2><p>避免在索引中使用任何可以为空的列，<strong>ORACLE将无法使用该索引</strong>。对于单列索引，如果列包含空值，索引中将不存在此记录。对于复合索引，如果每个列都为空，索引中同样不存在此记录。如果至少有一个列不为空，则记录存在于索引中。</p><p>举例: 如果唯一性索引建立在表的A列和B列上, 并且表中存在一条记录的A,B值为(123,null) , ORACLE将不接受下一条具有相同A,B值（123,null）的记录(插入)。然而如果所有的索引列都为空，ORACLE将认为整个键值为空而空不等于空。 因此你可以插入1000 条具有相同键值的记录,当然它们都是空! 因为空值不存在于索引列中，所以WHERE子句中对索引列进行空值比较将使ORACLE停用该索引。</p><p>低效: (索引失效)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE IS NOT NULL;</span><br></pre></td></tr></table></figure><p></p><p>高效: (索引有效)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT … FROM  DEPARTMENT  WHERE  DEPT_CODE &gt;=0;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"27-总是使用索引的第一个列\"><a href=\"#27-总是使用索引的第一个列\" class=\"headerlink\" title=\"[27]总是使用索引的第一个列\"></a>[27]总是使用索引的第一个列</h2><p>如果索引是建立在多个列上, 只有在它的第一个列(leading column)被where子句引用时,<strong>优化器才会选择使用该索引</strong>。这也是一条简单而重要的规则，当仅引用索引的第二个列时，优化器使用了全表扫描而忽略了索引</p><h2 id=\"28-用UNION-ALL替换UNION\"><a href=\"#28-用UNION-ALL替换UNION\" class=\"headerlink\" title=\"[28]用UNION-ALL替换UNION\"></a>[28]用UNION-ALL替换UNION</h2><p>当SQL语句需要UNION<strong>两个查询结果集合时</strong>,这两个结果集合会以UNION-ALL的方式被合并, 然后在输出最终结果前进行排序。<strong>如果用UNION ALL替代UNION, 这样排序就不是必要了</strong>。效率就会因此得到提高。需要注意的是，UNION ALL 将重复输出两个结果集合中相同记录。因此各位还是要从业务需求分析使用UNION ALL的可行性。 UNION 将对结果集合排序,这个操作会使用到SORT_AREA_SIZE这块内存。对于这块内存的优化也是相当重要的。下面的SQL可以用来查询排序的消耗量。</p><p>低效：<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ACCT_NUM,</span><br><span class=\"line\">       BALANCE_AMT</span><br><span class=\"line\">FROM DEBIT_TRANSACTIONS</span><br><span class=\"line\">WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br><span class=\"line\">UNION</span><br><span class=\"line\">SELECT ACCT_NUM,</span><br><span class=\"line\">       BALANCE_AMT</span><br><span class=\"line\">FROM DEBIT_TRANSACTIONS</span><br><span class=\"line\">WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT ACCT_NUM,</span><br><span class=\"line\">       BALANCE_AMT</span><br><span class=\"line\">FROM DEBIT_TRANSACTIONS</span><br><span class=\"line\">WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br><span class=\"line\">  UNION ALL</span><br><span class=\"line\">  SELECT ACCT_NUM,</span><br><span class=\"line\">         BALANCE_AMT</span><br><span class=\"line\">  FROM DEBIT_TRANSACTIONS WHERE TRAN_DATE = &apos;31-DEC-95&apos;</span><br></pre></td></tr></table></figure><p></p><h2 id=\"29-用WHERE替代ORDER-BY\"><a href=\"#29-用WHERE替代ORDER-BY\" class=\"headerlink\" title=\"[29]用WHERE替代ORDER BY\"></a>[29]用WHERE替代ORDER BY</h2><p>ORDER BY 子句只在两种严格的条件下使用索引</p><p>ORDER BY中所有的列必须包含在相同的索引中并保持在索引中的排列顺序</p><p>ORDER BY中所有的列必须定义为非空</p><p>WHERE子句使用的索引和ORDER BY子句中所使用的索引不能并列</p><p>例如:</p><p>表DEPT包含以下列:</p><p>DEPT_CODE PK NOT NULL</p><p>DEPT_DESC NOT NULL</p><p>DEPT_TYPE NULL</p><p>低效: (索引不被使用)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DEPT_CODE FROM  DEPT  ORDER BY  DEPT_TYPE</span><br></pre></td></tr></table></figure><p></p><p>高效: (使用索引)<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DEPT_CODE  FROM  DEPT  WHERE  DEPT_TYPE &gt; 0</span><br></pre></td></tr></table></figure><p></p><h2 id=\"30-避免改变索引列的类型\"><a href=\"#30-避免改变索引列的类型\" class=\"headerlink\" title=\"[30]避免改变索引列的类型\"></a>[30]避免改变索引列的类型</h2><p>当比较不同数据类型的数据时, ORACLE自动对列进行简单的类型转换</p><p>假设 EMPNO是一个数值类型的索引列.<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERE  EMPNO = &apos;123&apos;</span><br></pre></td></tr></table></figure><p></p><p>实际上,经过ORACLE类型转换, 语句转化为:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERE  EMPNO = TO_NUMBER(&apos;123&apos;)</span><br></pre></td></tr></table></figure><p></p><p>幸运的是,类型转换没有发生在索引列上,索引的用途没有被改变</p><p>现在,假设EMP_TYPE是一个字符类型的索引列<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERE EMP_TYPE = 123</span><br></pre></td></tr></table></figure><p></p><p>这个语句被ORACLE转换为:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT …  FROM EMP  WHERETO_NUMBER(EMP_TYPE)=123</span><br></pre></td></tr></table></figure><p></p><p>因为内部发生的类型转换, 这个索引将不会被用到!</p><p>为了避免ORACLE对你的SQL进行隐式的类型转换, 最好把类型转换用显式表现出来。 注意当字符和数值比较时, ORACLE会优先转换数值类型到字符类型</p><h2 id=\"31-需要当心的WHERE子句\"><a href=\"#31-需要当心的WHERE子句\" class=\"headerlink\" title=\"[31]需要当心的WHERE子句\"></a>[31]需要当心的WHERE子句</h2><p>某些SELECT 语句中的WHERE子句不使用索引<br>这里有一些例子</p><p>在下面的例子里,</p><ol><li>‘!=’ 将不使用索引。记住, 索引只能告诉你什么存在于表中, 而不能告诉你什么不存在于表中</li><li>‘||’是字符连接函数. 就象其他函数那样, 停用了索引</li><li>‘+’是数学函数. 就象其他数学函数那样, 停用了索引</li><li>相同的索引列不能互相比较,这将会启用全表扫描</li></ol><h2 id=\"32-检索数据量超过表中30-索引失效\"><a href=\"#32-检索数据量超过表中30-索引失效\" class=\"headerlink\" title=\"[32]检索数据量超过表中30%,索引失效\"></a>[32]检索数据量超过表中30%,索引失效</h2><ol><li>如果检索数据量超过30%的表中记录数.使用索引将没有显著的效率提高</li><li>在特定情况下, 使用索引也许会比全表扫描慢, 但这是同一个数量级上的区别。 而通常情况下,使用索引比全表扫描要块几倍乃至几千倍!</li></ol><h2 id=\"33-避免使用耗费资源的操作\"><a href=\"#33-避免使用耗费资源的操作\" class=\"headerlink\" title=\"[33]避免使用耗费资源的操作\"></a>[33]避免使用耗费资源的操作</h2><p>带有DISTINCT,UNION,MINUS,INTERSECT,ORDER BY的SQL语句会启动SQL引擎<br>执行耗费资源的排序(SORT)功能。</p><p>DISTINCT需要一次排序操作, 而其他的至少需要执行两次排序。<br>通常, 带有UNION, MINUS , INTERSECT的SQL语句都可以用其他方式重写。</p><p>如果你的数据库的SORT_AREA_SIZE调配得好, 使用UNION , MINUS, INTERSECT也是可以考虑的, 毕竟它们的可读性很强。</p><h2 id=\"34-优化GROUP-BY\"><a href=\"#34-优化GROUP-BY\" class=\"headerlink\" title=\"[34]优化GROUP BY\"></a>[34]优化GROUP BY</h2><p>提高GROUP BY 语句的效率，可以通过将不需要的记录在GROUP BY 之前过滤掉。</p><p>下面两个查询返回相同结果但第二个明显就快了许多。</p><p>低效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT JOB,</span><br><span class=\"line\">       AVG(SAL)</span><br><span class=\"line\">FROM EMP</span><br><span class=\"line\">GROUP JOB</span><br><span class=\"line\">HAVING JOB = &apos;PRESIDENT&apos;</span><br><span class=\"line\">OR JOB = &apos;MANAGER&apos;</span><br></pre></td></tr></table></figure><p></p><p>高效:<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT JOB,</span><br><span class=\"line\">       AVG(SAL)</span><br><span class=\"line\">FROM EMP</span><br><span class=\"line\">WHERE JOB = &apos;PRESIDENT&apos; </span><br><span class=\"line\">OR JOB = &apos;MANAGER&apos;</span><br><span class=\"line\">GROUP JOB</span><br></pre></td></tr></table></figure><p></p><p>本文参考其他文章整理而来</p><p>出处：<a href=\"http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html\" target=\"_blank\">http://www.cnblogs.com/rootq/archive/2008/11/17/1334727.html</a></p><p>不过互联网上这篇文章很多，都没有版权注明。我也不知道原创是谁！</p><!-- rebuild by neat -->"},{"title":"Spark第一个java程序 - 字词统计 - Spark java idea","keywords":["Spark java idea","spark java开发","spark java api 入门"],"date":"2017-08-02T09:01:00.000Z","_content":"在本地利用idea，java开发spark程序\n\n原来并不用安装spark什么的这些东西\n\n这样就不会那么繁琐，门槛也低了点\n\n具体过程如下\n\n一、创建工程\n--\n1. idea -> new Project -> maven -> create from archetype -> maven-archetype-quickstart\n2. pom.xml添加依赖\n```\n    <dependency>\n      <groupId>org.apache.spark</groupId>\n      <artifactId>spark-core_2.11</artifactId>\n      <version>2.0.1</version>\n    </dependency>\n```\n3. 编写java代码\n```\npackage com.hisen.spark;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.api.java.function.Function;\n\n/**\n * 第一个spark程序\n * Created by hisenyuan on 2017/8/2 at 16:36.\n */\npublic class SimpleApp {\n\n  public static void main(String[] args) {\n    // Should be some file on your system\n    String logFile = \"D:\\\\logs\\\\boss_debug.log\";\n    //设置本地运行，设置名称（在spark web ui上显示）\n    SparkConf sparkConf = new SparkConf().setMaster(\"local\").setAppName(\"Simple Application\");\n    JavaSparkContext javaSparkContext = new JavaSparkContext(sparkConf);\n    JavaRDD<String> logData = javaSparkContext.textFile(logFile).cache();\n\n    //统计包含a的次数\n    long countA = logData.filter(new Function<String, Boolean>() {\n      public Boolean call(String s) throws Exception {\n        return s.contains(\"a\");\n      }\n    }).count();\n\n    //统计包含b的次数\n    long countB = logData.filter(new Function<String, Boolean>() {\n      public Boolean call(String s) throws Exception {\n        return s.contains(\"b\");\n      }\n    }).count();\n    System.out.printf(\"Lines with a: %d, lines with b: %d\\n\", countA, countB);\n    //Lines with a: 11146, lines with b: 10760\n  }\n}\n```\n4. 运行main方法：结果：Lines with a: 11146, lines with b: 10760 \n5. 日志如下：\n```\nC:\\hisenwork\\soft\\jdk8\\bin\\java -Dspark.master=local \"-javaagent:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\lib\\idea_rt.jar=59366:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\bin\" -Dfile.encoding=UTF-8 -classpath C:\\hisenwork\\soft\\jdk8\\jre\\lib\\charsets.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\deploy.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\cldrdata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\dnsns.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jaccess.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jfxrt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\localedata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\nashorn.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunec.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunmscapi.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\zipfs.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\javaws.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jce.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfr.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfxswt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jsse.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\management-agent.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\plugin.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\resources.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\rt.jar;C:\\hisenwork\\code\\rmitec\\SparkTest\\target\\classes;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-core_2.11\\2.0.1\\spark-core_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-mapred\\1.7.7\\avro-mapred-1.7.7-hadoop2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro\\1.7.7\\avro-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7-tests.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-core-asl\\1.9.13\\jackson-core-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.9.13\\jackson-mapper-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill_2.11\\0.8.0\\chill_2.11-0.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\kryo-shaded\\3.0.3\\kryo-shaded-3.0.3.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\minlog\\1.3.0\\minlog-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\objenesis\\objenesis\\2.1\\objenesis-2.1.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill-java\\0.8.0\\chill-java-0.8.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\xbean\\xbean-asm5-shaded\\4.4\\xbean-asm5-shaded-4.4.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-client\\2.2.0\\hadoop-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-common\\2.2.0\\hadoop-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\commons-cli\\commons-cli\\1.2\\commons-cli-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math\\2.1\\commons-math-2.1.jar;C:\\hisenwork\\soft\\maven\\xmlenc\\xmlenc\\0.52\\xmlenc-0.52.jar;C:\\hisenwork\\soft\\maven\\commons-io\\commons-io\\2.1\\commons-io-2.1.jar;C:\\hisenwork\\soft\\maven\\commons-lang\\commons-lang\\2.5\\commons-lang-2.5.jar;C:\\hisenwork\\soft\\maven\\commons-configuration\\commons-configuration\\1.6\\commons-configuration-1.6.jar;C:\\hisenwork\\soft\\maven\\commons-collections\\commons-collections\\3.2.1\\commons-collections-3.2.1.jar;C:\\hisenwork\\soft\\maven\\commons-digester\\commons-digester\\1.8\\commons-digester-1.8.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils\\1.7.0\\commons-beanutils-1.7.0.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils-core\\1.8.0\\commons-beanutils-core-1.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\protobuf\\protobuf-java\\2.5.0\\protobuf-java-2.5.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-auth\\2.2.0\\hadoop-auth-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-compress\\1.4.1\\commons-compress-1.4.1.jar;C:\\hisenwork\\soft\\maven\\org\\tukaani\\xz\\1.0\\xz-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-hdfs\\2.2.0\\hadoop-hdfs-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\mortbay\\jetty\\jetty-util\\6.1.26\\jetty-util-6.1.26.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-app\\2.2.0\\hadoop-mapreduce-client-app-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-common\\2.2.0\\hadoop-mapreduce-client-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-client\\2.2.0\\hadoop-yarn-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\inject\\guice\\3.0\\guice-3.0.jar;C:\\hisenwork\\soft\\maven\\javax\\inject\\javax.inject\\1\\javax.inject-1.jar;C:\\hisenwork\\soft\\maven\\aopalliance\\aopalliance\\1.0\\aopalliance-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-server-common\\2.2.0\\hadoop-yarn-server-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-shuffle\\2.2.0\\hadoop-mapreduce-client-shuffle-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-api\\2.2.0\\hadoop-yarn-api-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-core\\2.2.0\\hadoop-mapreduce-client-core-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-common\\2.2.0\\hadoop-yarn-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-jobclient\\2.2.0\\hadoop-mapreduce-client-jobclient-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-annotations\\2.2.0\\hadoop-annotations-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-launcher_2.11\\2.0.1\\spark-launcher_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-common_2.11\\2.0.1\\spark-network-common_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\fusesource\\leveldbjni\\leveldbjni-all\\1.8\\leveldbjni-all-1.8.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.6.5\\jackson-annotations-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-shuffle_2.11\\2.0.1\\spark-network-shuffle_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-unsafe_2.11\\2.0.1\\spark-unsafe_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\net\\java\\dev\\jets3t\\jets3t\\0.7.1\\jets3t-0.7.1.jar;C:\\hisenwork\\soft\\maven\\commons-codec\\commons-codec\\1.3\\commons-codec-1.3.jar;C:\\hisenwork\\soft\\maven\\commons-httpclient\\commons-httpclient\\3.1\\commons-httpclient-3.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-recipes\\2.4.0\\curator-recipes-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-framework\\2.4.0\\curator-framework-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-client\\2.4.0\\curator-client-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\zookeeper\\zookeeper\\3.4.5\\zookeeper-3.4.5.jar;C:\\hisenwork\\soft\\maven\\com\\google\\guava\\guava\\14.0.1\\guava-14.0.1.jar;C:\\hisenwork\\soft\\maven\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-lang3\\3.3.2\\commons-lang3-3.3.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math3\\3.4.1\\commons-math3-3.4.1.jar;C:\\hisenwork\\soft\\maven\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-api\\1.7.16\\slf4j-api-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jul-to-slf4j\\1.7.16\\jul-to-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jcl-over-slf4j\\1.7.16\\jcl-over-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-log4j12\\1.7.16\\slf4j-log4j12-1.7.16.jar;C:\\hisenwork\\soft\\maven\\com\\ning\\compress-lzf\\1.0.3\\compress-lzf-1.0.3.jar;C:\\hisenwork\\soft\\maven\\org\\xerial\\snappy\\snappy-java\\1.1.2.6\\snappy-java-1.1.2.6.jar;C:\\hisenwork\\soft\\maven\\net\\jpountz\\lz4\\lz4\\1.3.0\\lz4-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\roaringbitmap\\RoaringBitmap\\0.5.11\\RoaringBitmap-0.5.11.jar;C:\\hisenwork\\soft\\maven\\commons-net\\commons-net\\2.2\\commons-net-2.2.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-library\\2.11.8\\scala-library-2.11.8.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-jackson_2.11\\3.2.11\\json4s-jackson_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-core_2.11\\3.2.11\\json4s-core_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-ast_2.11\\3.2.11\\json4s-ast_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\com\\thoughtworks\\paranamer\\paranamer\\2.6\\paranamer-2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scalap\\2.11.0\\scalap-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-compiler\\2.11.0\\scala-compiler-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-parser-combinators_2.11\\1.0.1\\scala-parser-combinators_2.11-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-client\\2.22.2\\jersey-client-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\ws\\rs\\javax.ws.rs-api\\2.0.1\\javax.ws.rs-api-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-api\\2.4.0-b34\\hk2-api-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-utils\\2.4.0-b34\\hk2-utils-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\aopalliance-repackaged\\2.4.0-b34\\aopalliance-repackaged-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\javax.inject\\2.4.0-b34\\javax.inject-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-locator\\2.4.0-b34\\hk2-locator-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\javassist\\javassist\\3.18.1-GA\\javassist-3.18.1-GA.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-common\\2.22.2\\jersey-common-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\annotation\\javax.annotation-api\\1.2\\javax.annotation-api-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\bundles\\repackaged\\jersey-guava\\2.22.2\\jersey-guava-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\osgi-resource-locator\\1.0.1\\osgi-resource-locator-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-server\\2.22.2\\jersey-server-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\media\\jersey-media-jaxb\\2.22.2\\jersey-media-jaxb-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet\\2.22.2\\jersey-container-servlet-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet-core\\2.22.2\\jersey-container-servlet-core-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\mesos\\mesos\\0.21.1\\mesos-0.21.1-shaded-protobuf.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty-all\\4.0.29.Final\\netty-all-4.0.29.Final.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty\\3.8.0.Final\\netty-3.8.0.Final.jar;C:\\hisenwork\\soft\\maven\\com\\clearspring\\analytics\\stream\\2.7.0\\stream-2.7.0.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-core\\3.1.2\\metrics-core-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-jvm\\3.1.2\\metrics-jvm-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-json\\3.1.2\\metrics-json-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-graphite\\3.1.2\\metrics-graphite-3.1.2.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.6.5\\jackson-databind-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-core\\2.6.5\\jackson-core-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-scala_2.11\\2.6.5\\jackson-module-scala_2.11-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-reflect\\2.11.7\\scala-reflect-2.11.7.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-paranamer\\2.6.5\\jackson-module-paranamer-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\ivy\\ivy\\2.4.0\\ivy-2.4.0.jar;C:\\hisenwork\\soft\\maven\\oro\\oro\\2.0.8\\oro-2.0.8.jar;C:\\hisenwork\\soft\\maven\\net\\razorvine\\pyrolite\\4.9\\pyrolite-4.9.jar;C:\\hisenwork\\soft\\maven\\net\\sf\\py4j\\py4j\\0.10.3\\py4j-0.10.3.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-tags_2.11\\2.0.1\\spark-tags_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\scalatest\\scalatest_2.11\\2.2.6\\scalatest_2.11-2.2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-xml_2.11\\1.0.2\\scala-xml_2.11-1.0.2.jar;C:\\hisenwork\\soft\\maven\\org\\spark-project\\spark\\unused\\1.0.0\\unused-1.0.0.jar com.hisen.spark.SimpleApp\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\n17/08/02 17:00:09 INFO SparkContext: Running Spark version 2.0.1\n17/08/02 17:00:10 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n17/08/02 17:00:10 INFO SecurityManager: Changing view acls to: Administrator\n17/08/02 17:00:10 INFO SecurityManager: Changing modify acls to: Administrator\n17/08/02 17:00:10 INFO SecurityManager: Changing view acls groups to: \n17/08/02 17:00:10 INFO SecurityManager: Changing modify acls groups to: \n17/08/02 17:00:10 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Administrator); groups with view permissions: Set(); users  with modify permissions: Set(Administrator); groups with modify permissions: Set()\n17/08/02 17:00:11 INFO Utils: Successfully started service 'sparkDriver' on port 59388.\n17/08/02 17:00:11 INFO SparkEnv: Registering MapOutputTracker\n17/08/02 17:00:11 INFO SparkEnv: Registering BlockManagerMaster\n17/08/02 17:00:11 INFO DiskBlockManager: Created local directory at C:\\Users\\Administrator\\AppData\\Local\\Temp\\blockmgr-630d8294-e5cb-428d-8189-4c3313e46fa3\n17/08/02 17:00:12 INFO MemoryStore: MemoryStore started with capacity 894.3 MB\n17/08/02 17:00:12 INFO SparkEnv: Registering OutputCommitCoordinator\n17/08/02 17:00:12 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n17/08/02 17:00:12 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://169.254.90.236:4040\n17/08/02 17:00:12 INFO Executor: Starting executor ID driver on host localhost\n17/08/02 17:00:12 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 59397.\n17/08/02 17:00:12 INFO NettyBlockTransferService: Server created on 169.254.90.236:59397\n17/08/02 17:00:12 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 169.254.90.236, 59397)\n17/08/02 17:00:12 INFO BlockManagerMasterEndpoint: Registering block manager 169.254.90.236:59397 with 894.3 MB RAM, BlockManagerId(driver, 169.254.90.236, 59397)\n17/08/02 17:00:12 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 169.254.90.236, 59397)\n17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 127.1 KB, free 894.2 MB)\n17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0_piece0 stored as bytes in memory (estimated size 14.3 KB, free 894.2 MB)\n17/08/02 17:00:14 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on 169.254.90.236:59397 (size: 14.3 KB, free: 894.3 MB)\n17/08/02 17:00:14 INFO SparkContext: Created broadcast 0 from textFile at SimpleApp.java:19\n17/08/02 17:00:14 ERROR Shell: Failed to locate the winutils binary in the hadoop binary path\njava.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.\n\tat org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:278)\n\tat org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:300)\n\tat org.apache.hadoop.util.Shell.<clinit>(Shell.java:293)\n\tat org.apache.hadoop.util.StringUtils.<clinit>(StringUtils.java:76)\n\tat org.apache.hadoop.mapred.FileInputFormat.setInputPaths(FileInputFormat.java:362)\n\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)\n\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)\n\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)\n\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)\n\tat scala.Option.map(Option.scala:146)\n\tat org.apache.spark.rdd.HadoopRDD.getJobConf(HadoopRDD.scala:176)\n\tat org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:195)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)\n\tat scala.Option.getOrElse(Option.scala:121)\n\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)\n\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)\n\tat scala.Option.getOrElse(Option.scala:121)\n\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)\n\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)\n\tat scala.Option.getOrElse(Option.scala:121)\n\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1930)\n\tat org.apache.spark.rdd.RDD.count(RDD.scala:1134)\n\tat org.apache.spark.api.java.JavaRDDLike$class.count(JavaRDDLike.scala:454)\n\tat org.apache.spark.api.java.AbstractJavaRDDLike.count(JavaRDDLike.scala:45)\n\tat com.hisen.spark.SimpleApp.main(SimpleApp.java:26)\n17/08/02 17:00:14 INFO FileInputFormat: Total input paths to process : 1\n17/08/02 17:00:14 INFO SparkContext: Starting job: count at SimpleApp.java:26\n17/08/02 17:00:15 INFO DAGScheduler: Got job 0 (count at SimpleApp.java:26) with 1 output partitions\n17/08/02 17:00:15 INFO DAGScheduler: Final stage: ResultStage 0 (count at SimpleApp.java:26)\n17/08/02 17:00:15 INFO DAGScheduler: Parents of final stage: List()\n17/08/02 17:00:15 INFO DAGScheduler: Missing parents: List()\n17/08/02 17:00:15 INFO DAGScheduler: Submitting ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22), which has no missing parents\n17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 3.2 KB, free 894.2 MB)\n17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1_piece0 stored as bytes in memory (estimated size 1966.0 B, free 894.2 MB)\n17/08/02 17:00:15 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on 169.254.90.236:59397 (size: 1966.0 B, free: 894.3 MB)\n17/08/02 17:00:15 INFO SparkContext: Created broadcast 1 from broadcast at DAGScheduler.scala:1012\n17/08/02 17:00:15 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22)\n17/08/02 17:00:15 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks\n17/08/02 17:00:15 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)\n17/08/02 17:00:15 INFO Executor: Running task 0.0 in stage 0.0 (TID 0)\n17/08/02 17:00:15 INFO HadoopRDD: Input split: file:/D:/logs/boss_debug.log:0+4059273\n17/08/02 17:00:15 INFO deprecation: mapred.tip.id is deprecated. Instead, use mapreduce.task.id\n17/08/02 17:00:15 INFO deprecation: mapred.task.id is deprecated. Instead, use mapreduce.task.attempt.id\n17/08/02 17:00:15 INFO deprecation: mapred.task.is.map is deprecated. Instead, use mapreduce.task.ismap\n17/08/02 17:00:15 INFO deprecation: mapred.task.partition is deprecated. Instead, use mapreduce.task.partition\n17/08/02 17:00:15 INFO deprecation: mapred.job.id is deprecated. Instead, use mapreduce.job.id\n17/08/02 17:00:15 INFO MemoryStore: Block rdd_1_0 stored as values in memory (estimated size 5.7 MB, free 888.4 MB)\n17/08/02 17:00:15 INFO BlockManagerInfo: Added rdd_1_0 in memory on 169.254.90.236:59397 (size: 5.7 MB, free: 888.5 MB)\n17/08/02 17:00:15 INFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1842 bytes result sent to driver\n17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 0.0 (TID 0) in 691 ms on localhost (1/1)\n17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool \n17/08/02 17:00:16 INFO DAGScheduler: ResultStage 0 (count at SimpleApp.java:26) finished in 0.726 s\n17/08/02 17:00:16 INFO DAGScheduler: Job 0 finished: count at SimpleApp.java:26, took 1.078428 s\n17/08/02 17:00:16 INFO SparkContext: Starting job: count at SimpleApp.java:33\n17/08/02 17:00:16 INFO DAGScheduler: Got job 1 (count at SimpleApp.java:33) with 1 output partitions\n17/08/02 17:00:16 INFO DAGScheduler: Final stage: ResultStage 1 (count at SimpleApp.java:33)\n17/08/02 17:00:16 INFO DAGScheduler: Parents of final stage: List()\n17/08/02 17:00:16 INFO DAGScheduler: Missing parents: List()\n17/08/02 17:00:16 INFO DAGScheduler: Submitting ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29), which has no missing parents\n17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2 stored as values in memory (estimated size 3.2 KB, free 888.4 MB)\n17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory (estimated size 1967.0 B, free 888.4 MB)\n17/08/02 17:00:16 INFO BlockManagerInfo: Added broadcast_2_piece0 in memory on 169.254.90.236:59397 (size: 1967.0 B, free: 888.5 MB)\n17/08/02 17:00:16 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1012\n17/08/02 17:00:16 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29)\n17/08/02 17:00:16 INFO TaskSchedulerImpl: Adding task set 1.0 with 1 tasks\n17/08/02 17:00:16 INFO TaskSetManager: Starting task 0.0 in stage 1.0 (TID 1, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)\n17/08/02 17:00:16 INFO Executor: Running task 0.0 in stage 1.0 (TID 1)\n17/08/02 17:00:16 INFO BlockManager: Found block rdd_1_0 locally\n17/08/02 17:00:16 INFO Executor: Finished task 0.0 in stage 1.0 (TID 1). 954 bytes result sent to driver\n17/08/02 17:00:16 INFO DAGScheduler: ResultStage 1 (count at SimpleApp.java:33) finished in 0.100 s\n17/08/02 17:00:16 INFO DAGScheduler: Job 1 finished: count at SimpleApp.java:33, took 0.139033 s\n17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 1.0 (TID 1) in 99 ms on localhost (1/1)\n17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 1.0, whose tasks have all completed, from pool \n\nLines with a: 11146, lines with b: 10760\n\n17/08/02 17:00:16 INFO SparkContext: Invoking stop() from shutdown hook\n17/08/02 17:00:16 INFO SparkUI: Stopped Spark web UI at http://169.254.90.236:4040\n17/08/02 17:00:16 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n17/08/02 17:00:16 INFO MemoryStore: MemoryStore cleared\n17/08/02 17:00:16 INFO BlockManager: BlockManager stopped\n17/08/02 17:00:16 INFO BlockManagerMaster: BlockManagerMaster stopped\n17/08/02 17:00:16 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n17/08/02 17:00:16 INFO SparkContext: Successfully stopped SparkContext\n17/08/02 17:00:16 INFO ShutdownHookManager: Shutdown hook called\n17/08/02 17:00:16 INFO ShutdownHookManager: Deleting directory C:\\Users\\Administrator\\AppData\\Local\\Temp\\spark-c40f2015-170f-4633-89dd-44dcd5bacfec\n\nProcess finished with exit code 0\n\n```","source":"_posts/Spark第一个java程序 - 字词统计 - Spark java idea.md","raw":"---\ntitle: Spark第一个java程序 - 字词统计 - Spark java idea\nkeywords: [Spark java idea,spark java开发,spark java api 入门]\ndate: 2017/8/2 17:01\ntags: [java,spark,BigData]\ncategories: spark\n---\n在本地利用idea，java开发spark程序\n\n原来并不用安装spark什么的这些东西\n\n这样就不会那么繁琐，门槛也低了点\n\n具体过程如下\n\n一、创建工程\n--\n1. idea -> new Project -> maven -> create from archetype -> maven-archetype-quickstart\n2. pom.xml添加依赖\n```\n    <dependency>\n      <groupId>org.apache.spark</groupId>\n      <artifactId>spark-core_2.11</artifactId>\n      <version>2.0.1</version>\n    </dependency>\n```\n3. 编写java代码\n```\npackage com.hisen.spark;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.api.java.function.Function;\n\n/**\n * 第一个spark程序\n * Created by hisenyuan on 2017/8/2 at 16:36.\n */\npublic class SimpleApp {\n\n  public static void main(String[] args) {\n    // Should be some file on your system\n    String logFile = \"D:\\\\logs\\\\boss_debug.log\";\n    //设置本地运行，设置名称（在spark web ui上显示）\n    SparkConf sparkConf = new SparkConf().setMaster(\"local\").setAppName(\"Simple Application\");\n    JavaSparkContext javaSparkContext = new JavaSparkContext(sparkConf);\n    JavaRDD<String> logData = javaSparkContext.textFile(logFile).cache();\n\n    //统计包含a的次数\n    long countA = logData.filter(new Function<String, Boolean>() {\n      public Boolean call(String s) throws Exception {\n        return s.contains(\"a\");\n      }\n    }).count();\n\n    //统计包含b的次数\n    long countB = logData.filter(new Function<String, Boolean>() {\n      public Boolean call(String s) throws Exception {\n        return s.contains(\"b\");\n      }\n    }).count();\n    System.out.printf(\"Lines with a: %d, lines with b: %d\\n\", countA, countB);\n    //Lines with a: 11146, lines with b: 10760\n  }\n}\n```\n4. 运行main方法：结果：Lines with a: 11146, lines with b: 10760 \n5. 日志如下：\n```\nC:\\hisenwork\\soft\\jdk8\\bin\\java -Dspark.master=local \"-javaagent:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\lib\\idea_rt.jar=59366:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\bin\" -Dfile.encoding=UTF-8 -classpath C:\\hisenwork\\soft\\jdk8\\jre\\lib\\charsets.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\deploy.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\cldrdata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\dnsns.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jaccess.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jfxrt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\localedata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\nashorn.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunec.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunmscapi.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\zipfs.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\javaws.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jce.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfr.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfxswt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jsse.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\management-agent.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\plugin.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\resources.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\rt.jar;C:\\hisenwork\\code\\rmitec\\SparkTest\\target\\classes;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-core_2.11\\2.0.1\\spark-core_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-mapred\\1.7.7\\avro-mapred-1.7.7-hadoop2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro\\1.7.7\\avro-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7-tests.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-core-asl\\1.9.13\\jackson-core-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.9.13\\jackson-mapper-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill_2.11\\0.8.0\\chill_2.11-0.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\kryo-shaded\\3.0.3\\kryo-shaded-3.0.3.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\minlog\\1.3.0\\minlog-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\objenesis\\objenesis\\2.1\\objenesis-2.1.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill-java\\0.8.0\\chill-java-0.8.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\xbean\\xbean-asm5-shaded\\4.4\\xbean-asm5-shaded-4.4.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-client\\2.2.0\\hadoop-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-common\\2.2.0\\hadoop-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\commons-cli\\commons-cli\\1.2\\commons-cli-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math\\2.1\\commons-math-2.1.jar;C:\\hisenwork\\soft\\maven\\xmlenc\\xmlenc\\0.52\\xmlenc-0.52.jar;C:\\hisenwork\\soft\\maven\\commons-io\\commons-io\\2.1\\commons-io-2.1.jar;C:\\hisenwork\\soft\\maven\\commons-lang\\commons-lang\\2.5\\commons-lang-2.5.jar;C:\\hisenwork\\soft\\maven\\commons-configuration\\commons-configuration\\1.6\\commons-configuration-1.6.jar;C:\\hisenwork\\soft\\maven\\commons-collections\\commons-collections\\3.2.1\\commons-collections-3.2.1.jar;C:\\hisenwork\\soft\\maven\\commons-digester\\commons-digester\\1.8\\commons-digester-1.8.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils\\1.7.0\\commons-beanutils-1.7.0.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils-core\\1.8.0\\commons-beanutils-core-1.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\protobuf\\protobuf-java\\2.5.0\\protobuf-java-2.5.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-auth\\2.2.0\\hadoop-auth-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-compress\\1.4.1\\commons-compress-1.4.1.jar;C:\\hisenwork\\soft\\maven\\org\\tukaani\\xz\\1.0\\xz-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-hdfs\\2.2.0\\hadoop-hdfs-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\mortbay\\jetty\\jetty-util\\6.1.26\\jetty-util-6.1.26.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-app\\2.2.0\\hadoop-mapreduce-client-app-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-common\\2.2.0\\hadoop-mapreduce-client-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-client\\2.2.0\\hadoop-yarn-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\inject\\guice\\3.0\\guice-3.0.jar;C:\\hisenwork\\soft\\maven\\javax\\inject\\javax.inject\\1\\javax.inject-1.jar;C:\\hisenwork\\soft\\maven\\aopalliance\\aopalliance\\1.0\\aopalliance-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-server-common\\2.2.0\\hadoop-yarn-server-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-shuffle\\2.2.0\\hadoop-mapreduce-client-shuffle-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-api\\2.2.0\\hadoop-yarn-api-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-core\\2.2.0\\hadoop-mapreduce-client-core-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-common\\2.2.0\\hadoop-yarn-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-jobclient\\2.2.0\\hadoop-mapreduce-client-jobclient-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-annotations\\2.2.0\\hadoop-annotations-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-launcher_2.11\\2.0.1\\spark-launcher_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-common_2.11\\2.0.1\\spark-network-common_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\fusesource\\leveldbjni\\leveldbjni-all\\1.8\\leveldbjni-all-1.8.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.6.5\\jackson-annotations-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-shuffle_2.11\\2.0.1\\spark-network-shuffle_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-unsafe_2.11\\2.0.1\\spark-unsafe_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\net\\java\\dev\\jets3t\\jets3t\\0.7.1\\jets3t-0.7.1.jar;C:\\hisenwork\\soft\\maven\\commons-codec\\commons-codec\\1.3\\commons-codec-1.3.jar;C:\\hisenwork\\soft\\maven\\commons-httpclient\\commons-httpclient\\3.1\\commons-httpclient-3.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-recipes\\2.4.0\\curator-recipes-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-framework\\2.4.0\\curator-framework-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-client\\2.4.0\\curator-client-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\zookeeper\\zookeeper\\3.4.5\\zookeeper-3.4.5.jar;C:\\hisenwork\\soft\\maven\\com\\google\\guava\\guava\\14.0.1\\guava-14.0.1.jar;C:\\hisenwork\\soft\\maven\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-lang3\\3.3.2\\commons-lang3-3.3.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math3\\3.4.1\\commons-math3-3.4.1.jar;C:\\hisenwork\\soft\\maven\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-api\\1.7.16\\slf4j-api-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jul-to-slf4j\\1.7.16\\jul-to-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jcl-over-slf4j\\1.7.16\\jcl-over-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-log4j12\\1.7.16\\slf4j-log4j12-1.7.16.jar;C:\\hisenwork\\soft\\maven\\com\\ning\\compress-lzf\\1.0.3\\compress-lzf-1.0.3.jar;C:\\hisenwork\\soft\\maven\\org\\xerial\\snappy\\snappy-java\\1.1.2.6\\snappy-java-1.1.2.6.jar;C:\\hisenwork\\soft\\maven\\net\\jpountz\\lz4\\lz4\\1.3.0\\lz4-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\roaringbitmap\\RoaringBitmap\\0.5.11\\RoaringBitmap-0.5.11.jar;C:\\hisenwork\\soft\\maven\\commons-net\\commons-net\\2.2\\commons-net-2.2.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-library\\2.11.8\\scala-library-2.11.8.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-jackson_2.11\\3.2.11\\json4s-jackson_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-core_2.11\\3.2.11\\json4s-core_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-ast_2.11\\3.2.11\\json4s-ast_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\com\\thoughtworks\\paranamer\\paranamer\\2.6\\paranamer-2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scalap\\2.11.0\\scalap-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-compiler\\2.11.0\\scala-compiler-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-parser-combinators_2.11\\1.0.1\\scala-parser-combinators_2.11-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-client\\2.22.2\\jersey-client-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\ws\\rs\\javax.ws.rs-api\\2.0.1\\javax.ws.rs-api-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-api\\2.4.0-b34\\hk2-api-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-utils\\2.4.0-b34\\hk2-utils-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\aopalliance-repackaged\\2.4.0-b34\\aopalliance-repackaged-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\javax.inject\\2.4.0-b34\\javax.inject-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-locator\\2.4.0-b34\\hk2-locator-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\javassist\\javassist\\3.18.1-GA\\javassist-3.18.1-GA.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-common\\2.22.2\\jersey-common-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\annotation\\javax.annotation-api\\1.2\\javax.annotation-api-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\bundles\\repackaged\\jersey-guava\\2.22.2\\jersey-guava-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\osgi-resource-locator\\1.0.1\\osgi-resource-locator-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-server\\2.22.2\\jersey-server-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\media\\jersey-media-jaxb\\2.22.2\\jersey-media-jaxb-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet\\2.22.2\\jersey-container-servlet-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet-core\\2.22.2\\jersey-container-servlet-core-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\mesos\\mesos\\0.21.1\\mesos-0.21.1-shaded-protobuf.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty-all\\4.0.29.Final\\netty-all-4.0.29.Final.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty\\3.8.0.Final\\netty-3.8.0.Final.jar;C:\\hisenwork\\soft\\maven\\com\\clearspring\\analytics\\stream\\2.7.0\\stream-2.7.0.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-core\\3.1.2\\metrics-core-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-jvm\\3.1.2\\metrics-jvm-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-json\\3.1.2\\metrics-json-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-graphite\\3.1.2\\metrics-graphite-3.1.2.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.6.5\\jackson-databind-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-core\\2.6.5\\jackson-core-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-scala_2.11\\2.6.5\\jackson-module-scala_2.11-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-reflect\\2.11.7\\scala-reflect-2.11.7.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-paranamer\\2.6.5\\jackson-module-paranamer-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\ivy\\ivy\\2.4.0\\ivy-2.4.0.jar;C:\\hisenwork\\soft\\maven\\oro\\oro\\2.0.8\\oro-2.0.8.jar;C:\\hisenwork\\soft\\maven\\net\\razorvine\\pyrolite\\4.9\\pyrolite-4.9.jar;C:\\hisenwork\\soft\\maven\\net\\sf\\py4j\\py4j\\0.10.3\\py4j-0.10.3.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-tags_2.11\\2.0.1\\spark-tags_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\scalatest\\scalatest_2.11\\2.2.6\\scalatest_2.11-2.2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-xml_2.11\\1.0.2\\scala-xml_2.11-1.0.2.jar;C:\\hisenwork\\soft\\maven\\org\\spark-project\\spark\\unused\\1.0.0\\unused-1.0.0.jar com.hisen.spark.SimpleApp\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\n17/08/02 17:00:09 INFO SparkContext: Running Spark version 2.0.1\n17/08/02 17:00:10 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n17/08/02 17:00:10 INFO SecurityManager: Changing view acls to: Administrator\n17/08/02 17:00:10 INFO SecurityManager: Changing modify acls to: Administrator\n17/08/02 17:00:10 INFO SecurityManager: Changing view acls groups to: \n17/08/02 17:00:10 INFO SecurityManager: Changing modify acls groups to: \n17/08/02 17:00:10 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Administrator); groups with view permissions: Set(); users  with modify permissions: Set(Administrator); groups with modify permissions: Set()\n17/08/02 17:00:11 INFO Utils: Successfully started service 'sparkDriver' on port 59388.\n17/08/02 17:00:11 INFO SparkEnv: Registering MapOutputTracker\n17/08/02 17:00:11 INFO SparkEnv: Registering BlockManagerMaster\n17/08/02 17:00:11 INFO DiskBlockManager: Created local directory at C:\\Users\\Administrator\\AppData\\Local\\Temp\\blockmgr-630d8294-e5cb-428d-8189-4c3313e46fa3\n17/08/02 17:00:12 INFO MemoryStore: MemoryStore started with capacity 894.3 MB\n17/08/02 17:00:12 INFO SparkEnv: Registering OutputCommitCoordinator\n17/08/02 17:00:12 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n17/08/02 17:00:12 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://169.254.90.236:4040\n17/08/02 17:00:12 INFO Executor: Starting executor ID driver on host localhost\n17/08/02 17:00:12 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 59397.\n17/08/02 17:00:12 INFO NettyBlockTransferService: Server created on 169.254.90.236:59397\n17/08/02 17:00:12 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 169.254.90.236, 59397)\n17/08/02 17:00:12 INFO BlockManagerMasterEndpoint: Registering block manager 169.254.90.236:59397 with 894.3 MB RAM, BlockManagerId(driver, 169.254.90.236, 59397)\n17/08/02 17:00:12 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 169.254.90.236, 59397)\n17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 127.1 KB, free 894.2 MB)\n17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0_piece0 stored as bytes in memory (estimated size 14.3 KB, free 894.2 MB)\n17/08/02 17:00:14 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on 169.254.90.236:59397 (size: 14.3 KB, free: 894.3 MB)\n17/08/02 17:00:14 INFO SparkContext: Created broadcast 0 from textFile at SimpleApp.java:19\n17/08/02 17:00:14 ERROR Shell: Failed to locate the winutils binary in the hadoop binary path\njava.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.\n\tat org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:278)\n\tat org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:300)\n\tat org.apache.hadoop.util.Shell.<clinit>(Shell.java:293)\n\tat org.apache.hadoop.util.StringUtils.<clinit>(StringUtils.java:76)\n\tat org.apache.hadoop.mapred.FileInputFormat.setInputPaths(FileInputFormat.java:362)\n\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)\n\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)\n\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)\n\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)\n\tat scala.Option.map(Option.scala:146)\n\tat org.apache.spark.rdd.HadoopRDD.getJobConf(HadoopRDD.scala:176)\n\tat org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:195)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)\n\tat scala.Option.getOrElse(Option.scala:121)\n\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)\n\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)\n\tat scala.Option.getOrElse(Option.scala:121)\n\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)\n\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)\n\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)\n\tat scala.Option.getOrElse(Option.scala:121)\n\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1930)\n\tat org.apache.spark.rdd.RDD.count(RDD.scala:1134)\n\tat org.apache.spark.api.java.JavaRDDLike$class.count(JavaRDDLike.scala:454)\n\tat org.apache.spark.api.java.AbstractJavaRDDLike.count(JavaRDDLike.scala:45)\n\tat com.hisen.spark.SimpleApp.main(SimpleApp.java:26)\n17/08/02 17:00:14 INFO FileInputFormat: Total input paths to process : 1\n17/08/02 17:00:14 INFO SparkContext: Starting job: count at SimpleApp.java:26\n17/08/02 17:00:15 INFO DAGScheduler: Got job 0 (count at SimpleApp.java:26) with 1 output partitions\n17/08/02 17:00:15 INFO DAGScheduler: Final stage: ResultStage 0 (count at SimpleApp.java:26)\n17/08/02 17:00:15 INFO DAGScheduler: Parents of final stage: List()\n17/08/02 17:00:15 INFO DAGScheduler: Missing parents: List()\n17/08/02 17:00:15 INFO DAGScheduler: Submitting ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22), which has no missing parents\n17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 3.2 KB, free 894.2 MB)\n17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1_piece0 stored as bytes in memory (estimated size 1966.0 B, free 894.2 MB)\n17/08/02 17:00:15 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on 169.254.90.236:59397 (size: 1966.0 B, free: 894.3 MB)\n17/08/02 17:00:15 INFO SparkContext: Created broadcast 1 from broadcast at DAGScheduler.scala:1012\n17/08/02 17:00:15 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22)\n17/08/02 17:00:15 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks\n17/08/02 17:00:15 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)\n17/08/02 17:00:15 INFO Executor: Running task 0.0 in stage 0.0 (TID 0)\n17/08/02 17:00:15 INFO HadoopRDD: Input split: file:/D:/logs/boss_debug.log:0+4059273\n17/08/02 17:00:15 INFO deprecation: mapred.tip.id is deprecated. Instead, use mapreduce.task.id\n17/08/02 17:00:15 INFO deprecation: mapred.task.id is deprecated. Instead, use mapreduce.task.attempt.id\n17/08/02 17:00:15 INFO deprecation: mapred.task.is.map is deprecated. Instead, use mapreduce.task.ismap\n17/08/02 17:00:15 INFO deprecation: mapred.task.partition is deprecated. Instead, use mapreduce.task.partition\n17/08/02 17:00:15 INFO deprecation: mapred.job.id is deprecated. Instead, use mapreduce.job.id\n17/08/02 17:00:15 INFO MemoryStore: Block rdd_1_0 stored as values in memory (estimated size 5.7 MB, free 888.4 MB)\n17/08/02 17:00:15 INFO BlockManagerInfo: Added rdd_1_0 in memory on 169.254.90.236:59397 (size: 5.7 MB, free: 888.5 MB)\n17/08/02 17:00:15 INFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1842 bytes result sent to driver\n17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 0.0 (TID 0) in 691 ms on localhost (1/1)\n17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool \n17/08/02 17:00:16 INFO DAGScheduler: ResultStage 0 (count at SimpleApp.java:26) finished in 0.726 s\n17/08/02 17:00:16 INFO DAGScheduler: Job 0 finished: count at SimpleApp.java:26, took 1.078428 s\n17/08/02 17:00:16 INFO SparkContext: Starting job: count at SimpleApp.java:33\n17/08/02 17:00:16 INFO DAGScheduler: Got job 1 (count at SimpleApp.java:33) with 1 output partitions\n17/08/02 17:00:16 INFO DAGScheduler: Final stage: ResultStage 1 (count at SimpleApp.java:33)\n17/08/02 17:00:16 INFO DAGScheduler: Parents of final stage: List()\n17/08/02 17:00:16 INFO DAGScheduler: Missing parents: List()\n17/08/02 17:00:16 INFO DAGScheduler: Submitting ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29), which has no missing parents\n17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2 stored as values in memory (estimated size 3.2 KB, free 888.4 MB)\n17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory (estimated size 1967.0 B, free 888.4 MB)\n17/08/02 17:00:16 INFO BlockManagerInfo: Added broadcast_2_piece0 in memory on 169.254.90.236:59397 (size: 1967.0 B, free: 888.5 MB)\n17/08/02 17:00:16 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1012\n17/08/02 17:00:16 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29)\n17/08/02 17:00:16 INFO TaskSchedulerImpl: Adding task set 1.0 with 1 tasks\n17/08/02 17:00:16 INFO TaskSetManager: Starting task 0.0 in stage 1.0 (TID 1, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)\n17/08/02 17:00:16 INFO Executor: Running task 0.0 in stage 1.0 (TID 1)\n17/08/02 17:00:16 INFO BlockManager: Found block rdd_1_0 locally\n17/08/02 17:00:16 INFO Executor: Finished task 0.0 in stage 1.0 (TID 1). 954 bytes result sent to driver\n17/08/02 17:00:16 INFO DAGScheduler: ResultStage 1 (count at SimpleApp.java:33) finished in 0.100 s\n17/08/02 17:00:16 INFO DAGScheduler: Job 1 finished: count at SimpleApp.java:33, took 0.139033 s\n17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 1.0 (TID 1) in 99 ms on localhost (1/1)\n17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 1.0, whose tasks have all completed, from pool \n\nLines with a: 11146, lines with b: 10760\n\n17/08/02 17:00:16 INFO SparkContext: Invoking stop() from shutdown hook\n17/08/02 17:00:16 INFO SparkUI: Stopped Spark web UI at http://169.254.90.236:4040\n17/08/02 17:00:16 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n17/08/02 17:00:16 INFO MemoryStore: MemoryStore cleared\n17/08/02 17:00:16 INFO BlockManager: BlockManager stopped\n17/08/02 17:00:16 INFO BlockManagerMaster: BlockManagerMaster stopped\n17/08/02 17:00:16 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n17/08/02 17:00:16 INFO SparkContext: Successfully stopped SparkContext\n17/08/02 17:00:16 INFO ShutdownHookManager: Shutdown hook called\n17/08/02 17:00:16 INFO ShutdownHookManager: Deleting directory C:\\Users\\Administrator\\AppData\\Local\\Temp\\spark-c40f2015-170f-4633-89dd-44dcd5bacfec\n\nProcess finished with exit code 0\n\n```","slug":"Spark第一个java程序 - 字词统计 - Spark java idea","published":1,"updated":"2017-08-04T02:00:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjiskdwm00hyolejbt81wvh7","content":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在本地利用idea，java开发spark程序</p><p>原来并不用安装spark什么的这些东西</p><p>这样就不会那么繁琐，门槛也低了点</p><p>具体过程如下</p><h2 id=\"一、创建工程\"><a href=\"#一、创建工程\" class=\"headerlink\" title=\"一、创建工程\"></a>一、创建工程</h2><ol><li>idea -&gt; new Project -&gt; maven -&gt; create from archetype -&gt; maven-archetype-quickstart</li><li><p>pom.xml添加依赖</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;2.0.1&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li><li><p>编写java代码</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.spark;</span><br><span class=\"line\"></span><br><span class=\"line\">import org.apache.spark.SparkConf;</span><br><span class=\"line\">import org.apache.spark.api.java.JavaRDD;</span><br><span class=\"line\">import org.apache.spark.api.java.JavaSparkContext;</span><br><span class=\"line\">import org.apache.spark.api.java.function.Function;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 第一个spark程序</span><br><span class=\"line\"> * Created by hisenyuan on 2017/8/2 at 16:36.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class SimpleApp &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    // Should be some file on your system</span><br><span class=\"line\">    String logFile = &quot;D:\\\\logs\\\\boss_debug.log&quot;;</span><br><span class=\"line\">    //设置本地运行，设置名称（在spark web ui上显示）</span><br><span class=\"line\">    SparkConf sparkConf = new SparkConf().setMaster(&quot;local&quot;).setAppName(&quot;Simple Application&quot;);</span><br><span class=\"line\">    JavaSparkContext javaSparkContext = new JavaSparkContext(sparkConf);</span><br><span class=\"line\">    JavaRDD&lt;String&gt; logData = javaSparkContext.textFile(logFile).cache();</span><br><span class=\"line\"></span><br><span class=\"line\">    //统计包含a的次数</span><br><span class=\"line\">    long countA = logData.filter(new Function&lt;String, Boolean&gt;() &#123;</span><br><span class=\"line\">      public Boolean call(String s) throws Exception &#123;</span><br><span class=\"line\">        return s.contains(&quot;a&quot;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;).count();</span><br><span class=\"line\"></span><br><span class=\"line\">    //统计包含b的次数</span><br><span class=\"line\">    long countB = logData.filter(new Function&lt;String, Boolean&gt;() &#123;</span><br><span class=\"line\">      public Boolean call(String s) throws Exception &#123;</span><br><span class=\"line\">        return s.contains(&quot;b&quot;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;).count();</span><br><span class=\"line\">    System.out.printf(&quot;Lines with a: %d, lines with b: %d\\n&quot;, countA, countB);</span><br><span class=\"line\">    //Lines with a: 11146, lines with b: 10760</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p>运行main方法：结果：Lines with a: 11146, lines with b: 10760</p></li><li>日志如下：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\hisenwork\\soft\\jdk8\\bin\\java -Dspark.master=local &quot;-javaagent:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\lib\\idea_rt.jar=59366:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\hisenwork\\soft\\jdk8\\jre\\lib\\charsets.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\deploy.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\cldrdata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\dnsns.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jaccess.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jfxrt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\localedata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\nashorn.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunec.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunmscapi.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\zipfs.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\javaws.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jce.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfr.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfxswt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jsse.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\management-agent.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\plugin.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\resources.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\rt.jar;C:\\hisenwork\\code\\rmitec\\SparkTest\\target\\classes;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-core_2.11\\2.0.1\\spark-core_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-mapred\\1.7.7\\avro-mapred-1.7.7-hadoop2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro\\1.7.7\\avro-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7-tests.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-core-asl\\1.9.13\\jackson-core-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.9.13\\jackson-mapper-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill_2.11\\0.8.0\\chill_2.11-0.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\kryo-shaded\\3.0.3\\kryo-shaded-3.0.3.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\minlog\\1.3.0\\minlog-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\objenesis\\objenesis\\2.1\\objenesis-2.1.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill-java\\0.8.0\\chill-java-0.8.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\xbean\\xbean-asm5-shaded\\4.4\\xbean-asm5-shaded-4.4.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-client\\2.2.0\\hadoop-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-common\\2.2.0\\hadoop-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\commons-cli\\commons-cli\\1.2\\commons-cli-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math\\2.1\\commons-math-2.1.jar;C:\\hisenwork\\soft\\maven\\xmlenc\\xmlenc\\0.52\\xmlenc-0.52.jar;C:\\hisenwork\\soft\\maven\\commons-io\\commons-io\\2.1\\commons-io-2.1.jar;C:\\hisenwork\\soft\\maven\\commons-lang\\commons-lang\\2.5\\commons-lang-2.5.jar;C:\\hisenwork\\soft\\maven\\commons-configuration\\commons-configuration\\1.6\\commons-configuration-1.6.jar;C:\\hisenwork\\soft\\maven\\commons-collections\\commons-collections\\3.2.1\\commons-collections-3.2.1.jar;C:\\hisenwork\\soft\\maven\\commons-digester\\commons-digester\\1.8\\commons-digester-1.8.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils\\1.7.0\\commons-beanutils-1.7.0.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils-core\\1.8.0\\commons-beanutils-core-1.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\protobuf\\protobuf-java\\2.5.0\\protobuf-java-2.5.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-auth\\2.2.0\\hadoop-auth-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-compress\\1.4.1\\commons-compress-1.4.1.jar;C:\\hisenwork\\soft\\maven\\org\\tukaani\\xz\\1.0\\xz-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-hdfs\\2.2.0\\hadoop-hdfs-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\mortbay\\jetty\\jetty-util\\6.1.26\\jetty-util-6.1.26.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-app\\2.2.0\\hadoop-mapreduce-client-app-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-common\\2.2.0\\hadoop-mapreduce-client-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-client\\2.2.0\\hadoop-yarn-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\inject\\guice\\3.0\\guice-3.0.jar;C:\\hisenwork\\soft\\maven\\javax\\inject\\javax.inject\\1\\javax.inject-1.jar;C:\\hisenwork\\soft\\maven\\aopalliance\\aopalliance\\1.0\\aopalliance-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-server-common\\2.2.0\\hadoop-yarn-server-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-shuffle\\2.2.0\\hadoop-mapreduce-client-shuffle-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-api\\2.2.0\\hadoop-yarn-api-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-core\\2.2.0\\hadoop-mapreduce-client-core-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-common\\2.2.0\\hadoop-yarn-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-jobclient\\2.2.0\\hadoop-mapreduce-client-jobclient-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-annotations\\2.2.0\\hadoop-annotations-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-launcher_2.11\\2.0.1\\spark-launcher_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-common_2.11\\2.0.1\\spark-network-common_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\fusesource\\leveldbjni\\leveldbjni-all\\1.8\\leveldbjni-all-1.8.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.6.5\\jackson-annotations-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-shuffle_2.11\\2.0.1\\spark-network-shuffle_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-unsafe_2.11\\2.0.1\\spark-unsafe_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\net\\java\\dev\\jets3t\\jets3t\\0.7.1\\jets3t-0.7.1.jar;C:\\hisenwork\\soft\\maven\\commons-codec\\commons-codec\\1.3\\commons-codec-1.3.jar;C:\\hisenwork\\soft\\maven\\commons-httpclient\\commons-httpclient\\3.1\\commons-httpclient-3.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-recipes\\2.4.0\\curator-recipes-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-framework\\2.4.0\\curator-framework-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-client\\2.4.0\\curator-client-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\zookeeper\\zookeeper\\3.4.5\\zookeeper-3.4.5.jar;C:\\hisenwork\\soft\\maven\\com\\google\\guava\\guava\\14.0.1\\guava-14.0.1.jar;C:\\hisenwork\\soft\\maven\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-lang3\\3.3.2\\commons-lang3-3.3.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math3\\3.4.1\\commons-math3-3.4.1.jar;C:\\hisenwork\\soft\\maven\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-api\\1.7.16\\slf4j-api-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jul-to-slf4j\\1.7.16\\jul-to-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jcl-over-slf4j\\1.7.16\\jcl-over-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-log4j12\\1.7.16\\slf4j-log4j12-1.7.16.jar;C:\\hisenwork\\soft\\maven\\com\\ning\\compress-lzf\\1.0.3\\compress-lzf-1.0.3.jar;C:\\hisenwork\\soft\\maven\\org\\xerial\\snappy\\snappy-java\\1.1.2.6\\snappy-java-1.1.2.6.jar;C:\\hisenwork\\soft\\maven\\net\\jpountz\\lz4\\lz4\\1.3.0\\lz4-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\roaringbitmap\\RoaringBitmap\\0.5.11\\RoaringBitmap-0.5.11.jar;C:\\hisenwork\\soft\\maven\\commons-net\\commons-net\\2.2\\commons-net-2.2.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-library\\2.11.8\\scala-library-2.11.8.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-jackson_2.11\\3.2.11\\json4s-jackson_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-core_2.11\\3.2.11\\json4s-core_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-ast_2.11\\3.2.11\\json4s-ast_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\com\\thoughtworks\\paranamer\\paranamer\\2.6\\paranamer-2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scalap\\2.11.0\\scalap-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-compiler\\2.11.0\\scala-compiler-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-parser-combinators_2.11\\1.0.1\\scala-parser-combinators_2.11-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-client\\2.22.2\\jersey-client-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\ws\\rs\\javax.ws.rs-api\\2.0.1\\javax.ws.rs-api-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-api\\2.4.0-b34\\hk2-api-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-utils\\2.4.0-b34\\hk2-utils-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\aopalliance-repackaged\\2.4.0-b34\\aopalliance-repackaged-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\javax.inject\\2.4.0-b34\\javax.inject-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-locator\\2.4.0-b34\\hk2-locator-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\javassist\\javassist\\3.18.1-GA\\javassist-3.18.1-GA.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-common\\2.22.2\\jersey-common-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\annotation\\javax.annotation-api\\1.2\\javax.annotation-api-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\bundles\\repackaged\\jersey-guava\\2.22.2\\jersey-guava-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\osgi-resource-locator\\1.0.1\\osgi-resource-locator-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-server\\2.22.2\\jersey-server-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\media\\jersey-media-jaxb\\2.22.2\\jersey-media-jaxb-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet\\2.22.2\\jersey-container-servlet-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet-core\\2.22.2\\jersey-container-servlet-core-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\mesos\\mesos\\0.21.1\\mesos-0.21.1-shaded-protobuf.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty-all\\4.0.29.Final\\netty-all-4.0.29.Final.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty\\3.8.0.Final\\netty-3.8.0.Final.jar;C:\\hisenwork\\soft\\maven\\com\\clearspring\\analytics\\stream\\2.7.0\\stream-2.7.0.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-core\\3.1.2\\metrics-core-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-jvm\\3.1.2\\metrics-jvm-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-json\\3.1.2\\metrics-json-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-graphite\\3.1.2\\metrics-graphite-3.1.2.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.6.5\\jackson-databind-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-core\\2.6.5\\jackson-core-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-scala_2.11\\2.6.5\\jackson-module-scala_2.11-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-reflect\\2.11.7\\scala-reflect-2.11.7.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-paranamer\\2.6.5\\jackson-module-paranamer-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\ivy\\ivy\\2.4.0\\ivy-2.4.0.jar;C:\\hisenwork\\soft\\maven\\oro\\oro\\2.0.8\\oro-2.0.8.jar;C:\\hisenwork\\soft\\maven\\net\\razorvine\\pyrolite\\4.9\\pyrolite-4.9.jar;C:\\hisenwork\\soft\\maven\\net\\sf\\py4j\\py4j\\0.10.3\\py4j-0.10.3.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-tags_2.11\\2.0.1\\spark-tags_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\scalatest\\scalatest_2.11\\2.2.6\\scalatest_2.11-2.2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-xml_2.11\\1.0.2\\scala-xml_2.11-1.0.2.jar;C:\\hisenwork\\soft\\maven\\org\\spark-project\\spark\\unused\\1.0.0\\unused-1.0.0.jar com.hisen.spark.SimpleApp</span><br><span class=\"line\">Using Spark&apos;s default log4j profile: org/apache/spark/log4j-defaults.properties</span><br><span class=\"line\">17/08/02 17:00:09 INFO SparkContext: Running Spark version 2.0.1</span><br><span class=\"line\">17/08/02 17:00:10 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing view acls to: Administrator</span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing modify acls to: Administrator</span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing view acls groups to: </span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing modify acls groups to: </span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Administrator); groups with view permissions: Set(); users  with modify permissions: Set(Administrator); groups with modify permissions: Set()</span><br><span class=\"line\">17/08/02 17:00:11 INFO Utils: Successfully started service &apos;sparkDriver&apos; on port 59388.</span><br><span class=\"line\">17/08/02 17:00:11 INFO SparkEnv: Registering MapOutputTracker</span><br><span class=\"line\">17/08/02 17:00:11 INFO SparkEnv: Registering BlockManagerMaster</span><br><span class=\"line\">17/08/02 17:00:11 INFO DiskBlockManager: Created local directory at C:\\Users\\Administrator\\AppData\\Local\\Temp\\blockmgr-630d8294-e5cb-428d-8189-4c3313e46fa3</span><br><span class=\"line\">17/08/02 17:00:12 INFO MemoryStore: MemoryStore started with capacity 894.3 MB</span><br><span class=\"line\">17/08/02 17:00:12 INFO SparkEnv: Registering OutputCommitCoordinator</span><br><span class=\"line\">17/08/02 17:00:12 INFO Utils: Successfully started service &apos;SparkUI&apos; on port 4040.</span><br><span class=\"line\">17/08/02 17:00:12 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://169.254.90.236:4040</span><br><span class=\"line\">17/08/02 17:00:12 INFO Executor: Starting executor ID driver on host localhost</span><br><span class=\"line\">17/08/02 17:00:12 INFO Utils: Successfully started service &apos;org.apache.spark.network.netty.NettyBlockTransferService&apos; on port 59397.</span><br><span class=\"line\">17/08/02 17:00:12 INFO NettyBlockTransferService: Server created on 169.254.90.236:59397</span><br><span class=\"line\">17/08/02 17:00:12 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 169.254.90.236, 59397)</span><br><span class=\"line\">17/08/02 17:00:12 INFO BlockManagerMasterEndpoint: Registering block manager 169.254.90.236:59397 with 894.3 MB RAM, BlockManagerId(driver, 169.254.90.236, 59397)</span><br><span class=\"line\">17/08/02 17:00:12 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 169.254.90.236, 59397)</span><br><span class=\"line\">17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 127.1 KB, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0_piece0 stored as bytes in memory (estimated size 14.3 KB, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:14 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on 169.254.90.236:59397 (size: 14.3 KB, free: 894.3 MB)</span><br><span class=\"line\">17/08/02 17:00:14 INFO SparkContext: Created broadcast 0 from textFile at SimpleApp.java:19</span><br><span class=\"line\">17/08/02 17:00:14 ERROR Shell: Failed to locate the winutils binary in the hadoop binary path</span><br><span class=\"line\">java.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.</span><br><span class=\"line\">\tat org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:278)</span><br><span class=\"line\">\tat org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:300)</span><br><span class=\"line\">\tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:293)</span><br><span class=\"line\">\tat org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:76)</span><br><span class=\"line\">\tat org.apache.hadoop.mapred.FileInputFormat.setInputPaths(FileInputFormat.java:362)</span><br><span class=\"line\">\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)</span><br><span class=\"line\">\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)</span><br><span class=\"line\">\tat scala.Option.map(Option.scala:146)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD.getJobConf(HadoopRDD.scala:176)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:195)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)</span><br><span class=\"line\">\tat scala.Option.getOrElse(Option.scala:121)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)</span><br><span class=\"line\">\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)</span><br><span class=\"line\">\tat scala.Option.getOrElse(Option.scala:121)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)</span><br><span class=\"line\">\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)</span><br><span class=\"line\">\tat scala.Option.getOrElse(Option.scala:121)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)</span><br><span class=\"line\">\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1930)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.count(RDD.scala:1134)</span><br><span class=\"line\">\tat org.apache.spark.api.java.JavaRDDLike$class.count(JavaRDDLike.scala:454)</span><br><span class=\"line\">\tat org.apache.spark.api.java.AbstractJavaRDDLike.count(JavaRDDLike.scala:45)</span><br><span class=\"line\">\tat com.hisen.spark.SimpleApp.main(SimpleApp.java:26)</span><br><span class=\"line\">17/08/02 17:00:14 INFO FileInputFormat: Total input paths to process : 1</span><br><span class=\"line\">17/08/02 17:00:14 INFO SparkContext: Starting job: count at SimpleApp.java:26</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Got job 0 (count at SimpleApp.java:26) with 1 output partitions</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Final stage: ResultStage 0 (count at SimpleApp.java:26)</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Parents of final stage: List()</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Missing parents: List()</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Submitting ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22), which has no missing parents</span><br><span class=\"line\">17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 3.2 KB, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1_piece0 stored as bytes in memory (estimated size 1966.0 B, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on 169.254.90.236:59397 (size: 1966.0 B, free: 894.3 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO SparkContext: Created broadcast 1 from broadcast at DAGScheduler.scala:1012</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22)</span><br><span class=\"line\">17/08/02 17:00:15 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks</span><br><span class=\"line\">17/08/02 17:00:15 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)</span><br><span class=\"line\">17/08/02 17:00:15 INFO Executor: Running task 0.0 in stage 0.0 (TID 0)</span><br><span class=\"line\">17/08/02 17:00:15 INFO HadoopRDD: Input split: file:/D:/logs/boss_debug.log:0+4059273</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.tip.id is deprecated. Instead, use mapreduce.task.id</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.task.id is deprecated. Instead, use mapreduce.task.attempt.id</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.task.is.map is deprecated. Instead, use mapreduce.task.ismap</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.task.partition is deprecated. Instead, use mapreduce.task.partition</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.job.id is deprecated. Instead, use mapreduce.job.id</span><br><span class=\"line\">17/08/02 17:00:15 INFO MemoryStore: Block rdd_1_0 stored as values in memory (estimated size 5.7 MB, free 888.4 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO BlockManagerInfo: Added rdd_1_0 in memory on 169.254.90.236:59397 (size: 5.7 MB, free: 888.5 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1842 bytes result sent to driver</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 0.0 (TID 0) in 691 ms on localhost (1/1)</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool </span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: ResultStage 0 (count at SimpleApp.java:26) finished in 0.726 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Job 0 finished: count at SimpleApp.java:26, took 1.078428 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Starting job: count at SimpleApp.java:33</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Got job 1 (count at SimpleApp.java:33) with 1 output partitions</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Final stage: ResultStage 1 (count at SimpleApp.java:33)</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Parents of final stage: List()</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Missing parents: List()</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Submitting ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29), which has no missing parents</span><br><span class=\"line\">17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2 stored as values in memory (estimated size 3.2 KB, free 888.4 MB)</span><br><span class=\"line\">17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory (estimated size 1967.0 B, free 888.4 MB)</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManagerInfo: Added broadcast_2_piece0 in memory on 169.254.90.236:59397 (size: 1967.0 B, free: 888.5 MB)</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1012</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29)</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSchedulerImpl: Adding task set 1.0 with 1 tasks</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSetManager: Starting task 0.0 in stage 1.0 (TID 1, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)</span><br><span class=\"line\">17/08/02 17:00:16 INFO Executor: Running task 0.0 in stage 1.0 (TID 1)</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManager: Found block rdd_1_0 locally</span><br><span class=\"line\">17/08/02 17:00:16 INFO Executor: Finished task 0.0 in stage 1.0 (TID 1). 954 bytes result sent to driver</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: ResultStage 1 (count at SimpleApp.java:33) finished in 0.100 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Job 1 finished: count at SimpleApp.java:33, took 0.139033 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 1.0 (TID 1) in 99 ms on localhost (1/1)</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 1.0, whose tasks have all completed, from pool </span><br><span class=\"line\"></span><br><span class=\"line\">Lines with a: 11146, lines with b: 10760</span><br><span class=\"line\"></span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Invoking stop() from shutdown hook</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkUI: Stopped Spark web UI at http://169.254.90.236:4040</span><br><span class=\"line\">17/08/02 17:00:16 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!</span><br><span class=\"line\">17/08/02 17:00:16 INFO MemoryStore: MemoryStore cleared</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManager: BlockManager stopped</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManagerMaster: BlockManagerMaster stopped</span><br><span class=\"line\">17/08/02 17:00:16 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Successfully stopped SparkContext</span><br><span class=\"line\">17/08/02 17:00:16 INFO ShutdownHookManager: Shutdown hook called</span><br><span class=\"line\">17/08/02 17:00:16 INFO ShutdownHookManager: Deleting directory C:\\Users\\Administrator\\AppData\\Local\\Temp\\spark-c40f2015-170f-4633-89dd-44dcd5bacfec</span><br><span class=\"line\"></span><br><span class=\"line\">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li></ol><!-- rebuild by neat -->","site":{"data":{}},"excerpt":"","more":"<!-- build time:Fri Jul 13 2018 00:52:34 GMT+0800 (中国标准时间) --><p>在本地利用idea，java开发spark程序</p><p>原来并不用安装spark什么的这些东西</p><p>这样就不会那么繁琐，门槛也低了点</p><p>具体过程如下</p><h2 id=\"一、创建工程\"><a href=\"#一、创建工程\" class=\"headerlink\" title=\"一、创建工程\"></a>一、创建工程</h2><ol><li>idea -&gt; new Project -&gt; maven -&gt; create from archetype -&gt; maven-archetype-quickstart</li><li><p>pom.xml添加依赖</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;</span><br><span class=\"line\">  &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;</span><br><span class=\"line\">  &lt;version&gt;2.0.1&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li><li><p>编写java代码</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.hisen.spark;</span><br><span class=\"line\"></span><br><span class=\"line\">import org.apache.spark.SparkConf;</span><br><span class=\"line\">import org.apache.spark.api.java.JavaRDD;</span><br><span class=\"line\">import org.apache.spark.api.java.JavaSparkContext;</span><br><span class=\"line\">import org.apache.spark.api.java.function.Function;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * 第一个spark程序</span><br><span class=\"line\"> * Created by hisenyuan on 2017/8/2 at 16:36.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class SimpleApp &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public static void main(String[] args) &#123;</span><br><span class=\"line\">    // Should be some file on your system</span><br><span class=\"line\">    String logFile = &quot;D:\\\\logs\\\\boss_debug.log&quot;;</span><br><span class=\"line\">    //设置本地运行，设置名称（在spark web ui上显示）</span><br><span class=\"line\">    SparkConf sparkConf = new SparkConf().setMaster(&quot;local&quot;).setAppName(&quot;Simple Application&quot;);</span><br><span class=\"line\">    JavaSparkContext javaSparkContext = new JavaSparkContext(sparkConf);</span><br><span class=\"line\">    JavaRDD&lt;String&gt; logData = javaSparkContext.textFile(logFile).cache();</span><br><span class=\"line\"></span><br><span class=\"line\">    //统计包含a的次数</span><br><span class=\"line\">    long countA = logData.filter(new Function&lt;String, Boolean&gt;() &#123;</span><br><span class=\"line\">      public Boolean call(String s) throws Exception &#123;</span><br><span class=\"line\">        return s.contains(&quot;a&quot;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;).count();</span><br><span class=\"line\"></span><br><span class=\"line\">    //统计包含b的次数</span><br><span class=\"line\">    long countB = logData.filter(new Function&lt;String, Boolean&gt;() &#123;</span><br><span class=\"line\">      public Boolean call(String s) throws Exception &#123;</span><br><span class=\"line\">        return s.contains(&quot;b&quot;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;).count();</span><br><span class=\"line\">    System.out.printf(&quot;Lines with a: %d, lines with b: %d\\n&quot;, countA, countB);</span><br><span class=\"line\">    //Lines with a: 11146, lines with b: 10760</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li><li><p>运行main方法：结果：Lines with a: 11146, lines with b: 10760</p></li><li>日志如下：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\hisenwork\\soft\\jdk8\\bin\\java -Dspark.master=local &quot;-javaagent:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\lib\\idea_rt.jar=59366:C:\\hisenwork\\IntelliJ IDEA 2017.1.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\hisenwork\\soft\\jdk8\\jre\\lib\\charsets.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\deploy.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\cldrdata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\dnsns.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jaccess.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\jfxrt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\localedata.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\nashorn.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunec.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunmscapi.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\ext\\zipfs.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\javaws.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jce.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfr.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jfxswt.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\jsse.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\management-agent.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\plugin.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\resources.jar;C:\\hisenwork\\soft\\jdk8\\jre\\lib\\rt.jar;C:\\hisenwork\\code\\rmitec\\SparkTest\\target\\classes;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-core_2.11\\2.0.1\\spark-core_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-mapred\\1.7.7\\avro-mapred-1.7.7-hadoop2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro\\1.7.7\\avro-1.7.7.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\avro\\avro-ipc\\1.7.7\\avro-ipc-1.7.7-tests.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-core-asl\\1.9.13\\jackson-core-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.9.13\\jackson-mapper-asl-1.9.13.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill_2.11\\0.8.0\\chill_2.11-0.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\kryo-shaded\\3.0.3\\kryo-shaded-3.0.3.jar;C:\\hisenwork\\soft\\maven\\com\\esotericsoftware\\minlog\\1.3.0\\minlog-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\objenesis\\objenesis\\2.1\\objenesis-2.1.jar;C:\\hisenwork\\soft\\maven\\com\\twitter\\chill-java\\0.8.0\\chill-java-0.8.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\xbean\\xbean-asm5-shaded\\4.4\\xbean-asm5-shaded-4.4.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-client\\2.2.0\\hadoop-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-common\\2.2.0\\hadoop-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\commons-cli\\commons-cli\\1.2\\commons-cli-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math\\2.1\\commons-math-2.1.jar;C:\\hisenwork\\soft\\maven\\xmlenc\\xmlenc\\0.52\\xmlenc-0.52.jar;C:\\hisenwork\\soft\\maven\\commons-io\\commons-io\\2.1\\commons-io-2.1.jar;C:\\hisenwork\\soft\\maven\\commons-lang\\commons-lang\\2.5\\commons-lang-2.5.jar;C:\\hisenwork\\soft\\maven\\commons-configuration\\commons-configuration\\1.6\\commons-configuration-1.6.jar;C:\\hisenwork\\soft\\maven\\commons-collections\\commons-collections\\3.2.1\\commons-collections-3.2.1.jar;C:\\hisenwork\\soft\\maven\\commons-digester\\commons-digester\\1.8\\commons-digester-1.8.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils\\1.7.0\\commons-beanutils-1.7.0.jar;C:\\hisenwork\\soft\\maven\\commons-beanutils\\commons-beanutils-core\\1.8.0\\commons-beanutils-core-1.8.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\protobuf\\protobuf-java\\2.5.0\\protobuf-java-2.5.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-auth\\2.2.0\\hadoop-auth-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-compress\\1.4.1\\commons-compress-1.4.1.jar;C:\\hisenwork\\soft\\maven\\org\\tukaani\\xz\\1.0\\xz-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-hdfs\\2.2.0\\hadoop-hdfs-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\mortbay\\jetty\\jetty-util\\6.1.26\\jetty-util-6.1.26.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-app\\2.2.0\\hadoop-mapreduce-client-app-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-common\\2.2.0\\hadoop-mapreduce-client-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-client\\2.2.0\\hadoop-yarn-client-2.2.0.jar;C:\\hisenwork\\soft\\maven\\com\\google\\inject\\guice\\3.0\\guice-3.0.jar;C:\\hisenwork\\soft\\maven\\javax\\inject\\javax.inject\\1\\javax.inject-1.jar;C:\\hisenwork\\soft\\maven\\aopalliance\\aopalliance\\1.0\\aopalliance-1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-server-common\\2.2.0\\hadoop-yarn-server-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-shuffle\\2.2.0\\hadoop-mapreduce-client-shuffle-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-api\\2.2.0\\hadoop-yarn-api-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-core\\2.2.0\\hadoop-mapreduce-client-core-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-yarn-common\\2.2.0\\hadoop-yarn-common-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-mapreduce-client-jobclient\\2.2.0\\hadoop-mapreduce-client-jobclient-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\hadoop\\hadoop-annotations\\2.2.0\\hadoop-annotations-2.2.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-launcher_2.11\\2.0.1\\spark-launcher_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-common_2.11\\2.0.1\\spark-network-common_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\fusesource\\leveldbjni\\leveldbjni-all\\1.8\\leveldbjni-all-1.8.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.6.5\\jackson-annotations-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-network-shuffle_2.11\\2.0.1\\spark-network-shuffle_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-unsafe_2.11\\2.0.1\\spark-unsafe_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\net\\java\\dev\\jets3t\\jets3t\\0.7.1\\jets3t-0.7.1.jar;C:\\hisenwork\\soft\\maven\\commons-codec\\commons-codec\\1.3\\commons-codec-1.3.jar;C:\\hisenwork\\soft\\maven\\commons-httpclient\\commons-httpclient\\3.1\\commons-httpclient-3.1.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-recipes\\2.4.0\\curator-recipes-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-framework\\2.4.0\\curator-framework-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\curator\\curator-client\\2.4.0\\curator-client-2.4.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\zookeeper\\zookeeper\\3.4.5\\zookeeper-3.4.5.jar;C:\\hisenwork\\soft\\maven\\com\\google\\guava\\guava\\14.0.1\\guava-14.0.1.jar;C:\\hisenwork\\soft\\maven\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-lang3\\3.3.2\\commons-lang3-3.3.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\commons\\commons-math3\\3.4.1\\commons-math3-3.4.1.jar;C:\\hisenwork\\soft\\maven\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-api\\1.7.16\\slf4j-api-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jul-to-slf4j\\1.7.16\\jul-to-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\jcl-over-slf4j\\1.7.16\\jcl-over-slf4j-1.7.16.jar;C:\\hisenwork\\soft\\maven\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\hisenwork\\soft\\maven\\org\\slf4j\\slf4j-log4j12\\1.7.16\\slf4j-log4j12-1.7.16.jar;C:\\hisenwork\\soft\\maven\\com\\ning\\compress-lzf\\1.0.3\\compress-lzf-1.0.3.jar;C:\\hisenwork\\soft\\maven\\org\\xerial\\snappy\\snappy-java\\1.1.2.6\\snappy-java-1.1.2.6.jar;C:\\hisenwork\\soft\\maven\\net\\jpountz\\lz4\\lz4\\1.3.0\\lz4-1.3.0.jar;C:\\hisenwork\\soft\\maven\\org\\roaringbitmap\\RoaringBitmap\\0.5.11\\RoaringBitmap-0.5.11.jar;C:\\hisenwork\\soft\\maven\\commons-net\\commons-net\\2.2\\commons-net-2.2.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-library\\2.11.8\\scala-library-2.11.8.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-jackson_2.11\\3.2.11\\json4s-jackson_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-core_2.11\\3.2.11\\json4s-core_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\org\\json4s\\json4s-ast_2.11\\3.2.11\\json4s-ast_2.11-3.2.11.jar;C:\\hisenwork\\soft\\maven\\com\\thoughtworks\\paranamer\\paranamer\\2.6\\paranamer-2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scalap\\2.11.0\\scalap-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-compiler\\2.11.0\\scala-compiler-2.11.0.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-parser-combinators_2.11\\1.0.1\\scala-parser-combinators_2.11-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-client\\2.22.2\\jersey-client-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\ws\\rs\\javax.ws.rs-api\\2.0.1\\javax.ws.rs-api-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-api\\2.4.0-b34\\hk2-api-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-utils\\2.4.0-b34\\hk2-utils-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\aopalliance-repackaged\\2.4.0-b34\\aopalliance-repackaged-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\external\\javax.inject\\2.4.0-b34\\javax.inject-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\hk2-locator\\2.4.0-b34\\hk2-locator-2.4.0-b34.jar;C:\\hisenwork\\soft\\maven\\org\\javassist\\javassist\\3.18.1-GA\\javassist-3.18.1-GA.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-common\\2.22.2\\jersey-common-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\annotation\\javax.annotation-api\\1.2\\javax.annotation-api-1.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\bundles\\repackaged\\jersey-guava\\2.22.2\\jersey-guava-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\hk2\\osgi-resource-locator\\1.0.1\\osgi-resource-locator-1.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\core\\jersey-server\\2.22.2\\jersey-server-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\media\\jersey-media-jaxb\\2.22.2\\jersey-media-jaxb-2.22.2.jar;C:\\hisenwork\\soft\\maven\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet\\2.22.2\\jersey-container-servlet-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\glassfish\\jersey\\containers\\jersey-container-servlet-core\\2.22.2\\jersey-container-servlet-core-2.22.2.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\mesos\\mesos\\0.21.1\\mesos-0.21.1-shaded-protobuf.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty-all\\4.0.29.Final\\netty-all-4.0.29.Final.jar;C:\\hisenwork\\soft\\maven\\io\\netty\\netty\\3.8.0.Final\\netty-3.8.0.Final.jar;C:\\hisenwork\\soft\\maven\\com\\clearspring\\analytics\\stream\\2.7.0\\stream-2.7.0.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-core\\3.1.2\\metrics-core-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-jvm\\3.1.2\\metrics-jvm-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-json\\3.1.2\\metrics-json-3.1.2.jar;C:\\hisenwork\\soft\\maven\\io\\dropwizard\\metrics\\metrics-graphite\\3.1.2\\metrics-graphite-3.1.2.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.6.5\\jackson-databind-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\core\\jackson-core\\2.6.5\\jackson-core-2.6.5.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-scala_2.11\\2.6.5\\jackson-module-scala_2.11-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\scala-reflect\\2.11.7\\scala-reflect-2.11.7.jar;C:\\hisenwork\\soft\\maven\\com\\fasterxml\\jackson\\module\\jackson-module-paranamer\\2.6.5\\jackson-module-paranamer-2.6.5.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\ivy\\ivy\\2.4.0\\ivy-2.4.0.jar;C:\\hisenwork\\soft\\maven\\oro\\oro\\2.0.8\\oro-2.0.8.jar;C:\\hisenwork\\soft\\maven\\net\\razorvine\\pyrolite\\4.9\\pyrolite-4.9.jar;C:\\hisenwork\\soft\\maven\\net\\sf\\py4j\\py4j\\0.10.3\\py4j-0.10.3.jar;C:\\hisenwork\\soft\\maven\\org\\apache\\spark\\spark-tags_2.11\\2.0.1\\spark-tags_2.11-2.0.1.jar;C:\\hisenwork\\soft\\maven\\org\\scalatest\\scalatest_2.11\\2.2.6\\scalatest_2.11-2.2.6.jar;C:\\hisenwork\\soft\\maven\\org\\scala-lang\\modules\\scala-xml_2.11\\1.0.2\\scala-xml_2.11-1.0.2.jar;C:\\hisenwork\\soft\\maven\\org\\spark-project\\spark\\unused\\1.0.0\\unused-1.0.0.jar com.hisen.spark.SimpleApp</span><br><span class=\"line\">Using Spark&apos;s default log4j profile: org/apache/spark/log4j-defaults.properties</span><br><span class=\"line\">17/08/02 17:00:09 INFO SparkContext: Running Spark version 2.0.1</span><br><span class=\"line\">17/08/02 17:00:10 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing view acls to: Administrator</span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing modify acls to: Administrator</span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing view acls groups to: </span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: Changing modify acls groups to: </span><br><span class=\"line\">17/08/02 17:00:10 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Administrator); groups with view permissions: Set(); users  with modify permissions: Set(Administrator); groups with modify permissions: Set()</span><br><span class=\"line\">17/08/02 17:00:11 INFO Utils: Successfully started service &apos;sparkDriver&apos; on port 59388.</span><br><span class=\"line\">17/08/02 17:00:11 INFO SparkEnv: Registering MapOutputTracker</span><br><span class=\"line\">17/08/02 17:00:11 INFO SparkEnv: Registering BlockManagerMaster</span><br><span class=\"line\">17/08/02 17:00:11 INFO DiskBlockManager: Created local directory at C:\\Users\\Administrator\\AppData\\Local\\Temp\\blockmgr-630d8294-e5cb-428d-8189-4c3313e46fa3</span><br><span class=\"line\">17/08/02 17:00:12 INFO MemoryStore: MemoryStore started with capacity 894.3 MB</span><br><span class=\"line\">17/08/02 17:00:12 INFO SparkEnv: Registering OutputCommitCoordinator</span><br><span class=\"line\">17/08/02 17:00:12 INFO Utils: Successfully started service &apos;SparkUI&apos; on port 4040.</span><br><span class=\"line\">17/08/02 17:00:12 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://169.254.90.236:4040</span><br><span class=\"line\">17/08/02 17:00:12 INFO Executor: Starting executor ID driver on host localhost</span><br><span class=\"line\">17/08/02 17:00:12 INFO Utils: Successfully started service &apos;org.apache.spark.network.netty.NettyBlockTransferService&apos; on port 59397.</span><br><span class=\"line\">17/08/02 17:00:12 INFO NettyBlockTransferService: Server created on 169.254.90.236:59397</span><br><span class=\"line\">17/08/02 17:00:12 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 169.254.90.236, 59397)</span><br><span class=\"line\">17/08/02 17:00:12 INFO BlockManagerMasterEndpoint: Registering block manager 169.254.90.236:59397 with 894.3 MB RAM, BlockManagerId(driver, 169.254.90.236, 59397)</span><br><span class=\"line\">17/08/02 17:00:12 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 169.254.90.236, 59397)</span><br><span class=\"line\">17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 127.1 KB, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:14 INFO MemoryStore: Block broadcast_0_piece0 stored as bytes in memory (estimated size 14.3 KB, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:14 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on 169.254.90.236:59397 (size: 14.3 KB, free: 894.3 MB)</span><br><span class=\"line\">17/08/02 17:00:14 INFO SparkContext: Created broadcast 0 from textFile at SimpleApp.java:19</span><br><span class=\"line\">17/08/02 17:00:14 ERROR Shell: Failed to locate the winutils binary in the hadoop binary path</span><br><span class=\"line\">java.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.</span><br><span class=\"line\">\tat org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:278)</span><br><span class=\"line\">\tat org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:300)</span><br><span class=\"line\">\tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:293)</span><br><span class=\"line\">\tat org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:76)</span><br><span class=\"line\">\tat org.apache.hadoop.mapred.FileInputFormat.setInputPaths(FileInputFormat.java:362)</span><br><span class=\"line\">\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)</span><br><span class=\"line\">\tat org.apache.spark.SparkContext$$anonfun$hadoopFile$1$$anonfun$29.apply(SparkContext.scala:992)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD$$anonfun$getJobConf$6.apply(HadoopRDD.scala:176)</span><br><span class=\"line\">\tat scala.Option.map(Option.scala:146)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD.getJobConf(HadoopRDD.scala:176)</span><br><span class=\"line\">\tat org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:195)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)</span><br><span class=\"line\">\tat scala.Option.getOrElse(Option.scala:121)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)</span><br><span class=\"line\">\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)</span><br><span class=\"line\">\tat scala.Option.getOrElse(Option.scala:121)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)</span><br><span class=\"line\">\tat org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:248)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:246)</span><br><span class=\"line\">\tat scala.Option.getOrElse(Option.scala:121)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.partitions(RDD.scala:246)</span><br><span class=\"line\">\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1930)</span><br><span class=\"line\">\tat org.apache.spark.rdd.RDD.count(RDD.scala:1134)</span><br><span class=\"line\">\tat org.apache.spark.api.java.JavaRDDLike$class.count(JavaRDDLike.scala:454)</span><br><span class=\"line\">\tat org.apache.spark.api.java.AbstractJavaRDDLike.count(JavaRDDLike.scala:45)</span><br><span class=\"line\">\tat com.hisen.spark.SimpleApp.main(SimpleApp.java:26)</span><br><span class=\"line\">17/08/02 17:00:14 INFO FileInputFormat: Total input paths to process : 1</span><br><span class=\"line\">17/08/02 17:00:14 INFO SparkContext: Starting job: count at SimpleApp.java:26</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Got job 0 (count at SimpleApp.java:26) with 1 output partitions</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Final stage: ResultStage 0 (count at SimpleApp.java:26)</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Parents of final stage: List()</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Missing parents: List()</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Submitting ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22), which has no missing parents</span><br><span class=\"line\">17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 3.2 KB, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO MemoryStore: Block broadcast_1_piece0 stored as bytes in memory (estimated size 1966.0 B, free 894.2 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on 169.254.90.236:59397 (size: 1966.0 B, free: 894.3 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO SparkContext: Created broadcast 1 from broadcast at DAGScheduler.scala:1012</span><br><span class=\"line\">17/08/02 17:00:15 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 0 (MapPartitionsRDD[2] at filter at SimpleApp.java:22)</span><br><span class=\"line\">17/08/02 17:00:15 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks</span><br><span class=\"line\">17/08/02 17:00:15 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)</span><br><span class=\"line\">17/08/02 17:00:15 INFO Executor: Running task 0.0 in stage 0.0 (TID 0)</span><br><span class=\"line\">17/08/02 17:00:15 INFO HadoopRDD: Input split: file:/D:/logs/boss_debug.log:0+4059273</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.tip.id is deprecated. Instead, use mapreduce.task.id</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.task.id is deprecated. Instead, use mapreduce.task.attempt.id</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.task.is.map is deprecated. Instead, use mapreduce.task.ismap</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.task.partition is deprecated. Instead, use mapreduce.task.partition</span><br><span class=\"line\">17/08/02 17:00:15 INFO deprecation: mapred.job.id is deprecated. Instead, use mapreduce.job.id</span><br><span class=\"line\">17/08/02 17:00:15 INFO MemoryStore: Block rdd_1_0 stored as values in memory (estimated size 5.7 MB, free 888.4 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO BlockManagerInfo: Added rdd_1_0 in memory on 169.254.90.236:59397 (size: 5.7 MB, free: 888.5 MB)</span><br><span class=\"line\">17/08/02 17:00:15 INFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1842 bytes result sent to driver</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 0.0 (TID 0) in 691 ms on localhost (1/1)</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool </span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: ResultStage 0 (count at SimpleApp.java:26) finished in 0.726 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Job 0 finished: count at SimpleApp.java:26, took 1.078428 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Starting job: count at SimpleApp.java:33</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Got job 1 (count at SimpleApp.java:33) with 1 output partitions</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Final stage: ResultStage 1 (count at SimpleApp.java:33)</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Parents of final stage: List()</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Missing parents: List()</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Submitting ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29), which has no missing parents</span><br><span class=\"line\">17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2 stored as values in memory (estimated size 3.2 KB, free 888.4 MB)</span><br><span class=\"line\">17/08/02 17:00:16 INFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory (estimated size 1967.0 B, free 888.4 MB)</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManagerInfo: Added broadcast_2_piece0 in memory on 169.254.90.236:59397 (size: 1967.0 B, free: 888.5 MB)</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1012</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 1 (MapPartitionsRDD[3] at filter at SimpleApp.java:29)</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSchedulerImpl: Adding task set 1.0 with 1 tasks</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSetManager: Starting task 0.0 in stage 1.0 (TID 1, localhost, partition 0, PROCESS_LOCAL, 5324 bytes)</span><br><span class=\"line\">17/08/02 17:00:16 INFO Executor: Running task 0.0 in stage 1.0 (TID 1)</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManager: Found block rdd_1_0 locally</span><br><span class=\"line\">17/08/02 17:00:16 INFO Executor: Finished task 0.0 in stage 1.0 (TID 1). 954 bytes result sent to driver</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: ResultStage 1 (count at SimpleApp.java:33) finished in 0.100 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO DAGScheduler: Job 1 finished: count at SimpleApp.java:33, took 0.139033 s</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSetManager: Finished task 0.0 in stage 1.0 (TID 1) in 99 ms on localhost (1/1)</span><br><span class=\"line\">17/08/02 17:00:16 INFO TaskSchedulerImpl: Removed TaskSet 1.0, whose tasks have all completed, from pool </span><br><span class=\"line\"></span><br><span class=\"line\">Lines with a: 11146, lines with b: 10760</span><br><span class=\"line\"></span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Invoking stop() from shutdown hook</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkUI: Stopped Spark web UI at http://169.254.90.236:4040</span><br><span class=\"line\">17/08/02 17:00:16 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!</span><br><span class=\"line\">17/08/02 17:00:16 INFO MemoryStore: MemoryStore cleared</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManager: BlockManager stopped</span><br><span class=\"line\">17/08/02 17:00:16 INFO BlockManagerMaster: BlockManagerMaster stopped</span><br><span class=\"line\">17/08/02 17:00:16 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!</span><br><span class=\"line\">17/08/02 17:00:16 INFO SparkContext: Successfully stopped SparkContext</span><br><span class=\"line\">17/08/02 17:00:16 INFO ShutdownHookManager: Shutdown hook called</span><br><span class=\"line\">17/08/02 17:00:16 INFO ShutdownHookManager: Deleting directory C:\\Users\\Administrator\\AppData\\Local\\Temp\\spark-c40f2015-170f-4633-89dd-44dcd5bacfec</span><br><span class=\"line\"></span><br><span class=\"line\">Process finished with exit code 0</span><br></pre></td></tr></table></figure></li></ol><!-- rebuild by neat -->"}],"PostAsset":[],"PostCategory":[{"post_id":"cjjiskdps0008olejpa46jpmo","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdpy000foleji3pc22bu"},{"post_id":"cjjiskdpk0003olejiq0b3evi","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdpz000jolejvaop0df2"},{"post_id":"cjjiskdpr0007olejb9nm83sy","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdq1000molej8shx6njt"},{"post_id":"cjjiskdpz000iolej1k6kz9pv","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdq3000solej107ya8dg"},{"post_id":"cjjiskdpt0009olejdbcutmlc","category_id":"cjjiskdpy000golejxbb1mc7e","_id":"cjjiskdq4000wolejyw8eo67j"},{"post_id":"cjjiskdq1000qoleja4n56wnf","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdq6000zolej55nt6624"},{"post_id":"cjjiskdpw000dolej7ht9x86s","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdq70013olejrg8qzhkn"},{"post_id":"cjjiskdq2000rolejkcagh365","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdq80017olejecd9r2n4"},{"post_id":"cjjiskdpx000eolejnp2l136y","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdqa001aolejjr4ipr1w"},{"post_id":"cjjiskdq0000lolejujjv3cx0","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdqb001eolejjs7xn21p"},{"post_id":"cjjiskdq90019olejx4pogqic","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqd001jolejey9cc1i2"},{"post_id":"cjjiskdq3000volejihv28uww","category_id":"cjjiskdq90018olejq1lsuh7x","_id":"cjjiskdqe001molejrqk0blxv"},{"post_id":"cjjiskdqb001folejknshdy73","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqg001qolejwklxgzje"},{"post_id":"cjjiskdqd001iolej8cj7agqi","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdqh001tolejexbpsn8x"},{"post_id":"cjjiskdq80016olejuj9h3tqk","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdqi001xolejkwhrciqu"},{"post_id":"cjjiskdqf001polejus4s06la","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdqj001zolejqsarx210"},{"post_id":"cjjiskdqa001colejhznaak5z","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdqk0022olej5hkzan8c"},{"post_id":"cjjiskdqh001wolejlu2o6d68","category_id":"cjjiskdqh001uolej6sea6coi","_id":"cjjiskdql0026olej2maof4sz"},{"post_id":"cjjiskdqd001lolejrspkbew6","category_id":"cjjiskdqh001uolej6sea6coi","_id":"cjjiskdqm0029olejuajmaa13"},{"post_id":"cjjiskdqi001yolejmhgiajp3","category_id":"cjjiskdqh001uolej6sea6coi","_id":"cjjiskdqn002dolejpk0p85lw"},{"post_id":"cjjiskdqj0021olejsrq6fq78","category_id":"cjjiskdqh001uolej6sea6coi","_id":"cjjiskdqo002folejosyiuduw"},{"post_id":"cjjiskdqg001solejm96u6ykp","category_id":"cjjiskdqh001uolej6sea6coi","_id":"cjjiskdqq002jolej54zw3pzr"},{"post_id":"cjjiskdqk0025olej6juy0e9i","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqr002molejgj84hm36"},{"post_id":"cjjiskdqm0028olejxbm0k7f5","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdqs002qolejtnhwgd4r"},{"post_id":"cjjiskdqn002colejvr1dl29g","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqt002tolejv03yy9bu"},{"post_id":"cjjiskdqo002eolejsa0xkr4z","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqu002voleje0xk0fg9"},{"post_id":"cjjiskdqp002iolej78jx0c7e","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqv002zolejpdbd789f"},{"post_id":"cjjiskdqq002lolej82grh1xq","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqx0032olej1mkmbjeb"},{"post_id":"cjjiskdqr002polejfkib5ixg","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdqy0036olejl5b7s0fl"},{"post_id":"cjjiskdqs002solejs9pkjjm4","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdr00039olejvemj04er"},{"post_id":"cjjiskdqt002uolejpzx8r8rw","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdr2003dolejc50lhqon"},{"post_id":"cjjiskdqv002yolejpdsw24xq","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdr3003golejgsjlq9ck"},{"post_id":"cjjiskdqw0031olej04j5k4by","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdr4003kolejm0qzexty"},{"post_id":"cjjiskdqz0038olejp6uk14u6","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdr6003molejej034wcg"},{"post_id":"cjjiskdr1003colejxqehbroa","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdr9003polejlmmdccqn"},{"post_id":"cjjiskdr5003lolejj1wjxx3v","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdrb003volej6etrtgvl"},{"post_id":"cjjiskdr8003oolejyzbx15qp","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdrd003zolejowrvn84u"},{"post_id":"cjjiskdrb003uoleja70gcop0","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdrg0045olej300oae4l"},{"post_id":"cjjiskdre0042olejee4xnnda","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdrj004colej889wrft6"},{"post_id":"cjjiskdr9003rolej042m0vmw","category_id":"cjjiskdrc003xolejr7pf4ai9","_id":"cjjiskdrk004golejlpmy9ewk"},{"post_id":"cjjiskdrg0044olej68j1jexk","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdrl004jolejhgs2pzbg"},{"post_id":"cjjiskdrh0049olejvsofkjsm","category_id":"cjjiskdrg0046olej5wp2334t","_id":"cjjiskdrm004nolejf2jgvu1r"},{"post_id":"cjjiskdrc003yolejy79ta4bz","category_id":"cjjiskdrg0046olej5wp2334t","_id":"cjjiskdrn004qolejsoqz9n5z"},{"post_id":"cjjiskdrj004folejpdo1dfmt","category_id":"cjjiskdrg0046olej5wp2334t","_id":"cjjiskdro004tolejvojxhj68"},{"post_id":"cjjiskdrm004molejkrlmgcw6","category_id":"cjjiskdrg0046olej5wp2334t","_id":"cjjiskdrp004xolejbsuqn6t9"},{"post_id":"cjjiskdrn004polej4fpm8hht","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdrq0050olejy2w0jjsz"},{"post_id":"cjjiskdro004solejq6ziyhn8","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdrr0054olejt2bo37e6"},{"post_id":"cjjiskdrp004wolejv2vrowxi","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdrs0057olejeya2vf8v"},{"post_id":"cjjiskdrq004zolejznnf4ln3","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdrt005bolej3gp30n89"},{"post_id":"cjjiskdrr0053olej7nb49ky1","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdrw005eolejnbslhzgv"},{"post_id":"cjjiskdrr0056olejppn4yvmt","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdrx005jolej02w7mqex"},{"post_id":"cjjiskdru005dolejkofnq0h3","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdrz005polejuiq1o0z5"},{"post_id":"cjjiskdrx005iolej1tk4bj3i","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskds0005solejkwyu6arx"},{"post_id":"cjjiskdry005lolej66jialz6","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskds1005wolej238fn7ee"},{"post_id":"cjjiskdrt005aolej7bf55d9b","category_id":"cjjiskdrx005holejeqmznk59","_id":"cjjiskds3005zolejlilkjrtr"},{"post_id":"cjjiskdrz005oolejx8ggr1bk","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskds40063olejtp8gt3cv"},{"post_id":"cjjiskdrz005rolejg8c3g9if","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskds50066olej4cyb2i28"},{"post_id":"cjjiskds30062olejukrx5l58","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskds6006colej6bqqdryn"},{"post_id":"cjjiskds40065olejn0frhrli","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskds7006folejgmqfqww8"},{"post_id":"cjjiskds50069olejpeou2i8a","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskds9006jolejlz1o85kk"},{"post_id":"cjjiskds6006bolejeghd1yk3","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsa006molej8xxxbh89"},{"post_id":"cjjiskds7006eoleja73yz1sw","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsb006qolejvixtt1om"},{"post_id":"cjjiskds9006lolejjyfiq3ih","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsf006wolejuzdk5uhm"},{"post_id":"cjjiskdsb006polejn8164rd5","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdsf006zolejysu7ekmm"},{"post_id":"cjjiskdsd006solej4fe1b4e3","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdsg0073olejp551jok6"},{"post_id":"cjjiskdse006volejxupcf5p9","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsh0076olejq49nyoqs"},{"post_id":"cjjiskdsf006yoleje50cfhsi","category_id":"cjjiskdqh001uolej6sea6coi","_id":"cjjiskdsi007aolejepyw5o1n"},{"post_id":"cjjiskdsg0072olejdmx13ps6","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdsj007dolej3yo49iq6"},{"post_id":"cjjiskdsh0075olej94icpywn","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsk007golejzs6h8yy7"},{"post_id":"cjjiskdsi0079olejfplmbjcj","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsl007kolejaprr7lh5"},{"post_id":"cjjiskdsj007colejdx7hbwpu","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdsm007nolejovilm8bu"},{"post_id":"cjjiskdsj007folejgfpyvjf6","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdsn007rolejxj1av9yj"},{"post_id":"cjjiskdsn007tolej5y8jjrac","category_id":"cjjiskdq90018olejq1lsuh7x","_id":"cjjiskdsq0082olejrnfwoy28"},{"post_id":"cjjiskdso007wolejhi17i0w8","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdsr0085olejh1geatry"},{"post_id":"cjjiskdsp0081olejccs5lja4","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdst008bolejw757cccc"},{"post_id":"cjjiskdsr0084olejrumzslkb","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdsu008eolejfd9kacag"},{"post_id":"cjjiskdsr0087olejnsaynn6f","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdsv008iolejghtccoow"},{"post_id":"cjjiskdst008dolejxm9mudu3","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdsx008oolejjqjutbep"},{"post_id":"cjjiskdsu008holeja2yl9naj","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdsy008rolejzmltwmxz"},{"post_id":"cjjiskdsv008kolejyspkdbee","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdsz008volejdnk1x1ph"},{"post_id":"cjjiskdsw008nolejfy5bpyvd","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdt0008yolejey6e34ix"},{"post_id":"cjjiskdt0008xolejjkyh54tw","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdt30096olej9tuehi5i"},{"post_id":"cjjiskdt10091olej6tvzeukc","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdt4009aolejigvto48t"},{"post_id":"cjjiskdt10093olej209oj3xt","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdt4009dolejsxq7nex5"},{"post_id":"cjjiskdt20095olejpov6xoi4","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdt5009holejxgx2vr5u"},{"post_id":"cjjiskdt30099olejecswto61","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdt6009kolejouitkkvj"},{"post_id":"cjjiskdt4009colejg7mu6cge","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdt7009oolejxs26g68q"},{"post_id":"cjjiskdt5009golejqlzkpa63","category_id":"cjjiskdrg0046olej5wp2334t","_id":"cjjiskdt8009rolejjlmt4x6z"},{"post_id":"cjjiskdt7009nolejkaxrxa3a","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdta009xolej6a0auk0d"},{"post_id":"cjjiskdt8009qolejopfkphzn","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdtb00a1olej67g78a6t"},{"post_id":"cjjiskdt9009uolejtvirxmt2","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdtc00a4olejqzbrwhcu"},{"post_id":"cjjiskdt9009wolejll5xsjat","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdtc00a7olejo2cesqce"},{"post_id":"cjjiskdta00a0olejzw8hm5fc","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdtd00abolej2oqi2uh3"},{"post_id":"cjjiskdtb00a3olejdwi7e5dk","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdte00aeolej441mpl3v"},{"post_id":"cjjiskdtc00a6olejqkgust0s","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdtf00aiolejidd5ueut"},{"post_id":"cjjiskdtd00aaolejm0ab8u9c","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdtg00alolejm60pjehx"},{"post_id":"cjjiskdte00adoleji634l9w2","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdth00apolejb8h4g73i"},{"post_id":"cjjiskdtf00aholejpf3mxvmn","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdti00asolej480xlnbe"},{"post_id":"cjjiskdtg00akolejawss7844","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdtj00awolej1pc4eij9"},{"post_id":"cjjiskdth00aoolejgzalmtjs","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdtk00azoleji8kduo3e"},{"post_id":"cjjiskdti00arolejct4k65rl","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdtn00b3olej7vk74xnt"},{"post_id":"cjjiskdtj00avolejm27mqi4l","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdto00b6olejts2ceomb"},{"post_id":"cjjiskdtk00ayolejji5hmg0o","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdtp00baolejiczvphsr"},{"post_id":"cjjiskdtl00b2olej82sfxdvj","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdtq00bdolej70l2i7wg"},{"post_id":"cjjiskdto00b5olejl8nh49sf","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdtr00bgolej15w04l2p"},{"post_id":"cjjiskdtp00b9olejd8kuq52h","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdts00blolejexm4ecng"},{"post_id":"cjjiskdtq00bfolej2qa5dowc","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdtt00brolejv6wfpyyn"},{"post_id":"cjjiskdtr00bkolejy9an82ld","category_id":"cjjiskdq90018olejq1lsuh7x","_id":"cjjiskdtv00buolejik47mg8n"},{"post_id":"cjjiskdts00bnolejyvugrt4d","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdtw00byolejaiv6lr74"},{"post_id":"cjjiskdtp00bcolejij548h81","category_id":"cjjiskdtr00bjolejt0tmthgv","_id":"cjjiskdtw00c1olejkyw4e521"},{"post_id":"cjjiskdtt00bqolejerhv4hq8","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdty00c5olejzsy8c0ij"},{"post_id":"cjjiskdtu00btolejs0udc1tr","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdty00c8olejex0dkot4"},{"post_id":"cjjiskdtv00bxolej9jxjnobt","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdtz00ccolejps6f7xas"},{"post_id":"cjjiskdtx00c4olej8c7l1ym0","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdu000cfolejh20sajkv"},{"post_id":"cjjiskdty00c7olejygv5oxpn","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdu100cjolejfy8orcxy"},{"post_id":"cjjiskdtz00cbolejdsf6pv0l","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdu200cmolejfavzq95k"},{"post_id":"cjjiskdu000ceolej49jazm52","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdu300cpolej6fkus504"},{"post_id":"cjjiskdu100ciolej2up17iv7","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdu400ctolejfoky53cl"},{"post_id":"cjjiskdu500cwolejgsbq14cf","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdu800d5olejjs8y11ok"},{"post_id":"cjjiskdu600czolejk7kofm1i","category_id":"cjjiskdq1000nolejbs863had","_id":"cjjiskdu800d8olejh26sm4ql"},{"post_id":"cjjiskdu300coolejza1i5wa7","category_id":"cjjiskdu500cvolejfvt2vkfr","_id":"cjjiskdub00ddoleju4pee62s"},{"post_id":"cjjiskdu600d1olejbp4qs3r3","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdub00dgolejwkni9szs"},{"post_id":"cjjiskdua00dcolejv0al6bxf","category_id":"cjjiskdqc001golejdrftr1c8","_id":"cjjiskdud00dnolejqid2ke4u"},{"post_id":"cjjiskdu700d4olej737i48iu","category_id":"cjjiskdu900daolej4jr5pbkd","_id":"cjjiskdue00dqolejwmq0ujet"},{"post_id":"cjjiskdu800d7olejfvkv7ezc","category_id":"cjjiskduc00djolejlsg87jvb","_id":"cjjiskdug00dwolejcrmbvu7x"},{"post_id":"cjjiskduf00dtolejmamvzcgo","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdug00e0olejd36zwslv"},{"post_id":"cjjiskduf00dvolejs94a8qi6","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskduh00e3olejt5s2nq58"},{"post_id":"cjjiskdva00hbolej3h6s0fty","category_id":"cjjiskdu900daolej4jr5pbkd","_id":"cjjiskdve00hholeji0e07aby"},{"post_id":"cjjiskdvb00hcolej09qbzk9v","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdve00hjolejvb4yyzn4"},{"post_id":"cjjiskdvc00heolejlyncuqak","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdve00hlolejkrcj7vyz"},{"post_id":"cjjiskdvd00hgolejmhdavq0e","category_id":"cjjiskdpp0005oleji08nv30k","_id":"cjjiskdvf00hnolej7872iize"},{"post_id":"cjjiskdw300hqolej9rvs47al","category_id":"cjjiskdpv000aolejvtlp3jn0","_id":"cjjiskdw500huolejb9ibj9tj"},{"post_id":"cjjiskdwm00hyolejbt81wvh7","category_id":"cjjiskdwn00hzolejl2svvhar","_id":"cjjiskdwn00i2olejrxlwoo0n"}],"PostTag":[{"post_id":"cjjiskdpk0003olejiq0b3evi","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdpv000colejqkut85l6"},{"post_id":"cjjiskdpr0007olejb9nm83sy","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdpz000kolej32m3d2i7"},{"post_id":"cjjiskdpz000iolej1k6kz9pv","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdq1000polejdxqtg4r5"},{"post_id":"cjjiskdps0008olejpa46jpmo","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdq5000xolejecifxchk"},{"post_id":"cjjiskdps0008olejpa46jpmo","tag_id":"cjjiskdq1000oolejcxjr670k","_id":"cjjiskdq60010olejc8mdgwqt"},{"post_id":"cjjiskdpt0009olejdbcutmlc","tag_id":"cjjiskdq3000uolejmzpsuyrq","_id":"cjjiskdq80015olej0h2wusq1"},{"post_id":"cjjiskdpw000dolej7ht9x86s","tag_id":"cjjiskdq70014olej0revurqc","_id":"cjjiskdqb001dolejn2gapv9y"},{"post_id":"cjjiskdpx000eolejnp2l136y","tag_id":"cjjiskdq70014olej0revurqc","_id":"cjjiskdqd001kolejdhnk1dcs"},{"post_id":"cjjiskdq0000lolejujjv3cx0","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdqg001rolejkjzkpk12"},{"post_id":"cjjiskdq1000qoleja4n56wnf","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdqk0024olejvfows7je"},{"post_id":"cjjiskdq1000qoleja4n56wnf","tag_id":"cjjiskdqf001oolej075yo0d9","_id":"cjjiskdql0027olejyjgbxv97"},{"post_id":"cjjiskdq1000qoleja4n56wnf","tag_id":"cjjiskdqh001volejwe8fkltv","_id":"cjjiskdqm002bolejl1b6q7lw"},{"post_id":"cjjiskdqn002colejvr1dl29g","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdqp002holejl8cu77x1"},{"post_id":"cjjiskdq2000rolejkcagh365","tag_id":"cjjiskdqk0023oleju91vbwnv","_id":"cjjiskdqq002kolej0g8teudu"},{"post_id":"cjjiskdq2000rolejkcagh365","tag_id":"cjjiskdqm002aolejzwkmmdid","_id":"cjjiskdqr002nolej4lss1kve"},{"post_id":"cjjiskdq3000volejihv28uww","tag_id":"cjjiskdqp002golejg4ppajgi","_id":"cjjiskdqs002rolej0nn5i9f2"},{"post_id":"cjjiskdqs002solejs9pkjjm4","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdqv002xolejob0apmez"},{"post_id":"cjjiskdq5000yolejhec4jhv9","tag_id":"cjjiskdqr002oolejaobl6coo","_id":"cjjiskdqw0030olejrvpl9v1r"},{"post_id":"cjjiskdqv002yolejpdsw24xq","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdqy0034olejyftsgx8m"},{"post_id":"cjjiskdq60012olejwyimbklf","tag_id":"cjjiskdqr002oolejaobl6coo","_id":"cjjiskdqz0037olej2s7frqk0"},{"post_id":"cjjiskdqw0031olej04j5k4by","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdr1003bolejijpc9rtu"},{"post_id":"cjjiskdqy0035olej1gis1sam","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdr2003eoleje6r0lqa4"},{"post_id":"cjjiskdq80016olejuj9h3tqk","tag_id":"cjjiskdqr002oolejaobl6coo","_id":"cjjiskdr4003iolejx9yolm2v"},{"post_id":"cjjiskdq90019olejx4pogqic","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdr9003qolej9arfqu0v"},{"post_id":"cjjiskdq90019olejx4pogqic","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdra003solej013z7i0p"},{"post_id":"cjjiskdq90019olejx4pogqic","tag_id":"cjjiskdr3003holejfzklzrk3","_id":"cjjiskdrc003wolejhg8vm7oc"},{"post_id":"cjjiskdqa001colejhznaak5z","tag_id":"cjjiskdqp002golejg4ppajgi","_id":"cjjiskdrd0040olej79z0gh3h"},{"post_id":"cjjiskdqb001folejknshdy73","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdrf0043olejkmh7ux8u"},{"post_id":"cjjiskdqb001folejknshdy73","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdrh0047olejmienfye6"},{"post_id":"cjjiskdrc003yolejy79ta4bz","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdri004aolej8sqfyhq9"},{"post_id":"cjjiskdrc003yolejy79ta4bz","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdrj004dolej0zmnnwwr"},{"post_id":"cjjiskdre0042olejee4xnnda","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdrk004holejvkf3qt0i"},{"post_id":"cjjiskdqd001iolej8cj7agqi","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdrl004kolejv22xdxli"},{"post_id":"cjjiskdrg0044olej68j1jexk","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdrm004oolejjj6oy3m8"},{"post_id":"cjjiskdrh0049olejvsofkjsm","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdrn004rolejy1onfve9"},{"post_id":"cjjiskdqd001lolejrspkbew6","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdro004volejjvs7q3b4"},{"post_id":"cjjiskdri004bolejw0k47yql","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdrp004yolejkhhj4ebu"},{"post_id":"cjjiskdrj004folejpdo1dfmt","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdrq0052oleju4tl7okd"},{"post_id":"cjjiskdqf001polejus4s06la","tag_id":"cjjiskdrj004eolejkcgf8mzj","_id":"cjjiskdrr0055olejzao8wsj6"},{"post_id":"cjjiskdqg001solejm96u6ykp","tag_id":"cjjiskdrl004lolej16s7zky0","_id":"cjjiskdrs0059olej7lst5yzd"},{"post_id":"cjjiskdqh001wolejlu2o6d68","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdru005colej3h60ifx5"},{"post_id":"cjjiskdqh001wolejlu2o6d68","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdrw005golejpkim392i"},{"post_id":"cjjiskdqi001yolejmhgiajp3","tag_id":"cjjiskdrq0051olej2l2ensok","_id":"cjjiskdry005kolejj4nxh36x"},{"post_id":"cjjiskdqj0021olejsrq6fq78","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdry005nolejwq4xv8cu"},{"post_id":"cjjiskdru005dolejkofnq0h3","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdrz005qolej39klhfdt"},{"post_id":"cjjiskdru005dolejkofnq0h3","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskds0005tolejcmpbedp4"},{"post_id":"cjjiskdrx005iolej1tk4bj3i","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskds1005xolejfdqs2a4f"},{"post_id":"cjjiskdrx005iolej1tk4bj3i","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskds30060olej9gtizfbn"},{"post_id":"cjjiskdrz005oolejx8ggr1bk","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskds40064olej8gizwauv"},{"post_id":"cjjiskdqk0025olej6juy0e9i","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskds50067olej2fyww4o6"},{"post_id":"cjjiskdqk0025olej6juy0e9i","tag_id":"cjjiskdry005molejv9phh7w5","_id":"cjjiskds6006aolejdjrupfgp"},{"post_id":"cjjiskdqm0028olejxbm0k7f5","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskds7006dolejw1jzm8ig"},{"post_id":"cjjiskdqm0028olejxbm0k7f5","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskds8006holejo1fd4me2"},{"post_id":"cjjiskds1005yolejphjc4p82","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskds9006kolej6fm5dqva"},{"post_id":"cjjiskds30062olejukrx5l58","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdsa006oolejeo3coslv"},{"post_id":"cjjiskds30062olejukrx5l58","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdsb006rolejulrgs9xy"},{"post_id":"cjjiskdqo002eolejsa0xkr4z","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdse006uolej8ydog9rw"},{"post_id":"cjjiskdqo002eolejsa0xkr4z","tag_id":"cjjiskds30061olejjfh5some","_id":"cjjiskdsf006xolej6w1nfahl"},{"post_id":"cjjiskdqp002iolej78jx0c7e","tag_id":"cjjiskds50068olejtlggt93a","_id":"cjjiskdsg0070olejcwa3xkqw"},{"post_id":"cjjiskds9006lolejjyfiq3ih","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdsh0074olejh4nlm87q"},{"post_id":"cjjiskdsb006polejn8164rd5","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdsh0077olejnaaq3f85"},{"post_id":"cjjiskdqq002lolej82grh1xq","tag_id":"cjjiskds7006golejnug90hmv","_id":"cjjiskdsi007bolej6z12jvjc"},{"post_id":"cjjiskdqq002lolej82grh1xq","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdsj007eolejd7h6mdgk"},{"post_id":"cjjiskdqr002polejfkib5ixg","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdsk007iolej1c3ypta3"},{"post_id":"cjjiskdqr002polejfkib5ixg","tag_id":"cjjiskdse006tolejf6taxo6l","_id":"cjjiskdsl007lolejepkxpr4k"},{"post_id":"cjjiskdsf006yoleje50cfhsi","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdsm007polejm9pdir1y"},{"post_id":"cjjiskdsf006yoleje50cfhsi","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdsn007solej0lxhso2u"},{"post_id":"cjjiskdqt002uolejpzx8r8rw","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdso007uolejr6ct4nwe"},{"post_id":"cjjiskdqt002uolejpzx8r8rw","tag_id":"cjjiskdsg0071olej5j3q7gpq","_id":"cjjiskdso007xolej6extfftf"},{"post_id":"cjjiskdsh0075olej94icpywn","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdsp007zolejox3x9stb"},{"post_id":"cjjiskdsj007colejdx7hbwpu","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdsr0083olej96425yd2"},{"post_id":"cjjiskdqz0038olejp6uk14u6","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdsr0086olej4qbn06xj"},{"post_id":"cjjiskdqz0038olejp6uk14u6","tag_id":"cjjiskdsh0078olejvera5d36","_id":"cjjiskdss0089olejs49b5zd0"},{"post_id":"cjjiskdsj007folejgfpyvjf6","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdst008colejmxseltgm"},{"post_id":"cjjiskdr1003colejxqehbroa","tag_id":"cjjiskdsk007holejggixvui5","_id":"cjjiskdsu008golej4r9r8lq2"},{"post_id":"cjjiskdr1003colejxqehbroa","tag_id":"cjjiskdsm007oolejlccp27sw","_id":"cjjiskdsv008jolejov0cbm70"},{"post_id":"cjjiskdsn007tolej5y8jjrac","tag_id":"cjjiskdqp002golejg4ppajgi","_id":"cjjiskdsw008loleje1sobps9"},{"post_id":"cjjiskdsn007tolej5y8jjrac","tag_id":"cjjiskdqr002oolejaobl6coo","_id":"cjjiskdsx008polejih6rkdaa"},{"post_id":"cjjiskdso007wolejhi17i0w8","tag_id":"cjjiskdqp002golejg4ppajgi","_id":"cjjiskdsy008solejapd6empo"},{"post_id":"cjjiskdso007wolejhi17i0w8","tag_id":"cjjiskdqr002oolejaobl6coo","_id":"cjjiskdsz008wolejqa20xdkh"},{"post_id":"cjjiskdsp0081olejccs5lja4","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdt0008zolejyzfmx33z"},{"post_id":"cjjiskdsr0084olejrumzslkb","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdt10092olejfta7dt3o"},{"post_id":"cjjiskdsr0084olejrumzslkb","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdt20094olejuyfoue1e"},{"post_id":"cjjiskdsr0087olejnsaynn6f","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskdt30098olej4igq1jg1"},{"post_id":"cjjiskdsr0087olejnsaynn6f","tag_id":"cjjiskds7006golejnug90hmv","_id":"cjjiskdt4009bolejhmhy75cr"},{"post_id":"cjjiskdr5003lolejj1wjxx3v","tag_id":"cjjiskdso007volej503dzss3","_id":"cjjiskdt5009folejgdw2jt55"},{"post_id":"cjjiskdr5003lolejj1wjxx3v","tag_id":"cjjiskdsp0080olejgmai5qxg","_id":"cjjiskdt6009iolejbxeaw5n9"},{"post_id":"cjjiskdr5003lolejj1wjxx3v","tag_id":"cjjiskdss0088olej1uwn1re0","_id":"cjjiskdt6009lolejratzlaui"},{"post_id":"cjjiskdst008dolejxm9mudu3","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdt8009polejj0ghh8h6"},{"post_id":"cjjiskdsu008holeja2yl9naj","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdt8009solejqsf1vdy7"},{"post_id":"cjjiskdr8003oolejyzbx15qp","tag_id":"cjjiskdsu008folejrglpzp4q","_id":"cjjiskdt9009voleje9ehfcd0"},{"post_id":"cjjiskdr8003oolejyzbx15qp","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdta009yolejpy0f33jb"},{"post_id":"cjjiskdsv008kolejyspkdbee","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdtb00a2olejqj55sakq"},{"post_id":"cjjiskdsw008nolejfy5bpyvd","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdtc00a5olejbbmnyzl2"},{"post_id":"cjjiskdr9003rolej042m0vmw","tag_id":"cjjiskdsu008folejrglpzp4q","_id":"cjjiskdtd00a9olej6jm77odu"},{"post_id":"cjjiskdsx008qolej8r6rwqu9","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdte00acolejerc2669p"},{"post_id":"cjjiskdsx008qolej8r6rwqu9","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdtf00agolejnzsqnt73"},{"post_id":"cjjiskdrb003uoleja70gcop0","tag_id":"cjjiskdsy008tolej1efws6mq","_id":"cjjiskdtg00ajolej0r0znolw"},{"post_id":"cjjiskdt0008xolejjkyh54tw","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdtg00amolejsq2gvfkf"},{"post_id":"cjjiskdt10091olej6tvzeukc","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdti00aqolejao11n03k"},{"post_id":"cjjiskdt10093olej209oj3xt","tag_id":"cjjiskdsy008tolej1efws6mq","_id":"cjjiskdtj00atolej67umt890"},{"post_id":"cjjiskdrk004iolejdx9rdg2x","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdtk00axolejl8wigzvn"},{"post_id":"cjjiskdrk004iolejdx9rdg2x","tag_id":"cjjiskdt00090olej963x6wn4","_id":"cjjiskdtl00b0olejf384gm6h"},{"post_id":"cjjiskdt20095olejpov6xoi4","tag_id":"cjjiskdry005molejv9phh7w5","_id":"cjjiskdtn00b4olejytp3z9n0"},{"post_id":"cjjiskdt30099olejecswto61","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdto00b7olejq40noc83"},{"post_id":"cjjiskdrm004molejkrlmgcw6","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdtp00bbolej06m6b8su"},{"post_id":"cjjiskdrm004molejkrlmgcw6","tag_id":"cjjiskdt30097olejq1tkyw4s","_id":"cjjiskdtq00beolej3hm2ge0q"},{"post_id":"cjjiskdt4009colejg7mu6cge","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdtr00biolejpwfh6o2h"},{"post_id":"cjjiskdt4009colejg7mu6cge","tag_id":"cjjiskdry005molejv9phh7w5","_id":"cjjiskdts00bmolejoqo1xh8k"},{"post_id":"cjjiskdt5009golejqlzkpa63","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdtt00bpolejyfu7oh56"},{"post_id":"cjjiskdrn004polej4fpm8hht","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdtu00bsolejc3usylue"},{"post_id":"cjjiskdrn004polej4fpm8hht","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdtv00bvolejcv02ulga"},{"post_id":"cjjiskdrn004polej4fpm8hht","tag_id":"cjjiskdt4009eolej0ert0br3","_id":"cjjiskdtw00bzolejmpez4oxj"},{"post_id":"cjjiskdt7009nolejkaxrxa3a","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdtw00c2olejej4qmm42"},{"post_id":"cjjiskdt7009nolejkaxrxa3a","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdty00c6olejle6hnzd5"},{"post_id":"cjjiskdro004solejq6ziyhn8","tag_id":"cjjiskdry005molejv9phh7w5","_id":"cjjiskdtz00c9olejsozuuc6n"},{"post_id":"cjjiskdro004solejq6ziyhn8","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdtz00cdolejombe4opf"},{"post_id":"cjjiskdrp004wolejv2vrowxi","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdu000cgolejf5atoghu"},{"post_id":"cjjiskdrp004wolejv2vrowxi","tag_id":"cjjiskdt9009tolejzwx7kxet","_id":"cjjiskdu100ckolejfnjd0z0t"},{"post_id":"cjjiskdrq004zolejznnf4ln3","tag_id":"cjjiskdta009zolejfdw9oaig","_id":"cjjiskdu300cnolej7wrham3g"},{"post_id":"cjjiskdrq004zolejznnf4ln3","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdu400crolej4h461dt1"},{"post_id":"cjjiskdtc00a6olejqkgust0s","tag_id":"cjjiskdsm007oolejlccp27sw","_id":"cjjiskdu500cuolejmis0cgsf"},{"post_id":"cjjiskdrr0053olej7nb49ky1","tag_id":"cjjiskdtc00a8olejag90t589","_id":"cjjiskdu500cyolej60hm6hpq"},{"post_id":"cjjiskdrr0053olej7nb49ky1","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdu600d0olejzvz3nfrp"},{"post_id":"cjjiskdte00adoleji634l9w2","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdu700d2olejn3scnp3j"},{"post_id":"cjjiskdtf00aholejpf3mxvmn","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdu800d6olejcd55tvcc"},{"post_id":"cjjiskdtf00aholejpf3mxvmn","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdu900d9olej3u1zi0j8"},{"post_id":"cjjiskdrr0056olejppn4yvmt","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdub00deolejwv8em4vs"},{"post_id":"cjjiskdrr0056olejppn4yvmt","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskduc00dholejar7g189s"},{"post_id":"cjjiskdtg00akolejawss7844","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdud00dlolejn2srb2qa"},{"post_id":"cjjiskdth00aoolejgzalmtjs","tag_id":"cjjiskdta009zolejfdw9oaig","_id":"cjjiskdud00doolejvrqafpoe"},{"post_id":"cjjiskdth00aoolejgzalmtjs","tag_id":"cjjiskdq70014olej0revurqc","_id":"cjjiskdue00dsolejihs91acq"},{"post_id":"cjjiskdrt005aolej7bf55d9b","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskduf00duolej8kaacnmx"},{"post_id":"cjjiskdti00arolejct4k65rl","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdug00dxolejetwi0nek"},{"post_id":"cjjiskdry005lolej66jialz6","tag_id":"cjjiskdtj00auolej03bkkau1","_id":"cjjiskdug00dzolejqvais96k"},{"post_id":"cjjiskdtk00ayolejji5hmg0o","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskduh00e1olejackhr1ei"},{"post_id":"cjjiskdrz005rolejg8c3g9if","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduh00e4olejlnzv5llj"},{"post_id":"cjjiskdrz005rolejg8c3g9if","tag_id":"cjjiskdtj00auolej03bkkau1","_id":"cjjiskduh00e5olejq31nxco2"},{"post_id":"cjjiskdtq00bfolej2qa5dowc","tag_id":"cjjiskdsp0080olejgmai5qxg","_id":"cjjiskduh00e7olej5zrtd1ny"},{"post_id":"cjjiskdtr00bkolejy9an82ld","tag_id":"cjjiskdr0003aolejpuvvppxj","_id":"cjjiskduh00e8olej8pp9dev1"},{"post_id":"cjjiskdtr00bkolejy9an82ld","tag_id":"cjjiskdqp002golejg4ppajgi","_id":"cjjiskdui00eaolej7f37o08r"},{"post_id":"cjjiskds0005volejtukgm4qn","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdui00ebolejsjse41wx"},{"post_id":"cjjiskds0005volejtukgm4qn","tag_id":"cjjiskdto00b8olejrv4yed48","_id":"cjjiskdui00edolejazfnno9g"},{"post_id":"cjjiskds0005volejtukgm4qn","tag_id":"cjjiskdtr00bholej1paz4lkb","_id":"cjjiskdui00eeolejt0n2a1ph"},{"post_id":"cjjiskds40065olejn0frhrli","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdui00efolejdqjejg7j"},{"post_id":"cjjiskds40065olejn0frhrli","tag_id":"cjjiskdtt00boolejh69ofth6","_id":"cjjiskduj00eholejqhfs856k"},{"post_id":"cjjiskds50069olejpeou2i8a","tag_id":"cjjiskdsm007oolejlccp27sw","_id":"cjjiskduj00eiolej3avh42l5"},{"post_id":"cjjiskdtw00c0olej4zq6f7oo","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskduj00ekolejn874t7nz"},{"post_id":"cjjiskdtx00c4olej8c7l1ym0","tag_id":"cjjiskdqk0023oleju91vbwnv","_id":"cjjiskduj00elolej25mj79mu"},{"post_id":"cjjiskdty00c7olejygv5oxpn","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduk00enolejptkaxxxu"},{"post_id":"cjjiskdtz00cbolejdsf6pv0l","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduk00eoolejvsd1hadz"},{"post_id":"cjjiskds6006bolejeghd1yk3","tag_id":"cjjiskdta009zolejfdw9oaig","_id":"cjjiskdun00eqolejnro49s0u"},{"post_id":"cjjiskds6006bolejeghd1yk3","tag_id":"cjjiskdtz00caolejr2c4gkjl","_id":"cjjiskdun00erolej0r268blc"},{"post_id":"cjjiskdu000ceolej49jazm52","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdun00etolejp4vnn2gi"},{"post_id":"cjjiskds7006eoleja73yz1sw","tag_id":"cjjiskdu000cholejpwcizpa0","_id":"cjjiskdun00euolej9fql6e6i"},{"post_id":"cjjiskdsd006solej4fe1b4e3","tag_id":"cjjiskdu400cqolejy6t0srx8","_id":"cjjiskduo00ewolejqbzoti66"},{"post_id":"cjjiskdu500cwolejgsbq14cf","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduo00exolejpez42ny2"},{"post_id":"cjjiskdu600czolejk7kofm1i","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskduo00ezolejmbu5dgkd"},{"post_id":"cjjiskdse006volejxupcf5p9","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskduo00f0olejr74ox3bu"},{"post_id":"cjjiskdse006volejxupcf5p9","tag_id":"cjjiskdu500cxolejbvbmdrb2","_id":"cjjiskduo00f2olejtq8c7xg1"},{"post_id":"cjjiskdu700d4olej737i48iu","tag_id":"cjjiskdq70014olej0revurqc","_id":"cjjiskduo00f3olej8clff4t6"},{"post_id":"cjjiskdua00dcolejv0al6bxf","tag_id":"cjjiskdsp0080olejgmai5qxg","_id":"cjjiskdup00f5olej9atbf9gx"},{"post_id":"cjjiskdsg0072olejdmx13ps6","tag_id":"cjjiskdu700d3olej4yhjysel","_id":"cjjiskdup00f6olejqx3yynvl"},{"post_id":"cjjiskdsg0072olejdmx13ps6","tag_id":"cjjiskdu900dbolejfwwtharx","_id":"cjjiskdup00f7olejbh34ulfk"},{"post_id":"cjjiskdsg0072olejdmx13ps6","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdup00f9olej6ueehhu3"},{"post_id":"cjjiskdsi0079olejfplmbjcj","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdup00faolej41blzjhq"},{"post_id":"cjjiskdsi0079olejfplmbjcj","tag_id":"cjjiskduc00dkolej4dmkorib","_id":"cjjiskduq00fcolejx5dcwtyi"},{"post_id":"cjjiskdue00dpoleja0g3wtk7","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduq00fdolejgegjljyn"},{"post_id":"cjjiskduf00dtolejmamvzcgo","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduq00ffolejluy3chsr"},{"post_id":"cjjiskdsl007jolejmlf1ah48","tag_id":"cjjiskdue00drolejsijhpyqh","_id":"cjjiskduq00fgolej87arx1f9"},{"post_id":"cjjiskdsl007jolejmlf1ah48","tag_id":"cjjiskdug00dyolejkbzbh356","_id":"cjjiskdur00fiolejl96a0tti"},{"post_id":"cjjiskdsm007qolejc2hwigp9","tag_id":"cjjiskdqp002golejg4ppajgi","_id":"cjjiskdur00fjolejaiorslr2"},{"post_id":"cjjiskdsm007qolejc2hwigp9","tag_id":"cjjiskduh00e2olejel6hh5uw","_id":"cjjiskdur00flolej1eygzk5w"},{"post_id":"cjjiskdsm007qolejc2hwigp9","tag_id":"cjjiskdug00dyolejkbzbh356","_id":"cjjiskdur00fmolej8ejtd5sj"},{"post_id":"cjjiskdsy008uolejng8du7g1","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdur00fnolej63qeeub8"},{"post_id":"cjjiskdsy008uolejng8du7g1","tag_id":"cjjiskdui00e9olejyvq9n2go","_id":"cjjiskdur00fpolejk4k0yvcp"},{"post_id":"cjjiskdt6009jolej584olrix","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdur00fqolej2vux04qo"},{"post_id":"cjjiskdt6009jolej584olrix","tag_id":"cjjiskdui00ecolejpcsq20j5","_id":"cjjiskdur00fsolejjepk54hu"},{"post_id":"cjjiskdt8009qolejopfkphzn","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdur00ftolejsgt8sq9s"},{"post_id":"cjjiskdt9009uolejtvirxmt2","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdus00fvolejq2wdmxsg"},{"post_id":"cjjiskdt9009wolejll5xsjat","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdus00fwolejmkwyvl9f"},{"post_id":"cjjiskdt9009wolejll5xsjat","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdus00fyolejzcx7f5ik"},{"post_id":"cjjiskdta00a0olejzw8hm5fc","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdus00fzolejzjctt3le"},{"post_id":"cjjiskdta00a0olejzw8hm5fc","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdus00g0olejzjt0qma2"},{"post_id":"cjjiskdtb00a3olejdwi7e5dk","tag_id":"cjjiskdun00esolej1juwi348","_id":"cjjiskdut00g2olejw3ugsk6m"},{"post_id":"cjjiskdtd00aaolejm0ab8u9c","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdut00g3olej3beo1myv"},{"post_id":"cjjiskdtd00aaolejm0ab8u9c","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdut00g5olejk5u2w79c"},{"post_id":"cjjiskdtj00avolejm27mqi4l","tag_id":"cjjiskduo00eyolejz2l8dsqr","_id":"cjjiskdut00g6olej5lrustdk"},{"post_id":"cjjiskdtl00b2olej82sfxdvj","tag_id":"cjjiskdqc001holejua5bfzpw","_id":"cjjiskdut00g8olejivaos7sj"},{"post_id":"cjjiskdtl00b2olej82sfxdvj","tag_id":"cjjiskduo00f1olej6sxjqzwm","_id":"cjjiskduu00g9olej563ilppd"},{"post_id":"cjjiskdto00b5olejl8nh49sf","tag_id":"cjjiskdup00f4olejk6yaq12q","_id":"cjjiskduu00gbolejxaqaj2pf"},{"post_id":"cjjiskdto00b5olejl8nh49sf","tag_id":"cjjiskdu000cholejpwcizpa0","_id":"cjjiskduu00gcolej6vruo6xq"},{"post_id":"cjjiskdto00b5olejl8nh49sf","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduu00geolejdqpnv5q4"},{"post_id":"cjjiskdtp00b9olejd8kuq52h","tag_id":"cjjiskdup00fbolejf61cjgxz","_id":"cjjiskduu00gfolej74oedt87"},{"post_id":"cjjiskdtp00b9olejd8kuq52h","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduu00gholejp19mi6vs"},{"post_id":"cjjiskdtp00bcolejij548h81","tag_id":"cjjiskduq00feolejtbyc6ydw","_id":"cjjiskduv00giolej9bddflj3"},{"post_id":"cjjiskdts00bnolejyvugrt4d","tag_id":"cjjiskduq00fholej4agv3lko","_id":"cjjiskduv00gjolej4dpe9ka4"},{"post_id":"cjjiskdts00bnolejyvugrt4d","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduv00glolejynf4z9gi"},{"post_id":"cjjiskdts00bnolejyvugrt4d","tag_id":"cjjiskdur00fkolejmm3mrhms","_id":"cjjiskduv00gmolejajgrftbv"},{"post_id":"cjjiskdtt00bqolejerhv4hq8","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduv00goolejz4hpq63w"},{"post_id":"cjjiskdtt00bqolejerhv4hq8","tag_id":"cjjiskdur00foolej1g6gh5kq","_id":"cjjiskduv00gpolejjgvcp0bg"},{"post_id":"cjjiskdtt00bqolejerhv4hq8","tag_id":"cjjiskdur00frolejtak34xm2","_id":"cjjiskduw00grolejm2irulkq"},{"post_id":"cjjiskdtu00btolejs0udc1tr","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduw00gsolejmu5snyvs"},{"post_id":"cjjiskdtu00btolejs0udc1tr","tag_id":"cjjiskdus00fuolejobv0t0vl","_id":"cjjiskduw00gtolejktrmp9n9"},{"post_id":"cjjiskdtv00bxolej9jxjnobt","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduw00guoleja2qhjak8"},{"post_id":"cjjiskdtv00bxolej9jxjnobt","tag_id":"cjjiskdus00fxolejutu7lrf6","_id":"cjjiskduw00gvolejbn7ut2tt"},{"post_id":"cjjiskdu100ciolej2up17iv7","tag_id":"cjjiskdur00foolej1g6gh5kq","_id":"cjjiskduw00gwolejxxjkdcxi"},{"post_id":"cjjiskdu200clolejqydcy3mq","tag_id":"cjjiskdut00g4olej8m1zgm8o","_id":"cjjiskduw00gxolejxvytvvv5"},{"post_id":"cjjiskdu300coolejza1i5wa7","tag_id":"cjjiskdur00foolej1g6gh5kq","_id":"cjjiskduw00gyoleje0s9t8a7"},{"post_id":"cjjiskdu300coolejza1i5wa7","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskduw00gzolejmab9v23s"},{"post_id":"cjjiskdu600d1olejbp4qs3r3","tag_id":"cjjiskduu00gaolejxqu802mv","_id":"cjjiskduw00h0olejosi5ek6h"},{"post_id":"cjjiskdu800d7olejfvkv7ezc","tag_id":"cjjiskduu00gdolejiud7wgio","_id":"cjjiskduw00h1olejlknwk3c2"},{"post_id":"cjjiskdub00dfolejpr0icsrl","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdux00h2olejie4msdr3"},{"post_id":"cjjiskdub00dfolejpr0icsrl","tag_id":"cjjiskdrq0051olej2l2ensok","_id":"cjjiskdux00h3olejjowyv6f4"},{"post_id":"cjjiskdub00dfolejpr0icsrl","tag_id":"cjjiskduu00ggolejopl8g6n3","_id":"cjjiskdux00h4olejppe5btb4"},{"post_id":"cjjiskduc00diolejy3oegfmc","tag_id":"cjjiskdss0088olej1uwn1re0","_id":"cjjiskdux00h5olej37cn1pot"},{"post_id":"cjjiskduc00diolejy3oegfmc","tag_id":"cjjiskduv00gkolej6563huol","_id":"cjjiskdux00h6olejfduk4dvf"},{"post_id":"cjjiskdud00dmolejbabbpw45","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdux00h7olej87v91j0n"},{"post_id":"cjjiskdud00dmolejbabbpw45","tag_id":"cjjiskduv00gnolej4nvbd2t0","_id":"cjjiskdux00h8olej2wlgv5zi"},{"post_id":"cjjiskduf00dvolejs94a8qi6","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdux00h9olej0e45poef"},{"post_id":"cjjiskduf00dvolejs94a8qi6","tag_id":"cjjiskduv00gqolejs7fcn69a","_id":"cjjiskdux00haolejprghnyhb"},{"post_id":"cjjiskdva00hbolej3h6s0fty","tag_id":"cjjiskdq70014olej0revurqc","_id":"cjjiskdvc00hdolejl13frx6t"},{"post_id":"cjjiskdvc00heolejlyncuqak","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdve00hiolej1kyruvdi"},{"post_id":"cjjiskdvd00hgolejmhdavq0e","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdve00hkolejy16hjvo9"},{"post_id":"cjjiskdvd00hgolejmhdavq0e","tag_id":"cjjiskdsu008folejrglpzp4q","_id":"cjjiskdvf00hmolejild8q0nf"},{"post_id":"cjjiskdvb00hcolej09qbzk9v","tag_id":"cjjiskdvd00hfolejh93rm40a","_id":"cjjiskdvf00hoolejbak1vhog"},{"post_id":"cjjiskdvb00hcolej09qbzk9v","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdvf00hpolej3y5i779m"},{"post_id":"cjjiskdw300hqolej9rvs47al","tag_id":"cjjiskdpr0006olejwhiwyp9y","_id":"cjjiskdw400hsolej2hrbrwht"},{"post_id":"cjjiskdw300hrolejg7cvknku","tag_id":"cjjiskdtf00afolejk4bssgjh","_id":"cjjiskdw500hvolejxwg7y6tl"},{"post_id":"cjjiskdw300hrolejg7cvknku","tag_id":"cjjiskdpv000boleja6gd8e8c","_id":"cjjiskdw500hwolejl80dnlqo"},{"post_id":"cjjiskdw300hrolejg7cvknku","tag_id":"cjjiskdw500htolejof9svz8f","_id":"cjjiskdw500hxolejvocqr0vf"},{"post_id":"cjjiskdwm00hyolejbt81wvh7","tag_id":"cjjiskdpy000holeje5cmfx7q","_id":"cjjiskdwo00i3olejk22mpeqd"},{"post_id":"cjjiskdwm00hyolejbt81wvh7","tag_id":"cjjiskdwn00i0olejndcgvg5q","_id":"cjjiskdwo00i4olejz1kpluuo"},{"post_id":"cjjiskdwm00hyolejbt81wvh7","tag_id":"cjjiskdwn00i1oleja4r47qob","_id":"cjjiskdwo00i5oleju1zky0lm"}],"Tag":[{"name":"mysql","_id":"cjjiskdpr0006olejwhiwyp9y"},{"name":"sql","_id":"cjjiskdpv000boleja6gd8e8c"},{"name":"java","_id":"cjjiskdpy000holeje5cmfx7q"},{"name":"jsp","_id":"cjjiskdq1000oolejcxjr670k"},{"name":"network","_id":"cjjiskdq3000uolejmzpsuyrq"},{"name":"docker","_id":"cjjiskdq70014olej0revurqc"},{"name":"linux","_id":"cjjiskdqc001holejua5bfzpw"},{"name":"google","_id":"cjjiskdqf001oolej075yo0d9"},{"name":"jar","_id":"cjjiskdqh001volejwe8fkltv"},{"name":"HashMap","_id":"cjjiskdqk0023oleju91vbwnv"},{"name":"Hashtable","_id":"cjjiskdqm002aolejzwkmmdid"},{"name":"hexo","_id":"cjjiskdqp002golejg4ppajgi"},{"name":"hexo优化","_id":"cjjiskdqr002oolejaobl6coo"},{"name":"idea","_id":"cjjiskdr0003aolejpuvvppxj"},{"name":"Maven","_id":"cjjiskdr3003holejfzklzrk3"},{"name":"javadoc","_id":"cjjiskdrj004eolejkcgf8mzj"},{"name":"intellij-java-google-style","_id":"cjjiskdrl004lolej16s7zky0"},{"name":"乱码","_id":"cjjiskdrq0051olej2l2ensok"},{"name":"mybatis","_id":"cjjiskdry005molejv9phh7w5"},{"name":"jwt","_id":"cjjiskds30061olejjfh5some"},{"name":"poi","_id":"cjjiskds50068olejtlggt93a"},{"name":"tomcat","_id":"cjjiskds7006golejnug90hmv"},{"name":"对象","_id":"cjjiskdse006tolejf6taxo6l"},{"name":"解压","_id":"cjjiskdsg0071olej5j3q7gpq"},{"name":"练习","_id":"cjjiskdsh0078olejvera5d36"},{"name":"jedis","_id":"cjjiskdsk007holejggixvui5"},{"name":"redis","_id":"cjjiskdsm007oolejlccp27sw"},{"name":"MarkdownPad2注册码","_id":"cjjiskdso007volej503dzss3"},{"name":"软件","_id":"cjjiskdsp0080olejgmai5qxg"},{"name":"MarkdownPad","_id":"cjjiskdss0088olej1uwn1re0"},{"name":"maven","_id":"cjjiskdsu008folejrglpzp4q"},{"name":"mongodb","_id":"cjjiskdsy008tolej1efws6mq"},{"name":"like","_id":"cjjiskdt00090olej963x6wn4"},{"name":"索引","_id":"cjjiskdt30097olejq1tkyw4s"},{"name":"explain","_id":"cjjiskdt4009eolej0ert0br3"},{"name":"xml","_id":"cjjiskdt9009tolejzwx7kxet"},{"name":"ubuntu","_id":"cjjiskdta009zolejfdw9oaig"},{"name":"PLSQL","_id":"cjjiskdtc00a8olejag90t589"},{"name":"oracle","_id":"cjjiskdtf00afolejk4bssgjh"},{"name":"spring","_id":"cjjiskdtj00auolej03bkkau1"},{"name":"StringBuilder","_id":"cjjiskdto00b8olejrv4yed48"},{"name":"StringBuffer的区别","_id":"cjjiskdtr00bholej1paz4lkb"},{"name":"Ubuntu","_id":"cjjiskdtt00boolejh69ofth6"},{"name":"阿里云","_id":"cjjiskdtz00caolejr2c4gkjl"},{"name":"zookeeper","_id":"cjjiskdu000cholejpwcizpa0"},{"name":"nginx","_id":"cjjiskdu400cqolejy6t0srx8"},{"name":"rocketmq","_id":"cjjiskdu500cxolejbvbmdrb2"},{"name":"VirtualBox","_id":"cjjiskdu700d3olej4yhjysel"},{"name":"bat","_id":"cjjiskdu900dbolejfwwtharx"},{"name":"centos","_id":"cjjiskduc00dkolej4dmkorib"},{"name":"eclipse","_id":"cjjiskdue00drolejsijhpyqh"},{"name":"github","_id":"cjjiskdug00dyolejkbzbh356"},{"name":"安装","_id":"cjjiskduh00e2olejel6hh5uw"},{"name":"log4j","_id":"cjjiskdui00e9olejyvq9n2go"},{"name":"jframe","_id":"cjjiskdui00ecolejpcsq20j5"},{"name":"rabbitMQ","_id":"cjjiskdun00esolej1juwi348"},{"name":"windows10专业版激活密钥","_id":"cjjiskduo00eyolejz2l8dsqr"},{"name":"xshell连接Ubuntu虚拟机","_id":"cjjiskduo00f1olej6sxjqzwm"},{"name":"dubbo","_id":"cjjiskdup00f4olejk6yaq12q"},{"name":"队列","_id":"cjjiskdup00fbolejf61cjgxz"},{"name":"模版","_id":"cjjiskduq00feolejtbyc6ydw"},{"name":"二叉树","_id":"cjjiskduq00fholej4agv3lko"},{"name":"数据结构","_id":"cjjiskdur00fkolejmm3mrhms"},{"name":"算法","_id":"cjjiskdur00foolej1g6gh5kq"},{"name":"排序","_id":"cjjiskdur00frolejtak34xm2"},{"name":"多线程","_id":"cjjiskdus00fuolejobv0t0vl"},{"name":"nio","_id":"cjjiskdus00fxolejutu7lrf6"},{"name":"html","_id":"cjjiskdut00g4olej8m1zgm8o"},{"name":"毒瘤","_id":"cjjiskduu00gaolejxqu802mv"},{"name":"支付","_id":"cjjiskduu00gdolejiud7wgio"},{"name":"properties","_id":"cjjiskduu00ggolejopl8g6n3"},{"name":"html rendering error","_id":"cjjiskduv00gkolej6563huol"},{"name":"面试","_id":"cjjiskduv00gnolej4nvbd2t0"},{"name":"面试题","_id":"cjjiskduv00gqolejs7fcn69a"},{"name":"mongo","_id":"cjjiskdvd00hfolejh93rm40a"},{"name":"oarcle优化","_id":"cjjiskdw500htolejof9svz8f"},{"name":"spark","_id":"cjjiskdwn00i0olejndcgvg5q"},{"name":"BigData","_id":"cjjiskdwn00i1oleja4r47qob"}]}}